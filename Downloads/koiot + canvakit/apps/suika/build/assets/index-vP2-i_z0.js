var Q$=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hie=Q$((cr,hr)=>{function J$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kb={exports:{}},gd={},Yb={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),e5=Symbol.for("react.portal"),t5=Symbol.for("react.fragment"),n5=Symbol.for("react.strict_mode"),r5=Symbol.for("react.profiler"),i5=Symbol.for("react.provider"),o5=Symbol.for("react.context"),s5=Symbol.for("react.forward_ref"),a5=Symbol.for("react.suspense"),l5=Symbol.for("react.memo"),u5=Symbol.for("react.lazy"),Jv=Symbol.iterator;function c5(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var Zb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qb=Object.assign,Qb={};function Ka(e,t,n){this.props=e,this.context=t,this.refs=Qb,this.updater=n||Zb}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ka.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jb(){}Jb.prototype=Ka.prototype;function v0(e,t,n){this.props=e,this.context=t,this.refs=Qb,this.updater=n||Zb}var y0=v0.prototype=new Jb;y0.constructor=v0;qb(y0,Ka.prototype);y0.isPureReactComponent=!0;var e1=Array.isArray,e2=Object.prototype.hasOwnProperty,x0={current:null},t2={key:!0,ref:!0,__self:!0,__source:!0};function n2(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)e2.call(t,r)&&!t2.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mu,type:e,key:o,ref:s,props:i,_owner:x0.current}}function h5(e,t){return{$$typeof:Mu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function w0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mu}function d5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var t1=/\/+/g;function $f(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d5(""+e.key):t.toString(36)}function jc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mu:case e5:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+$f(s,0):r,e1(i)?(n="",e!=null&&(n=e.replace(t1,"$&/")+"/"),jc(i,t,n,"",function(c){return c})):i!=null&&(w0(i)&&(i=h5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(t1,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",e1(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+$f(o,a);s+=jc(o,t,n,u,i)}else if(u=c5(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+$f(o,a++),s+=jc(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Qu(e,t,n){if(e==null)return e;var r=[],i=0;return jc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function f5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},Oc={transition:null},p5={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:x0};be.Children={map:Qu,forEach:function(e,t,n){Qu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qu(e,function(){t++}),t},toArray:function(e){return Qu(e,function(t){return t})||[]},only:function(e){if(!w0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Ka;be.Fragment=t5;be.Profiler=r5;be.PureComponent=v0;be.StrictMode=n5;be.Suspense=a5;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p5;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qb({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=x0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)e2.call(t,u)&&!t2.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Mu,type:e.type,key:i,ref:o,props:r,_owner:s}};be.createContext=function(e){return e={$$typeof:o5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i5,_context:e},e.Consumer=e};be.createElement=n2;be.createFactory=function(e){var t=n2.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:s5,render:e}};be.isValidElement=w0;be.lazy=function(e){return{$$typeof:u5,_payload:{_status:-1,_result:e},_init:f5}};be.memo=function(e,t){return{$$typeof:l5,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Oc.transition;Oc.transition={};try{e()}finally{Oc.transition=t}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(e,t){return En.current.useCallback(e,t)};be.useContext=function(e){return En.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return En.current.useDeferredValue(e)};be.useEffect=function(e,t){return En.current.useEffect(e,t)};be.useId=function(){return En.current.useId()};be.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return En.current.useMemo(e,t)};be.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};be.useRef=function(e){return En.current.useRef(e)};be.useState=function(e){return En.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return En.current.useTransition()};be.version="18.2.0";Yb.exports=be;var A=Yb.exports;const k=pd(A),r2=J$({__proto__:null,default:k},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5=A,m5=Symbol.for("react.element"),v5=Symbol.for("react.fragment"),y5=Object.prototype.hasOwnProperty,x5=g5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w5={key:!0,ref:!0,__self:!0,__source:!0};function i2(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)y5.call(t,r)&&!w5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:m5,type:e,key:o,ref:s,props:i,_owner:x5.current}}gd.Fragment=v5;gd.jsx=i2;gd.jsxs=i2;Kb.exports=gd;var S=Kb.exports,jp={},o2={exports:{}},gr={},s2={exports:{}},a2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,K){var R=L.length;L.push(K);e:for(;0<R;){var le=R-1>>>1,he=L[le];if(0<i(he,K))L[le]=K,L[R]=he,R=le;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],R=L.pop();if(R!==K){L[0]=R;e:for(var le=0,he=L.length,ne=he>>>1;le<ne;){var Be=2*(le+1)-1,X=L[Be],pt=Be+1,hn=L[pt];if(0>i(X,R))pt<he&&0>i(hn,X)?(L[le]=hn,L[pt]=R,le=pt):(L[le]=X,L[Be]=R,le=Be);else if(pt<he&&0>i(hn,R))L[le]=hn,L[pt]=R,le=pt;else break e}}return K}function i(L,K){var R=L.sortIndex-K.sortIndex;return R!==0?R:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,p=3,m=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=L)r(c),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(c)}}function C(L){if(x=!1,b(L),!w)if(n(u)!==null)w=!0,se(M);else{var K=n(c);K!==null&&Z(C,K.startTime-L)}}function M(L,K){w=!1,x&&(x=!1,y(I),I=-1),m=!0;var R=p;try{for(b(K),f=n(u);f!==null&&(!(f.expirationTime>K)||L&&!D());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var he=le(f.expirationTime<=K);K=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(u)&&r(u),b(K)}else r(u);f=n(u)}if(f!==null)var ne=!0;else{var Be=n(c);Be!==null&&Z(C,Be.startTime-K),ne=!1}return ne}finally{f=null,p=R,m=!1}}var T=!1,P=null,I=-1,N=5,j=-1;function D(){return!(e.unstable_now()-j<N)}function H(){if(P!==null){var L=e.unstable_now();j=L;var K=!0;try{K=P(!0,L)}finally{K?V():(T=!1,P=null)}}else T=!1}var V;if(typeof v=="function")V=function(){v(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=H,V=function(){q.postMessage(null)}}else V=function(){_(H,0)};function se(L){P=L,T||(T=!0,V())}function Z(L,K){I=_(function(){L(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,se(M))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var R=p;p=K;try{return L()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var R=p;p=L;try{return K()}finally{p=R}},e.unstable_scheduleCallback=function(L,K,R){var le=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?le+R:le):R=le,L){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=R+he,L={id:h++,callback:K,priorityLevel:L,startTime:R,expirationTime:he,sortIndex:-1},R>le?(L.sortIndex=R,t(c,L),n(u)===null&&L===n(c)&&(x?(y(I),I=-1):x=!0,Z(C,R-le))):(L.sortIndex=he,t(u,L),w||m||(w=!0,se(M))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var K=p;return function(){var R=p;p=K;try{return L.apply(this,arguments)}finally{p=R}}}})(a2);s2.exports=a2;var b5=s2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2=A,fr=b5;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u2=new Set,Jl={};function Ds(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(Jl[e]=t,e=0;e<t.length;e++)u2.add(t[e])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,S5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n1={},r1={};function E5(e){return Op.call(r1,e)?!0:Op.call(n1,e)?!1:S5.test(e)?r1[e]=!0:(n1[e]=!0,!1)}function C5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _5(e,t,n,r){if(t===null||typeof t>"u"||C5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var b0=/[\-:]([a-z])/g;function S0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b0,S0);cn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b0,S0);cn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b0,S0);cn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function E0(e,t,n,r){var i=cn.hasOwnProperty(t)?cn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_5(t,n,i,r)&&(n=null),r||i===null?E5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mo=l2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),C0=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),c2=Symbol.for("react.provider"),h2=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),d2=Symbol.for("react.offscreen"),i1=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=i1&&e[i1]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Tf;function Ml(e){if(Tf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tf=t&&t[1]||""}return`
`+Tf+e}var kf=!1;function Mf(e,t){if(!e||kf)return"";kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{kf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ml(e):""}function $5(e){switch(e.tag){case 5:return Ml(e.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return e=Mf(e.type,!1),e;case 11:return e=Mf(e.type.render,!1),e;case 1:return e=Mf(e.type,!0),e;default:return""}}function Np(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fa:return"Fragment";case da:return"Portal";case Rp:return"Profiler";case C0:return"StrictMode";case Lp:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case h2:return(e.displayName||"Context")+".Consumer";case c2:return(e._context.displayName||"Context")+".Provider";case _0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $0:return t=e.displayName||null,t!==null?t:Np(e.type)||"Memo";case $o:t=e._payload,e=e._init;try{return Np(e(t))}catch{}}return null}function T5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Np(t);case 8:return t===C0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k5(e){var t=f2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){e._valueTracker||(e._valueTracker=k5(e))}function p2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=f2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function o1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function g2(e,t){t=t.checked,t!=null&&E0(e,"checked",t,!1)}function Hp(e,t){g2(e,t);var n=Vo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fp(e,t.type,Vo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function s1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fp(e,t,n){(t!=="number"||Jc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pl=Array.isArray;function $a(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function a1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Pl(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vo(n)}}function m2(e,t){var n=Vo(t.value),r=Vo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function l1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function v2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?v2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tc,y2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M5=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){M5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function x2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function w2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=x2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var P5=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(e,t){if(t){if(P5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function T0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Ta=null,ka=null;function u1(e){if(e=Iu(e)){if(typeof Xp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=wd(t),Xp(e.stateNode,e.type,t))}}function b2(e){Ta?ka?ka.push(e):ka=[e]:Ta=e}function S2(){if(Ta){var e=Ta,t=ka;if(ka=Ta=null,u1(e),t)for(e=0;e<t.length;e++)u1(t[e])}}function E2(e,t){return e(t)}function C2(){}var Pf=!1;function _2(e,t,n){if(Pf)return e(t,n);Pf=!0;try{return E2(e,t,n)}finally{Pf=!1,(Ta!==null||ka!==null)&&(C2(),S2())}}function tu(e,t){var n=e.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Kp=!1;if(lo)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Kp=!1}function A5(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Hl=!1,eh=null,th=!1,Yp=null,I5={onError:function(e){Hl=!0,eh=e}};function j5(e,t,n,r,i,o,s,a,u){Hl=!1,eh=null,A5.apply(I5,arguments)}function O5(e,t,n,r,i,o,s,a,u){if(j5.apply(this,arguments),Hl){if(Hl){var c=eh;Hl=!1,eh=null}else throw Error(W(198));th||(th=!0,Yp=c)}}function Ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c1(e){if(Ns(e)!==e)throw Error(W(188))}function R5(e){var t=e.alternate;if(!t){if(t=Ns(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return c1(i),e;if(o===r)return c1(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function T2(e){return e=R5(e),e!==null?k2(e):null}function k2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k2(e);if(t!==null)return t;e=e.sibling}return null}var M2=fr.unstable_scheduleCallback,h1=fr.unstable_cancelCallback,L5=fr.unstable_shouldYield,D5=fr.unstable_requestPaint,xt=fr.unstable_now,N5=fr.unstable_getCurrentPriorityLevel,k0=fr.unstable_ImmediatePriority,P2=fr.unstable_UserBlockingPriority,nh=fr.unstable_NormalPriority,B5=fr.unstable_LowPriority,A2=fr.unstable_IdlePriority,md=null,Ui=null;function H5(e){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(md,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:G5,F5=Math.log,z5=Math.LN2;function G5(e){return e>>>=0,e===0?32:31-(F5(e)/z5|0)|0}var nc=64,rc=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Al(a):(o&=s,o!==0&&(r=Al(o)))}else s=n&~i,s!==0?r=Al(s):o!==0&&(r=Al(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$i(t),i=1<<n,r|=e[n],t&=~i;return r}function W5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-$i(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=W5(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I2(){var e=nc;return nc<<=1,!(nc&4194240)&&(nc=64),e}function Af(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=n}function V5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$i(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function M0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$i(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var De=0;function j2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O2,P0,R2,L2,D2,qp=!1,ic=[],Oo=null,Ro=null,Lo=null,nu=new Map,ru=new Map,Mo=[],X5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d1(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":nu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(t.pointerId)}}function yl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Iu(t),t!==null&&P0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K5(e,t,n,r,i){switch(t){case"focusin":return Oo=yl(Oo,e,t,n,r,i),!0;case"dragenter":return Ro=yl(Ro,e,t,n,r,i),!0;case"mouseover":return Lo=yl(Lo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nu.set(o,yl(nu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ru.set(o,yl(ru.get(o)||null,e,t,n,r,i)),!0}return!1}function N2(e){var t=ds(e.target);if(t!==null){var n=Ns(t);if(n!==null){if(t=n.tag,t===13){if(t=$2(n),t!==null){e.blockedOn=t,D2(e.priority,function(){R2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return t=Iu(n),t!==null&&P0(t),e.blockedOn=n,!1;t.shift()}return!0}function f1(e,t,n){Rc(e)&&n.delete(t)}function Y5(){qp=!1,Oo!==null&&Rc(Oo)&&(Oo=null),Ro!==null&&Rc(Ro)&&(Ro=null),Lo!==null&&Rc(Lo)&&(Lo=null),nu.forEach(f1),ru.forEach(f1)}function xl(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,Y5)))}function iu(e){function t(i){return xl(i,e)}if(0<ic.length){xl(ic[0],e);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Oo!==null&&xl(Oo,e),Ro!==null&&xl(Ro,e),Lo!==null&&xl(Lo,e),nu.forEach(t),ru.forEach(t),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)N2(n),n.blockedOn===null&&Mo.shift()}var Ma=mo.ReactCurrentBatchConfig,ih=!0;function Z5(e,t,n,r){var i=De,o=Ma.transition;Ma.transition=null;try{De=1,A0(e,t,n,r)}finally{De=i,Ma.transition=o}}function q5(e,t,n,r){var i=De,o=Ma.transition;Ma.transition=null;try{De=4,A0(e,t,n,r)}finally{De=i,Ma.transition=o}}function A0(e,t,n,r){if(ih){var i=Qp(e,t,n,r);if(i===null)Ff(e,t,r,oh,n),d1(e,r);else if(K5(i,e,t,n,r))r.stopPropagation();else if(d1(e,r),t&4&&-1<X5.indexOf(e)){for(;i!==null;){var o=Iu(i);if(o!==null&&O2(o),o=Qp(e,t,n,r),o===null&&Ff(e,t,r,oh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ff(e,t,r,null,n)}}var oh=null;function Qp(e,t,n,r){if(oh=null,e=T0(r),e=ds(e),e!==null)if(t=Ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oh=e,null}function B2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N5()){case k0:return 1;case P2:return 4;case nh:case B5:return 16;case A2:return 536870912;default:return 16}default:return 16}}var Ao=null,I0=null,Lc=null;function H2(){if(Lc)return Lc;var e,t=I0,n=t.length,r,i="value"in Ao?Ao.value:Ao.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Lc=i.slice(e,1<r?1-r:void 0)}function Dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oc(){return!0}function p1(){return!1}function mr(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oc:p1,this.isPropagationStopped=p1,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),t}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=mr(Ya),Au=ft({},Ya,{view:0,detail:0}),Q5=mr(Au),If,jf,wl,vd=ft({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(If=e.screenX-wl.screenX,jf=e.screenY-wl.screenY):jf=If=0,wl=e),If)},movementY:function(e){return"movementY"in e?e.movementY:jf}}),g1=mr(vd),J5=ft({},vd,{dataTransfer:0}),eT=mr(J5),tT=ft({},Au,{relatedTarget:0}),Of=mr(tT),nT=ft({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),rT=mr(nT),iT=ft({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oT=mr(iT),sT=ft({},Ya,{data:0}),m1=mr(sT),aT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uT[e])?!!t[e]:!1}function O0(){return cT}var hT=ft({},Au,{key:function(e){if(e.key){var t=aT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(e){return e.type==="keypress"?Dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dT=mr(hT),fT=ft({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=mr(fT),pT=ft({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),gT=mr(pT),mT=ft({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=mr(mT),yT=ft({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=mr(yT),wT=[9,13,27,32],R0=lo&&"CompositionEvent"in window,Fl=null;lo&&"documentMode"in document&&(Fl=document.documentMode);var bT=lo&&"TextEvent"in window&&!Fl,F2=lo&&(!R0||Fl&&8<Fl&&11>=Fl),y1=" ",x1=!1;function z2(e,t){switch(e){case"keyup":return wT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function ST(e,t){switch(e){case"compositionend":return G2(t);case"keypress":return t.which!==32?null:(x1=!0,y1);case"textInput":return e=t.data,e===y1&&x1?null:e;default:return null}}function ET(e,t){if(pa)return e==="compositionend"||!R0&&z2(e,t)?(e=H2(),Lc=I0=Ao=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F2&&t.locale!=="ko"?null:t.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CT[e.type]:t==="textarea"}function W2(e,t,n,r){b2(r),t=sh(t,"onChange"),0<t.length&&(n=new j0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zl=null,ou=null;function _T(e){tS(e,0)}function yd(e){var t=va(e);if(p2(t))return e}function $T(e,t){if(e==="change")return t}var U2=!1;if(lo){var Rf;if(lo){var Lf="oninput"in document;if(!Lf){var b1=document.createElement("div");b1.setAttribute("oninput","return;"),Lf=typeof b1.oninput=="function"}Rf=Lf}else Rf=!1;U2=Rf&&(!document.documentMode||9<document.documentMode)}function S1(){zl&&(zl.detachEvent("onpropertychange",V2),ou=zl=null)}function V2(e){if(e.propertyName==="value"&&yd(ou)){var t=[];W2(t,ou,e,T0(e)),_2(_T,t)}}function TT(e,t,n){e==="focusin"?(S1(),zl=t,ou=n,zl.attachEvent("onpropertychange",V2)):e==="focusout"&&S1()}function kT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(ou)}function MT(e,t){if(e==="click")return yd(t)}function PT(e,t){if(e==="input"||e==="change")return yd(t)}function AT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pi=typeof Object.is=="function"?Object.is:AT;function su(e,t){if(Pi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Op.call(t,i)||!Pi(e[i],t[i]))return!1}return!0}function E1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C1(e,t){var n=E1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function X2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function K2(){for(var e=window,t=Jc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jc(e.document)}return t}function L0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IT(e){var t=K2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&X2(n.ownerDocument.documentElement,n)){if(r!==null&&L0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=C1(n,o);var s=C1(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jT=lo&&"documentMode"in document&&11>=document.documentMode,ga=null,Jp=null,Gl=null,eg=!1;function _1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eg||ga==null||ga!==Jc(r)||(r=ga,"selectionStart"in r&&L0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gl&&su(Gl,r)||(Gl=r,r=sh(Jp,"onSelect"),0<r.length&&(t=new j0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ga)))}function sc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ma={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Df={},Y2={};lo&&(Y2=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function xd(e){if(Df[e])return Df[e];if(!ma[e])return e;var t=ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Y2)return Df[e]=t[n];return e}var Z2=xd("animationend"),q2=xd("animationiteration"),Q2=xd("animationstart"),J2=xd("transitionend"),eS=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(e,t){eS.set(e,t),Ds(t,[e])}for(var Nf=0;Nf<$1.length;Nf++){var Bf=$1[Nf],OT=Bf.toLowerCase(),RT=Bf[0].toUpperCase()+Bf.slice(1);Jo(OT,"on"+RT)}Jo(Z2,"onAnimationEnd");Jo(q2,"onAnimationIteration");Jo(Q2,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(J2,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function T1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,O5(r,t,void 0,e),e.currentTarget=null}function tS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;T1(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;T1(i,a,c),o=u}}}if(th)throw e=Yp,th=!1,Yp=null,e}function We(e,t){var n=t[og];n===void 0&&(n=t[og]=new Set);var r=e+"__bubble";n.has(r)||(nS(t,e,2,!1),n.add(r))}function Hf(e,t,n){var r=0;t&&(r|=4),nS(n,e,r,t)}var ac="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[ac]){e[ac]=!0,u2.forEach(function(n){n!=="selectionchange"&&(LT.has(n)||Hf(n,!1,e),Hf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ac]||(t[ac]=!0,Hf("selectionchange",!1,t))}}function nS(e,t,n,r){switch(B2(t)){case 1:var i=Z5;break;case 4:i=q5;break;default:i=A0}n=i.bind(null,t,n,e),i=void 0,!Kp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ff(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ds(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}_2(function(){var c=o,h=T0(n),f=[];e:{var p=eS.get(e);if(p!==void 0){var m=j0,w=e;switch(e){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":m=dT;break;case"focusin":w="focus",m=Of;break;case"focusout":w="blur",m=Of;break;case"beforeblur":case"afterblur":m=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gT;break;case Z2:case q2:case Q2:m=rT;break;case J2:m=vT;break;case"scroll":m=Q5;break;case"wheel":m=xT;break;case"copy":case"cut":case"paste":m=oT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v1}var x=(t&4)!==0,_=!x&&e==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var v=c,b;v!==null;){b=v;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,y!==null&&(C=tu(v,y),C!=null&&x.push(lu(v,C,b)))),_)break;v=v.return}0<x.length&&(p=new m(p,w,null,n,h),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Vp&&(w=n.relatedTarget||n.fromElement)&&(ds(w)||w[uo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?ds(w):null,w!==null&&(_=Ns(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(x=g1,C="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=v1,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?p:va(m),b=w==null?p:va(w),p=new x(C,v+"leave",m,n,h),p.target=_,p.relatedTarget=b,C=null,ds(h)===c&&(x=new x(y,v+"enter",w,n,h),x.target=b,x.relatedTarget=_,C=x),_=C,m&&w)t:{for(x=m,y=w,v=0,b=x;b;b=Ks(b))v++;for(b=0,C=y;C;C=Ks(C))b++;for(;0<v-b;)x=Ks(x),v--;for(;0<b-v;)y=Ks(y),b--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ks(x),y=Ks(y)}x=null}else x=null;m!==null&&k1(f,p,m,x,!1),w!==null&&_!==null&&k1(f,_,w,x,!0)}}e:{if(p=c?va(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=$T;else if(w1(p))if(U2)M=PT;else{M=kT;var T=TT}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=MT);if(M&&(M=M(e,c))){W2(f,M,n,h);break e}T&&T(e,p,c),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Fp(p,"number",p.value)}switch(T=c?va(c):window,e){case"focusin":(w1(T)||T.contentEditable==="true")&&(ga=T,Jp=c,Gl=null);break;case"focusout":Gl=Jp=ga=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,_1(f,n,h);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":_1(f,n,h)}var P;if(R0)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else pa?z2(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(F2&&n.locale!=="ko"&&(pa||I!=="onCompositionStart"?I==="onCompositionEnd"&&pa&&(P=H2()):(Ao=h,I0="value"in Ao?Ao.value:Ao.textContent,pa=!0)),T=sh(c,I),0<T.length&&(I=new m1(I,e,null,n,h),f.push({event:I,listeners:T}),P?I.data=P:(P=G2(n),P!==null&&(I.data=P)))),(P=bT?ST(e,n):ET(e,n))&&(c=sh(c,"onBeforeInput"),0<c.length&&(h=new m1("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=P))}tS(f,t)})}function lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tu(e,n),o!=null&&r.unshift(lu(e,o,i)),o=tu(e,t),o!=null&&r.push(lu(e,o,i))),e=e.return}return r}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function k1(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=tu(n,o),u!=null&&s.unshift(lu(n,u,a))):i||(u=tu(n,o),u!=null&&s.push(lu(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var DT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function M1(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(NT,"")}function lc(e,t,n){if(t=M1(t),M1(e)!==t&&n)throw Error(W(425))}function ah(){}var tg=null,ng=null;function rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(e){return P1.resolve(null).then(e).catch(FT)}:ig;function FT(e){setTimeout(function(){throw e})}function zf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),iu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);iu(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function A1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Gi="__reactFiber$"+Za,uu="__reactProps$"+Za,uo="__reactContainer$"+Za,og="__reactEvents$"+Za,zT="__reactListeners$"+Za,GT="__reactHandles$"+Za;function ds(e){var t=e[Gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[uo]||n[Gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=A1(e);e!==null;){if(n=e[Gi])return n;e=A1(e)}return t}e=n,n=e.parentNode}return null}function Iu(e){return e=e[Gi]||e[uo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function wd(e){return e[uu]||null}var sg=[],ya=-1;function es(e){return{current:e}}function Ye(e){0>ya||(e.current=sg[ya],sg[ya]=null,ya--)}function Ge(e,t){ya++,sg[ya]=e.current,e.current=t}var Xo={},vn=es(Xo),Qn=es(!1),bs=Xo;function Da(e,t){var n=e.type.contextTypes;if(!n)return Xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(e){return e=e.childContextTypes,e!=null}function lh(){Ye(Qn),Ye(vn)}function I1(e,t,n){if(vn.current!==Xo)throw Error(W(168));Ge(vn,t),Ge(Qn,n)}function rS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,T5(e)||"Unknown",i));return ft({},n,r)}function uh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,bs=vn.current,Ge(vn,e),Ge(Qn,Qn.current),!0}function j1(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=rS(e,t,bs),r.__reactInternalMemoizedMergedChildContext=e,Ye(Qn),Ye(vn),Ge(vn,e)):Ye(Qn),Ge(Qn,n)}var to=null,bd=!1,Gf=!1;function iS(e){to===null?to=[e]:to.push(e)}function WT(e){bd=!0,iS(e)}function ts(){if(!Gf&&to!==null){Gf=!0;var e=0,t=De;try{var n=to;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}to=null,bd=!1}catch(i){throw to!==null&&(to=to.slice(e+1)),M2(k0,ts),i}finally{De=t,Gf=!1}}return null}var xa=[],wa=0,ch=null,hh=0,xr=[],wr=0,Ss=null,ro=1,io="";function ls(e,t){xa[wa++]=hh,xa[wa++]=ch,ch=e,hh=t}function oS(e,t,n){xr[wr++]=ro,xr[wr++]=io,xr[wr++]=Ss,Ss=e;var r=ro;e=io;var i=32-$i(r)-1;r&=~(1<<i),n+=1;var o=32-$i(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ro=1<<32-$i(t)+i|n<<i|r,io=o+e}else ro=1<<o|n<<i|r,io=e}function D0(e){e.return!==null&&(ls(e,1),oS(e,1,0))}function N0(e){for(;e===ch;)ch=xa[--wa],xa[wa]=null,hh=xa[--wa],xa[wa]=null;for(;e===Ss;)Ss=xr[--wr],xr[wr]=null,io=xr[--wr],xr[wr]=null,ro=xr[--wr],xr[wr]=null}var dr=null,sr=null,qe=!1,bi=null;function sS(e,t){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function O1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dr=e,sr=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dr=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ss!==null?{id:ro,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dr=e,sr=null,!0):!1;default:return!1}}function ag(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lg(e){if(qe){var t=sr;if(t){var n=t;if(!O1(e,t)){if(ag(e))throw Error(W(418));t=Do(n.nextSibling);var r=dr;t&&O1(e,t)?sS(r,n):(e.flags=e.flags&-4097|2,qe=!1,dr=e)}}else{if(ag(e))throw Error(W(418));e.flags=e.flags&-4097|2,qe=!1,dr=e}}}function R1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function uc(e){if(e!==dr)return!1;if(!qe)return R1(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rg(e.type,e.memoizedProps)),t&&(t=sr)){if(ag(e))throw aS(),Error(W(418));for(;t;)sS(e,t),t=Do(t.nextSibling)}if(R1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sr=Do(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=dr?Do(e.stateNode.nextSibling):null;return!0}function aS(){for(var e=sr;e;)e=Do(e.nextSibling)}function Na(){sr=dr=null,qe=!1}function B0(e){bi===null?bi=[e]:bi.push(e)}var UT=mo.ReactCurrentBatchConfig;function xi(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var dh=es(null),fh=null,ba=null,H0=null;function F0(){H0=ba=fh=null}function z0(e){var t=dh.current;Ye(dh),e._currentValue=t}function ug(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){fh=e,H0=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qn=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(H0!==e)if(e={context:e,memoizedValue:t,next:null},ba===null){if(fh===null)throw Error(W(308));ba=e,fh.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var fs=null;function G0(e){fs===null?fs=[e]:fs.push(e)}function lS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,G0(t)):(n.next=i.next,i.next=n),t.interleaved=n,co(e,r)}function co(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var To=!1;function W0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,co(e,n)}return i=r.interleaved,i===null?(t.next=t,G0(r)):(t.next=i.next,i.next=t),r.interleaved=t,co(e,n)}function Nc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,M0(e,n)}}function L1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ph(e,t,n,r){var i=e.updateQueue;To=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,x=a;switch(p=t,m=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=ft({},f,p);break e;case 2:To=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,u=f):h=h.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Cs|=s,e.lanes=s,e.memoizedState=f}}function D1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var cS=new l2.Component().refs;function cg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sd={isMounted:function(e){return(e=e._reactInternals)?Ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Ho(e),o=ao(r,i);o.payload=t,n!=null&&(o.callback=n),t=No(e,o,i),t!==null&&(Ti(t,e,i,r),Nc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Ho(e),o=ao(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=No(e,o,i),t!==null&&(Ti(t,e,i,r),Nc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=Ho(e),i=ao(n,r);i.tag=2,t!=null&&(i.callback=t),t=No(e,i,r),t!==null&&(Ti(t,e,r,n),Nc(t,e,r))}};function N1(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!su(n,r)||!su(i,o):!0}function hS(e,t,n){var r=!1,i=Xo,o=t.contextType;return typeof o=="object"&&o!==null?o=_r(o):(i=Jn(t)?bs:vn.current,r=t.contextTypes,o=(r=r!=null)?Da(e,i):Xo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function B1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sd.enqueueReplaceState(t,t.state,null)}function hg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=cS,W0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=_r(o):(o=Jn(t)?bs:vn.current,i.context=Da(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sd.enqueueReplaceState(i,i.state,null),ph(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===cS&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function cc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H1(e){var t=e._init;return t(e._payload)}function dS(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Fo(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,C){return v===null||v.tag!==6?(v=Zf(b,y.mode,C),v.return=y,v):(v=i(v,b),v.return=y,v)}function u(y,v,b,C){var M=b.type;return M===fa?h(y,v,b.props.children,C,b.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$o&&H1(M)===v.type)?(C=i(v,b.props),C.ref=bl(y,v,b),C.return=y,C):(C=Wc(b.type,b.key,b.props,null,y.mode,C),C.ref=bl(y,v,b),C.return=y,C)}function c(y,v,b,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=qf(b,y.mode,C),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function h(y,v,b,C,M){return v===null||v.tag!==7?(v=ys(b,y.mode,C,M),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zf(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ju:return b=Wc(v.type,v.key,v.props,null,y.mode,b),b.ref=bl(y,null,v),b.return=y,b;case da:return v=qf(v,y.mode,b),v.return=y,v;case $o:var C=v._init;return f(y,C(v._payload),b)}if(Pl(v)||ml(v))return v=ys(v,y.mode,b,null),v.return=y,v;cc(y,v)}return null}function p(y,v,b,C){var M=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(y,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return b.key===M?u(y,v,b,C):null;case da:return b.key===M?c(y,v,b,C):null;case $o:return M=b._init,p(y,v,M(b._payload),C)}if(Pl(b)||ml(b))return M!==null?null:h(y,v,b,C,null);cc(y,b)}return null}function m(y,v,b,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(b)||null,a(v,y,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ju:return y=y.get(C.key===null?b:C.key)||null,u(v,y,C,M);case da:return y=y.get(C.key===null?b:C.key)||null,c(v,y,C,M);case $o:var T=C._init;return m(y,v,b,T(C._payload),M)}if(Pl(C)||ml(C))return y=y.get(b)||null,h(v,y,C,M,null);cc(v,C)}return null}function w(y,v,b,C){for(var M=null,T=null,P=v,I=v=0,N=null;P!==null&&I<b.length;I++){P.index>I?(N=P,P=null):N=P.sibling;var j=p(y,P,b[I],C);if(j===null){P===null&&(P=N);break}e&&P&&j.alternate===null&&t(y,P),v=o(j,v,I),T===null?M=j:T.sibling=j,T=j,P=N}if(I===b.length)return n(y,P),qe&&ls(y,I),M;if(P===null){for(;I<b.length;I++)P=f(y,b[I],C),P!==null&&(v=o(P,v,I),T===null?M=P:T.sibling=P,T=P);return qe&&ls(y,I),M}for(P=r(y,P);I<b.length;I++)N=m(P,y,I,b[I],C),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?I:N.key),v=o(N,v,I),T===null?M=N:T.sibling=N,T=N);return e&&P.forEach(function(D){return t(y,D)}),qe&&ls(y,I),M}function x(y,v,b,C){var M=ml(b);if(typeof M!="function")throw Error(W(150));if(b=M.call(b),b==null)throw Error(W(151));for(var T=M=null,P=v,I=v=0,N=null,j=b.next();P!==null&&!j.done;I++,j=b.next()){P.index>I?(N=P,P=null):N=P.sibling;var D=p(y,P,j.value,C);if(D===null){P===null&&(P=N);break}e&&P&&D.alternate===null&&t(y,P),v=o(D,v,I),T===null?M=D:T.sibling=D,T=D,P=N}if(j.done)return n(y,P),qe&&ls(y,I),M;if(P===null){for(;!j.done;I++,j=b.next())j=f(y,j.value,C),j!==null&&(v=o(j,v,I),T===null?M=j:T.sibling=j,T=j);return qe&&ls(y,I),M}for(P=r(y,P);!j.done;I++,j=b.next())j=m(P,y,I,j.value,C),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?I:j.key),v=o(j,v,I),T===null?M=j:T.sibling=j,T=j);return e&&P.forEach(function(H){return t(y,H)}),qe&&ls(y,I),M}function _(y,v,b,C){if(typeof b=="object"&&b!==null&&b.type===fa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:e:{for(var M=b.key,T=v;T!==null;){if(T.key===M){if(M=b.type,M===fa){if(T.tag===7){n(y,T.sibling),v=i(T,b.props.children),v.return=y,y=v;break e}}else if(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$o&&H1(M)===T.type){n(y,T.sibling),v=i(T,b.props),v.ref=bl(y,T,b),v.return=y,y=v;break e}n(y,T);break}else t(y,T);T=T.sibling}b.type===fa?(v=ys(b.props.children,y.mode,C,b.key),v.return=y,y=v):(C=Wc(b.type,b.key,b.props,null,y.mode,C),C.ref=bl(y,v,b),C.return=y,y=C)}return s(y);case da:e:{for(T=b.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=qf(b,y.mode,C),v.return=y,y=v}return s(y);case $o:return T=b._init,_(y,v,T(b._payload),C)}if(Pl(b))return w(y,v,b,C);if(ml(b))return x(y,v,b,C);cc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=Zf(b,y.mode,C),v.return=y,y=v),s(y)):n(y,v)}return _}var Ba=dS(!0),fS=dS(!1),ju={},Vi=es(ju),cu=es(ju),hu=es(ju);function ps(e){if(e===ju)throw Error(W(174));return e}function U0(e,t){switch(Ge(hu,t),Ge(cu,e),Ge(Vi,ju),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gp(t,e)}Ye(Vi),Ge(Vi,t)}function Ha(){Ye(Vi),Ye(cu),Ye(hu)}function pS(e){ps(hu.current);var t=ps(Vi.current),n=Gp(t,e.type);t!==n&&(Ge(cu,e),Ge(Vi,n))}function V0(e){cu.current===e&&(Ye(Vi),Ye(cu))}var ct=es(0);function gh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wf=[];function X0(){for(var e=0;e<Wf.length;e++)Wf[e]._workInProgressVersionPrimary=null;Wf.length=0}var Bc=mo.ReactCurrentDispatcher,Uf=mo.ReactCurrentBatchConfig,Es=0,dt=null,It=null,Rt=null,mh=!1,Wl=!1,du=0,VT=0;function dn(){throw Error(W(321))}function K0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pi(e[n],t[n]))return!1;return!0}function Y0(e,t,n,r,i,o){if(Es=o,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bc.current=e===null||e.memoizedState===null?ZT:qT,e=n(r,i),Wl){o=0;do{if(Wl=!1,du=0,25<=o)throw Error(W(301));o+=1,Rt=It=null,t.updateQueue=null,Bc.current=QT,e=n(r,i)}while(Wl)}if(Bc.current=vh,t=It!==null&&It.next!==null,Es=0,Rt=It=dt=null,mh=!1,t)throw Error(W(300));return e}function Z0(){var e=du!==0;return du=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?dt.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function $r(){if(It===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Rt===null?dt.memoizedState:Rt.next;if(t!==null)Rt=t,It=e;else{if(e===null)throw Error(W(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Rt===null?dt.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function fu(e,t){return typeof t=="function"?t(e):t}function Vf(e){var t=$r(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((Es&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,dt.lanes|=h,Cs|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,Pi(r,t.memoizedState)||(qn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,dt.lanes|=o,Cs|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xf(e){var t=$r(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Pi(o,t.memoizedState)||(qn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function gS(){}function mS(e,t){var n=dt,r=$r(),i=t(),o=!Pi(r.memoizedState,i);if(o&&(r.memoizedState=i,qn=!0),r=r.queue,q0(xS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,pu(9,yS.bind(null,n,r,i,t),void 0,null),Dt===null)throw Error(W(349));Es&30||vS(n,t,i)}return i}function vS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yS(e,t,n,r){t.value=n,t.getSnapshot=r,wS(t)&&bS(e)}function xS(e,t,n){return n(function(){wS(t)&&bS(e)})}function wS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pi(e,n)}catch{return!0}}function bS(e){var t=co(e,1);t!==null&&Ti(t,e,1,-1)}function F1(e){var t=Hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:e},t.queue=e,e=e.dispatch=YT.bind(null,dt,e),[t.memoizedState,e]}function pu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function SS(){return $r().memoizedState}function Hc(e,t,n,r){var i=Hi();dt.flags|=e,i.memoizedState=pu(1|t,n,void 0,r===void 0?null:r)}function Ed(e,t,n,r){var i=$r();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&K0(r,s.deps)){i.memoizedState=pu(t,n,o,r);return}}dt.flags|=e,i.memoizedState=pu(1|t,n,o,r)}function z1(e,t){return Hc(8390656,8,e,t)}function q0(e,t){return Ed(2048,8,e,t)}function ES(e,t){return Ed(4,2,e,t)}function CS(e,t){return Ed(4,4,e,t)}function _S(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $S(e,t,n){return n=n!=null?n.concat([e]):null,Ed(4,4,_S.bind(null,t,e),n)}function Q0(){}function TS(e,t){var n=$r();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kS(e,t){var n=$r();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function MS(e,t,n){return Es&21?(Pi(n,t)||(n=I2(),dt.lanes|=n,Cs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qn=!0),e.memoizedState=n)}function XT(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Uf.transition;Uf.transition={};try{e(!1),t()}finally{De=n,Uf.transition=r}}function PS(){return $r().memoizedState}function KT(e,t,n){var r=Ho(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AS(e))IS(t,n);else if(n=lS(e,t,n,r),n!==null){var i=bn();Ti(n,e,r,i),jS(n,t,r)}}function YT(e,t,n){var r=Ho(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AS(e))IS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pi(a,s)){var u=t.interleaved;u===null?(i.next=i,G0(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=lS(e,t,i,r),n!==null&&(i=bn(),Ti(n,e,r,i),jS(n,t,r))}}function AS(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function IS(e,t){Wl=mh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,M0(e,n)}}var vh={readContext:_r,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},ZT={readContext:_r,useCallback:function(e,t){return Hi().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:z1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hc(4194308,4,_S.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hc(4,2,e,t)},useMemo:function(e,t){var n=Hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KT.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Hi();return e={current:e},t.memoizedState=e},useState:F1,useDebugValue:Q0,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=F1(!1),t=e[0];return e=XT.bind(null,e[1]),Hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,i=Hi();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Dt===null)throw Error(W(349));Es&30||vS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,z1(xS.bind(null,r,o,e),[e]),r.flags|=2048,pu(9,yS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Hi(),t=Dt.identifierPrefix;if(qe){var n=io,r=ro;n=(r&~(1<<32-$i(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=du++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qT={readContext:_r,useCallback:TS,useContext:_r,useEffect:q0,useImperativeHandle:$S,useInsertionEffect:ES,useLayoutEffect:CS,useMemo:kS,useReducer:Vf,useRef:SS,useState:function(){return Vf(fu)},useDebugValue:Q0,useDeferredValue:function(e){var t=$r();return MS(t,It.memoizedState,e)},useTransition:function(){var e=Vf(fu)[0],t=$r().memoizedState;return[e,t]},useMutableSource:gS,useSyncExternalStore:mS,useId:PS,unstable_isNewReconciler:!1},QT={readContext:_r,useCallback:TS,useContext:_r,useEffect:q0,useImperativeHandle:$S,useInsertionEffect:ES,useLayoutEffect:CS,useMemo:kS,useReducer:Xf,useRef:SS,useState:function(){return Xf(fu)},useDebugValue:Q0,useDeferredValue:function(e){var t=$r();return It===null?t.memoizedState=e:MS(t,It.memoizedState,e)},useTransition:function(){var e=Xf(fu)[0],t=$r().memoizedState;return[e,t]},useMutableSource:gS,useSyncExternalStore:mS,useId:PS,unstable_isNewReconciler:!1};function Fa(e,t){try{var n="",r=t;do n+=$5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function OS(e,t,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xh||(xh=!0,Sg=r),dg(e,t)},n}function RS(e,t,n){n=ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){dg(e,t),typeof r!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function G1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new JT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fk.bind(null,e,t,n),t.then(e,e))}function W1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ao(-1,1),t.tag=2,No(n,t,1))),n.lanes|=1),e)}var ek=mo.ReactCurrentOwner,qn=!1;function xn(e,t,n,r){t.child=e===null?fS(t,null,n,r):Ba(t,e.child,n,r)}function V1(e,t,n,r,i){n=n.render;var o=t.ref;return Pa(t,i),r=Y0(e,t,n,r,o,i),n=Z0(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ho(e,t,i)):(qe&&n&&D0(t),t.flags|=1,xn(e,t,r,i),t.child)}function X1(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!sm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,LS(e,t,o,r,i)):(e=Wc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:su,n(s,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,e=Fo(o,r),e.ref=t.ref,e.return=t,t.child=e}function LS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(su(o,r)&&e.ref===t.ref)if(qn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(qn=!0);else return t.lanes=e.lanes,ho(e,t,i)}return fg(e,t,n,r,i)}function DS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ea,or),or|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Ea,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(Ea,or),or|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(Ea,or),or|=r;return xn(e,t,i,n),t.child}function NS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fg(e,t,n,r,i){var o=Jn(n)?bs:vn.current;return o=Da(t,o),Pa(t,i),n=Y0(e,t,n,r,o,i),r=Z0(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ho(e,t,i)):(qe&&r&&D0(t),t.flags|=1,xn(e,t,n,i),t.child)}function K1(e,t,n,r,i){if(Jn(n)){var o=!0;uh(t)}else o=!1;if(Pa(t,i),t.stateNode===null)Fc(e,t),hS(t,n,r),hg(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=_r(c):(c=Jn(n)?bs:vn.current,c=Da(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&B1(t,s,r,c),To=!1;var p=t.memoizedState;s.state=p,ph(t,r,s,i),u=t.memoizedState,a!==r||p!==u||Qn.current||To?(typeof h=="function"&&(cg(t,n,h,r),u=t.memoizedState),(a=To||N1(t,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,uS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xi(t.type,a),s.props=c,f=t.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=_r(u):(u=Jn(n)?bs:vn.current,u=Da(t,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&B1(t,s,r,u),To=!1,p=t.memoizedState,s.state=p,ph(t,r,s,i);var w=t.memoizedState;a!==f||p!==w||Qn.current||To?(typeof m=="function"&&(cg(t,n,m,r),w=t.memoizedState),(c=To||N1(t,n,c,r,p,w,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return pg(e,t,n,r,o,i)}function pg(e,t,n,r,i,o){NS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&j1(t,n,!1),ho(e,t,o);r=t.stateNode,ek.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ba(t,e.child,null,o),t.child=Ba(t,null,a,o)):xn(e,t,a,o),t.memoizedState=r.state,i&&j1(t,n,!0),t.child}function BS(e){var t=e.stateNode;t.pendingContext?I1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&I1(e,t.context,!1),U0(e,t.containerInfo)}function Y1(e,t,n,r,i){return Na(),B0(i),t.flags|=256,xn(e,t,n,r),t.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function mg(e){return{baseLanes:e,cachePool:null,transitions:null}}function HS(e,t,n){var r=t.pendingProps,i=ct.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(ct,i&1),e===null)return lg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=$d(s,r,0,null),e=ys(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=mg(n),t.memoizedState=gg,e):J0(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tk(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Fo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fo(a,o):(o=ys(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?mg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=gg,r}return o=e.child,e=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function J0(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hc(e,t,n,r){return r!==null&&B0(r),Ba(t,e.child,null,n),e=J0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tk(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Kf(Error(W(422))),hc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$d({mode:"visible",children:r.children},i,0,null),o=ys(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ba(t,e.child,null,s),t.child.memoizedState=mg(s),t.memoizedState=gg,o);if(!(t.mode&1))return hc(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=Kf(o,r,void 0),hc(e,t,s,r)}if(a=(s&e.childLanes)!==0,qn||a){if(r=Dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,co(e,i),Ti(r,e,i,-1))}return om(),r=Kf(Error(W(421))),hc(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pk.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,sr=Do(i.nextSibling),dr=t,qe=!0,bi=null,e!==null&&(xr[wr++]=ro,xr[wr++]=io,xr[wr++]=Ss,ro=e.id,io=e.overflow,Ss=t),t=J0(t,r.children),t.flags|=4096,t)}function Z1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ug(e.return,t,n)}function Yf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function FS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xn(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z1(e,n,t);else if(e.tag===19)Z1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yf(t,!0,n,null,o);break;case"together":Yf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ho(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nk(e,t,n){switch(t.tag){case 3:BS(t),Na();break;case 5:pS(t);break;case 1:Jn(t.type)&&uh(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(dh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?HS(e,t,n):(Ge(ct,ct.current&1),e=ho(e,t,n),e!==null?e.sibling:null);Ge(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,DS(e,t,n)}return ho(e,t,n)}var zS,vg,GS,WS;zS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vg=function(){};GS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ps(Vi.current);var o=null;switch(n){case"input":i=Bp(e,i),r=Bp(e,r),o=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),o=[];break;case"textarea":i=zp(e,i),r=zp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ah)}Wp(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&We("scroll",e),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};WS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sl(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rk(e,t,n){var r=t.pendingProps;switch(N0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Jn(t.type)&&lh(),fn(t),null;case 3:return r=t.stateNode,Ha(),Ye(Qn),Ye(vn),X0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(uc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bi!==null&&(_g(bi),bi=null))),vg(e,t),fn(t),null;case 5:V0(t);var i=ps(hu.current);if(n=t.type,e!==null&&t.stateNode!=null)GS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return fn(t),null}if(e=ps(Vi.current),uc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gi]=t,r[uu]=o,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Il.length;i++)We(Il[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":o1(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":a1(r,o),We("invalid",r)}Wp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&lc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&lc(r.textContent,a,e),i=["children",""+a]):Jl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&We("scroll",r)}switch(n){case"input":ec(r),s1(r,o,!0);break;case"textarea":ec(r),l1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ah)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gi]=t,e[uu]=r,zS(e,t,!1,!1),t.stateNode=e;e:{switch(s=Up(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<Il.length;i++)We(Il[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":o1(e,r),i=Bp(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),We("invalid",e);break;case"textarea":a1(e,r),i=zp(e,r),We("invalid",e);break;default:i=r}Wp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?w2(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&y2(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&eu(e,u):typeof u=="number"&&eu(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&We("scroll",e):u!=null&&E0(e,o,u,s))}switch(n){case"input":ec(e),s1(e,r,!1);break;case"textarea":ec(e),l1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$a(e,!!r.multiple,o,!1):r.defaultValue!=null&&$a(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)WS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=ps(hu.current),ps(Vi.current),uc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gi]=t,(o=r.nodeValue!==n)&&(e=dr,e!==null))switch(e.tag){case 3:lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=t,t.stateNode=r}return fn(t),null;case 13:if(Ye(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&sr!==null&&t.mode&1&&!(t.flags&128))aS(),Na(),t.flags|=98560,o=!1;else if(o=uc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Gi]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),o=!1}else bi!==null&&(_g(bi),bi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?jt===0&&(jt=3):om())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Ha(),vg(e,t),e===null&&au(t.stateNode.containerInfo),fn(t),null;case 10:return z0(t.type._context),fn(t),null;case 17:return Jn(t.type)&&lh(),fn(t),null;case 19:if(Ye(ct),o=t.memoizedState,o===null)return fn(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Sl(o,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gh(e),s!==null){for(t.flags|=128,Sl(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(ct,ct.current&1|2),t.child}e=e.sibling}o.tail!==null&&xt()>za&&(t.flags|=128,r=!0,Sl(o,!1),t.lanes=4194304)}else{if(!r)if(e=gh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!qe)return fn(t),null}else 2*xt()-o.renderingStartTime>za&&n!==1073741824&&(t.flags|=128,r=!0,Sl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xt(),t.sibling=null,n=ct.current,Ge(ct,r?n&1|2:n&1),t):(fn(t),null);case 22:case 23:return im(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?or&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function ik(e,t){switch(N0(t),t.tag){case 1:return Jn(t.type)&&lh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),Ye(Qn),Ye(vn),X0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V0(t),null;case 13:if(Ye(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(ct),null;case 4:return Ha(),null;case 10:return z0(t.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var dc=!1,mn=!1,ok=typeof WeakSet=="function"?WeakSet:Set,te=null;function Sa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function yg(e,t,n){try{n()}catch(r){mt(e,t,r)}}var q1=!1;function sk(e,t){if(tg=ih,e=K2(),L0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===i&&(a=s),p===o&&++h===r&&(u=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ng={focusedElem:e,selectionRange:n},ih=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,_=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:xi(t.type,x),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){mt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return w=q1,q1=!1,w}function Ul(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&yg(t,n,o)}i=i.next}while(i!==r)}}function Cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function US(e){var t=e.alternate;t!==null&&(e.alternate=null,US(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gi],delete t[uu],delete t[og],delete t[zT],delete t[GT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VS(e){return e.tag===5||e.tag===3||e.tag===4}function Q1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ah));else if(r!==4&&(e=e.child,e!==null))for(wg(e,t,n),e=e.sibling;e!==null;)wg(e,t,n),e=e.sibling}function bg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bg(e,t,n),e=e.sibling;e!==null;)bg(e,t,n),e=e.sibling}var an=null,wi=!1;function Co(e,t,n){for(n=n.child;n!==null;)XS(e,t,n),n=n.sibling}function XS(e,t,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:mn||Sa(n,t);case 6:var r=an,i=wi;an=null,Co(e,t,n),an=r,wi=i,an!==null&&(wi?(e=an,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(wi?(e=an,n=n.stateNode,e.nodeType===8?zf(e.parentNode,n):e.nodeType===1&&zf(e,n),iu(e)):zf(an,n.stateNode));break;case 4:r=an,i=wi,an=n.stateNode.containerInfo,wi=!0,Co(e,t,n),an=r,wi=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&yg(n,t,s),i=i.next}while(i!==r)}Co(e,t,n);break;case 1:if(!mn&&(Sa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mt(n,t,a)}Co(e,t,n);break;case 21:Co(e,t,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Co(e,t,n),mn=r):Co(e,t,n);break;default:Co(e,t,n)}}function J1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ok),t.forEach(function(r){var i=gk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,wi=!1;break e;case 3:an=a.stateNode.containerInfo,wi=!0;break e;case 4:an=a.stateNode.containerInfo,wi=!0;break e}a=a.return}if(an===null)throw Error(W(160));XS(o,s,i),an=null,wi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){mt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KS(t,e),t=t.sibling}function KS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),Ni(e),r&4){try{Ul(3,e,e.return),Cd(3,e)}catch(x){mt(e,e.return,x)}try{Ul(5,e,e.return)}catch(x){mt(e,e.return,x)}}break;case 1:vi(t,e),Ni(e),r&512&&n!==null&&Sa(n,n.return);break;case 5:if(vi(t,e),Ni(e),r&512&&n!==null&&Sa(n,n.return),e.flags&32){var i=e.stateNode;try{eu(i,"")}catch(x){mt(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&g2(i,o),Up(a,s);var c=Up(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?w2(i,f):h==="dangerouslySetInnerHTML"?y2(i,f):h==="children"?eu(i,f):E0(i,h,f,c)}switch(a){case"input":Hp(i,o);break;case"textarea":m2(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$a(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?$a(i,!!o.multiple,o.defaultValue,!0):$a(i,!!o.multiple,o.multiple?[]:"",!1))}i[uu]=o}catch(x){mt(e,e.return,x)}}break;case 6:if(vi(t,e),Ni(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){mt(e,e.return,x)}}break;case 3:if(vi(t,e),Ni(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{iu(t.containerInfo)}catch(x){mt(e,e.return,x)}break;case 4:vi(t,e),Ni(e);break;case 13:vi(t,e),Ni(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nm=xt())),r&4&&J1(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(mn=(c=mn)||h,vi(t,e),mn=c):vi(t,e),Ni(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(te=e,h=e.child;h!==null;){for(f=te=h;te!==null;){switch(p=te,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ul(4,p,p.return);break;case 1:Sa(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){mt(r,n,x)}}break;case 5:Sa(p,p.return);break;case 22:if(p.memoizedState!==null){ty(f);continue}}m!==null?(m.return=p,te=m):ty(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=x2("display",s))}catch(x){mt(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){mt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vi(t,e),Ni(e),r&4&&J1(e);break;case 21:break;default:vi(t,e),Ni(e)}}function Ni(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eu(i,""),r.flags&=-33);var o=Q1(e);bg(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Q1(e);wg(e,a,s);break;default:throw Error(W(161))}}catch(u){mt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ak(e,t,n){te=e,YS(e)}function YS(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dc;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||mn;a=dc;var c=mn;if(dc=s,(mn=u)&&!c)for(te=i;te!==null;)s=te,u=s.child,s.tag===22&&s.memoizedState!==null?ny(i):u!==null?(u.return=s,te=u):ny(i);for(;o!==null;)te=o,YS(o),o=o.sibling;te=i,dc=a,mn=c}ey(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):ey(e)}}function ey(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mn||Cd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&D1(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D1(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&iu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}mn||t.flags&512&&xg(t)}catch(p){mt(t,t.return,p)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function ty(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function ny(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cd(4,t)}catch(u){mt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){mt(t,i,u)}}var o=t.return;try{xg(t)}catch(u){mt(t,o,u)}break;case 5:var s=t.return;try{xg(t)}catch(u){mt(t,s,u)}}}catch(u){mt(t,t.return,u)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var lk=Math.ceil,yh=mo.ReactCurrentDispatcher,em=mo.ReactCurrentOwner,Cr=mo.ReactCurrentBatchConfig,ke=0,Dt=null,At=null,un=0,or=0,Ea=es(0),jt=0,gu=null,Cs=0,_d=0,tm=0,Vl=null,Yn=null,nm=0,za=1/0,eo=null,xh=!1,Sg=null,Bo=null,fc=!1,Io=null,wh=0,Xl=0,Eg=null,zc=-1,Gc=0;function bn(){return ke&6?xt():zc!==-1?zc:zc=xt()}function Ho(e){return e.mode&1?ke&2&&un!==0?un&-un:UT.transition!==null?(Gc===0&&(Gc=I2()),Gc):(e=De,e!==0||(e=window.event,e=e===void 0?16:B2(e.type)),e):1}function Ti(e,t,n,r){if(50<Xl)throw Xl=0,Eg=null,Error(W(185));Pu(e,n,r),(!(ke&2)||e!==Dt)&&(e===Dt&&(!(ke&2)&&(_d|=n),jt===4&&Po(e,un)),er(e,r),n===1&&ke===0&&!(t.mode&1)&&(za=xt()+500,bd&&ts()))}function er(e,t){var n=e.callbackNode;U5(e,t);var r=rh(e,e===Dt?un:0);if(r===0)n!==null&&h1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&h1(n),t===1)e.tag===0?WT(ry.bind(null,e)):iS(ry.bind(null,e)),HT(function(){!(ke&6)&&ts()}),n=null;else{switch(j2(r)){case 1:n=k0;break;case 4:n=P2;break;case 16:n=nh;break;case 536870912:n=A2;break;default:n=nh}n=rE(n,ZS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZS(e,t){if(zc=-1,Gc=0,ke&6)throw Error(W(327));var n=e.callbackNode;if(Aa()&&e.callbackNode!==n)return null;var r=rh(e,e===Dt?un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bh(e,r);else{t=r;var i=ke;ke|=2;var o=QS();(Dt!==e||un!==t)&&(eo=null,za=xt()+500,vs(e,t));do try{hk();break}catch(a){qS(e,a)}while(!0);F0(),yh.current=o,ke=i,At!==null?t=0:(Dt=null,un=0,t=jt)}if(t!==0){if(t===2&&(i=Zp(e),i!==0&&(r=i,t=Cg(e,i))),t===1)throw n=gu,vs(e,0),Po(e,r),er(e,xt()),n;if(t===6)Po(e,r);else{if(i=e.current.alternate,!(r&30)&&!uk(i)&&(t=bh(e,r),t===2&&(o=Zp(e),o!==0&&(r=o,t=Cg(e,o))),t===1))throw n=gu,vs(e,0),Po(e,r),er(e,xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:us(e,Yn,eo);break;case 3:if(Po(e,r),(r&130023424)===r&&(t=nm+500-xt(),10<t)){if(rh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ig(us.bind(null,e,Yn,eo),t);break}us(e,Yn,eo);break;case 4:if(Po(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-$i(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lk(r/1960))-r,10<r){e.timeoutHandle=ig(us.bind(null,e,Yn,eo),r);break}us(e,Yn,eo);break;case 5:us(e,Yn,eo);break;default:throw Error(W(329))}}}return er(e,xt()),e.callbackNode===n?ZS.bind(null,e):null}function Cg(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=bh(e,t),e!==2&&(t=Yn,Yn=n,t!==null&&_g(t)),e}function _g(e){Yn===null?Yn=e:Yn.push.apply(Yn,e)}function uk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Po(e,t){for(t&=~tm,t&=~_d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$i(t),r=1<<n;e[n]=-1,t&=~r}}function ry(e){if(ke&6)throw Error(W(327));Aa();var t=rh(e,0);if(!(t&1))return er(e,xt()),null;var n=bh(e,t);if(e.tag!==0&&n===2){var r=Zp(e);r!==0&&(t=r,n=Cg(e,r))}if(n===1)throw n=gu,vs(e,0),Po(e,t),er(e,xt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,Yn,eo),er(e,xt()),null}function rm(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(za=xt()+500,bd&&ts())}}function _s(e){Io!==null&&Io.tag===0&&!(ke&6)&&Aa();var t=ke;ke|=1;var n=Cr.transition,r=De;try{if(Cr.transition=null,De=1,e)return e()}finally{De=r,Cr.transition=n,ke=t,!(ke&6)&&ts()}}function im(){or=Ea.current,Ye(Ea)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,BT(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(N0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lh();break;case 3:Ha(),Ye(Qn),Ye(vn),X0();break;case 5:V0(r);break;case 4:Ha();break;case 13:Ye(ct);break;case 19:Ye(ct);break;case 10:z0(r.type._context);break;case 22:case 23:im()}n=n.return}if(Dt=e,At=e=Fo(e.current,null),un=or=t,jt=0,gu=null,tm=_d=Cs=0,Yn=Vl=null,fs!==null){for(t=0;t<fs.length;t++)if(n=fs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fs=null}return e}function qS(e,t){do{var n=At;try{if(F0(),Bc.current=vh,mh){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mh=!1}if(Es=0,Rt=It=dt=null,Wl=!1,du=0,em.current=null,n===null||n.return===null){jt=1,gu=t,At=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=un,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=W1(s);if(m!==null){m.flags&=-257,U1(m,s,a,o,t),m.mode&1&&G1(o,c,t),t=m,u=c;var w=t.updateQueue;if(w===null){var x=new Set;x.add(u),t.updateQueue=x}else w.add(u);break e}else{if(!(t&1)){G1(o,c,t),om();break e}u=Error(W(426))}}else if(qe&&a.mode&1){var _=W1(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),U1(_,s,a,o,t),B0(Fa(u,a));break e}}o=u=Fa(u,a),jt!==4&&(jt=2),Vl===null?Vl=[o]:Vl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=OS(o,u,t);L1(o,y);break e;case 1:a=u;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bo===null||!Bo.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=RS(o,a,t);L1(o,C);break e}}o=o.return}while(o!==null)}eE(n)}catch(M){t=M,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function QS(){var e=yh.current;return yh.current=vh,e===null?vh:e}function om(){(jt===0||jt===3||jt===2)&&(jt=4),Dt===null||!(Cs&268435455)&&!(_d&268435455)||Po(Dt,un)}function bh(e,t){var n=ke;ke|=2;var r=QS();(Dt!==e||un!==t)&&(eo=null,vs(e,t));do try{ck();break}catch(i){qS(e,i)}while(!0);if(F0(),ke=n,yh.current=r,At!==null)throw Error(W(261));return Dt=null,un=0,jt}function ck(){for(;At!==null;)JS(At)}function hk(){for(;At!==null&&!L5();)JS(At)}function JS(e){var t=nE(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?eE(e):At=t,em.current=null}function eE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ik(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,At=null;return}}else if(n=rk(n,t,or),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);jt===0&&(jt=5)}function us(e,t,n){var r=De,i=Cr.transition;try{Cr.transition=null,De=1,dk(e,t,n,r)}finally{Cr.transition=i,De=r}return null}function dk(e,t,n,r){do Aa();while(Io!==null);if(ke&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(V5(e,o),e===Dt&&(At=Dt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,rE(nh,function(){return Aa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Cr.transition,Cr.transition=null;var s=De;De=1;var a=ke;ke|=4,em.current=null,sk(e,n),KS(n,e),IT(ng),ih=!!tg,ng=tg=null,e.current=n,ak(n),D5(),ke=a,De=s,Cr.transition=o}else e.current=n;if(fc&&(fc=!1,Io=e,wh=i),o=e.pendingLanes,o===0&&(Bo=null),H5(n.stateNode),er(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xh)throw xh=!1,e=Sg,Sg=null,e;return wh&1&&e.tag!==0&&Aa(),o=e.pendingLanes,o&1?e===Eg?Xl++:(Xl=0,Eg=e):Xl=0,ts(),null}function Aa(){if(Io!==null){var e=j2(wh),t=Cr.transition,n=De;try{if(Cr.transition=null,De=16>e?16:e,Io===null)var r=!1;else{if(e=Io,Io=null,wh=0,ke&6)throw Error(W(331));var i=ke;for(ke|=4,te=e.current;te!==null;){var o=te,s=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(te=c;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Ul(8,h,o)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var p=h.sibling,m=h.return;if(US(h),h===c){te=null;break}if(p!==null){p.return=m,te=p;break}te=m}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}te=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,te=s;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ul(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,te=y;break e}te=o.return}}var v=e.current;for(te=v;te!==null;){s=te;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,te=b;else e:for(s=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(M){mt(a,a.return,M)}if(a===s){te=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,te=C;break e}te=a.return}}if(ke=i,ts(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(md,e)}catch{}r=!0}return r}finally{De=n,Cr.transition=t}}return!1}function iy(e,t,n){t=Fa(n,t),t=OS(e,t,1),e=No(e,t,1),t=bn(),e!==null&&(Pu(e,1,t),er(e,t))}function mt(e,t,n){if(e.tag===3)iy(e,e,n);else for(;t!==null;){if(t.tag===3){iy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bo===null||!Bo.has(r))){e=Fa(n,e),e=RS(t,e,1),t=No(t,e,1),e=bn(),t!==null&&(Pu(t,1,e),er(t,e));break}}t=t.return}}function fk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(un&n)===n&&(jt===4||jt===3&&(un&130023424)===un&&500>xt()-nm?vs(e,0):tm|=n),er(e,t)}function tE(e,t){t===0&&(e.mode&1?(t=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):t=1);var n=bn();e=co(e,t),e!==null&&(Pu(e,t,n),er(e,n))}function pk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tE(e,n)}function gk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),tE(e,n)}var nE;nE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qn.current)qn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qn=!1,nk(e,t,n);qn=!!(e.flags&131072)}else qn=!1,qe&&t.flags&1048576&&oS(t,hh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fc(e,t),e=t.pendingProps;var i=Da(t,vn.current);Pa(t,n),i=Y0(null,t,r,e,i,n);var o=Z0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jn(r)?(o=!0,uh(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W0(t),i.updater=Sd,t.stateNode=i,i._reactInternals=t,hg(t,r,e,n),t=pg(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&D0(t),xn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vk(r),e=xi(r,e),i){case 0:t=fg(null,t,r,e,n);break e;case 1:t=K1(null,t,r,e,n);break e;case 11:t=V1(null,t,r,e,n);break e;case 14:t=X1(null,t,r,xi(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),fg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),K1(e,t,r,i,n);case 3:e:{if(BS(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,uS(e,t),ph(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fa(Error(W(423)),t),t=Y1(e,t,r,n,i);break e}else if(r!==i){i=Fa(Error(W(424)),t),t=Y1(e,t,r,n,i);break e}else for(sr=Do(t.stateNode.containerInfo.firstChild),dr=t,qe=!0,bi=null,n=fS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){t=ho(e,t,n);break e}xn(e,t,r,n)}t=t.child}return t;case 5:return pS(t),e===null&&lg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,rg(r,i)?s=null:o!==null&&rg(r,o)&&(t.flags|=32),NS(e,t),xn(e,t,s,n),t.child;case 6:return e===null&&lg(t),null;case 13:return HS(e,t,n);case 4:return U0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ba(t,null,r,n):xn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),V1(e,t,r,i,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ge(dh,r._currentValue),r._currentValue=s,o!==null)if(Pi(o.value,s)){if(o.children===i.children&&!Qn.current){t=ho(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ao(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ug(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ug(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pa(t,n),i=_r(i),r=r(i),t.flags|=1,xn(e,t,r,n),t.child;case 14:return r=t.type,i=xi(r,t.pendingProps),i=xi(r.type,i),X1(e,t,r,i,n);case 15:return LS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),Fc(e,t),t.tag=1,Jn(r)?(e=!0,uh(t)):e=!1,Pa(t,n),hS(t,r,i),hg(t,r,i,n),pg(null,t,r,!0,e,n);case 19:return FS(e,t,n);case 22:return DS(e,t,n)}throw Error(W(156,t.tag))};function rE(e,t){return M2(e,t)}function mk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,n,r){return new mk(e,t,n,r)}function sm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vk(e){if(typeof e=="function")return sm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_0)return 11;if(e===$0)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=Er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")sm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case fa:return ys(n.children,i,o,t);case C0:s=8,i|=8;break;case Rp:return e=Er(12,n,t,i|2),e.elementType=Rp,e.lanes=o,e;case Lp:return e=Er(13,n,t,i),e.elementType=Lp,e.lanes=o,e;case Dp:return e=Er(19,n,t,i),e.elementType=Dp,e.lanes=o,e;case d2:return $d(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c2:s=10;break e;case h2:s=9;break e;case _0:s=11;break e;case $0:s=14;break e;case $o:s=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Er(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ys(e,t,n,r){return e=Er(7,e,r,t),e.lanes=n,e}function $d(e,t,n,r){return e=Er(22,e,r,t),e.elementType=d2,e.lanes=n,e.stateNode={isHidden:!1},e}function Zf(e,t,n){return e=Er(6,e,null,t),e.lanes=n,e}function qf(e,t,n){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Af(0),this.expirationTimes=Af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function am(e,t,n,r,i,o,s,a,u){return e=new yk(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Er(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(o),e}function xk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function iE(e){if(!e)return Xo;e=e._reactInternals;e:{if(Ns(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Jn(n))return rS(e,n,t)}return t}function oE(e,t,n,r,i,o,s,a,u){return e=am(n,r,!0,e,i,o,s,a,u),e.context=iE(null),n=e.current,r=bn(),i=Ho(n),o=ao(r,i),o.callback=t??null,No(n,o,i),e.current.lanes=i,Pu(e,i,r),er(e,r),e}function Td(e,t,n,r){var i=t.current,o=bn(),s=Ho(i);return n=iE(n),t.context===null?t.context=n:t.pendingContext=n,t=ao(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=No(i,t,s),e!==null&&(Ti(e,i,s,o),Nc(e,i,s)),s}function Sh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lm(e,t){oy(e,t),(e=e.alternate)&&oy(e,t)}function wk(){return null}var sE=typeof reportError=="function"?reportError:function(e){console.error(e)};function um(e){this._internalRoot=e}kd.prototype.render=um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Td(e,t,null,null)};kd.prototype.unmount=um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_s(function(){Td(null,e,null,null)}),t[uo]=null}};function kd(e){this._internalRoot=e}kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=L2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mo.length&&t!==0&&t<Mo[n].priority;n++);Mo.splice(n,0,e),n===0&&N2(e)}};function cm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sy(){}function bk(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Sh(s);o.call(c)}}var s=oE(t,r,e,0,null,!1,!1,"",sy);return e._reactRootContainer=s,e[uo]=s.current,au(e.nodeType===8?e.parentNode:e),_s(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sh(u);a.call(c)}}var u=am(e,0,!1,null,null,!1,!1,"",sy);return e._reactRootContainer=u,e[uo]=u.current,au(e.nodeType===8?e.parentNode:e),_s(function(){Td(t,u,n,r)}),u}function Pd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Sh(s);a.call(u)}}Td(t,s,e,i)}else s=bk(n,t,e,i,r);return Sh(s)}O2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Al(t.pendingLanes);n!==0&&(M0(t,n|1),er(t,xt()),!(ke&6)&&(za=xt()+500,ts()))}break;case 13:_s(function(){var r=co(e,1);if(r!==null){var i=bn();Ti(r,e,1,i)}}),lm(e,1)}};P0=function(e){if(e.tag===13){var t=co(e,134217728);if(t!==null){var n=bn();Ti(t,e,134217728,n)}lm(e,134217728)}};R2=function(e){if(e.tag===13){var t=Ho(e),n=co(e,t);if(n!==null){var r=bn();Ti(n,e,t,r)}lm(e,t)}};L2=function(){return De};D2=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Xp=function(e,t,n){switch(t){case"input":if(Hp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wd(r);if(!i)throw Error(W(90));p2(r),Hp(r,i)}}}break;case"textarea":m2(e,n);break;case"select":t=n.value,t!=null&&$a(e,!!n.multiple,t,!1)}};E2=rm;C2=_s;var Sk={usingClientEntryPoint:!1,Events:[Iu,va,wd,b2,S2,rm]},El={findFiberByHostInstance:ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ek={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T2(e),e===null?null:e.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{md=pc.inject(Ek),Ui=pc}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sk;gr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cm(t))throw Error(W(200));return xk(e,t,null,n)};gr.createRoot=function(e,t){if(!cm(e))throw Error(W(299));var n=!1,r="",i=sE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=am(e,1,!1,null,null,n,!1,r,i),e[uo]=t.current,au(e.nodeType===8?e.parentNode:e),new um(t)};gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=T2(t),e=e===null?null:e.stateNode,e};gr.flushSync=function(e){return _s(e)};gr.hydrate=function(e,t,n){if(!Md(t))throw Error(W(200));return Pd(null,e,t,!0,n)};gr.hydrateRoot=function(e,t,n){if(!cm(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=sE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=oE(t,null,e,1,n??null,i,!1,o,s),e[uo]=t.current,au(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kd(t)};gr.render=function(e,t,n){if(!Md(t))throw Error(W(200));return Pd(null,e,t,!1,n)};gr.unmountComponentAtNode=function(e){if(!Md(e))throw Error(W(40));return e._reactRootContainer?(_s(function(){Pd(null,null,e,!1,function(){e._reactRootContainer=null,e[uo]=null})}),!0):!1};gr.unstable_batchedUpdates=rm;gr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Md(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Pd(e,t,n,!1,r)};gr.version="18.2.0-next-9e3b772b8-20220608";function aE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aE)}catch(e){console.error(e)}}aE(),o2.exports=gr;var Ad=o2.exports,ay=Ad;jp.createRoot=ay.createRoot,jp.hydrateRoot=ay.hydrateRoot;var $g=function(e,t){return $g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$g(e,t)};function kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$g(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)};function Ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function lE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Si(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var uE={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,hm=Nt?Symbol.for("react.element"):60103,dm=Nt?Symbol.for("react.portal"):60106,Id=Nt?Symbol.for("react.fragment"):60107,jd=Nt?Symbol.for("react.strict_mode"):60108,Od=Nt?Symbol.for("react.profiler"):60114,Rd=Nt?Symbol.for("react.provider"):60109,Ld=Nt?Symbol.for("react.context"):60110,fm=Nt?Symbol.for("react.async_mode"):60111,Dd=Nt?Symbol.for("react.concurrent_mode"):60111,Nd=Nt?Symbol.for("react.forward_ref"):60112,Bd=Nt?Symbol.for("react.suspense"):60113,Ck=Nt?Symbol.for("react.suspense_list"):60120,Hd=Nt?Symbol.for("react.memo"):60115,Fd=Nt?Symbol.for("react.lazy"):60116,_k=Nt?Symbol.for("react.block"):60121,$k=Nt?Symbol.for("react.fundamental"):60117,Tk=Nt?Symbol.for("react.responder"):60118,kk=Nt?Symbol.for("react.scope"):60119;function vr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hm:switch(e=e.type,e){case fm:case Dd:case Id:case Od:case jd:case Bd:return e;default:switch(e=e&&e.$$typeof,e){case Ld:case Nd:case Fd:case Hd:case Rd:return e;default:return t}}case dm:return t}}}function cE(e){return vr(e)===Dd}Ne.AsyncMode=fm;Ne.ConcurrentMode=Dd;Ne.ContextConsumer=Ld;Ne.ContextProvider=Rd;Ne.Element=hm;Ne.ForwardRef=Nd;Ne.Fragment=Id;Ne.Lazy=Fd;Ne.Memo=Hd;Ne.Portal=dm;Ne.Profiler=Od;Ne.StrictMode=jd;Ne.Suspense=Bd;Ne.isAsyncMode=function(e){return cE(e)||vr(e)===fm};Ne.isConcurrentMode=cE;Ne.isContextConsumer=function(e){return vr(e)===Ld};Ne.isContextProvider=function(e){return vr(e)===Rd};Ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hm};Ne.isForwardRef=function(e){return vr(e)===Nd};Ne.isFragment=function(e){return vr(e)===Id};Ne.isLazy=function(e){return vr(e)===Fd};Ne.isMemo=function(e){return vr(e)===Hd};Ne.isPortal=function(e){return vr(e)===dm};Ne.isProfiler=function(e){return vr(e)===Od};Ne.isStrictMode=function(e){return vr(e)===jd};Ne.isSuspense=function(e){return vr(e)===Bd};Ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Id||e===Dd||e===Od||e===jd||e===Bd||e===Ck||typeof e=="object"&&e!==null&&(e.$$typeof===Fd||e.$$typeof===Hd||e.$$typeof===Rd||e.$$typeof===Ld||e.$$typeof===Nd||e.$$typeof===$k||e.$$typeof===Tk||e.$$typeof===kk||e.$$typeof===_k)};Ne.typeOf=vr;uE.exports=Ne;var Mk=uE.exports,hE=Mk,Pk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ak={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dE={};dE[hE.ForwardRef]=Pk;dE[hE.Memo]=Ak;function fE(e,t,n){if(n===void 0&&(n=Error),!e)throw new n(t)}var _e;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(_e||(_e={}));var Xe;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(Xe||(Xe={}));var Wa;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Wa||(Wa={}));function ly(e){return e.type===Xe.literal}function Ik(e){return e.type===Xe.argument}function pE(e){return e.type===Xe.number}function gE(e){return e.type===Xe.date}function mE(e){return e.type===Xe.time}function vE(e){return e.type===Xe.select}function yE(e){return e.type===Xe.plural}function jk(e){return e.type===Xe.pound}function xE(e){return e.type===Xe.tag}function wE(e){return!!(e&&typeof e=="object"&&e.type===Wa.number)}function Tg(e){return!!(e&&typeof e=="object"&&e.type===Wa.dateTime)}var bE=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ok=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Rk(e){var t={};return e.replace(Ok,function(n){var r=n.length;switch(n[0]){case"G":t.era=r===4?"long":r===5?"narrow":"short";break;case"y":t.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var Lk=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Dk(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(Lk).filter(function(p){return p.length>0}),n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=o.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var a=s[0],u=s.slice(1),c=0,h=u;c<h.length;c++){var f=h[c];if(f.length===0)throw new Error("Invalid number skeleton")}n.push({stem:a,options:u})}return n}function Nk(e){return e.replace(/^(.*?)-/,"")}var uy=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,SE=/^(@+)?(\+|#+)?[rs]?$/g,Bk=/(\*)(0+)|(#+)(0+)|(0+)/g,EE=/^(0+)$/;function cy(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(SE,function(n,r,i){return typeof i!="string"?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):i==="+"?t.minimumSignificantDigits=r.length:r[0]==="#"?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),t}function CE(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Hk(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if(n==="+!"?(t.signDisplay="always",e=e.slice(2)):n==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!EE.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function hy(e){var t={},n=CE(e);return n||t}function Fk(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=Nk(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ie(ie(ie({},t),{notation:"scientific"}),i.options.reduce(function(u,c){return ie(ie({},u),hy(c))},{}));continue;case"engineering":t=ie(ie(ie({},t),{notation:"engineering"}),i.options.reduce(function(u,c){return ie(ie({},u),hy(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Bk,function(u,c,h,f,p,m){if(c)t.minimumIntegerDigits=h.length;else{if(f&&p)throw new Error("We currently do not support maximum integer digits");if(m)throw new Error("We currently do not support exact integer digits")}return""});continue}if(EE.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(uy.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(uy,function(u,c,h,f,p,m){return h==="*"?t.minimumFractionDigits=c.length:f&&f[0]==="#"?t.maximumFractionDigits=f.length:p&&m?(t.minimumFractionDigits=p.length,t.maximumFractionDigits=p.length+m.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var o=i.options[0];o==="w"?t=ie(ie({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=ie(ie({},t),cy(o)));continue}if(SE.test(i.stem)){t=ie(ie({},t),cy(i.stem));continue}var s=CE(i.stem);s&&(t=ie(ie({},t),s));var a=Hk(i.stem);a&&(t=ie(ie({},t),a))}return t}var gc={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function zk(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if(i==="j"){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var s=1+(o&1),a=o<2?1:3+(o>>1),u="a",c=Gk(t);for((c=="H"||c=="k")&&(a=0);a-- >0;)n+=u;for(;s-- >0;)n=c+n}else i==="J"?n+="H":n+=i}return n}function Gk(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r;n!=="root"&&(r=e.maximize().region);var i=gc[r||""]||gc[n||""]||gc["".concat(n,"-001")]||gc["001"];return i[0]}var Qf,Wk=new RegExp("^".concat(bE.source,"*")),Uk=new RegExp("".concat(bE.source,"*$"));function Te(e,t){return{start:e,end:t}}var Vk=!!String.prototype.startsWith,Xk=!!String.fromCodePoint,Kk=!!Object.fromEntries,Yk=!!String.prototype.codePointAt,Zk=!!String.prototype.trimStart,qk=!!String.prototype.trimEnd,Qk=!!Number.isSafeInteger,Jk=Qk?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},kg=!0;try{var eM=$E("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");kg=((Qf=eM.exec("a"))===null||Qf===void 0?void 0:Qf[0])==="a"}catch{kg=!1}var dy=Vk?function(t,n,r){return t.startsWith(n,r)}:function(t,n,r){return t.slice(r,r+n.length)===n},Mg=Xk?String.fromCodePoint:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=t.length,o=0,s;i>o;){if(s=t[o++],s>1114111)throw RangeError(s+" is not a valid code point");r+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return r},fy=Kk?Object.fromEntries:function(t){for(var n={},r=0,i=t;r<i.length;r++){var o=i[r],s=o[0],a=o[1];n[s]=a}return n},_E=Yk?function(t,n){return t.codePointAt(n)}:function(t,n){var r=t.length;if(!(n<0||n>=r)){var i=t.charCodeAt(n),o;return i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},tM=Zk?function(t){return t.trimStart()}:function(t){return t.replace(Wk,"")},nM=qk?function(t){return t.trimEnd()}:function(t){return t.replace(Uk,"")};function $E(e,t){return new RegExp(e,t)}var Pg;if(kg){var py=$E("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Pg=function(t,n){var r;py.lastIndex=n;var i=py.exec(t);return(r=i[1])!==null&&r!==void 0?r:""}}else Pg=function(t,n){for(var r=[];;){var i=_E(t,n);if(i===void 0||TE(i)||sM(i))break;r.push(i),n+=i>=65536?2:1}return Mg.apply(void 0,r)};var rM=function(){function e(t,n){n===void 0&&(n={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,n,r){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var s=this.parseArgument(t,r);if(s.err)return s;i.push(s.val)}else{if(o===125&&t>0)break;if(o===35&&(n==="plural"||n==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:Xe.pound,location:Te(a,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(_e.UNMATCHED_CLOSING_TAG,Te(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&Ag(this.peek()||0)){var s=this.parseTag(t,n);if(s.err)return s;i.push(s.val)}else{var s=this.parseLiteral(t,n);if(s.err)return s;i.push(s.val)}}}return{val:i,err:null}},e.prototype.parseTag=function(t,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Xe.literal,value:"<".concat(i,"/>"),location:Te(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(t+1,n,!0);if(o.err)return o;var s=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ag(this.char()))return this.error(_e.INVALID_TAG,Te(a,this.clonePosition()));var u=this.clonePosition(),c=this.parseTagName();return i!==c?this.error(_e.UNMATCHED_CLOSING_TAG,Te(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Xe.tag,value:i,children:s,location:Te(r,this.clonePosition())},err:null}:this.error(_e.INVALID_TAG,Te(a,this.clonePosition())))}else return this.error(_e.UNCLOSED_TAG,Te(r,this.clonePosition()))}else return this.error(_e.INVALID_TAG,Te(r,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&oM(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,n){for(var r=this.clonePosition(),i="";;){var o=this.tryParseQuote(n);if(o){i+=o;continue}var s=this.tryParseUnquoted(t,n);if(s){i+=s;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var u=Te(r,this.clonePosition());return{val:{type:Xe.literal,value:i,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!iM(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return Mg.apply(void 0,n)},e.prototype.tryParseUnquoted=function(t,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&t>0?null:(this.bump(),Mg(r))},e.prototype.parseArgument=function(t,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Te(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(_e.EMPTY_ARGUMENT,Te(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(_e.MALFORMED_ARGUMENT,Te(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Te(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Xe.argument,value:i,location:Te(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Te(r,this.clonePosition())):this.parseArgumentOptions(t,n,i,r);default:return this.error(_e.MALFORMED_ARGUMENT,Te(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),n=this.offset(),r=Pg(this.message,n),i=n+r.length;this.bumpTo(i);var o=this.clonePosition(),s=Te(t,o);return{value:r,location:s}},e.prototype.parseArgumentOptions=function(t,n,r,i){var o,s=this.clonePosition(),a=this.parseIdentifierIfPossible().value,u=this.clonePosition();switch(a){case"":return this.error(_e.EXPECT_ARGUMENT_TYPE,Te(s,u));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition(),f=this.parseSimpleArgStyleIfPossible();if(f.err)return f;var p=nM(f.val);if(p.length===0)return this.error(_e.EXPECT_ARGUMENT_STYLE,Te(this.clonePosition(),this.clonePosition()));var m=Te(h,this.clonePosition());c={style:p,styleLocation:m}}var w=this.tryParseArgumentClose(i);if(w.err)return w;var x=Te(i,this.clonePosition());if(c&&dy(c==null?void 0:c.style,"::",0)){var _=tM(c.style.slice(2));if(a==="number"){var f=this.parseNumberSkeletonFromString(_,c.styleLocation);return f.err?f:{val:{type:Xe.number,value:r,location:x,style:f.val},err:null}}else{if(_.length===0)return this.error(_e.EXPECT_DATE_TIME_SKELETON,x);var y=_;this.locale&&(y=zk(_,this.locale));var p={type:Wa.dateTime,pattern:y,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?Rk(y):{}},v=a==="date"?Xe.date:Xe.time;return{val:{type:v,value:r,location:x,style:p},err:null}}}return{val:{type:a==="number"?Xe.number:a==="date"?Xe.date:Xe.time,value:r,location:x,style:(o=c==null?void 0:c.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var b=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(_e.EXPECT_SELECT_ARGUMENT_OPTIONS,Te(b,ie({},b)));this.bumpSpace();var C=this.parseIdentifierIfPossible(),M=0;if(a!=="select"&&C.value==="offset"){if(!this.bumpIf(":"))return this.error(_e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Te(this.clonePosition(),this.clonePosition()));this.bumpSpace();var f=this.tryParseDecimalInteger(_e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,_e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(f.err)return f;this.bumpSpace(),C=this.parseIdentifierIfPossible(),M=f.val}var T=this.tryParsePluralOrSelectOptions(t,a,n,C);if(T.err)return T;var w=this.tryParseArgumentClose(i);if(w.err)return w;var P=Te(i,this.clonePosition());return a==="select"?{val:{type:Xe.select,value:r,options:fy(T.val),location:P},err:null}:{val:{type:Xe.plural,value:r,options:fy(T.val),offset:M,pluralType:a==="plural"?"cardinal":"ordinal",location:P},err:null}}default:return this.error(_e.INVALID_ARGUMENT_TYPE,Te(s,u))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Te(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(_e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Te(i,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,n){var r=[];try{r=Dk(t)}catch{return this.error(_e.INVALID_NUMBER_SKELETON,n)}return{val:{type:Wa.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?Fk(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,n,r,i){for(var o,s=!1,a=[],u=new Set,c=i.value,h=i.location;;){if(c.length===0){var f=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var p=this.tryParseDecimalInteger(_e.EXPECT_PLURAL_ARGUMENT_SELECTOR,_e.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;h=Te(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}else break}if(u.has(c))return this.error(n==="select"?_e.DUPLICATE_SELECT_ARGUMENT_SELECTOR:_e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,h);c==="other"&&(s=!0),this.bumpSpace();var m=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?_e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:_e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Te(this.clonePosition(),this.clonePosition()));var w=this.parseMessage(t+1,n,r);if(w.err)return w;var x=this.tryParseArgumentClose(m);if(x.err)return x;a.push([c,{value:w.val,location:Te(m,this.clonePosition())}]),u.add(c),this.bumpSpace(),o=this.parseIdentifierIfPossible(),c=o.value,h=o.location}return a.length===0?this.error(n==="select"?_e.EXPECT_SELECT_ARGUMENT_SELECTOR:_e.EXPECT_PLURAL_ARGUMENT_SELECTOR,Te(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(_e.MISSING_OTHER_CLAUSE,Te(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(t,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,s=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)o=!0,s=s*10+(a-48),this.bump();else break}var u=Te(i,this.clonePosition());return o?(s*=r,Jk(s)?{val:s,err:null}:this.error(n,u)):this.error(t,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var n=_E(this.message,t);if(n===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return n},e.prototype.error=function(t,n){return{val:null,err:{kind:t,message:this.message,location:n}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(dy(this.message,t,this.offset())){for(var n=0;n<t.length;n++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var n=this.offset(),r=this.message.indexOf(t,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var n=this.offset();if(n===t)break;if(n>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&TE(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(t>=65536?2:1));return r??null},e}();function Ag(e){return e>=97&&e<=122||e>=65&&e<=90}function iM(e){return Ag(e)||e===47}function oM(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function TE(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function sM(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function Ig(e){e.forEach(function(t){if(delete t.location,vE(t)||yE(t))for(var n in t.options)delete t.options[n].location,Ig(t.options[n].value);else pE(t)&&wE(t.style)||(gE(t)||mE(t))&&Tg(t.style)?delete t.style.location:xE(t)&&Ig(t.children)})}function aM(e,t){t===void 0&&(t={}),t=ie({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new rM(e,t).parse();if(n.err){var r=SyntaxError(_e[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return t!=null&&t.captureLocation||Ig(n.val),n.val}function Fi(e,t){var n=t&&t.cache?t.cache:fM,r=t&&t.serializer?t.serializer:dM,i=t&&t.strategy?t.strategy:uM;return i(e,{cache:n,serializer:r})}function lM(e){return e==null||typeof e=="number"||typeof e=="boolean"}function kE(e,t,n,r){var i=lM(r)?r:n(r),o=t.get(i);return typeof o>"u"&&(o=e.call(this,r),t.set(i,o)),o}function ME(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return typeof o>"u"&&(o=e.apply(this,r),t.set(i,o)),o}function pm(e,t,n,r,i){return n.bind(t,e,r,i)}function uM(e,t){var n=e.length===1?kE:ME;return pm(e,this,n,t.cache.create(),t.serializer)}function cM(e,t){return pm(e,this,ME,t.cache.create(),t.serializer)}function hM(e,t){return pm(e,this,kE,t.cache.create(),t.serializer)}var dM=function(){return JSON.stringify(arguments)};function gm(){this.cache=Object.create(null)}gm.prototype.get=function(e){return this.cache[e]};gm.prototype.set=function(e,t){this.cache[e]=t};var fM={create:function(){return new gm}},zi={variadic:cM,monadic:hM},Zi;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Zi||(Zi={}));var ns=function(e){kr(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.code=r,o.originalMessage=i,o}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),gy=function(e){kr(t,e);function t(n,r,i,o){return e.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),Zi.INVALID_VALUE,o)||this}return t}(ns),pM=function(e){kr(t,e);function t(n,r,i){return e.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),Zi.INVALID_VALUE,i)||this}return t}(ns),gM=function(e){kr(t,e);function t(n,r){return e.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),Zi.MISSING_VALUE,r)||this}return t}(ns),yn;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(yn||(yn={}));function mM(e){return e.length<2?e:e.reduce(function(t,n){var r=t[t.length-1];return!r||r.type!==yn.literal||n.type!==yn.literal?t.push(n):r.value+=n.value,t},[])}function PE(e){return typeof e=="function"}function Uc(e,t,n,r,i,o,s){if(e.length===1&&ly(e[0]))return[{type:yn.literal,value:e[0].value}];for(var a=[],u=0,c=e;u<c.length;u++){var h=c[u];if(ly(h)){a.push({type:yn.literal,value:h.value});continue}if(jk(h)){typeof o=="number"&&a.push({type:yn.literal,value:n.getNumberFormat(t).format(o)});continue}var f=h.value;if(!(i&&f in i))throw new gM(f,s);var p=i[f];if(Ik(h)){(!p||typeof p=="string"||typeof p=="number")&&(p=typeof p=="string"||typeof p=="number"?String(p):""),a.push({type:typeof p=="string"?yn.literal:yn.object,value:p});continue}if(gE(h)){var m=typeof h.style=="string"?r.date[h.style]:Tg(h.style)?h.style.parsedOptions:void 0;a.push({type:yn.literal,value:n.getDateTimeFormat(t,m).format(p)});continue}if(mE(h)){var m=typeof h.style=="string"?r.time[h.style]:Tg(h.style)?h.style.parsedOptions:r.time.medium;a.push({type:yn.literal,value:n.getDateTimeFormat(t,m).format(p)});continue}if(pE(h)){var m=typeof h.style=="string"?r.number[h.style]:wE(h.style)?h.style.parsedOptions:void 0;m&&m.scale&&(p=p*(m.scale||1)),a.push({type:yn.literal,value:n.getNumberFormat(t,m).format(p)});continue}if(xE(h)){var w=h.children,x=h.value,_=i[x];if(!PE(_))throw new pM(x,"function",s);var y=Uc(w,t,n,r,i,o),v=_(y.map(function(M){return M.value}));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map(function(M){return{type:typeof M=="string"?yn.literal:yn.object,value:M}}))}if(vE(h)){var b=h.options[p]||h.options.other;if(!b)throw new gy(h.value,p,Object.keys(h.options),s);a.push.apply(a,Uc(b.value,t,n,r,i));continue}if(yE(h)){var b=h.options["=".concat(p)];if(!b){if(!Intl.PluralRules)throw new ns(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Zi.MISSING_INTL_API,s);var C=n.getPluralRules(t,{type:h.pluralType}).select(p-(h.offset||0));b=h.options[C]||h.options.other}if(!b)throw new gy(h.value,p,Object.keys(h.options),s);a.push.apply(a,Uc(b.value,t,n,r,i,p-(h.offset||0)));continue}}return mM(a)}function vM(e,t){return t?ie(ie(ie({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=ie(ie({},e[r]),t[r]||{}),n},{})):e}function yM(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=vM(e[r],t[r]),n},ie({},e)):e}function Jf(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function xM(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Fi(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,Si([void 0],n,!1)))},{cache:Jf(e.number),strategy:zi.variadic}),getDateTimeFormat:Fi(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,Si([void 0],n,!1)))},{cache:Jf(e.dateTime),strategy:zi.variadic}),getPluralRules:Fi(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,Si([void 0],n,!1)))},{cache:Jf(e.pluralRules),strategy:zi.variadic})}}var AE=function(){function e(t,n,r,i){n===void 0&&(n=e.defaultLocale);var o=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(u){var c=o.formatToParts(u);if(c.length===1)return c[0].value;var h=c.reduce(function(f,p){return!f.length||p.type!==yn.literal||typeof f[f.length-1]!="string"?f.push(p.value):f[f.length-1]+=p.value,f},[]);return h.length<=1?h[0]||"":h},this.formatToParts=function(u){return Uc(o.ast,o.locales,o.formatters,o.formats,u,void 0,o.message)},this.resolvedOptions=function(){var u;return{locale:((u=o.resolvedLocale)===null||u===void 0?void 0:u.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=i||{};s.formatters;var a=Ga(s,["formatters"]);this.ast=e.__parse(t,ie(ie({},a),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=yM(e.formats,r),this.formatters=i&&i.formatters||xM(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(t);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=aM,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),$s;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})($s||($s={}));var Ou=function(e){kr(t,e);function t(n,r,i){var o=this,s=i?i instanceof Error?i:new Error(String(i)):void 0;return o=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,o.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(o,t),o}return t}(Error),wM=function(e){kr(t,e);function t(n,r){return e.call(this,$s.UNSUPPORTED_FORMATTER,n,r)||this}return t}(Ou),bM=function(e){kr(t,e);function t(n,r){return e.call(this,$s.INVALID_CONFIG,n,r)||this}return t}(Ou),my=function(e){kr(t,e);function t(n,r){return e.call(this,$s.MISSING_DATA,n,r)||this}return t}(Ou),Mr=function(e){kr(t,e);function t(n,r,i){var o=e.call(this,$s.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(r,`
`),i)||this;return o.locale=r,o}return t}(Ou),ep=function(e){kr(t,e);function t(n,r,i,o){var s=e.call(this,"".concat(n,`
MessageID: `).concat(i==null?void 0:i.id,`
Default Message: `).concat(i==null?void 0:i.defaultMessage,`
Description: `).concat(i==null?void 0:i.description,`
`),r,o)||this;return s.descriptor=i,s.locale=r,s}return t}(Mr),SM=function(e){kr(t,e);function t(n,r){var i=e.call(this,$s.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(r,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(o){var s;return(s=o.value)!==null&&s!==void 0?s:JSON.stringify(o)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=n,i}return t}(Ou);function Bs(e,t,n){return n===void 0&&(n={}),t.reduce(function(r,i){return i in e?r[i]=e[i]:i in n&&(r[i]=n[i]),r},{})}var EM=function(e){},CM=function(e){},IE={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:EM,onWarn:CM};function jE(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function os(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function _M(e){e===void 0&&(e=jE());var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=Fi(function(){for(var a,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new((a=Intl.DateTimeFormat).bind.apply(a,Si([void 0],u,!1)))},{cache:os(e.dateTime),strategy:zi.variadic}),o=Fi(function(){for(var a,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new((a=Intl.NumberFormat).bind.apply(a,Si([void 0],u,!1)))},{cache:os(e.number),strategy:zi.variadic}),s=Fi(function(){for(var a,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new((a=Intl.PluralRules).bind.apply(a,Si([void 0],u,!1)))},{cache:os(e.pluralRules),strategy:zi.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:Fi(function(a,u,c,h){return new AE(a,u,c,ie({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:s}},h||{}))},{cache:os(e.message),strategy:zi.variadic}),getRelativeTimeFormat:Fi(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return new(t.bind.apply(t,Si([void 0],a,!1)))},{cache:os(e.relativeTime),strategy:zi.variadic}),getPluralRules:s,getListFormat:Fi(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return new(n.bind.apply(n,Si([void 0],a,!1)))},{cache:os(e.list),strategy:zi.variadic}),getDisplayNames:Fi(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return new(r.bind.apply(r,Si([void 0],a,!1)))},{cache:os(e.displayNames),strategy:zi.variadic})}}function mm(e,t,n,r){var i=e&&e[t],o;if(i&&(o=i[n]),o)return o;r(new wM("No ".concat(t," format named: ").concat(n)))}function mc(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=ie({timeZone:t},e[r]),n},{})}function vy(e,t){var n=Object.keys(ie(ie({},e),t));return n.reduce(function(r,i){return r[i]=ie(ie({},e[i]||{}),t[i]||{}),r},{})}function yy(e,t){if(!t)return e;var n=AE.formats;return ie(ie(ie({},n),e),{date:vy(mc(n.date,t),mc(e.date||{},t)),time:vy(mc(n.time,t),mc(e.time||{},t))})}var jg=function(e,t,n,r,i){var o=e.locale,s=e.formats,a=e.messages,u=e.defaultLocale,c=e.defaultFormats,h=e.fallbackOnEmptyString,f=e.onError,p=e.timeZone,m=e.defaultRichTextElements;n===void 0&&(n={id:""});var w=n.id,x=n.defaultMessage;fE(!!w,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var _=String(w),y=a&&Object.prototype.hasOwnProperty.call(a,_)&&a[_];if(Array.isArray(y)&&y.length===1&&y[0].type===Xe.literal)return y[0].value;if(!r&&y&&typeof y=="string"&&!m)return y.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=ie(ie({},m),r||{}),s=yy(s,p),c=yy(c,p),!y){if(h===!1&&y==="")return y;if((!x||o&&o.toLowerCase()!==u.toLowerCase())&&f(new SM(n,o)),x)try{var v=t.getMessageFormat(x,u,c,i);return v.format(r)}catch(b){return f(new ep('Error formatting default message for: "'.concat(_,'", rendering default message verbatim'),o,n,b)),typeof x=="string"?x:_}return _}try{var v=t.getMessageFormat(y,o,s,ie({formatters:t},i||{}));return v.format(r)}catch(b){f(new ep('Error formatting message: "'.concat(_,'", using ').concat(x?"default message":"id"," as fallback."),o,n,b))}if(x)try{var v=t.getMessageFormat(x,u,c,i);return v.format(r)}catch(b){f(new ep('Error formatting the default message for: "'.concat(_,'", rendering message verbatim'),o,n,b))}return typeof y=="string"?y:typeof x=="string"?x:_},OE=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function zd(e,t,n,r){var i=e.locale,o=e.formats,s=e.onError,a=e.timeZone;r===void 0&&(r={});var u=r.format,c=ie(ie({},a&&{timeZone:a}),u&&mm(o,t,u,s)),h=Bs(r,OE,c);return t==="time"&&!h.hour&&!h.minute&&!h.second&&!h.timeStyle&&!h.dateStyle&&(h=ie(ie({},h),{hour:"numeric",minute:"numeric"})),n(i,h)}function $M(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return zd(e,"date",t,s).format(a)}catch(u){e.onError(new Mr("Error formatting date.",e.locale,u))}return String(a)}function TM(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return zd(e,"time",t,s).format(a)}catch(u){e.onError(new Mr("Error formatting time.",e.locale,u))}return String(a)}function kM(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=n[2],a=s===void 0?{}:s,u=e.timeZone,c=e.locale,h=e.onError,f=Bs(a,OE,u?{timeZone:u}:{});try{return t(c,f).formatRange(i,o)}catch(p){h(new Mr("Error formatting date time range.",e.locale,p))}return String(i)}function MM(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return zd(e,"date",t,s).formatToParts(a)}catch(u){e.onError(new Mr("Error formatting date.",e.locale,u))}return[]}function PM(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return zd(e,"time",t,s).formatToParts(a)}catch(u){e.onError(new Mr("Error formatting time.",e.locale,u))}return[]}var AM=["style","type","fallback","languageDisplay"];function IM(e,t,n,r){var i=e.locale,o=e.onError,s=Intl.DisplayNames;s||o(new ns(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Zi.MISSING_INTL_API));var a=Bs(r,AM);try{return t(i,a).of(n)}catch(u){o(new Mr("Error formatting display name.",i,u))}}var jM=["type","style"],xy=Date.now();function OM(e){return"".concat(xy,"_").concat(e,"_").concat(xy)}function RM(e,t,n,r){r===void 0&&(r={});var i=RE(e,t,n,r).reduce(function(o,s){var a=s.value;return typeof a!="string"?o.push(a):typeof o[o.length-1]=="string"?o[o.length-1]+=a:o.push(a),o},[]);return i.length===1?i[0]:i.length===0?"":i}function RE(e,t,n,r){var i=e.locale,o=e.onError;r===void 0&&(r={});var s=Intl.ListFormat;s||o(new ns(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Zi.MISSING_INTL_API));var a=Bs(r,jM);try{var u={},c=n.map(function(h,f){if(typeof h=="object"){var p=OM(f);return u[p]=h,p}return String(h)});return t(i,a).formatToParts(c).map(function(h){return h.type==="literal"?h:ie(ie({},h),{value:u[h.value]||h.value})})}catch(h){o(new Mr("Error formatting list.",i,h))}return n}var LM=["type"];function DM(e,t,n,r){var i=e.locale,o=e.onError;r===void 0&&(r={}),Intl.PluralRules||o(new ns(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Zi.MISSING_INTL_API));var s=Bs(r,LM);try{return t(i,s).select(n)}catch(a){o(new Mr("Error formatting plural.",i,a))}return"other"}var NM=["numeric","style"];function BM(e,t,n){var r=e.locale,i=e.formats,o=e.onError;n===void 0&&(n={});var s=n.format,a=!!s&&mm(i,"relative",s,o)||{},u=Bs(n,NM,a);return t(r,u)}function HM(e,t,n,r,i){i===void 0&&(i={}),r||(r="second");var o=Intl.RelativeTimeFormat;o||e.onError(new ns(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Zi.MISSING_INTL_API));try{return BM(e,t,i).format(n,r)}catch(s){e.onError(new Mr("Error formatting relative time.",e.locale,s))}return String(n)}var FM=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function LE(e,t,n){var r=e.locale,i=e.formats,o=e.onError;n===void 0&&(n={});var s=n.format,a=s&&mm(i,"number",s,o)||{},u=Bs(n,FM,a);return t(r,u)}function zM(e,t,n,r){r===void 0&&(r={});try{return LE(e,t,r).format(n)}catch(i){e.onError(new Mr("Error formatting number.",e.locale,i))}return String(n)}function GM(e,t,n,r){r===void 0&&(r={});try{return LE(e,t,r).formatToParts(n)}catch(i){e.onError(new Mr("Error formatting number.",e.locale,i))}return[]}function WM(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function UM(e){e.onWarn&&e.defaultRichTextElements&&WM(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function VM(e,t){var n=_M(t),r=ie(ie({},IE),e),i=r.locale,o=r.defaultLocale,s=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&s?s(new my('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&s&&s(new my('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new bM('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),UM(r),ie(ie({},r),{formatters:n,formatNumber:zM.bind(null,r,n.getNumberFormat),formatNumberToParts:GM.bind(null,r,n.getNumberFormat),formatRelativeTime:HM.bind(null,r,n.getRelativeTimeFormat),formatDate:$M.bind(null,r,n.getDateTimeFormat),formatDateToParts:MM.bind(null,r,n.getDateTimeFormat),formatTime:TM.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:kM.bind(null,r,n.getDateTimeFormat),formatTimeToParts:PM.bind(null,r,n.getDateTimeFormat),formatPlural:DM.bind(null,r,n.getPluralRules),formatMessage:jg.bind(null,r,n),$t:jg.bind(null,r,n),formatList:RM.bind(null,r,n.getListFormat),formatListToParts:RE.bind(null,r,n.getListFormat),formatDisplayName:IM.bind(null,r,n.getDisplayNames)})}function DE(e){fE(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var NE=ie(ie({},IE),{textComponent:A.Fragment});function XM(e){return function(t){return e(A.Children.toArray(t))}}function Og(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var s=n[o];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var vm=typeof window<"u"?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=A.createContext(null)):A.createContext(null);vm.Consumer;var KM=vm.Provider,YM=KM,ZM=vm;function Qi(){var e=A.useContext(ZM);return DE(e),e}var Rg;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(Rg||(Rg={}));var Lg;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(Lg||(Lg={}));function BE(e){var t=function(n){var r=Qi(),i=n.value,o=n.children,s=Ga(n,["value","children"]),a=typeof i=="string"?new Date(i||0):i,u=e==="formatDate"?r.formatDateToParts(a,s):r.formatTimeToParts(a,s);return o(u)};return t.displayName=Lg[e],t}function Ru(e){var t=function(n){var r=Qi(),i=n.value,o=n.children,s=Ga(n,["value","children"]),a=r[e](i,s);if(typeof o=="function")return o(a);var u=r.textComponent||A.Fragment;return A.createElement(u,null,a)};return t.displayName=Rg[e],t}function tp(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function HE(e){return e&&Object.keys(e).reduce(function(t,n){var r=e[n];return t[n]=PE(r)?XM(r):r,t},{})}var wy=function(e,t,n,r){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var s=HE(r),a=jg.apply(void 0,Si([e,t,n,s],i,!1));return Array.isArray(a)?A.Children.toArray(a):a},by=function(e,t){var n=e.defaultRichTextElements,r=Ga(e,["defaultRichTextElements"]),i=HE(n),o=VM(ie(ie(ie({},NE),r),{defaultRichTextElements:i}),t),s={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i};return ie(ie({},o),{formatMessage:wy.bind(null,s,o.formatters),$t:wy.bind(null,s,o.formatters)})},qM=function(e){kr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cache=jE(),n.state={cache:n.cache,intl:by(tp(n.props),n.cache),prevConfig:tp(n.props)},n}return t.getDerivedStateFromProps=function(n,r){var i=r.prevConfig,o=r.cache,s=tp(n);return Og(i,s)?null:{intl:by(s,o),prevConfig:s}},t.prototype.render=function(){return DE(this.state.intl),A.createElement(YM,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=NE,t}(A.PureComponent);const QM=qM;function JM(e,t){var n=e.values,r=Ga(e,["values"]),i=t.values,o=Ga(t,["values"]);return Og(i,n)&&Og(r,o)}function FE(e){var t=Qi(),n=t.formatMessage,r=t.textComponent,i=r===void 0?A.Fragment:r,o=e.id,s=e.description,a=e.defaultMessage,u=e.values,c=e.children,h=e.tagName,f=h===void 0?i:h,p=e.ignoreTag,m={id:o,description:s,defaultMessage:a},w=n(m,u,{ignoreTag:p});return typeof c=="function"?c(Array.isArray(w)?w:[w]):f?A.createElement(f,null,A.Children.toArray(w)):A.createElement(A.Fragment,null,w)}FE.displayName="FormattedMessage";var zE=A.memo(FE,JM);zE.displayName="MemoizedFormattedMessage";const lt=zE;Ru("formatDate");Ru("formatTime");Ru("formatNumber");Ru("formatList");Ru("formatDisplayName");BE("formatDate");BE("formatTime");var eP=Object.defineProperty,tP=(e,t,n)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nP=(e,t,n)=>(tP(e,typeof t!="symbol"?t+"":t,n),n);const rP=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},Sy=(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},iP=(e,t)=>{const n=[];for(let r=e.length-1;r>=0;r--)n.push(t(e[r],r));return n},oP=({r:e,g:t,b:n,a:r})=>`rgba(${e},${t},${n},${r})`,GE=e=>{e=e.toUpperCase();const t=e.match(/[0-9A-F]{1,6}/);return t?(e=t[0],e.length===6?e:((e.length===4||e.length===5)&&(e=e.slice(0,3)),e.length===3?e.split("").map(n=>n+n).join(""):e.padEnd(6,e))):""},sP=e=>{const{r:t,g:n,b:r}=e;return(t<<16|n<<8|r).toString(16).toUpperCase().padStart(6,"0")},aP=e=>{if(e=GE(e),!e)return null;const t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return{r:t,g:n,b:r}},lP=[];for(let e=0;e<256;++e)lP.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ym=(e,t=2)=>Number(e.toFixed(t)),uP=(e,t=2)=>{if(!e)return NaN;const n=Number(e);return Number.isNaN(n)?NaN:ym(n,t)},gt=()=>navigator.platform.toLowerCase().includes("win")||navigator.userAgent.includes("Windows");let cP=class{constructor(){nP(this,"eventMap",{})}on(t,n){return this.eventMap[t]||(this.eventMap[t]=[]),this.eventMap[t].push(n),this}emit(t,...n){const r=this.eventMap[t];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(t,n){return this.eventMap[t]&&(this.eventMap[t]=this.eventMap[t].filter(r=>r!==n)),this}};var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}};Eh.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",m="[object Number]",w="[object Object]",x="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",C="[object WeakMap]",M="[object ArrayBuffer]",T="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",H="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",se=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,L=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,R={};R[o]=R[s]=R[M]=R[T]=R[a]=R[u]=R[P]=R[I]=R[N]=R[j]=R[D]=R[p]=R[m]=R[w]=R[_]=R[y]=R[v]=R[b]=R[H]=R[V]=R[G]=R[q]=!0,R[c]=R[h]=R[C]=!1;var le=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,he=typeof self=="object"&&self&&self.Object===Object&&self,ne=le||he||Function("return this")(),Be=t&&!t.nodeType&&t,X=Be&&!0&&e&&!e.nodeType&&e,pt=X&&X.exports===Be;function hn(l,d){return l.set(d[0],d[1]),l}function Se(l,d){return l.add(d),l}function $n(l,d){for(var g=-1,E=l?l.length:0;++g<E&&d(l[g],g,l)!==!1;);return l}function Tn(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Bt(l,d,g,E){var B=-1,O=l?l.length:0;for(E&&O&&(g=l[++B]);++B<O;)g=d(g,l[B],B,l);return g}function Ht(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function kn(l,d){return l==null?void 0:l[d]}function Ft(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function Mn(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function zt(l,d){return function(g){return l(d(g))}}function Pn(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var Pr=Array.prototype,Ar=Function.prototype,wt=Object.prototype,Gt=ne["__core-js_shared__"],An=function(){var l=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),In=Ar.toString,Me=wt.hasOwnProperty,bt=wt.toString,Ir=RegExp("^"+In.call(Me).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=pt?ne.Buffer:void 0,St=ne.Symbol,Wt=ne.Uint8Array,we=zt(Object.getPrototypeOf,Object),jn=Object.create,On=wt.propertyIsEnumerable,jr=Pr.splice,Ut=Object.getOwnPropertySymbols,Et=tt?tt.isBuffer:void 0,Rn=zt(Object.keys,Object),Ct=Ce(ne,"DataView"),nt=Ce(ne,"Map"),Ee=Ce(ne,"Promise"),_t=Ce(ne,"Set"),Vt=Ce(ne,"WeakMap"),rt=Ce(Object,"create"),Xt=ge(Ct),it=ge(nt),Kt=ge(Ee),Yt=ge(_t),Zt=ge(Vt),He=St?St.prototype:void 0,Ln=He?He.valueOf:void 0;function je(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Or(){this.__data__=rt?rt(null):{}}function Rr(l){return this.has(l)&&delete this.__data__[l]}function Lr(l){var d=this.__data__;if(rt){var g=d[l];return g===r?void 0:g}return Me.call(d,l)?d[l]:void 0}function Dn(l){var d=this.__data__;return rt?d[l]!==void 0:Me.call(d,l)}function qt(l,d){var g=this.__data__;return g[l]=rt&&d===void 0?r:d,this}je.prototype.clear=Or,je.prototype.delete=Rr,je.prototype.get=Lr,je.prototype.has=Dn,je.prototype.set=qt;function ue(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=[]}function Nr(l){var d=this.__data__,g=Tt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():jr.call(d,g,1),!0}function Br(l){var d=this.__data__,g=Tt(d,l);return g<0?void 0:d[g][1]}function Hr(l){return Tt(this.__data__,l)>-1}function Fr(l,d){var g=this.__data__,E=Tt(g,l);return E<0?g.push([l,d]):g[E][1]=d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__={hash:new je,map:new(nt||ue),string:new je}}function Gr(l){return st(this,l).delete(l)}function Wr(l){return st(this,l).get(l)}function Ur(l){return st(this,l).has(l)}function Vr(l,d){return st(this,l).set(l,d),this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){this.__data__=new ue(l)}function Xr(){this.__data__=new ue}function Kr(l){return this.__data__.delete(l)}function Yr(l){return this.__data__.get(l)}function Zr(l){return this.__data__.has(l)}function qr(l,d){var g=this.__data__;if(g instanceof ue){var E=g.__data__;if(!nt||E.length<n-1)return E.push([l,d]),this;g=this.__data__=new de(E)}return g.set(l,d),this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l,d){var g=tn(l)||Mt(l)?Ht(l.length,String):[],E=g.length,B=!!E;for(var O in l)(d||Me.call(l,O))&&!(B&&(O=="length"||hi(O,E)))&&g.push(O);return g}function Nn(l,d,g){var E=l[d];(!(Me.call(l,d)&&Gn(E,g))||g===void 0&&!(d in l))&&(l[d]=g)}function Tt(l,d){for(var g=l.length;g--;)if(Gn(l[g][0],d))return g;return-1}function Pe(l,d){return l&&en(d,rn(d),l)}function Qt(l,d,g,E,B,O,F){var z;if(E&&(z=O?E(l,B,O,F):E(l)),z!==void 0)return z;if(!Ie(l))return l;var re=tn(l);if(re){if(z=ui(l),!d)return si(l,z)}else{var U=Re(l),fe=U==h||U==f;if(Wn(l))return kt(l,d);if(U==w||U==o||fe&&!O){if(Ft(l))return O?l:{};if(z=Ae(fe?{}:l),!d)return ai(l,Pe(z,l))}else{if(!R[U])return O?l:{};z=ci(l,U,Qt,d)}}F||(F=new ve);var ye=F.get(l);if(ye)return ye;if(F.set(l,z),!re)var ae=g?li(l):rn(l);return $n(ae||l,function(pe,ce){ae&&(ce=pe,pe=l[ce]),Nn(z,ce,Qt(pe,d,g,E,ce,l,F))}),z}function Qr(l){return Ie(l)?jn(l):{}}function Jr(l,d,g){var E=d(l);return tn(l)?E:Tn(E,g(l))}function ei(l){return bt.call(l)}function ti(l){if(!Ie(l)||fi(l))return!1;var d=nn(l)||Ft(l)?Ir:L;return d.test(ge(l))}function ni(l){if(!Fn(l))return Rn(l);var d=[];for(var g in Object(l))Me.call(l,g)&&g!="constructor"&&d.push(g);return d}function kt(l,d){if(d)return l.slice();var g=new l.constructor(l.length);return l.copy(g),g}function Jt(l){var d=new l.constructor(l.byteLength);return new Wt(d).set(new Wt(l)),d}function ot(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function Bn(l,d,g){var E=d?g(Mn(l),!0):Mn(l);return Bt(E,hn,new l.constructor)}function Hn(l){var d=new l.constructor(l.source,Z.exec(l));return d.lastIndex=l.lastIndex,d}function ri(l,d,g){var E=d?g(Pn(l),!0):Pn(l);return Bt(E,Se,new l.constructor)}function ii(l){return Ln?Object(Ln.call(l)):{}}function oi(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function si(l,d){var g=-1,E=l.length;for(d||(d=Array(E));++g<E;)d[g]=l[g];return d}function en(l,d,g,E){g||(g={});for(var B=-1,O=d.length;++B<O;){var F=d[B],z=E?E(g[F],l[F],F,g,l):void 0;Nn(g,F,z===void 0?l[F]:z)}return g}function ai(l,d){return en(l,Oe(l),d)}function li(l){return Jr(l,rn,Oe)}function st(l,d){var g=l.__data__;return di(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Ce(l,d){var g=kn(l,d);return ti(g)?g:void 0}var Oe=Ut?zt(Ut,Object):gi,Re=ei;(Ct&&Re(new Ct(new ArrayBuffer(1)))!=T||nt&&Re(new nt)!=p||Ee&&Re(Ee.resolve())!=x||_t&&Re(new _t)!=y||Vt&&Re(new Vt)!=C)&&(Re=function(l){var d=bt.call(l),g=d==w?l.constructor:void 0,E=g?ge(g):void 0;if(E)switch(E){case Xt:return T;case it:return p;case Kt:return x;case Yt:return y;case Zt:return C}return d});function ui(l){var d=l.length,g=l.constructor(d);return d&&typeof l[0]=="string"&&Me.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function Ae(l){return typeof l.constructor=="function"&&!Fn(l)?Qr(we(l)):{}}function ci(l,d,g,E){var B=l.constructor;switch(d){case M:return Jt(l);case a:case u:return new B(+l);case T:return ot(l,E);case P:case I:case N:case j:case D:case H:case V:case G:case q:return oi(l,E);case p:return Bn(l,E,g);case m:case v:return new B(l);case _:return Hn(l);case y:return ri(l,E,g);case b:return ii(l)}}function hi(l,d){return d=d??i,!!d&&(typeof l=="number"||K.test(l))&&l>-1&&l%1==0&&l<d}function di(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function fi(l){return!!An&&An in l}function Fn(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||wt;return l===g}function ge(l){if(l!=null){try{return In.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l){return Qt(l,!0,!0)}function Gn(l,d){return l===d||l!==l&&d!==d}function Mt(l){return pi(l)&&Me.call(l,"callee")&&(!On.call(l,"callee")||bt.call(l)==o)}var tn=Array.isArray;function Pt(l){return l!=null&&Un(l.length)&&!nn(l)}function pi(l){return Vn(l)&&Pt(l)}var Wn=Et||mi;function nn(l){var d=Ie(l)?bt.call(l):"";return d==h||d==f}function Un(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=i}function Ie(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function Vn(l){return!!l&&typeof l=="object"}function rn(l){return Pt(l)?$t(l):ni(l)}function gi(){return[]}function mi(){return!1}e.exports=zn})(Eh,Eh.exports);var hP=Eh.exports;const ln=Lu(hP);var dP="Expected a function",Ey=NaN,fP="[object Symbol]",pP=/^\s+|\s+$/g,gP=/^[-+]0x[0-9a-f]+$/i,mP=/^0b[01]+$/i,vP=/^0o[0-7]+$/i,yP=parseInt,xP=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,wP=typeof self=="object"&&self&&self.Object===Object&&self,bP=xP||wP||Function("return this")(),SP=Object.prototype,EP=SP.toString,CP=Math.max,_P=Math.min,np=function(){return bP.Date.now()};function $P(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(dP);t=Cy(t)||0,Dg(n)&&(h=!!n.leading,f="maxWait"in n,o=f?CP(Cy(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?_P(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=np();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(np())}function M(){var T=np(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}function Dg(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function TP(e){return!!e&&typeof e=="object"}function kP(e){return typeof e=="symbol"||TP(e)&&EP.call(e)==fP}function Cy(e){if(typeof e=="number")return e;if(kP(e))return Ey;if(Dg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(pP,"");var n=mP.test(e);return n||vP.test(e)?yP(e.slice(2),n?2:8):gP.test(e)?Ey:+e}var MP=$P;const PP=Lu(MP);var Ch={exports:{}};Ch.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",w="[object GeneratorFunction]",x="[object Map]",_="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",C="[object Proxy]",M="[object RegExp]",T="[object Set]",P="[object String]",I="[object Symbol]",N="[object Undefined]",j="[object WeakMap]",D="[object ArrayBuffer]",H="[object DataView]",V="[object Float32Array]",G="[object Float64Array]",q="[object Int8Array]",se="[object Int16Array]",Z="[object Int32Array]",L="[object Uint8Array]",K="[object Uint8ClampedArray]",R="[object Uint16Array]",le="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,X={};X[V]=X[G]=X[q]=X[se]=X[Z]=X[L]=X[K]=X[R]=X[le]=!0,X[a]=X[u]=X[D]=X[h]=X[H]=X[f]=X[p]=X[m]=X[x]=X[_]=X[v]=X[M]=X[T]=X[P]=X[j]=!1;var pt=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,hn=typeof self=="object"&&self&&self.Object===Object&&self,Se=pt||hn||Function("return this")(),$n=t&&!t.nodeType&&t,Tn=$n&&!0&&e&&!e.nodeType&&e,Bt=Tn&&Tn.exports===$n,Ht=Bt&&pt.process,kn=function(){try{return Ht&&Ht.binding&&Ht.binding("util")}catch{}}(),Ft=kn&&kn.isTypedArray;function Mn(l,d){for(var g=-1,E=l==null?0:l.length,B=0,O=[];++g<E;){var F=l[g];d(F,g,l)&&(O[B++]=F)}return O}function zt(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Pn(l,d){for(var g=-1,E=l==null?0:l.length;++g<E;)if(d(l[g],g,l))return!0;return!1}function Pr(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function Ar(l){return function(d){return l(d)}}function wt(l,d){return l.has(d)}function Gt(l,d){return l==null?void 0:l[d]}function An(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function In(l,d){return function(g){return l(d(g))}}function Me(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var bt=Array.prototype,Ir=Function.prototype,tt=Object.prototype,St=Se["__core-js_shared__"],Wt=Ir.toString,we=tt.hasOwnProperty,jn=function(){var l=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),On=tt.toString,jr=RegExp("^"+Wt.call(we).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Bt?Se.Buffer:void 0,Et=Se.Symbol,Rn=Se.Uint8Array,Ct=tt.propertyIsEnumerable,nt=bt.splice,Ee=Et?Et.toStringTag:void 0,_t=Object.getOwnPropertySymbols,Vt=Ut?Ut.isBuffer:void 0,rt=In(Object.keys,Object),Xt=Oe(Se,"DataView"),it=Oe(Se,"Map"),Kt=Oe(Se,"Promise"),Yt=Oe(Se,"Set"),Zt=Oe(Se,"WeakMap"),He=Oe(Object,"create"),Ln=ge(Xt),je=ge(it),Or=ge(Kt),Rr=ge(Yt),Lr=ge(Zt),Dn=Et?Et.prototype:void 0,qt=Dn?Dn.valueOf:void 0;function ue(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=He?He(null):{},this.size=0}function Nr(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function Br(l){var d=this.__data__;if(He){var g=d[l];return g===r?void 0:g}return we.call(d,l)?d[l]:void 0}function Hr(l){var d=this.__data__;return He?d[l]!==void 0:we.call(d,l)}function Fr(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=He&&d===void 0?r:d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__=[],this.size=0}function Gr(l){var d=this.__data__,g=kt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():nt.call(d,g,1),--this.size,!0}function Wr(l){var d=this.__data__,g=kt(d,l);return g<0?void 0:d[g][1]}function Ur(l){return kt(this.__data__,l)>-1}function Vr(l,d){var g=this.__data__,E=kt(g,l);return E<0?(++this.size,g.push([l,d])):g[E][1]=d,this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Xr(){this.size=0,this.__data__={hash:new ue,map:new(it||de),string:new ue}}function Kr(l){var d=Ce(this,l).delete(l);return this.size-=d?1:0,d}function Yr(l){return Ce(this,l).get(l)}function Zr(l){return Ce(this,l).has(l)}function qr(l,d){var g=Ce(this,l),E=g.size;return g.set(l,d),this.size+=g.size==E?0:1,this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new ve;++d<g;)this.add(l[d])}function Nn(l){return this.__data__.set(l,r),this}function Tt(l){return this.__data__.has(l)}$t.prototype.add=$t.prototype.push=Nn,$t.prototype.has=Tt;function Pe(l){var d=this.__data__=new de(l);this.size=d.size}function Qt(){this.__data__=new de,this.size=0}function Qr(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function Jr(l){return this.__data__.get(l)}function ei(l){return this.__data__.has(l)}function ti(l,d){var g=this.__data__;if(g instanceof de){var E=g.__data__;if(!it||E.length<n-1)return E.push([l,d]),this.size=++g.size,this;g=this.__data__=new ve(E)}return g.set(l,d),this.size=g.size,this}Pe.prototype.clear=Qt,Pe.prototype.delete=Qr,Pe.prototype.get=Jr,Pe.prototype.has=ei,Pe.prototype.set=ti;function ni(l,d){var g=Mt(l),E=!g&&Gn(l),B=!g&&!E&&Pt(l),O=!g&&!E&&!B&&Vn(l),F=g||E||B||O,z=F?Pr(l.length,String):[],re=z.length;for(var U in l)(d||we.call(l,U))&&!(F&&(U=="length"||B&&(U=="offset"||U=="parent")||O&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ci(U,re)))&&z.push(U);return z}function kt(l,d){for(var g=l.length;g--;)if(zn(l[g][0],d))return g;return-1}function Jt(l,d,g){var E=d(l);return Mt(l)?E:zt(E,g(l))}function ot(l){return l==null?l===void 0?N:y:Ee&&Ee in Object(l)?Re(l):Fn(l)}function Bn(l){return Ie(l)&&ot(l)==a}function Hn(l,d,g,E,B){return l===d?!0:l==null||d==null||!Ie(l)&&!Ie(d)?l!==l&&d!==d:ri(l,d,g,E,Hn,B)}function ri(l,d,g,E,B,O){var F=Mt(l),z=Mt(d),re=F?u:Ae(l),U=z?u:Ae(d);re=re==a?v:re,U=U==a?v:U;var fe=re==v,ye=U==v,ae=re==U;if(ae&&Pt(l)){if(!Pt(d))return!1;F=!0,fe=!1}if(ae&&!fe)return O||(O=new Pe),F||Vn(l)?en(l,d,g,E,B,O):ai(l,d,re,g,E,B,O);if(!(g&i)){var pe=fe&&we.call(l,"__wrapped__"),ce=ye&&we.call(d,"__wrapped__");if(pe||ce){var Fe=pe?l.value():l,Le=ce?d.value():d;return O||(O=new Pe),B(Fe,Le,g,E,O)}}return ae?(O||(O=new Pe),li(l,d,g,E,B,O)):!1}function ii(l){if(!Un(l)||di(l))return!1;var d=Wn(l)?jr:ne;return d.test(ge(l))}function oi(l){return Ie(l)&&nn(l.length)&&!!X[ot(l)]}function si(l){if(!fi(l))return rt(l);var d=[];for(var g in Object(l))we.call(l,g)&&g!="constructor"&&d.push(g);return d}function en(l,d,g,E,B,O){var F=g&i,z=l.length,re=d.length;if(z!=re&&!(F&&re>z))return!1;var U=O.get(l);if(U&&O.get(d))return U==d;var fe=-1,ye=!0,ae=g&o?new $t:void 0;for(O.set(l,d),O.set(d,l);++fe<z;){var pe=l[fe],ce=d[fe];if(E)var Fe=F?E(ce,pe,fe,d,l,O):E(pe,ce,fe,l,d,O);if(Fe!==void 0){if(Fe)continue;ye=!1;break}if(ae){if(!Pn(d,function(Le,at){if(!wt(ae,at)&&(pe===Le||B(pe,Le,g,E,O)))return ae.push(at)})){ye=!1;break}}else if(!(pe===ce||B(pe,ce,g,E,O))){ye=!1;break}}return O.delete(l),O.delete(d),ye}function ai(l,d,g,E,B,O,F){switch(g){case H:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case D:return!(l.byteLength!=d.byteLength||!O(new Rn(l),new Rn(d)));case h:case f:case _:return zn(+l,+d);case p:return l.name==d.name&&l.message==d.message;case M:case P:return l==d+"";case x:var z=An;case T:var re=E&i;if(z||(z=Me),l.size!=d.size&&!re)return!1;var U=F.get(l);if(U)return U==d;E|=o,F.set(l,d);var fe=en(z(l),z(d),E,B,O,F);return F.delete(l),fe;case I:if(qt)return qt.call(l)==qt.call(d)}return!1}function li(l,d,g,E,B,O){var F=g&i,z=st(l),re=z.length,U=st(d),fe=U.length;if(re!=fe&&!F)return!1;for(var ye=re;ye--;){var ae=z[ye];if(!(F?ae in d:we.call(d,ae)))return!1}var pe=O.get(l);if(pe&&O.get(d))return pe==d;var ce=!0;O.set(l,d),O.set(d,l);for(var Fe=F;++ye<re;){ae=z[ye];var Le=l[ae],at=d[ae];if(E)var Eo=F?E(at,Le,ae,d,l,O):E(Le,at,ae,l,d,O);if(!(Eo===void 0?Le===at||B(Le,at,g,E,O):Eo)){ce=!1;break}Fe||(Fe=ae=="constructor")}if(ce&&!Fe){var Xn=l.constructor,Kn=d.constructor;Xn!=Kn&&"constructor"in l&&"constructor"in d&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof Kn=="function"&&Kn instanceof Kn)&&(ce=!1)}return O.delete(l),O.delete(d),ce}function st(l){return Jt(l,rn,ui)}function Ce(l,d){var g=l.__data__;return hi(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Oe(l,d){var g=Gt(l,d);return ii(g)?g:void 0}function Re(l){var d=we.call(l,Ee),g=l[Ee];try{l[Ee]=void 0;var E=!0}catch{}var B=On.call(l);return E&&(d?l[Ee]=g:delete l[Ee]),B}var ui=_t?function(l){return l==null?[]:(l=Object(l),Mn(_t(l),function(d){return Ct.call(l,d)}))}:gi,Ae=ot;(Xt&&Ae(new Xt(new ArrayBuffer(1)))!=H||it&&Ae(new it)!=x||Kt&&Ae(Kt.resolve())!=b||Yt&&Ae(new Yt)!=T||Zt&&Ae(new Zt)!=j)&&(Ae=function(l){var d=ot(l),g=d==v?l.constructor:void 0,E=g?ge(g):"";if(E)switch(E){case Ln:return H;case je:return x;case Or:return b;case Rr:return T;case Lr:return j}return d});function ci(l,d){return d=d??s,!!d&&(typeof l=="number"||Be.test(l))&&l>-1&&l%1==0&&l<d}function hi(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function di(l){return!!jn&&jn in l}function fi(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||tt;return l===g}function Fn(l){return On.call(l)}function ge(l){if(l!=null){try{return Wt.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l,d){return l===d||l!==l&&d!==d}var Gn=Bn(function(){return arguments}())?Bn:function(l){return Ie(l)&&we.call(l,"callee")&&!Ct.call(l,"callee")},Mt=Array.isArray;function tn(l){return l!=null&&nn(l.length)&&!Wn(l)}var Pt=Vt||mi;function pi(l,d){return Hn(l,d)}function Wn(l){if(!Un(l))return!1;var d=ot(l);return d==m||d==w||d==c||d==C}function nn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function Un(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Ie(l){return l!=null&&typeof l=="object"}var Vn=Ft?Ar(Ft):oi;function rn(l){return tn(l)?ni(l):si(l)}function gi(){return[]}function mi(){return!1}e.exports=pi})(Ch,Ch.exports);var AP=Ch.exports;const WE=Lu(AP);var IP=200,xm="__lodash_hash_undefined__",jP=1/0,UE=9007199254740991,OP="[object Arguments]",RP="[object Function]",LP="[object GeneratorFunction]",DP="[object Symbol]",NP=/[\\^$.*+?()[\]{}|]/g,BP=/^\[object .+?Constructor\]$/,HP=/^(?:0|[1-9]\d*)$/,FP=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,zP=typeof self=="object"&&self&&self.Object===Object&&self,wm=FP||zP||Function("return this")();function GP(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function WP(e,t){var n=e?e.length:0;return!!n&&XP(e,t,0)>-1}function UP(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function VE(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function bm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function VP(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function XP(e,t,n){if(t!==t)return VP(e,KP,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function KP(e){return e!==e}function YP(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ZP(e){return function(t){return e(t)}}function qP(e,t){return e.has(t)}function QP(e,t){return e==null?void 0:e[t]}function JP(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function XE(e,t){return function(n){return e(t(n))}}var eA=Array.prototype,tA=Function.prototype,Gd=Object.prototype,rp=wm["__core-js_shared__"],_y=function(){var e=/[^.]+$/.exec(rp&&rp.keys&&rp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),KE=tA.toString,qa=Gd.hasOwnProperty,Sm=Gd.toString,nA=RegExp("^"+KE.call(qa).replace(NP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$y=wm.Symbol,rA=XE(Object.getPrototypeOf,Object),iA=Gd.propertyIsEnumerable,oA=eA.splice,Ty=$y?$y.isConcatSpreadable:void 0,Ng=Object.getOwnPropertySymbols,ky=Math.max,sA=ZE(wm,"Map"),mu=ZE(Object,"create");function Ts(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function aA(){this.__data__=mu?mu(null):{}}function lA(e){return this.has(e)&&delete this.__data__[e]}function uA(e){var t=this.__data__;if(mu){var n=t[e];return n===xm?void 0:n}return qa.call(t,e)?t[e]:void 0}function cA(e){var t=this.__data__;return mu?t[e]!==void 0:qa.call(t,e)}function hA(e,t){var n=this.__data__;return n[e]=mu&&t===void 0?xm:t,this}Ts.prototype.clear=aA;Ts.prototype.delete=lA;Ts.prototype.get=uA;Ts.prototype.has=cA;Ts.prototype.set=hA;function Qa(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dA(){this.__data__=[]}function fA(e){var t=this.__data__,n=Wd(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():oA.call(t,n,1),!0}function pA(e){var t=this.__data__,n=Wd(t,e);return n<0?void 0:t[n][1]}function gA(e){return Wd(this.__data__,e)>-1}function mA(e,t){var n=this.__data__,r=Wd(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Qa.prototype.clear=dA;Qa.prototype.delete=fA;Qa.prototype.get=pA;Qa.prototype.has=gA;Qa.prototype.set=mA;function Ja(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vA(){this.__data__={hash:new Ts,map:new(sA||Qa),string:new Ts}}function yA(e){return Ud(this,e).delete(e)}function xA(e){return Ud(this,e).get(e)}function wA(e){return Ud(this,e).has(e)}function bA(e,t){return Ud(this,e).set(e,t),this}Ja.prototype.clear=vA;Ja.prototype.delete=yA;Ja.prototype.get=xA;Ja.prototype.has=wA;Ja.prototype.set=bA;function _h(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ja;++t<n;)this.add(e[t])}function SA(e){return this.__data__.set(e,xm),this}function EA(e){return this.__data__.has(e)}_h.prototype.add=_h.prototype.push=SA;_h.prototype.has=EA;function CA(e,t){var n=Em(e)||qE(e)?YP(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||qa.call(e,o))&&!(i&&(o=="length"||LA(o,r)))&&n.push(o);return n}function Wd(e,t){for(var n=e.length;n--;)if(GA(e[n][0],t))return n;return-1}function _A(e,t,n,r){var i=-1,o=WP,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=VE(t,ZP(n))),r?(o=UP,s=!1):t.length>=IP&&(o=qP,s=!1,t=new _h(t));e:for(;++i<a;){var h=e[i],f=n?n(h):h;if(h=r||h!==0?h:0,s&&f===f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(h)}else o(t,f,r)||u.push(h)}return u}function YE(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=RA),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?YE(a,t-1,n,r,i):bm(i,a):r||(i[i.length]=a)}return i}function $A(e,t,n){var r=t(e);return Em(e)?r:bm(r,n(e))}function TA(e){if(!Cm(e)||NA(e))return!1;var t=JE(e)||JP(e)?nA:BP;return t.test(zA(e))}function kA(e){if(!Cm(e))return HA(e);var t=BA(e),n=[];for(var r in e)r=="constructor"&&(t||!qa.call(e,r))||n.push(r);return n}function MA(e,t){return e=Object(e),PA(e,t,function(n,r){return r in e})}function PA(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function AA(e,t){return t=ky(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=ky(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,GP(e,this,s)}}function IA(e){return $A(e,XA,OA)}function Ud(e,t){var n=e.__data__;return DA(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ZE(e,t){var n=QP(e,t);return TA(n)?n:void 0}var jA=Ng?XE(Ng,Object):tC,OA=Ng?function(e){for(var t=[];e;)bm(t,jA(e)),e=rA(e);return t}:tC;function RA(e){return Em(e)||qE(e)||!!(Ty&&e&&e[Ty])}function LA(e,t){return t=t??UE,!!t&&(typeof e=="number"||HP.test(e))&&e>-1&&e%1==0&&e<t}function DA(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function NA(e){return!!_y&&_y in e}function BA(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Gd;return e===n}function HA(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}function FA(e){if(typeof e=="string"||VA(e))return e;var t=e+"";return t=="0"&&1/e==-jP?"-0":t}function zA(e){if(e!=null){try{return KE.call(e)}catch{}try{return e+""}catch{}}return""}function GA(e,t){return e===t||e!==e&&t!==t}function qE(e){return WA(e)&&qa.call(e,"callee")&&(!iA.call(e,"callee")||Sm.call(e)==OP)}var Em=Array.isArray;function QE(e){return e!=null&&UA(e.length)&&!JE(e)}function WA(e){return eC(e)&&QE(e)}function JE(e){var t=Cm(e)?Sm.call(e):"";return t==RP||t==LP}function UA(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=UE}function Cm(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function eC(e){return!!e&&typeof e=="object"}function VA(e){return typeof e=="symbol"||eC(e)&&Sm.call(e)==DP}function XA(e){return QE(e)?CA(e,!0):kA(e)}AA(function(e,t){return e==null?{}:(t=VE(YE(t,1),FA),MA(e,_A(IA(e),t)))});function tC(){return[]}var KA=1/0,YA=9007199254740991,ZA="[object Arguments]",qA="[object Function]",QA="[object GeneratorFunction]",JA="[object Symbol]",eI=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,tI=typeof self=="object"&&self&&self.Object===Object&&self,nI=eI||tI||Function("return this")();function rI(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function iI(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function oI(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var _m=Object.prototype,sI=_m.hasOwnProperty,$m=_m.toString,My=nI.Symbol,aI=_m.propertyIsEnumerable,Py=My?My.isConcatSpreadable:void 0,Ay=Math.max;function nC(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=hI),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?nC(a,t-1,n,r,i):oI(i,a):r||(i[i.length]=a)}return i}function lI(e,t){return e=Object(e),uI(e,t,function(n,r){return r in e})}function uI(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function cI(e,t){return t=Ay(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=Ay(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,rI(e,this,s)}}function hI(e){return pI(e)||fI(e)||!!(Py&&e&&e[Py])}function dI(e){if(typeof e=="string"||wI(e))return e;var t=e+"";return t=="0"&&1/e==-KA?"-0":t}function fI(e){return mI(e)&&sI.call(e,"callee")&&(!aI.call(e,"callee")||$m.call(e)==ZA)}var pI=Array.isArray;function gI(e){return e!=null&&yI(e.length)&&!vI(e)}function mI(e){return rC(e)&&gI(e)}function vI(e){var t=xI(e)?$m.call(e):"";return t==qA||t==QA}function yI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=YA}function xI(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rC(e){return!!e&&typeof e=="object"}function wI(e){return typeof e=="symbol"||rC(e)&&$m.call(e)==JA}var bI=cI(function(e,t){return e==null?{}:lI(e,iI(nC(t,1),dI))}),SI=bI;const EI=Lu(SI);var iC="Expected a function",Iy=NaN,CI="[object Symbol]",_I=/^\s+|\s+$/g,$I=/^[-+]0x[0-9a-f]+$/i,TI=/^0b[01]+$/i,kI=/^0o[0-7]+$/i,MI=parseInt,PI=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,AI=typeof self=="object"&&self&&self.Object===Object&&self,II=PI||AI||Function("return this")(),jI=Object.prototype,OI=jI.toString,RI=Math.max,LI=Math.min,ip=function(){return II.Date.now()};function DI(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(iC);t=jy(t)||0,$h(n)&&(h=!!n.leading,f="maxWait"in n,o=f?RI(jy(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?LI(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=ip();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(ip())}function M(){var T=ip(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}function NI(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(iC);return $h(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),DI(e,t,{leading:r,maxWait:t,trailing:i})}function $h(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function BI(e){return!!e&&typeof e=="object"}function HI(e){return typeof e=="symbol"||BI(e)&&OI.call(e)==CI}function jy(e){if(typeof e=="number")return e;if(HI(e))return Iy;if($h(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$h(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(_I,"");var n=TI.test(e);return n||kI.test(e)?MI(e.slice(2),n?2:8):$I.test(e)?Iy:+e}var FI=NI;const zI=Lu(FI);var GI=Object.defineProperty,WI=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t,n)=>(WI(e,typeof t!="symbol"?t+"":t,n),n);class Tm{constructor(t,n,r){this.desc=t,this.editor=n,this.elements=r}redo(){var t;for(const n of this.elements){n.setDeleted(!1);const r=n.getParent();r&&r.insertChild(n,(t=n.attrs.parentIndex)==null?void 0:t.position)}this.editor.selectedElements.setItems(this.elements)}undo(){this.elements.forEach(t=>{t.setDeleted(!0),t.removeFromParent()}),this.editor.selectedElements.clear()}}var UI=Object.defineProperty,VI=(e,t,n)=>t in e?UI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XI=(e,t,n)=>(VI(e,typeof t!="symbol"?t+"":t,n),n);const Oy=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},ss=(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},oC=(e,t,n)=>{const r=e[t];e[t]=e[n],e[n]=r},tr=({r:e,g:t,b:n,a:r})=>`rgba(${e},${t},${n},${r})`,KI=e=>{e=e.toUpperCase();const t=e.match(/[0-9A-F]{1,6}/);return t?(e=t[0],e.length===6?e:((e.length===4||e.length===5)&&(e=e.slice(0,3)),e.length===3?e.split("").map(n=>n+n).join(""):e.padEnd(6,e))):""},vc=e=>{const{r:t,g:n,b:r}=e;return(t<<16|n<<8|r).toString(16).toUpperCase().padStart(6,"0")},Lt=e=>{if(e=KI(e),!e)return null;const t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16),i=e.slice(6,8),o=i?parseInt(i,16)/255:1;return{r:t,g:n,b:r,a:o}};let yc;const YI=new Uint8Array(16);function ZI(){if(!yc&&(yc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yc(YI)}const sn=[];for(let e=0;e<256;++e)sn.push((e+256).toString(16).slice(1));function qI(e,t=0){return(sn[e[t+0]]+sn[e[t+1]]+sn[e[t+2]]+sn[e[t+3]]+"-"+sn[e[t+4]]+sn[e[t+5]]+"-"+sn[e[t+6]]+sn[e[t+7]]+"-"+sn[e[t+8]]+sn[e[t+9]]+"-"+sn[e[t+10]]+sn[e[t+11]]+sn[e[t+12]]+sn[e[t+13]]+sn[e[t+14]]+sn[e[t+15]]).toLowerCase()}const QI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ry={randomUUID:QI};function JI(e,t,n){if(Ry.randomUUID&&!t&&!e)return Ry.randomUUID();e=e||{};const r=e.random||(e.rng||ZI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return qI(r)}const ks=()=>{},vu=()=>JI(),e4=()=>{let e=0;return()=>{const t=String(e);return e++,t}},Ly={maxIdxMap:new Map,gen(e){let t=this.maxIdxMap.get(e)??0;return t++,this.maxIdxMap.set(e,t),`${e} ${t}`},setMaxIdx(e){const t=e.match(/^(.*)\s+(\d+)$/);if(t){const[,n,r]=t,i=Number(r);this.maxIdxMap.set(n,Math.max(this.maxIdxMap.get(n)??0,i))}}},yt=(e,t)=>{const n=Math.floor(e/t),r=t*n,i=t*(n+1);return e-r<=i-e?r:i},sC=(e,t,n,r,i,o=!1)=>{let s=r+e/n,a=i+t/n;return o&&(s=Math.round(s),a=Math.round(a)),{x:s,y:a}},t4=(e,t,n,r,i)=>({x:(e-r)*n,y:(t-i)*n}),Th=e=>{const t=Math.floor(e),n=Math.ceil(e);return(e-t<n-e?t:n)+.5},n4=(e,t)=>{if(e.length!==t.length)return!1;const n=new Map;for(let r=0,i=e.length;r<i;r++)n.set(e[r],!0);for(let r=0,i=t.length;r<i;r++)if(!n.get(t[r]))return!1;return!0},Dy=(e,t=2)=>Number(e.toFixed(t)),Bg=()=>window.devicePixelRatio||1,r4=(e,t,n,r)=>{if(e===0||t===0)return 1;const i=n/e,o=r/t;return Math.max(i,o)},Ny=(e,t)=>{if(e.length===0)throw new Error("sortedArr can not be empty");if(e.length===1)return e[0];let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2);if(e[i]===t)return e[i];e[i]<t?n=i+1:r=i-1}return n>=e.length?e[r]:r<0?e[n]:Math.abs(e[r]-t)<=Math.abs(e[n]-t)?e[r]:e[n]},i4=()=>navigator.platform.toLowerCase().includes("win")||navigator.userAgent.includes("Windows"),o4=e=>typeof e=="string"?e.replace(/<|&|>/g,t=>({"<":"&lt;",">":"&gt;","&":"&amp;"})[t]):"",op=e=>{let t=0;for(const n of e)t++;return t},Bi=(e,t,n)=>{let r="",i=0;for(const o of e){if(n!==void 0&&i>=n)break;i>=t&&(r+=o),i++}return r};class _n{constructor(){XI(this,"eventMap",{})}on(t,n){return this.eventMap[t]||(this.eventMap[t]=[]),this.eventMap[t].push(n),this}emit(t,...n){const r=this.eventMap[t];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(t,n){return this.eventMap[t]&&(this.eventMap[t]=this.eventMap[t].filter(r=>r!==n)),this}}var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function el(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kh={exports:{}};kh.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",m="[object Number]",w="[object Object]",x="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",C="[object WeakMap]",M="[object ArrayBuffer]",T="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",H="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",se=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,L=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,R={};R[o]=R[s]=R[M]=R[T]=R[a]=R[u]=R[P]=R[I]=R[N]=R[j]=R[D]=R[p]=R[m]=R[w]=R[_]=R[y]=R[v]=R[b]=R[H]=R[V]=R[G]=R[q]=!0,R[c]=R[h]=R[C]=!1;var le=typeof Je=="object"&&Je&&Je.Object===Object&&Je,he=typeof self=="object"&&self&&self.Object===Object&&self,ne=le||he||Function("return this")(),Be=t&&!t.nodeType&&t,X=Be&&!0&&e&&!e.nodeType&&e,pt=X&&X.exports===Be;function hn(l,d){return l.set(d[0],d[1]),l}function Se(l,d){return l.add(d),l}function $n(l,d){for(var g=-1,E=l?l.length:0;++g<E&&d(l[g],g,l)!==!1;);return l}function Tn(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Bt(l,d,g,E){var B=-1,O=l?l.length:0;for(E&&O&&(g=l[++B]);++B<O;)g=d(g,l[B],B,l);return g}function Ht(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function kn(l,d){return l==null?void 0:l[d]}function Ft(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function Mn(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function zt(l,d){return function(g){return l(d(g))}}function Pn(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var Pr=Array.prototype,Ar=Function.prototype,wt=Object.prototype,Gt=ne["__core-js_shared__"],An=function(){var l=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),In=Ar.toString,Me=wt.hasOwnProperty,bt=wt.toString,Ir=RegExp("^"+In.call(Me).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=pt?ne.Buffer:void 0,St=ne.Symbol,Wt=ne.Uint8Array,we=zt(Object.getPrototypeOf,Object),jn=Object.create,On=wt.propertyIsEnumerable,jr=Pr.splice,Ut=Object.getOwnPropertySymbols,Et=tt?tt.isBuffer:void 0,Rn=zt(Object.keys,Object),Ct=Ce(ne,"DataView"),nt=Ce(ne,"Map"),Ee=Ce(ne,"Promise"),_t=Ce(ne,"Set"),Vt=Ce(ne,"WeakMap"),rt=Ce(Object,"create"),Xt=ge(Ct),it=ge(nt),Kt=ge(Ee),Yt=ge(_t),Zt=ge(Vt),He=St?St.prototype:void 0,Ln=He?He.valueOf:void 0;function je(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Or(){this.__data__=rt?rt(null):{}}function Rr(l){return this.has(l)&&delete this.__data__[l]}function Lr(l){var d=this.__data__;if(rt){var g=d[l];return g===r?void 0:g}return Me.call(d,l)?d[l]:void 0}function Dn(l){var d=this.__data__;return rt?d[l]!==void 0:Me.call(d,l)}function qt(l,d){var g=this.__data__;return g[l]=rt&&d===void 0?r:d,this}je.prototype.clear=Or,je.prototype.delete=Rr,je.prototype.get=Lr,je.prototype.has=Dn,je.prototype.set=qt;function ue(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=[]}function Nr(l){var d=this.__data__,g=Tt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():jr.call(d,g,1),!0}function Br(l){var d=this.__data__,g=Tt(d,l);return g<0?void 0:d[g][1]}function Hr(l){return Tt(this.__data__,l)>-1}function Fr(l,d){var g=this.__data__,E=Tt(g,l);return E<0?g.push([l,d]):g[E][1]=d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__={hash:new je,map:new(nt||ue),string:new je}}function Gr(l){return st(this,l).delete(l)}function Wr(l){return st(this,l).get(l)}function Ur(l){return st(this,l).has(l)}function Vr(l,d){return st(this,l).set(l,d),this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){this.__data__=new ue(l)}function Xr(){this.__data__=new ue}function Kr(l){return this.__data__.delete(l)}function Yr(l){return this.__data__.get(l)}function Zr(l){return this.__data__.has(l)}function qr(l,d){var g=this.__data__;if(g instanceof ue){var E=g.__data__;if(!nt||E.length<n-1)return E.push([l,d]),this;g=this.__data__=new de(E)}return g.set(l,d),this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l,d){var g=tn(l)||Mt(l)?Ht(l.length,String):[],E=g.length,B=!!E;for(var O in l)(d||Me.call(l,O))&&!(B&&(O=="length"||hi(O,E)))&&g.push(O);return g}function Nn(l,d,g){var E=l[d];(!(Me.call(l,d)&&Gn(E,g))||g===void 0&&!(d in l))&&(l[d]=g)}function Tt(l,d){for(var g=l.length;g--;)if(Gn(l[g][0],d))return g;return-1}function Pe(l,d){return l&&en(d,rn(d),l)}function Qt(l,d,g,E,B,O,F){var z;if(E&&(z=O?E(l,B,O,F):E(l)),z!==void 0)return z;if(!Ie(l))return l;var re=tn(l);if(re){if(z=ui(l),!d)return si(l,z)}else{var U=Re(l),fe=U==h||U==f;if(Wn(l))return kt(l,d);if(U==w||U==o||fe&&!O){if(Ft(l))return O?l:{};if(z=Ae(fe?{}:l),!d)return ai(l,Pe(z,l))}else{if(!R[U])return O?l:{};z=ci(l,U,Qt,d)}}F||(F=new ve);var ye=F.get(l);if(ye)return ye;if(F.set(l,z),!re)var ae=g?li(l):rn(l);return $n(ae||l,function(pe,ce){ae&&(ce=pe,pe=l[ce]),Nn(z,ce,Qt(pe,d,g,E,ce,l,F))}),z}function Qr(l){return Ie(l)?jn(l):{}}function Jr(l,d,g){var E=d(l);return tn(l)?E:Tn(E,g(l))}function ei(l){return bt.call(l)}function ti(l){if(!Ie(l)||fi(l))return!1;var d=nn(l)||Ft(l)?Ir:L;return d.test(ge(l))}function ni(l){if(!Fn(l))return Rn(l);var d=[];for(var g in Object(l))Me.call(l,g)&&g!="constructor"&&d.push(g);return d}function kt(l,d){if(d)return l.slice();var g=new l.constructor(l.length);return l.copy(g),g}function Jt(l){var d=new l.constructor(l.byteLength);return new Wt(d).set(new Wt(l)),d}function ot(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function Bn(l,d,g){var E=d?g(Mn(l),!0):Mn(l);return Bt(E,hn,new l.constructor)}function Hn(l){var d=new l.constructor(l.source,Z.exec(l));return d.lastIndex=l.lastIndex,d}function ri(l,d,g){var E=d?g(Pn(l),!0):Pn(l);return Bt(E,Se,new l.constructor)}function ii(l){return Ln?Object(Ln.call(l)):{}}function oi(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function si(l,d){var g=-1,E=l.length;for(d||(d=Array(E));++g<E;)d[g]=l[g];return d}function en(l,d,g,E){g||(g={});for(var B=-1,O=d.length;++B<O;){var F=d[B],z=E?E(g[F],l[F],F,g,l):void 0;Nn(g,F,z===void 0?l[F]:z)}return g}function ai(l,d){return en(l,Oe(l),d)}function li(l){return Jr(l,rn,Oe)}function st(l,d){var g=l.__data__;return di(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Ce(l,d){var g=kn(l,d);return ti(g)?g:void 0}var Oe=Ut?zt(Ut,Object):gi,Re=ei;(Ct&&Re(new Ct(new ArrayBuffer(1)))!=T||nt&&Re(new nt)!=p||Ee&&Re(Ee.resolve())!=x||_t&&Re(new _t)!=y||Vt&&Re(new Vt)!=C)&&(Re=function(l){var d=bt.call(l),g=d==w?l.constructor:void 0,E=g?ge(g):void 0;if(E)switch(E){case Xt:return T;case it:return p;case Kt:return x;case Yt:return y;case Zt:return C}return d});function ui(l){var d=l.length,g=l.constructor(d);return d&&typeof l[0]=="string"&&Me.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function Ae(l){return typeof l.constructor=="function"&&!Fn(l)?Qr(we(l)):{}}function ci(l,d,g,E){var B=l.constructor;switch(d){case M:return Jt(l);case a:case u:return new B(+l);case T:return ot(l,E);case P:case I:case N:case j:case D:case H:case V:case G:case q:return oi(l,E);case p:return Bn(l,E,g);case m:case v:return new B(l);case _:return Hn(l);case y:return ri(l,E,g);case b:return ii(l)}}function hi(l,d){return d=d??i,!!d&&(typeof l=="number"||K.test(l))&&l>-1&&l%1==0&&l<d}function di(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function fi(l){return!!An&&An in l}function Fn(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||wt;return l===g}function ge(l){if(l!=null){try{return In.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l){return Qt(l,!0,!0)}function Gn(l,d){return l===d||l!==l&&d!==d}function Mt(l){return pi(l)&&Me.call(l,"callee")&&(!On.call(l,"callee")||bt.call(l)==o)}var tn=Array.isArray;function Pt(l){return l!=null&&Un(l.length)&&!nn(l)}function pi(l){return Vn(l)&&Pt(l)}var Wn=Et||mi;function nn(l){var d=Ie(l)?bt.call(l):"";return d==h||d==f}function Un(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=i}function Ie(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function Vn(l){return!!l&&typeof l=="object"}function rn(l){return Pt(l)?$t(l):ni(l)}function gi(){return[]}function mi(){return!1}e.exports=zn})(kh,kh.exports);var s4=kh.exports;const Q=el(s4);var a4="Expected a function",By=NaN,l4="[object Symbol]",u4=/^\s+|\s+$/g,c4=/^[-+]0x[0-9a-f]+$/i,h4=/^0b[01]+$/i,d4=/^0o[0-7]+$/i,f4=parseInt,p4=typeof Je=="object"&&Je&&Je.Object===Object&&Je,g4=typeof self=="object"&&self&&self.Object===Object&&self,m4=p4||g4||Function("return this")(),v4=Object.prototype,y4=v4.toString,x4=Math.max,w4=Math.min,sp=function(){return m4.Date.now()};function b4(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(a4);t=Hy(t)||0,Hg(n)&&(h=!!n.leading,f="maxWait"in n,o=f?x4(Hy(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?w4(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=sp();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(sp())}function M(){var T=sp(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}function Hg(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function S4(e){return!!e&&typeof e=="object"}function E4(e){return typeof e=="symbol"||S4(e)&&y4.call(e)==l4}function Hy(e){if(typeof e=="number")return e;if(E4(e))return By;if(Hg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(u4,"");var n=h4.test(e);return n||d4.test(e)?f4(e.slice(2),n?2:8):c4.test(e)?By:+e}var C4=b4;const _4=el(C4);var Mh={exports:{}};Mh.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",w="[object GeneratorFunction]",x="[object Map]",_="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",C="[object Proxy]",M="[object RegExp]",T="[object Set]",P="[object String]",I="[object Symbol]",N="[object Undefined]",j="[object WeakMap]",D="[object ArrayBuffer]",H="[object DataView]",V="[object Float32Array]",G="[object Float64Array]",q="[object Int8Array]",se="[object Int16Array]",Z="[object Int32Array]",L="[object Uint8Array]",K="[object Uint8ClampedArray]",R="[object Uint16Array]",le="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,X={};X[V]=X[G]=X[q]=X[se]=X[Z]=X[L]=X[K]=X[R]=X[le]=!0,X[a]=X[u]=X[D]=X[h]=X[H]=X[f]=X[p]=X[m]=X[x]=X[_]=X[v]=X[M]=X[T]=X[P]=X[j]=!1;var pt=typeof Je=="object"&&Je&&Je.Object===Object&&Je,hn=typeof self=="object"&&self&&self.Object===Object&&self,Se=pt||hn||Function("return this")(),$n=t&&!t.nodeType&&t,Tn=$n&&!0&&e&&!e.nodeType&&e,Bt=Tn&&Tn.exports===$n,Ht=Bt&&pt.process,kn=function(){try{return Ht&&Ht.binding&&Ht.binding("util")}catch{}}(),Ft=kn&&kn.isTypedArray;function Mn(l,d){for(var g=-1,E=l==null?0:l.length,B=0,O=[];++g<E;){var F=l[g];d(F,g,l)&&(O[B++]=F)}return O}function zt(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Pn(l,d){for(var g=-1,E=l==null?0:l.length;++g<E;)if(d(l[g],g,l))return!0;return!1}function Pr(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function Ar(l){return function(d){return l(d)}}function wt(l,d){return l.has(d)}function Gt(l,d){return l==null?void 0:l[d]}function An(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function In(l,d){return function(g){return l(d(g))}}function Me(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var bt=Array.prototype,Ir=Function.prototype,tt=Object.prototype,St=Se["__core-js_shared__"],Wt=Ir.toString,we=tt.hasOwnProperty,jn=function(){var l=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),On=tt.toString,jr=RegExp("^"+Wt.call(we).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Bt?Se.Buffer:void 0,Et=Se.Symbol,Rn=Se.Uint8Array,Ct=tt.propertyIsEnumerable,nt=bt.splice,Ee=Et?Et.toStringTag:void 0,_t=Object.getOwnPropertySymbols,Vt=Ut?Ut.isBuffer:void 0,rt=In(Object.keys,Object),Xt=Oe(Se,"DataView"),it=Oe(Se,"Map"),Kt=Oe(Se,"Promise"),Yt=Oe(Se,"Set"),Zt=Oe(Se,"WeakMap"),He=Oe(Object,"create"),Ln=ge(Xt),je=ge(it),Or=ge(Kt),Rr=ge(Yt),Lr=ge(Zt),Dn=Et?Et.prototype:void 0,qt=Dn?Dn.valueOf:void 0;function ue(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=He?He(null):{},this.size=0}function Nr(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function Br(l){var d=this.__data__;if(He){var g=d[l];return g===r?void 0:g}return we.call(d,l)?d[l]:void 0}function Hr(l){var d=this.__data__;return He?d[l]!==void 0:we.call(d,l)}function Fr(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=He&&d===void 0?r:d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__=[],this.size=0}function Gr(l){var d=this.__data__,g=kt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():nt.call(d,g,1),--this.size,!0}function Wr(l){var d=this.__data__,g=kt(d,l);return g<0?void 0:d[g][1]}function Ur(l){return kt(this.__data__,l)>-1}function Vr(l,d){var g=this.__data__,E=kt(g,l);return E<0?(++this.size,g.push([l,d])):g[E][1]=d,this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Xr(){this.size=0,this.__data__={hash:new ue,map:new(it||de),string:new ue}}function Kr(l){var d=Ce(this,l).delete(l);return this.size-=d?1:0,d}function Yr(l){return Ce(this,l).get(l)}function Zr(l){return Ce(this,l).has(l)}function qr(l,d){var g=Ce(this,l),E=g.size;return g.set(l,d),this.size+=g.size==E?0:1,this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new ve;++d<g;)this.add(l[d])}function Nn(l){return this.__data__.set(l,r),this}function Tt(l){return this.__data__.has(l)}$t.prototype.add=$t.prototype.push=Nn,$t.prototype.has=Tt;function Pe(l){var d=this.__data__=new de(l);this.size=d.size}function Qt(){this.__data__=new de,this.size=0}function Qr(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function Jr(l){return this.__data__.get(l)}function ei(l){return this.__data__.has(l)}function ti(l,d){var g=this.__data__;if(g instanceof de){var E=g.__data__;if(!it||E.length<n-1)return E.push([l,d]),this.size=++g.size,this;g=this.__data__=new ve(E)}return g.set(l,d),this.size=g.size,this}Pe.prototype.clear=Qt,Pe.prototype.delete=Qr,Pe.prototype.get=Jr,Pe.prototype.has=ei,Pe.prototype.set=ti;function ni(l,d){var g=Mt(l),E=!g&&Gn(l),B=!g&&!E&&Pt(l),O=!g&&!E&&!B&&Vn(l),F=g||E||B||O,z=F?Pr(l.length,String):[],re=z.length;for(var U in l)(d||we.call(l,U))&&!(F&&(U=="length"||B&&(U=="offset"||U=="parent")||O&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ci(U,re)))&&z.push(U);return z}function kt(l,d){for(var g=l.length;g--;)if(zn(l[g][0],d))return g;return-1}function Jt(l,d,g){var E=d(l);return Mt(l)?E:zt(E,g(l))}function ot(l){return l==null?l===void 0?N:y:Ee&&Ee in Object(l)?Re(l):Fn(l)}function Bn(l){return Ie(l)&&ot(l)==a}function Hn(l,d,g,E,B){return l===d?!0:l==null||d==null||!Ie(l)&&!Ie(d)?l!==l&&d!==d:ri(l,d,g,E,Hn,B)}function ri(l,d,g,E,B,O){var F=Mt(l),z=Mt(d),re=F?u:Ae(l),U=z?u:Ae(d);re=re==a?v:re,U=U==a?v:U;var fe=re==v,ye=U==v,ae=re==U;if(ae&&Pt(l)){if(!Pt(d))return!1;F=!0,fe=!1}if(ae&&!fe)return O||(O=new Pe),F||Vn(l)?en(l,d,g,E,B,O):ai(l,d,re,g,E,B,O);if(!(g&i)){var pe=fe&&we.call(l,"__wrapped__"),ce=ye&&we.call(d,"__wrapped__");if(pe||ce){var Fe=pe?l.value():l,Le=ce?d.value():d;return O||(O=new Pe),B(Fe,Le,g,E,O)}}return ae?(O||(O=new Pe),li(l,d,g,E,B,O)):!1}function ii(l){if(!Un(l)||di(l))return!1;var d=Wn(l)?jr:ne;return d.test(ge(l))}function oi(l){return Ie(l)&&nn(l.length)&&!!X[ot(l)]}function si(l){if(!fi(l))return rt(l);var d=[];for(var g in Object(l))we.call(l,g)&&g!="constructor"&&d.push(g);return d}function en(l,d,g,E,B,O){var F=g&i,z=l.length,re=d.length;if(z!=re&&!(F&&re>z))return!1;var U=O.get(l);if(U&&O.get(d))return U==d;var fe=-1,ye=!0,ae=g&o?new $t:void 0;for(O.set(l,d),O.set(d,l);++fe<z;){var pe=l[fe],ce=d[fe];if(E)var Fe=F?E(ce,pe,fe,d,l,O):E(pe,ce,fe,l,d,O);if(Fe!==void 0){if(Fe)continue;ye=!1;break}if(ae){if(!Pn(d,function(Le,at){if(!wt(ae,at)&&(pe===Le||B(pe,Le,g,E,O)))return ae.push(at)})){ye=!1;break}}else if(!(pe===ce||B(pe,ce,g,E,O))){ye=!1;break}}return O.delete(l),O.delete(d),ye}function ai(l,d,g,E,B,O,F){switch(g){case H:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case D:return!(l.byteLength!=d.byteLength||!O(new Rn(l),new Rn(d)));case h:case f:case _:return zn(+l,+d);case p:return l.name==d.name&&l.message==d.message;case M:case P:return l==d+"";case x:var z=An;case T:var re=E&i;if(z||(z=Me),l.size!=d.size&&!re)return!1;var U=F.get(l);if(U)return U==d;E|=o,F.set(l,d);var fe=en(z(l),z(d),E,B,O,F);return F.delete(l),fe;case I:if(qt)return qt.call(l)==qt.call(d)}return!1}function li(l,d,g,E,B,O){var F=g&i,z=st(l),re=z.length,U=st(d),fe=U.length;if(re!=fe&&!F)return!1;for(var ye=re;ye--;){var ae=z[ye];if(!(F?ae in d:we.call(d,ae)))return!1}var pe=O.get(l);if(pe&&O.get(d))return pe==d;var ce=!0;O.set(l,d),O.set(d,l);for(var Fe=F;++ye<re;){ae=z[ye];var Le=l[ae],at=d[ae];if(E)var Eo=F?E(at,Le,ae,d,l,O):E(Le,at,ae,l,d,O);if(!(Eo===void 0?Le===at||B(Le,at,g,E,O):Eo)){ce=!1;break}Fe||(Fe=ae=="constructor")}if(ce&&!Fe){var Xn=l.constructor,Kn=d.constructor;Xn!=Kn&&"constructor"in l&&"constructor"in d&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof Kn=="function"&&Kn instanceof Kn)&&(ce=!1)}return O.delete(l),O.delete(d),ce}function st(l){return Jt(l,rn,ui)}function Ce(l,d){var g=l.__data__;return hi(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Oe(l,d){var g=Gt(l,d);return ii(g)?g:void 0}function Re(l){var d=we.call(l,Ee),g=l[Ee];try{l[Ee]=void 0;var E=!0}catch{}var B=On.call(l);return E&&(d?l[Ee]=g:delete l[Ee]),B}var ui=_t?function(l){return l==null?[]:(l=Object(l),Mn(_t(l),function(d){return Ct.call(l,d)}))}:gi,Ae=ot;(Xt&&Ae(new Xt(new ArrayBuffer(1)))!=H||it&&Ae(new it)!=x||Kt&&Ae(Kt.resolve())!=b||Yt&&Ae(new Yt)!=T||Zt&&Ae(new Zt)!=j)&&(Ae=function(l){var d=ot(l),g=d==v?l.constructor:void 0,E=g?ge(g):"";if(E)switch(E){case Ln:return H;case je:return x;case Or:return b;case Rr:return T;case Lr:return j}return d});function ci(l,d){return d=d??s,!!d&&(typeof l=="number"||Be.test(l))&&l>-1&&l%1==0&&l<d}function hi(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function di(l){return!!jn&&jn in l}function fi(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||tt;return l===g}function Fn(l){return On.call(l)}function ge(l){if(l!=null){try{return Wt.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l,d){return l===d||l!==l&&d!==d}var Gn=Bn(function(){return arguments}())?Bn:function(l){return Ie(l)&&we.call(l,"callee")&&!Ct.call(l,"callee")},Mt=Array.isArray;function tn(l){return l!=null&&nn(l.length)&&!Wn(l)}var Pt=Vt||mi;function pi(l,d){return Hn(l,d)}function Wn(l){if(!Un(l))return!1;var d=ot(l);return d==m||d==w||d==c||d==C}function nn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function Un(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Ie(l){return l!=null&&typeof l=="object"}var Vn=Ft?Ar(Ft):oi;function rn(l){return tn(l)?ni(l):si(l)}function gi(){return[]}function mi(){return!1}e.exports=pi})(Mh,Mh.exports);var $4=Mh.exports;const Du=el($4);var T4=200,km="__lodash_hash_undefined__",k4=1/0,aC=9007199254740991,M4="[object Arguments]",P4="[object Function]",A4="[object GeneratorFunction]",I4="[object Symbol]",j4=/[\\^$.*+?()[\]{}|]/g,O4=/^\[object .+?Constructor\]$/,R4=/^(?:0|[1-9]\d*)$/,L4=typeof Je=="object"&&Je&&Je.Object===Object&&Je,D4=typeof self=="object"&&self&&self.Object===Object&&self,Mm=L4||D4||Function("return this")();function N4(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function B4(e,t){var n=e?e.length:0;return!!n&&z4(e,t,0)>-1}function H4(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function lC(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pm(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function F4(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function z4(e,t,n){if(t!==t)return F4(e,G4,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function G4(e){return e!==e}function W4(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function U4(e){return function(t){return e(t)}}function V4(e,t){return e.has(t)}function X4(e,t){return e==null?void 0:e[t]}function K4(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function uC(e,t){return function(n){return e(t(n))}}var Y4=Array.prototype,Z4=Function.prototype,Vd=Object.prototype,ap=Mm["__core-js_shared__"],Fy=function(){var e=/[^.]+$/.exec(ap&&ap.keys&&ap.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),cC=Z4.toString,tl=Vd.hasOwnProperty,Am=Vd.toString,q4=RegExp("^"+cC.call(tl).replace(j4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zy=Mm.Symbol,Q4=uC(Object.getPrototypeOf,Object),J4=Vd.propertyIsEnumerable,ej=Y4.splice,Gy=zy?zy.isConcatSpreadable:void 0,Fg=Object.getOwnPropertySymbols,Wy=Math.max,tj=dC(Mm,"Map"),yu=dC(Object,"create");function Ms(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nj(){this.__data__=yu?yu(null):{}}function rj(e){return this.has(e)&&delete this.__data__[e]}function ij(e){var t=this.__data__;if(yu){var n=t[e];return n===km?void 0:n}return tl.call(t,e)?t[e]:void 0}function oj(e){var t=this.__data__;return yu?t[e]!==void 0:tl.call(t,e)}function sj(e,t){var n=this.__data__;return n[e]=yu&&t===void 0?km:t,this}Ms.prototype.clear=nj;Ms.prototype.delete=rj;Ms.prototype.get=ij;Ms.prototype.has=oj;Ms.prototype.set=sj;function nl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function aj(){this.__data__=[]}function lj(e){var t=this.__data__,n=Xd(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ej.call(t,n,1),!0}function uj(e){var t=this.__data__,n=Xd(t,e);return n<0?void 0:t[n][1]}function cj(e){return Xd(this.__data__,e)>-1}function hj(e,t){var n=this.__data__,r=Xd(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}nl.prototype.clear=aj;nl.prototype.delete=lj;nl.prototype.get=uj;nl.prototype.has=cj;nl.prototype.set=hj;function rl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dj(){this.__data__={hash:new Ms,map:new(tj||nl),string:new Ms}}function fj(e){return Kd(this,e).delete(e)}function pj(e){return Kd(this,e).get(e)}function gj(e){return Kd(this,e).has(e)}function mj(e,t){return Kd(this,e).set(e,t),this}rl.prototype.clear=dj;rl.prototype.delete=fj;rl.prototype.get=pj;rl.prototype.has=gj;rl.prototype.set=mj;function Ph(e){var t=-1,n=e?e.length:0;for(this.__data__=new rl;++t<n;)this.add(e[t])}function vj(e){return this.__data__.set(e,km),this}function yj(e){return this.__data__.has(e)}Ph.prototype.add=Ph.prototype.push=vj;Ph.prototype.has=yj;function xj(e,t){var n=Im(e)||fC(e)?W4(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||tl.call(e,o))&&!(i&&(o=="length"||Aj(o,r)))&&n.push(o);return n}function Xd(e,t){for(var n=e.length;n--;)if(Nj(e[n][0],t))return n;return-1}function wj(e,t,n,r){var i=-1,o=B4,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=lC(t,U4(n))),r?(o=H4,s=!1):t.length>=T4&&(o=V4,s=!1,t=new Ph(t));e:for(;++i<a;){var h=e[i],f=n?n(h):h;if(h=r||h!==0?h:0,s&&f===f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(h)}else o(t,f,r)||u.push(h)}return u}function hC(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Pj),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?hC(a,t-1,n,r,i):Pm(i,a):r||(i[i.length]=a)}return i}function bj(e,t,n){var r=t(e);return Im(e)?r:Pm(r,n(e))}function Sj(e){if(!jm(e)||jj(e))return!1;var t=gC(e)||K4(e)?q4:O4;return t.test(Dj(e))}function Ej(e){if(!jm(e))return Rj(e);var t=Oj(e),n=[];for(var r in e)r=="constructor"&&(t||!tl.call(e,r))||n.push(r);return n}function Cj(e,t){return e=Object(e),_j(e,t,function(n,r){return r in e})}function _j(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function $j(e,t){return t=Wy(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=Wy(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,N4(e,this,s)}}function Tj(e){return bj(e,zj,Mj)}function Kd(e,t){var n=e.__data__;return Ij(t)?n[typeof t=="string"?"string":"hash"]:n.map}function dC(e,t){var n=X4(e,t);return Sj(n)?n:void 0}var kj=Fg?uC(Fg,Object):vC,Mj=Fg?function(e){for(var t=[];e;)Pm(t,kj(e)),e=Q4(e);return t}:vC;function Pj(e){return Im(e)||fC(e)||!!(Gy&&e&&e[Gy])}function Aj(e,t){return t=t??aC,!!t&&(typeof e=="number"||R4.test(e))&&e>-1&&e%1==0&&e<t}function Ij(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function jj(e){return!!Fy&&Fy in e}function Oj(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Vd;return e===n}function Rj(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}function Lj(e){if(typeof e=="string"||Fj(e))return e;var t=e+"";return t=="0"&&1/e==-k4?"-0":t}function Dj(e){if(e!=null){try{return cC.call(e)}catch{}try{return e+""}catch{}}return""}function Nj(e,t){return e===t||e!==e&&t!==t}function fC(e){return Bj(e)&&tl.call(e,"callee")&&(!J4.call(e,"callee")||Am.call(e)==M4)}var Im=Array.isArray;function pC(e){return e!=null&&Hj(e.length)&&!gC(e)}function Bj(e){return mC(e)&&pC(e)}function gC(e){var t=jm(e)?Am.call(e):"";return t==P4||t==A4}function Hj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aC}function jm(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function mC(e){return!!e&&typeof e=="object"}function Fj(e){return typeof e=="symbol"||mC(e)&&Am.call(e)==I4}function zj(e){return pC(e)?xj(e,!0):Ej(e)}var Gj=$j(function(e,t){return e==null?{}:(t=lC(hC(t,1),Lj),Cj(e,wj(Tj(e),t)))});function vC(){return[]}var Wj=Gj;const Uj=el(Wj);var Vj=1/0,Xj=9007199254740991,Kj="[object Arguments]",Yj="[object Function]",Zj="[object GeneratorFunction]",qj="[object Symbol]",Qj=typeof Je=="object"&&Je&&Je.Object===Object&&Je,Jj=typeof self=="object"&&self&&self.Object===Object&&self,e8=Qj||Jj||Function("return this")();function t8(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function n8(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function r8(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Om=Object.prototype,i8=Om.hasOwnProperty,Rm=Om.toString,Uy=e8.Symbol,o8=Om.propertyIsEnumerable,Vy=Uy?Uy.isConcatSpreadable:void 0,Xy=Math.max;function yC(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=u8),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?yC(a,t-1,n,r,i):r8(i,a):r||(i[i.length]=a)}return i}function s8(e,t){return e=Object(e),a8(e,t,function(n,r){return r in e})}function a8(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function l8(e,t){return t=Xy(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=Xy(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,t8(e,this,s)}}function u8(e){return d8(e)||h8(e)||!!(Vy&&e&&e[Vy])}function c8(e){if(typeof e=="string"||y8(e))return e;var t=e+"";return t=="0"&&1/e==-Vj?"-0":t}function h8(e){return p8(e)&&i8.call(e,"callee")&&(!o8.call(e,"callee")||Rm.call(e)==Kj)}var d8=Array.isArray;function f8(e){return e!=null&&m8(e.length)&&!g8(e)}function p8(e){return xC(e)&&f8(e)}function g8(e){var t=v8(e)?Rm.call(e):"";return t==Yj||t==Zj}function m8(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xj}function v8(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function xC(e){return!!e&&typeof e=="object"}function y8(e){return typeof e=="symbol"||xC(e)&&Rm.call(e)==qj}var x8=l8(function(e,t){return e==null?{}:s8(e,n8(yC(t,1),c8))}),w8=x8;const wC=el(w8);var bC="Expected a function",Ky=NaN,b8="[object Symbol]",S8=/^\s+|\s+$/g,E8=/^[-+]0x[0-9a-f]+$/i,C8=/^0b[01]+$/i,_8=/^0o[0-7]+$/i,$8=parseInt,T8=typeof Je=="object"&&Je&&Je.Object===Object&&Je,k8=typeof self=="object"&&self&&self.Object===Object&&self,M8=T8||k8||Function("return this")(),P8=Object.prototype,A8=P8.toString,I8=Math.max,j8=Math.min,lp=function(){return M8.Date.now()};function O8(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(bC);t=Yy(t)||0,Ah(n)&&(h=!!n.leading,f="maxWait"in n,o=f?I8(Yy(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?j8(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=lp();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(lp())}function M(){var T=lp(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}function R8(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(bC);return Ah(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),O8(e,t,{leading:r,maxWait:t,trailing:i})}function Ah(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function L8(e){return!!e&&typeof e=="object"}function D8(e){return typeof e=="symbol"||L8(e)&&A8.call(e)==b8}function Yy(e){if(typeof e=="number")return e;if(D8(e))return Ky;if(Ah(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ah(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(S8,"");var n=C8.test(e);return n||_8.test(e)?$8(e.slice(2),n?2:8):E8.test(e)?Ky:+e}var N8=R8;const Lm=el(N8);let B8=class{constructor(t){$(this,"redoStack",[]),$(this,"undoStack",[]),$(this,"isEnableRedoUndo",!0),$(this,"emitter",new _n),$(this,"isBatching",!1),this.editor=t}redo(){var t,n;if(this.isEnableRedoUndo&&this.redoStack.length>0){const r=this.redoStack.pop(),i=r.isBatched,o=[r];if(i){for(;this.redoStack.length>0&&this.redoStack.at(-1).isBatched;){const s=this.redoStack.pop();o.push(s)}console.log("------- [redo] batched start -----")}for(const s of o){const a=s.command;console.log(`%c Redo %c [${a.desc}]`,"background: #f04; color: #ee0",""),this.undoStack.push(s),(n=(t=s.hooks)==null?void 0:t.beforeRedo)==null||n.call(t),a.redo()}i&&console.log("------- [redo] batched end -----"),this.editor.render(),this.emitStatusChange()}}undo(){var t,n;if(this.isEnableRedoUndo&&this.undoStack.length>0){const r=this.undoStack.pop(),i=r.isBatched,o=[r];if(i){for(;this.undoStack.length>0&&this.undoStack.at(-1).isBatched;){const s=this.undoStack.pop();o.push(s)}console.log("------- [undo] batched start -----")}for(const s of o){const a=s.command;console.log(`%c Undo %c [${a.desc}]`,"background: #40f; color: #eee",""),this.redoStack.push(s),(n=(t=s.hooks)==null?void 0:t.beforeUndo)==null||n.call(t),a.undo()}i&&console.log("------- [undo] batched end -----"),this.editor.render(),this.emitStatusChange()}}enableRedoUndo(){this.isEnableRedoUndo=!0}disableRedoUndo(){this.isEnableRedoUndo=!1}batchCommandStart(){this.isBatching=!0}batchCommandEnd(){this.isBatching=!1}pushCommand(t,n){this.emitter.emit("beforeExecCmd"),console.log(`%c Exec %c [${t.desc}]`,"background: #222; color: #bada55","");const r={command:t};this.isBatching&&(r.isBatched=!0),n&&(r.hooks=n),this.undoStack.push(r),this.redoStack=[],this.emitStatusChange()}emitStatusChange(){this.emitter.emit("change",{canRedo:this.redoStack.length>0,canUndo:this.undoStack.length>0})}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}clearRecords(){this.redoStack=[],this.undoStack=[],this.emitStatusChange()}};class Ai{constructor(t,n,r,i){if(this.desc=t,this.elements=n,this.attrs=r,this.prevAttrs=i,n.length!==i.length)throw new Error(`elements 和 preAttrs 数量不匹配 ${n.length} ${i.length}`)}redo(){var t;const{elements:n,attrs:r}=this;for(let i=0,o=this.elements.length;i<o;i++){const s=Array.isArray(r)?r[i]:Q(r),a=n[i];if(s.parentIndex&&a.removeFromParent(),a.updateAttrs(s),s.parentIndex){const u=a.getParent();u&&u.insertChild(a,(t=a.attrs.parentIndex)==null?void 0:t.position)}}}undo(){var t;const{elements:n,prevAttrs:r}=this;for(let i=0,o=this.elements.length;i<o;i++){const s=n[i],a=r[i];if(n[i].updateAttrs(r[i]),"parentIndex"in a&&a.parentIndex===void 0)s.removeFromParent();else if(a.parentIndex){const u=s.getParent();u&&u.insertChild(s,(t=s.attrs.parentIndex)==null?void 0:t.position)}}}}$(Ai,"type","SetElementsAttrs");let Yd=class{constructor(t,n,r,i,o=new Set,s=new Set){this.desc=t,this.editor=n,this.originAttrsMap=r,this.updatedAttrsMap=i,this.removedIds=o,this.newIds=s,r.size!==i.size&&(console.warn(`originAttrsMap 和 updatedAttrsMap 数量不匹配 ${r.size} ${i.size}`),console.log("origin:",r),console.log("update:",i))}redo(){var t;const n=this.updatedAttrsMap,r=this.editor.doc;for(const[i,o]of n){const s=r.getGraphicsById(i);if(!s){console.warn(`graphics ${i} is lost.`);return}o.parentIndex&&s.removeFromParent(),s.updateAttrs(o),o.parentIndex&&s.insertAtParent(s.attrs.parentIndex.position)}for(const i of this.removedIds){const o=r.getGraphicsById(i);o&&(o.setDeleted(!0),o.removeFromParent())}for(const i of this.newIds){const o=r.getGraphicsById(i);if(o){o.setDeleted(!1);const s=(t=o.attrs.parentIndex)==null?void 0:t.position;s?o.insertAtParent(s):console.error("position lost")}}}undo(){var t;const n=this.originAttrsMap,r=this.editor.doc;for(const[i,o]of n){const s=r.getGraphicsById(i);if(!s){console.warn(`graphics ${i} is lost.`);return}o.parentIndex&&s.removeFromParent(),s.updateAttrs(o),o.parentIndex&&s.insertAtParent(s.attrs.parentIndex.position)}for(const i of this.removedIds){const o=r.getGraphicsById(i);if(o){o.setDeleted(!1);const s=(t=o.attrs.parentIndex)==null?void 0:t.position;s?o.insertAtParent(s):console.error("position lost")}}for(const i of this.newIds){const o=r.getGraphicsById(i);o&&(o.setDeleted(!0),o.removeFromParent())}this.newIds.size!==0&&this.editor.selectedElements.clear()}};$(Yd,"type","UpdateGraphicsAttrs");var H8=Object.defineProperty,F8=(e,t,n)=>t in e?H8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ei=(e,t,n)=>(F8(e,typeof t!="symbol"?t+"":t,n),n);let ee=class SC{constructor(t=1,n=0,r=0,i=1,o=0,s=0){Ei(this,"a"),Ei(this,"b"),Ei(this,"c"),Ei(this,"d"),Ei(this,"tx"),Ei(this,"ty"),this.a=t,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s}set(t,n,r,i,o,s){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s,this}getArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}apply(t){const n=t.x,r=t.y;return{x:this.a*n+this.c*r+this.tx,y:this.b*n+this.d*r+this.ty}}applyInverse(t){const n=this.a,r=this.b,i=this.c,o=this.d,s=this.tx,a=this.ty,u=1/(n*o+i*-r),c=t.x,h=t.y;return{x:o*u*c+-i*u*h+(a*i-s*o)*u,y:n*u*h+-r*u*c+(-a*n+s*r)*u}}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),i=this.a,o=this.c,s=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=o*n-this.d*r,this.d=o*r+this.d*n,this.tx=s*n-this.ty*r,this.ty=s*r+this.ty*n,this}append(t){const n=this.a,r=this.b,i=this.c,o=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*o,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*o,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this}appendFrom(t,n){const r=t.a,i=t.b,o=t.c,s=t.d,a=t.tx,u=t.ty,c=n.a,h=n.b,f=n.c,p=n.d;return this.a=r*c+i*f,this.b=r*h+i*p,this.c=o*c+s*f,this.d=o*h+s*p,this.tx=a*c+u*f+n.tx,this.ty=a*h+u*p+n.ty,this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}invert(){const t=this.a,n=this.b,r=this.c,i=this.d,o=this.tx,s=t*i-n*r;return this.a=i/s,this.b=-n/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(t*this.ty-n*o)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new SC;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}};const zg=Math.PI*2;function xu(e){return e*180/Math.PI}const EC=e=>(e=e%zg,e<0&&(e+=zg),e),Gg=e=>(e=e%360,e<0&&(e+=360),e),z8=(e,t)=>{const n=e.x*t.x+e.y*t.y,r=Math.sqrt(e.x*e.x+e.y*e.y)*Math.sqrt(t.x*t.x+t.y*t.y);let i=n/r;return i>1?i=1:i<-1&&(i=-1),Math.acos(i)},Ii=(e,t,n)=>{const r=e.x*t.x+e.y*t.y,i=Math.sqrt(e.x*e.x+e.y*e.y)*Math.sqrt(t.x*t.x+t.y*t.y);let o=r/i;o>1?o=1:o<-1&&(o=-1);let s=Math.acos(o);const a=e.x*t.y-e.y*t.x;return(n?a>0:a<0)&&(s=zg-s),s},Ua=(e,t={x:0,y:-1})=>{const n=new ee(e[0],e[1],e[2],e[3],0,0).apply(t);return Ii(t,n)},CC=e=>e[0]*e[3]-e[1]*e[2]<0,Wg=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2}),Wi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),oo=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),xc=e=>e.x===0&&e.y===0,G8=1e-10,Dm=(e,t,n=G8)=>Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n,vt=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),Ih=(e,t,n)=>e*(1-n)+t*n,ko=(e,t,n)=>({x:Ih(e.x,t.x,n),y:Ih(e.y,t.y,n)}),jl=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/t,y:e.y/t}},W8=(e,t,n)=>{const r=oo(e[1],e[0]),i={x:-r.y,y:r.x},o=jl(i),s={x:t.x+o.x*n,y:t.y+o.y*n},a={x:t.x-o.x*n,y:t.y-o.y*n};return[s,a]},wc=(e,t)=>{if(e.length===4){const[n,r,i,o]=e,s=t*t,a=1-t,u=a*a,c=u*a,h=3*t*u,f=3*s*a,p=s*t;return{x:c*n.x+h*r.x+f*i.x+p*o.x,y:c*n.y+h*r.y+f*i.y+p*o.y}}for(;e.length>1;){const n=[];for(let r=0,i=e.length-1;r<i;r++)n.push(ko(e[r],e[r+1],t));e=n}return e[0]},U8=(e,t,n)=>{const r=e.point,i=t.point,o=Wi(e.point,e.out),s=Wi(t.point,t.in),a=ko(r,o,n),u=ko(o,s,n),c=ko(s,i,n),h=ko(a,u,n),f=ko(u,c,n),p=ko(h,f,n);return[{point:e.point,in:e.in,out:oo(a,e.point)},{point:p,in:oo(h,p),out:oo(f,p)},{point:t.point,in:oo(c,t.point),out:t.out}]},Ug=()=>[1,0,0,1,0,0],Zn=(e,t)=>{const n=e[0],r=e[1],i=e[2],o=e[3];return[t[0]*n+t[1]*i,t[0]*r+t[1]*o,t[2]*n+t[3]*i,t[2]*r+t[3]*o,t[4]*n+t[5]*i+e[4],t[4]*r+t[5]*o+e[5]]},xs=(e,t)=>({x:t.x*e[0]+t.y*e[2]+e[4],y:t.x*e[1]+t.y*e[3]+e[5]}),Nm=(e,t)=>xs(Ci(e),t),Ci=e=>{const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=t*i-n*r;return[i/s,-n/s,-r/s,t/s,(r*e[5]-i*o)/s,-(t*e[5]-n*o)/s]},V8=(e,t,n,r,i)=>{if(!n)return{x:e,y:t};const o=Math.cos(n),s=Math.sin(n);return{x:(e-r)*o-(t-i)*s+r,y:(e-r)*s+(t-i)*o+i}},Zy=.5522847498307936,Bm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),Hm=(e,t,n=0)=>(t.transform&&(e=new ee(...t.transform).applyInverse(e)),e.x>=-n&&e.y>=-n&&e.x<=t.width+n&&e.y<=t.height+n),qy=(e,t,n,r=0)=>{const i=t.x-r,o=t.y-r,s=t.width+r*2,a=t.height+r*2;return e.x>=i&&e.y>=o&&e.x<=i+s&&e.y<=o+a?e.x<=i+n[0]&&e.y<=o+n[0]?(e.x-i-n[0])**2+(e.y-o-n[0])**2<=n[0]**2:e.x>=i+s-n[1]&&e.y<=o+n[1]?(e.x-i-s+n[1])**2+(e.y-o-n[1])**2<=n[1]**2:e.x>=i+s-n[2]&&e.y>=o+a-n[2]?(e.x-i-s+n[2])**2+(e.y-o-a+n[2])**2<=n[2]**2:e.x<=i+n[3]&&e.y>=o+a-n[3]?(e.x-i-n[3])**2+(e.y-o-a+n[3])**2<=n[3]**2:!0:!1},Hs=({x:e,y:t,width:n,height:r})=>{const i=e+n,o=t+r;return Bm({x:e,y:t},{x:i,y:o})},X8=(e,t)=>e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y,Vg=(e,t)=>{typeof t=="number"&&(t=[t,t,t,t]);const{x:n,y:r,width:i,height:o}=e;return{x:n-t[3],y:r-t[0],width:i+t[1]+t[3],height:o+t[0]+t[2]}},K8=e=>{const{x:t,y:n,width:r,height:i}=e,o=r/2,s=i/2;return[{x:t+o,y:n},{x:t+r,y:n+s},{x:t+o,y:n+i},{x:t,y:n+s}]},Y8=(e,t)=>{const{x:n,y:r}=e,i=t.x-e.x,o=t.y-e.y,s=EC(Math.atan2(o,i)),a=n+i/2,u=r+o/2,c=V8(n,r,-s,a,u);return{x:c.x,y:c.y,width:Math.sqrt(i*i+o*o),height:0,rotation:s}},zo=(e,t)=>{const{x:n,y:r,width:i,height:o}=e;let s=[{x:n,y:r},{x:n+i,y:r},{x:n+i,y:r+o},{x:n,y:r+o}];if(t){const a=new ee(...t);s=s.map(u=>{const c=a.apply(u);return{x:c.x,y:c.y}})}return s},_C=e=>{const t=new ee(e.transform[0],e.transform[1],e.transform[2],e.transform[3],0,0),n=t.apply({x:e.width,y:0}),r=t.apply({x:0,y:e.height}),i={x:0,y:0};return{width:vt(n,i),height:vt(r,i)}},Vc=e=>{const t=_C(e),n=t.width?e.width/t.width:1,r=t.height?e.height/t.height:1,i=new ee().scale(n,r),o=new ee(...e.transform).append(i);return{width:t.width,height:t.height,transform:o.getArray()}},Fm=e=>({minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height}),fo=e=>({x:e.minX,y:e.minY,width:e.maxX-e.minX,height:e.maxY-e.minY}),Z8=(e,t=0)=>{const{minX:n,minY:r,maxX:i,maxY:o}=Fm(e);if(t<=0)return[{type:"M",points:[{x:n,y:r}]},{type:"L",points:[{x:i,y:r}]},{type:"L",points:[{x:i,y:o}]},{type:"L",points:[{x:n,y:o}]},{type:"Z",points:[]}];const s=e.width/2,a=e.height/2,u=Math.min(t,s,a),c=u===s,h=u===a,f=u*Zy,p=u*Zy,m=[{type:"M",points:[{x:n,y:r+u}]},{type:"C",points:[{x:n,y:r+u-p},{x:n+u-f,y:r},{x:n+u,y:r}]}];return c||m.push({type:"L",points:[{x:i-u,y:r}]}),m.push({type:"C",points:[{x:i-u+f,y:r},{x:i,y:r+u-p},{x:i,y:r+u}]}),h||m.push({type:"L",points:[{x:i,y:o-u}]}),m.push({type:"C",points:[{x:i,y:o-u+p},{x:i-u+f,y:o},{x:i-u,y:o}]}),c||m.push({type:"L",points:[{x:n+u,y:o}]}),m.push({type:"C",points:[{x:n+u-f,y:o},{x:n,y:o-u+p},{x:n,y:o-u}]}),h||m.push({type:"L",points:[{x:n,y:r+u}]}),m.push({type:"Z",points:[]}),m},$C=(e,t,n=0)=>t.x>=e.minX-n&&t.y>=e.minY-n&&t.x<=e.maxX+n&&t.y<=e.maxY+n,vo=e=>{if(e.length===0)throw new Error("the count of boxes can not be 0");let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.minX),n=Math.min(n,o.minY),r=Math.max(r,o.maxX),i=Math.max(i,o.maxY);return{minX:t,minY:n,maxX:r,maxY:i}},Xg=(e,t)=>e.minX<=t.maxX&&e.maxX>=t.minX&&e.minY<=t.maxY&&e.maxY>=t.minY,Qy=(e,t)=>e.minX<=t.minX&&e.minY<=t.minY&&e.maxX>=t.maxX&&e.maxY>=t.maxY,Nu=e=>{let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{minX:t,minY:n,maxX:r,maxY:i}},Kl=(e,t)=>{let n=0,r=0,i=e.width,o=e.height;t&&(n-=t,r-=t,i+=t*2,o+=t*2);const s=e.transform,a=zo({x:n,y:r,width:i,height:o}).map(u=>xs(s,u));return Nu(a)},q8=e=>{const t=.5522847498307936,{minX:n,minY:r,maxX:i,maxY:o}=Fm(e),s=(n+i)/2,a=(r+o)/2,u=e.width/2,c=e.height/2,h=u*t,f=c*t;return[{type:"M",points:[{x:i,y:a}]},{type:"C",points:[{x:i,y:a+f},{x:s+h,y:o},{x:s,y:o}]},{type:"C",points:[{x:s-h,y:o},{x:n,y:a+f},{x:n,y:a}]},{type:"C",points:[{x:n,y:a-f},{x:s-h,y:r},{x:s,y:r}]},{type:"C",points:[{x:i,y:a-f},{x:s+h,y:r},{x:i,y:a}]},{type:"Z",points:[]}]},Kg=(e,t,n,r=!0)=>{if(e.x===t.x&&e.y===t.y)return{t:0,point:{x:e.x,y:e.y}};const i=t.x-e.x,o=t.y-e.y;let s=((n.x-e.x)*i+(n.y-e.y)*o)/(i*i+o*o);r||(s=Math.max(0,Math.min(1,s)));const a={x:e.x+s*i,y:e.y+s*o};return{t:s,point:a}},Q8=(e,t,n=4)=>{let r={x:0,y:0},i=1/0;for(let o=1;o<=n;o++){const s=Math.PI/n*o,a={x:e.x+Math.cos(s),y:e.y+Math.sin(s)},{point:u}=Kg(e,a,t),c=vt(u,t);if(c===0)return u;c<i&&(i=c,r=u)}return r},J8=(e,t,n,r)=>{const{x:i,y:o}=e,{x:s,y:a}=t,{x:u,y:c}=n,{x:h,y:f}=r,p=a-o,m=i-s,w=i*a-s*o,x=f-c,_=u-h,y=u*f-h*c,v=p*_-m*x;if(Math.abs(v)<1e-9)return null;const b=(w*_-y*m)/v,C=(p*y-w*x)/v;return{x:b,y:C}};var e6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TC={exports:{}};(function(e,t){(function(n,r){r(e)})(e6,function(n){function r(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function i(y,v,b){if(!Array.isArray(y))throw new TypeError("First argument should be an array");if(y.forEach(function(P){if(!Array.isArray(P)||P.some(function(I){return typeof I!="number"})||P.length!==y[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),y=y.filter(function(P,I){return I===0||!P.every(function(N,j){return N===y[I-1][j]})}),y.length<2)return[];var C=y.length,M=w(y[1],y[0]),T=w(y[C-2],y[C-1]);return o(y,M,T,v,b)}function o(y,v,b,C,M){var T=20,P,I,N,j,D,H,V,G,q,se,Z,L,K;if(y.length===2)return L=x.vectorLen(x.subtract(y[0],y[1]))/3,P=[y[0],x.addArrays(y[0],x.mulItems(v,L)),x.addArrays(y[1],x.mulItems(b,L)),y[1]],[P];I=h(y);var R=s(y,I,I,v,b,M);if(P=R[0],j=R[1],H=R[2],j===0||j<C)return[P];if(j<C*C)for(N=I,D=j,V=H,K=0;K<T;K++){N=u(P,y,N);var le=s(y,I,N,v,b,M);if(P=le[0],j=le[1],H=le[2],j<C)return[P];if(H===V){var he=j/D;if(he>.9999&&he<1.0001)break}D=j,V=H}if(Z=[],G=x.subtract(y[H-1],y[H+1]),G.every(function(Be){return Be===0})){G=x.subtract(y[H-1],y[H]);var ne=[-G[1],G[0]];G[0]=ne[0],G[1]=ne[1]}return q=x.normalize(G),se=x.mulItems(q,-1),Z=Z.concat(o(y.slice(0,H+1),v,q,C,M)),Z=Z.concat(o(y.slice(H),se,b,C,M)),Z}function s(y,v,b,C,M,T){var P,I,N;P=a(y,b,C,M);var j=f(y,P,v);return I=j[0],N=j[1],T&&T({bez:P,points:y,params:v,maxErr:I,maxPoint:N}),[P,I,N]}function a(y,v,b,C){var M,T,P,I,N,j,D,H,V,G,q,se,Z,L,K,R,le,he=y[0],ne=y[y.length-1];for(M=[he,null,null,ne],T=x.zeros_Xx2x2(v.length),Z=0,L=v.length;Z<L;Z++)R=v[Z],le=1-R,P=T[Z],P[0]=x.mulItems(b,3*R*(le*le)),P[1]=x.mulItems(C,3*le*(R*R));for(I=[[0,0],[0,0]],N=[0,0],Z=0,L=y.length;Z<L;Z++)R=v[Z],P=T[Z],I[0][0]+=x.dot(P[0],P[0]),I[0][1]+=x.dot(P[0],P[1]),I[1][0]+=x.dot(P[0],P[1]),I[1][1]+=x.dot(P[1],P[1]),K=x.subtract(y[Z],_.q([he,he,ne,ne],R)),N[0]+=x.dot(P[0],K),N[1]+=x.dot(P[1],K);return j=I[0][0]*I[1][1]-I[1][0]*I[0][1],D=I[0][0]*N[1]-I[1][0]*N[0],H=N[0]*I[1][1]-N[1]*I[0][1],V=j===0?0:H/j,G=j===0?0:D/j,se=x.vectorLen(x.subtract(he,ne)),q=1e-6*se,V<q||G<q?(M[1]=x.addArrays(he,x.mulItems(b,se/3)),M[2]=x.addArrays(ne,x.mulItems(C,se/3))):(M[1]=x.addArrays(he,x.mulItems(b,V)),M[2]=x.addArrays(ne,x.mulItems(C,G))),M}function u(y,v,b){return b.map(function(C,M){return c(y,v[M],C)})}function c(y,v,b){var C=x.subtract(_.q(y,b),v),M=_.qprime(y,b),T=x.mulMatrix(C,M),P=x.sum(x.squareItems(M))+2*x.mulMatrix(C,_.qprimeprime(y,b));return P===0?b:b-T/P}function h(y){var v=[],b,C,M;return y.forEach(function(T,P){b=P?C+x.vectorLen(x.subtract(T,M)):0,v.push(b),C=b,M=T}),v=v.map(function(T){return T/C}),v}function f(y,v,b){var C,M,T,P,I,N,j,D;M=0,T=Math.floor(y.length/2);var H=p(v,10);for(I=0,N=y.length;I<N;I++)j=y[I],D=m(v,b[I],H,10),P=x.subtract(_.q(v,D),j),C=P[0]*P[0]+P[1]*P[1],C>M&&(M=C,T=I);return[M,T]}var p=function(y,v){for(var b,C=[0],M=y[0],T=0,P=1;P<=v;P++)b=_.q(y,P/v),T+=x.vectorLen(x.subtract(b,M)),C.push(T),M=b;return C=C.map(function(I){return I/T}),C};function m(y,v,b,C){if(v<0)return 0;if(v>1)return 1;for(var M,T,P,I,N,j=1;j<=C;j++)if(v<=b[j]){I=(j-1)/C,P=j/C,T=b[j-1],M=b[j],N=(v-T)/(M-T)*(P-I)+I;break}return N}function w(y,v){return x.normalize(x.subtract(y,v))}var x=function(){function y(){r(this,y)}return y.zeros_Xx2x2=function(v){for(var b=[];v--;)b.push([0,0]);return b},y.mulItems=function(v,b){return v.map(function(C){return C*b})},y.mulMatrix=function(v,b){return v.reduce(function(C,M,T){return C+M*b[T]},0)},y.subtract=function(v,b){return v.map(function(C,M){return C-b[M]})},y.addArrays=function(v,b){return v.map(function(C,M){return C+b[M]})},y.addItems=function(v,b){return v.map(function(C){return C+b})},y.sum=function(v){return v.reduce(function(b,C){return b+C})},y.dot=function(v,b){return y.mulMatrix(v,b)},y.vectorLen=function(v){return Math.hypot.apply(Math,v)},y.divItems=function(v,b){return v.map(function(C){return C/b})},y.squareItems=function(v){return v.map(function(b){return b*b})},y.normalize=function(v){return this.divItems(v,this.vectorLen(v))},y}(),_=function(){function y(){r(this,y)}return y.q=function(v,b){var C=1-b,M=x.mulItems(v[0],C*C*C),T=x.mulItems(v[1],3*C*C*b),P=x.mulItems(v[2],3*C*b*b),I=x.mulItems(v[3],b*b*b);return x.addArrays(x.addArrays(M,T),x.addArrays(P,I))},y.qprime=function(v,b){var C=1-b,M=x.mulItems(x.subtract(v[1],v[0]),3*C*C),T=x.mulItems(x.subtract(v[2],v[1]),6*C*b),P=x.mulItems(x.subtract(v[3],v[2]),3*b*b);return x.addArrays(x.addArrays(M,T),P)},y.qprimeprime=function(v,b){return x.addArrays(x.mulItems(x.addArrays(x.subtract(v[2],x.mulItems(v[1],2)),v[0]),6*(1-b)),x.mulItems(x.addArrays(x.subtract(v[3],x.mulItems(v[2],2)),v[1]),6*b))},y}();n.exports=i,n.exports.fitCubic=o,n.exports.createTangent=w})})(TC);var n6=TC.exports;const kC=t6(n6),r6=(e,t)=>{const n=kC(e.map(({point:i})=>[i.x,i.y]),t),r=[];for(let i=0,o=n.length;i<=o;i++){const s=n[i],a=n[i-1],u=s?{x:s[0][0],y:s[0][1]}:{x:a[3][0],y:a[3][1]},c=s?{x:s[1][0]-u.x,y:s[1][1]-u.y}:{x:0,y:0},h=a?{x:a[2][0]-u.x,y:a[2][1]-u.y}:{x:0,y:0};r.push({point:u,in:h,out:c})}return r},i6=(e,t,n)=>{const r=e.segs;if(!e.closed&&(t<0||t>=r.length-1))return r.splice(t,1),e;let i=t+1;e.closed&&(i%=r.length);const o=r[t],s=r[i],a=U8(o,s,n);return i===0?(e.segs.splice(t,1,a[0],a[1]),e.segs.splice(0,1,a[2])):e.segs.splice(t,2,...a),e},o6=(e,t)=>{const n=e.segs;if(n.length<=1)return e.segs=[],e;if(!e.closed&&(t<=0||t>=n.length-1))return n.splice(t,1),e;let r=t-1,i=t+1;e.closed&&(r%=n.length,i%=n.length);const o=n[t],s=n[r],a=n[i];if(xc(s.out)&&xc(a.in)&&xc(o.in)&&xc(o.out))return n.splice(t,1),e;const u=[s.point,Wi(s.out,s.point),Wi(o.in,o.point),o.point],c=[o.point,Wi(o.out,o.point),Wi(a.in,a.point),a.point],h=[wc(u,.3),wc(u,.6)],f=[wc(c,.3),wc(c,.6)],p=kC([s.point,...h,o.point,...f,a.point].map(({x:b,y:C})=>[b,C]),9999)[0],m=oo({x:p[1][0],y:p[1][1]},s.point),w=oo({x:p[2][0],y:p[2][1]},a.point);let x=jl(s.out);(Number.isNaN(x.x)||Number.isNaN(x.y))&&(x=jl(m));let _=jl(a.in);(Number.isNaN(_.x)||Number.isNaN(_.y))&&(_=jl(w));const y=vt({x:0,y:0},m),v=vt({x:0,y:0},w);return s.out={x:x.x*y,y:x.y*y},a.in={x:_.x*v,y:_.y*v},n.splice(t,1),e};class s6{constructor(t){Ei(this,"points"),Ei(this,"dpoints",[]),Ei(this,"_bbox",null),Ei(this,"lut",[]),this.points=t,this.dpoints[0]={x:3*(t[1].x-t[0].x),y:3*(t[1].y-t[0].y)},this.dpoints[1]={x:3*(t[2].x-t[1].x),y:3*(t[2].y-t[1].y)},this.dpoints[2]={x:3*(t[3].x-t[2].x),y:3*(t[3].y-t[2].y)}}compute(t){const n=t*t,r=1-t,i=r*r,o=i*r,s=3*t*i,a=3*n*r,u=n*t,[c,h,f,p]=this.points;return{x:o*c.x+s*h.x+a*f.x+u*p.x,y:o*c.y+s*h.y+a*f.y+u*p.y}}extrema(){const t=this.dpoints,n=[...Jy(t[0].x,t[1].x,t[2].x),...Jy(t[0].y,t[1].y,t[2].y)].filter(r=>r>=0&&r<=1);return Array.from(new Set(n))}getBbox(){if(!this._bbox){const t=this.extrema().map(n=>this.compute(n));this._bbox=Nu([...t,this.points[0],this.points[3]])}return this._bbox}hitTest(t,n){if(!$C(this.getBbox(),t,n))return!1;const r=this.getLookupTable();let i=Number.MAX_SAFE_INTEGER,o=-1;for(let h=0;h<r.length;h++){const f=r[h],p=vt(t,f.pt);if(p<=n)return!0;p<i&&(i=p,o=h)}const s=r[o].t,a=o>0?r[o-1].t:s,u=o<r.length-1?r[o+1].t:s,c=.001;for(let h=a;h<=u;h+=c){const f=this.compute(h);if(vt(t,f)<=n)return!0}return!1}getLookupTable(){if(this.lut.length===0)for(let t=0;t<=100;t++){const n=t/100,r=this.compute(n);this.lut[t]={t:n,pt:r}}return this.lut}project(t){const n=this.getLookupTable();let r=Number.MAX_SAFE_INTEGER,i=-1;for(let h=0;h<n.length;h++){const f=n[h],p=vt(t,f.pt);if(p<r&&(r=p,i=h,p===0))break}if(r===0){const h=this.compute(n[i].t);return{point:h,t:n[i].t,dist:vt(t,h)}}let o=n[i].t;const s=i>0?n[i-1].t:o,a=i<n.length-1?n[i+1].t:o,u=.001;for(let h=s;h<=a;h+=u){const f=this.compute(h),p=vt(t,f);if(p<r&&(r=p,o=h,p===0))break}o<0&&(o=0),o>1&&(o=1);const c=this.compute(o);return{point:c,t:o,dist:vt(t,c)}}toCommand(){const[t,n,r,i]=this.points;return t.x===n.x&&n.x===r.x&&r.x===i.x?[{type:"M",points:[t]},{type:"C",points:[n,r,i]}]:[{type:"M",points:[t]},{type:"C",points:[n,r,i]}]}}const Jy=(e,t,n)=>{const r=e-2*t+n;if(r!==0){const i=t*t-e*n;if(i<0)return[];const o=Math.sqrt(i),s=e-t;return o===0?[(s-o)/r]:[(s-o)/r,(s+o)/r]}else return e!==t?[e/(e-t)/2]:[]};let ex=class Yg{constructor(t){Ei(this,"bezierLists");const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=i.segs;n[r]={isClosed:i.closed,curves:[]};for(let s=1;s<=o.length;s++){if(s===o.length&&!i.closed)continue;const a=o[s%o.length],u=o[s-1];n[r].curves.push(new s6([u.point,Yg.getHandleOut(u),Yg.getHandleIn(a),a.point]))}}this.bezierLists=n}static getHandleIn(t){return Wi(t.point,t.in)}static getHandleOut(t){return Wi(t.point,t.out)}getBbox(){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const{curves:o}of this.bezierLists)for(const s of o){const a=s.getBbox();t=Math.min(t,a.minX),n=Math.min(n,a.minY),r=Math.max(r,a.maxX),i=Math.max(i,a.maxY)}return{minX:t,minY:n,maxX:r,maxY:i}}getBRect(){const t=this.getBbox();return t.minX===1/0?{x:0,y:0,width:100,height:100}:{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}}hitTest(t,n){for(const{curves:r}of this.bezierLists)for(const i of r)if(i.hitTest(t,n))return!0;return!1}project(t,n=1/0){const r={dist:n,point:{x:0,y:0},index:[-1,-1],t:-1};for(let i=0;i<this.bezierLists.length;i++){const{curves:o}=this.bezierLists[i];for(let s=0;s<o.length;s++){const a=o[s].project(t);if(a.dist<r.dist&&(r.dist=a.dist,r.point=a.point,r.index=[i,s],r.t=a.t),a.dist===0)break}}return r.index[0]===-1?null:r}toCommands(){const t=[];for(const{isClosed:n,curves:r}of this.bezierLists){for(let i=0;i<r.length;i++){const o=r[i].toCommand();i===0?t.push(...o):t.push(...o.slice(1))}n&&t.push({type:"Z",points:[]})}return t}};const Ps=(e,t)=>e.map(n=>n.type+n.points.map(r=>tx(r.x,t)+" "+tx(r.y,t)).join(" ")).join(" "),tx=(e,t=2)=>Number(e.toFixed(t)),a6=({center:e,r:t,startAngle:n,endAngle:r,angleDir:i=!0})=>{i===!1&&([n,r]=[r,n]);const o=(r-n+Math.PI*2)%(Math.PI*2),s=o/2,a=4*(1-Math.cos(s))/(3*Math.sin(s)),u=new ee().rotate(n).scale(t,t).translate(e.x,e.y);r-=n,n=0;const c=u.apply({x:1,y:0}),h=u.apply({x:1,y:a}),f=u.apply({x:Math.cos(o)+a*Math.sin(o),y:Math.sin(o)-a*Math.cos(o)}),p=u.apply({x:Math.cos(o),y:Math.sin(o)});return i?[c,h,f,p]:[p,f,h,c]},l6=(e,t)=>{const n=e.width/2,r=e.height/2,i=[{x:n,y:0}],o=Math.PI*2/t,s=new ee().translate(-n,-r).rotate(o).translate(n,r);let a=i[0];for(let c=1;c<t;c++){const{x:h,y:f}=s.apply(a),p={x:h,y:f};i.push(p),a=p}const u=e.width/e.height;for(let c=1;c<t;c++){const h=i[c];h.x=Ih(n,h.x,u)}return i},u6=(e,t)=>{let n;for(let r=0;r<e.length;r++){const i=e[r],o=e[(r+1)%e.length],s={x:o.x-i.x,y:o.y-i.y},a={x:t.x-i.x,y:t.y-i.y},u=Math.sign(s.x*a.y-s.y*a.x);if(u!==0){if(n===void 0)n=u;else if(n!==u)return!1}}return!0},c6=(e,t)=>{let n=!1;for(let r=0;r<e.length;r++){let i=e[r],o=e[(r+1)%e.length];if(i.y>o.y&&([i,o]=[o,i]),i.y<=t.y&&o.y>t.y){const s=(t.x-i.x)*(o.y-i.y)-(o.x-i.x)*(t.y-i.y);if(s===0)return!0;s>0&&(n=!n)}}return n},MC=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const i=e[(r-1+e.length)%e.length],o=e[r],s=e[(r+1)%e.length],a=h6(Wg(i,o),o,Wg(o,s),t),u=d6([i,o],[o,s],a);if(r===0)n.push({type:"M",points:[u.start]});else{const h=n[n.length-1].points,f=h[h.length-1];Dm(u.start,f)||n.push({type:"L",points:[u.start]})}const c=a6({center:u.center,r:a,startAngle:u.startAngle,endAngle:u.endAngle,angleDir:u.angleDir});n.push({type:"C",points:[c[1],c[2],c[3]]})}return n.push({type:"Z",points:[]}),n},h6=(e,t,n,r)=>{const i={x:t.x-e.x,y:t.y-e.y},o={x:t.x-n.x,y:t.y-n.y},s=z8(i,o)/2,a=Math.tan(s)*vt(e,t),u=Math.tan(s)*vt(t,n);return Math.min(r,a,u)},d6=(e,t,n)=>{const r=e[0],i=e[1],o=t[0],s=t[1],a={x:r.x-i.x,y:r.y-i.y},u={x:s.x-o.x,y:s.y-o.y},c=a.x*u.y-u.x*a.y;if(c===0)return null;let h,f;c<0?(h={x:a.y,y:-a.x},f={x:-u.y,y:u.x}):(h={x:-a.y,y:a.x},f={x:u.y,y:-u.x});const p=n/vt(r,i),m={x:h.x*p,y:h.y*p},w=[{x:r.x+m.x,y:r.y+m.y},{x:i.x+m.x,y:i.y+m.y}],x=n/vt(o,s),_={x:f.x*x,y:f.y*x},y=[{x:o.x+_.x,y:o.y+_.y},{x:s.x+_.x,y:s.y+_.y}],v=J8(w[0],w[1],y[0],y[1]),{point:b}=Kg(r,i,v,!0),{point:C}=Kg(o,s,v,!0),M={x:1,y:0},T=Ii(M,{x:b.x-v.x,y:b.y-v.y}),P=Ii(M,{x:C.x-v.x,y:C.y-v.y});return{center:v,start:b,end:C,startAngle:T,endAngle:P,angleDir:c<0}},PC=(e,t,n,r={keepPolarSnap:!1,scaleFromCenter:!1})=>{if(!["se","ne","nw","sw"].includes(e))throw new Error(`invalid type "${e}"`);const i=e==="se"||e==="ne";let o={x:0,y:0};r.scaleFromCenter?o=new ee(...n.transform).apply({x:n.width/2,y:n.height/2}):i?o={x:n.transform[4],y:n.transform[5]}:o=new ee(...n.transform).apply({x:n.width,y:n.height}),r.keepPolarSnap&&(t=Q8(o,t));let s=vt(t,o);if(r.scaleFromCenter&&(s*=2),i){const a={x:t.x-o.x,y:t.y-o.y},u=Ii({x:1,y:0},{x:t.x-o.x,y:t.y-o.y}),c=new ee().rotate(u).translate(o.x,o.y);return r.scaleFromCenter&&c.translate(-a.x,-a.y),{width:s,height:0,transform:c.getArray()}}else{const a={x:o.x-t.x,y:o.y-t.y},u=Ii({x:1,y:0},a),c=new ee().rotate(u),h=c.apply({x:s,y:n.height});return c.translate(o.x-h.x,o.y-h.y),r.scaleFromCenter&&c.translate(a.x,a.y),{width:s,height:0,transform:c.getArray()}}},bc=(e,t)=>({width:e*2,height:t*2}),f6={sw:{getLocalOrigin:e=>({x:e,y:0}),getNewSize:(e,t)=>({width:t.x-e.x,height:e.y-t.y}),isBaseWidthWhenKeepRatio:e=>e,getSizeWhenScaleFromCenter:bc},se:{getLocalOrigin:()=>({x:0,y:0}),getNewSize:(e,t)=>({width:e.x-t.x,height:e.y-t.y}),isBaseWidthWhenKeepRatio:e=>e,getSizeWhenScaleFromCenter:bc},nw:{getLocalOrigin:(e,t)=>({x:e,y:t}),getNewSize:(e,t)=>({width:t.x-e.x,height:t.y-e.y}),isBaseWidthWhenKeepRatio:e=>e,getSizeWhenScaleFromCenter:bc},ne:{getLocalOrigin:(e,t)=>({x:0,y:t}),getNewSize:(e,t)=>({width:e.x-t.x,height:t.y-e.y}),isBaseWidthWhenKeepRatio:e=>e,getSizeWhenScaleFromCenter:bc},n:{getLocalOrigin:(e,t)=>({x:e/2,y:t}),getNewSize:(e,t,n)=>({width:n.width,height:t.y-e.y}),isBaseWidthWhenKeepRatio:()=>!1,getSizeWhenScaleFromCenter:(e,t)=>({width:e,height:t*2})},s:{getLocalOrigin:e=>({x:e/2,y:0}),getNewSize:(e,t,n)=>({width:n.width,height:e.y-t.y}),isBaseWidthWhenKeepRatio:()=>!1,getSizeWhenScaleFromCenter:(e,t)=>({width:e,height:t*2})},e:{getLocalOrigin:(e,t)=>({x:0,y:t/2}),getNewSize:(e,t,n)=>({width:e.x-t.x,height:n.height}),isBaseWidthWhenKeepRatio:()=>!0,getSizeWhenScaleFromCenter:(e,t)=>({width:e*2,height:t})},w:{getLocalOrigin:(e,t)=>({x:e,y:t/2}),getNewSize:(e,t,n)=>({width:t.x-e.x,height:n.height}),isBaseWidthWhenKeepRatio:()=>!0,getSizeWhenScaleFromCenter:(e,t)=>({width:e*2,height:t})}},jh=(e,t,n,r)=>{const i=f6[e];if(!i)throw new Error(`resize type ${e} is invalid`);const{keepRatio:o,scaleFromCenter:s,noChangeWidthAndHeight:a,flip:u=!0}=r??{},c=new ee(...n.transform),h={width:0,height:0,transform:c.clone()},f=s?{x:n.width/2,y:n.height/2}:i.getLocalOrigin(n.width,n.height),p=c.applyInverse(t);let m=i.getNewSize(p,f,n);if(s&&(m=i.getSizeWhenScaleFromCenter(m.width,m.height)),o){const C=n.width/n.height,M=Math.abs(m.width/m.height)>C;i.isBaseWidthWhenKeepRatio(M)?m.height=Math.sign(m.height)*Math.abs(m.width)/C:m.width=Math.sign(m.width)*Math.abs(m.height)*C}const w=new ee,x=Math.sign(m.width)||1,_=Math.sign(m.height)||1;a?(w.scale(m.width/n.width,m.height/n.height),h.width=n.width,h.height=n.height):(h.width=Math.abs(m.width),h.height=Math.abs(m.height),w.scale(x,_)),h.transform=h.transform.append(w);const y=h.transform.apply(s?{x:h.width/2,y:h.height/2}:i.getLocalOrigin(h.width,h.height)),v=c.apply(f),b={x:v.x-y.x,y:v.y-y.y};if(h.transform.prepend(new ee().translate(b.x,b.y)),!u){const C=new ee().translate(-h.width/2,-h.height/2).scale(x,_).translate(h.width/2,h.height/2);h.transform.append(C)}return{width:h.width,height:h.height,transform:h.transform.getArray()}},p6=(e,t,n)=>{const r=e.width/2,i=e.height/2,o=new Array(t*2);o[0]={x:r,y:0};const s=Math.PI*2/t,a=new ee().translate(-r,-i).rotate(s).translate(r,i);let u=o[0];for(let f=1;f<t;f++){const{x:p,y:m}=a.apply(u),w={x:p,y:m};o[f*2]=w,u=w}const c=new ee().translate(-r,-i).rotate(s/2).translate(r,i);u=ko({x:r,y:i},c.apply(o[0]),n),o[1]=u;for(let f=1;f<t;f++){const{x:p,y:m}=a.apply(u),w={x:p,y:m};o[f*2+1]=w,u=w}const h=e.width/e.height;for(let f=1;f<o.length;f++){const p=o[f];p.x=Ih(r,p.x,h)}return o};let Sc=null;const AC=()=>Sc||(Sc=document.createElement("canvas").getContext("2d"),Sc.fontKerning="none",Sc),g6=(e,t)=>{const n=[],r={x:0,y:0},i=AC();i.font=`${t.fontSize}px ${t.fontFamily}`;for(const o of e){const s=i.measureText(o);n.push({position:{...r},width:s.width,height:s.fontBoundingBoxAscent+s.fontBoundingBoxDescent,fontBoundingBoxAscent:s.fontBoundingBoxAscent}),r.x+=s.width}return n.push({position:{...r},width:0,height:0,fontBoundingBoxAscent:0}),n},IC=(e,t)=>{const n=AC();n.font=`${t.fontSize}px ${t.fontFamily}`;const r=n.measureText(e);return{width:r.width,height:r.fontBoundingBoxAscent+r.fontBoundingBoxDescent,fontBoundingBoxAscent:r.fontBoundingBoxAscent}},nx=Math.PI*2,qi=Math.PI/2;var J=(e=>(e.Solid="Solid",e.Image="Image",e))(J||{});const m6={type:"Solid",attrs:{r:217,g:217,b:217,a:1},visible:!0},v6={type:"Image",attrs:{},visible:!0},y6={Solid:m6,Image:v6},jC=(()=>{const e=document.createElement("canvas");e.width=4,e.height=4;const t=e.getContext("2d");for(let n=0;n<e.width;n++)for(let r=0;r<e.height;r++){const i=(n+r)%2===0?"black":"white";t.fillStyle=i,t.fillRect(n,r,1,1)}return e})(),OC=jC.toDataURL(),rx=e=>{if(!e||e.length===0)return!1;for(const t of e)if(t.visible!==!1&&(t.type==="Solid"&&t.attrs.a!==0||t.type==="Image"&&t.attrs.opacity!==0))return!0;return!1};var xe=(e=>(e.Graph="Graph",e.Rect="Rect",e.Ellipse="Ellipse",e.Text="Text",e.Line="Line",e.Path="Path",e.RegularPolygon="RegularPolygon",e.Star="Star",e.Frame="Frame",e.Canvas="Canvas",e.Document="Document",e))(xe||{}),Ke=(e=>(e.Left="Left",e.HCenter="HCenter",e.Right="Right",e.Top="Top",e.VCenter="VCenter",e.Bottom="Bottom",e))(Ke||{}),ar=(e=>(e.Front="Front",e.Back="Back",e.Forward="Forward",e.Backward="Backward",e))(ar||{});const RC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Ca(e,t,n){const r=n[0];if(t!=null&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){let s=0;for(;(e[s]||r)===t[s];)s++;if(s>0)return t.slice(0,s)+Ca(e.slice(s),t.slice(s),n)}const i=e?n.indexOf(e[0]):0,o=t!=null?n.indexOf(t[0]):n.length;if(o-i>1){const s=Math.round(.5*(i+o));return n[s]}else return t&&t.length>1?t.slice(0,1):n[i]+Ca(e.slice(1),null,n)}function LC(e){if(e.length!==DC(e[0]))throw new Error("invalid integer part of order key: "+e)}function DC(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function Ol(e){const t=DC(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function ix(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);const n=Ol(e);if(e.slice(n.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function ox(e,t){LC(e);const[n,...r]=e.split("");let i=!0;for(let o=r.length-1;i&&o>=0;o--){const s=t.indexOf(r[o])+1;s===t.length?r[o]=t[0]:(r[o]=t[s],i=!1)}if(i){if(n==="Z")return"a"+t[0];if(n==="z")return null;const o=String.fromCharCode(n.charCodeAt(0)+1);return o>"a"?r.push(t[0]):r.pop(),o+r.join("")}else return n+r.join("")}function x6(e,t){LC(e);const[n,...r]=e.split("");let i=!0;for(let o=r.length-1;i&&o>=0;o--){const s=t.indexOf(r[o])-1;s===-1?r[o]=t.slice(-1):(r[o]=t[s],i=!1)}if(i){if(n==="a")return"Z"+t.slice(-1);if(n==="A")return null;const o=String.fromCharCode(n.charCodeAt(0)-1);return o<"Z"?r.push(t.slice(-1)):r.pop(),o+r.join("")}else return n+r.join("")}function no(e,t,n=RC){if(e!=null&&ix(e,n),t!=null&&ix(t,n),e!=null&&t!=null&&e>=t)throw new Error(e+" >= "+t);if(e==null){if(t==null)return"a"+n[0];const u=Ol(t),c=t.slice(u.length);if(u==="A"+n[0].repeat(26))return u+Ca("",c,n);if(u<t)return u;const h=x6(u,n);if(h==null)throw new Error("cannot decrement any more");return h}if(t==null){const u=Ol(e),c=e.slice(u.length);return ox(u,n)??u+Ca(c,null,n)}const r=Ol(e),i=e.slice(r.length),o=Ol(t),s=t.slice(o.length);if(r===o)return r+Ca(i,s,n);const a=ox(r,n);if(a==null)throw new Error("cannot increment any more");return a<t?a:r+Ca(i,null,n)}function As(e,t,n,r=RC){if(n===0)return[];if(n===1)return[no(e,t,r)];if(t==null){let s=no(e,t,r);const a=[s];for(let u=0;u<n-1;u++)s=no(s,t,r),a.push(s);return a}if(e==null){let s=no(e,t,r);const a=[s];for(let u=0;u<n-1;u++)s=no(e,s,r),a.push(s);return a.reverse(),a}const i=Math.floor(n/2),o=no(e,t,r);return[...As(e,o,i,r),o,...As(o,t,n-i-1,r)]}const sx=(e,t,n,r)=>{const i=[t-r/2,n-r/2],o=[t+r/2,n-r/2],s=[t-r/2,n+r/2],a=[t+r/2,n+r/2];Oh(e,i[0],i[1],a[0],a[1]),Oh(e,o[0],o[1],s[0],s[1])},Oh=(e,t,n,r,i)=>{e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.closePath(),e.stroke()},ax=(e,t,n,r)=>{e.translate(n,r),e.rotate(t),e.translate(-n,-r)},w6=(e,t,n,r,i,o)=>{e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.arcTo(t+r,n,t+r,n+o,o),e.lineTo(t+r,n+i-o),e.arcTo(t+r,n+i,t+r-o,n+i,o),e.lineTo(t+o,n+i),e.arcTo(t,n+i,t,n+i-o,o),e.lineTo(t,n+o),e.arcTo(t,n,t+o,n,o),e.closePath()},yo=(e,t)=>{const n=e.getChildren();let r=0;const i=new RegExp(`^${t}\\s+(\\d+)`);for(const o of n){const s=o.attrs.objectName.match(i);if(s){const a=parseInt(s[1]);a>r&&(r=a)}}return`${t} ${r+1}`},lx=e=>{e.sort(([n],[r])=>n-r);const t=[];for(const[n,r]of e){const i=t.at(-1);i&&i[1]>=n?i[1]=Math.max(r,i[1]):t.push([n,r])}return t},wu=(e,t,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(!(n!=null&&n(i))&&Sn(i)&&!i.isGroup()&&i.hitTest(e))return wu(e,i.getChildren(),n)||i}return null},ux=e=>({...e,midX:e.minX/2+e.maxX/2,midY:e.minY/2+e.maxY/2}),b6=e=>({x:e.minX/2+e.maxX/2,y:e.minY/2+e.maxY/2}),cx=e=>{const t=new Map;for(const n of e){const{x:r,y:i}=n;t.has(r)||t.set(r,[]),t.get(r).push(i)}return t},hx=e=>{const t=new Map;for(const n of e){const{x:r,y:i}=n;t.has(i)||t.set(i,[]),t.get(i).push(r)}return t},S6=e=>{const t=Ii({x:0,y:-1},{x:e.width,y:e.height}),{width:n,height:r}=e,i=t%qi;if(i<Math.PI/8||i>Math.PI*3/8)Math.abs(n)>Math.abs(r)?e.height=0:e.width=0;else{const o=Math.min(Math.abs(n),Math.abs(r)),s=Math.max(Math.abs(n),Math.abs(r)),a=o+(s-o)/2;e.height=(Math.sign(r)||1)*a,e.width=(Math.sign(n)||1)*a}return e},Ko=e=>e.reduce((t,n)=>{const r=new Set;for(const i of n.getFrameParentIds()){if(t.has(i))break;r.add(i)}return r.size===0?t:(t.forEach(i=>{r.add(i)}),r)},new Set),Zd=(e,t=!1)=>{const n=new Set;for(const r of e){if(n.has(r))return n;t&&n.add(r),Sn(r)&&Zd(r.getChildren(),!0).forEach(i=>{n.add(i)})}return n},bu=(e,t,n,r)=>{for(const i of t){const o=e.doc.getGraphicsById(i);o&&Sn(o)&&o.isGroup()&&!o.isEmpty()&&o.updateSizeByChildren(n,r)}},E6=e=>{let t;const n=function(...r){t===void 0&&(t=requestAnimationFrame(()=>{t=void 0,e(r)}))};return n.cancel=()=>{t!==void 0&&cancelAnimationFrame(t),t=void 0},n};class ht{constructor(t,n){$(this,"type",xe.Graph),$(this,"attrs"),$(this,"doc"),$(this,"_cacheBboxWithStroke",null),$(this,"_cacheBbox",null),$(this,"_cacheMinBbox",null),$(this,"noRender",!1),$(this,"_deleted",!1),$(this,"_sortDirty",!1),$(this,"noCollectUpdate"),$(this,"updatedKeys",new Set),$(this,"children",[]),$(this,"isContainer",!1);var r,i;this.doc=n.doc;const o=t.transform??Ug(),s=n.advancedAttrs;s&&!t.transform&&(s.x!==void 0&&(o[4]=s.x),s.y!==void 0&&(o[5]=s.y)),this.attrs={...t},(r=this.attrs).id??(r.id=vu()),this.attrs.transform=o,(i=this.attrs).strokeWidth??(i.strokeWidth=1),this.attrs.objectName?Ly.setMaxIdx(t.objectName):this.attrs.objectName=Ly.gen(this.attrs.type??""),this.noCollectUpdate=!!(n!=null&&n.noCollectUpdate)}getAttrs(){return Q(this.attrs)}shouldUpdateBbox(t){return t.x!==void 0||t.y!==void 0||t.width!==void 0||t.height!==void 0||t.transform!==void 0||"strokeWidth"in t||"parentIndex"in t}clearBboxCache(){this._cacheBbox=null,this._cacheBboxWithStroke=null,this._cacheMinBbox=null}getUpdatedAttrs(){const t=wC(this.attrs,[...this.updatedKeys]);return this.updatedKeys.clear(),t}updateAttrs(t,n){if(this.shouldUpdateBbox(t)&&this.clearBboxCache(),"strokeWidth"in t&&t.strokeWidth===void 0&&(t.strokeWidth=1),!t.transform&&(t.x!==void 0||t.y!==void 0)){const r=Q(this.attrs.transform);t.x&&(r[4]=t.x),t.y&&(r[5]=t.y),this.attrs.transform=r,this.updatedKeys.add("transform")}t.rotate!==void 0&&this.setRotate(t.rotate),t=Uj(t,"x","y","rotate");for(const r in t)this.updatedKeys.add(r),this.attrs[r]=t[r];(!this.noCollectUpdate||this.attrs.parentIndex)&&this.doc.collectUpdatedGraphics(this.attrs.id)}cancelCollectUpdate(){this.noCollectUpdate=!0}getStrokeWidth(){var t;return(t=this.attrs.stroke)!=null&&t.length?this.attrs.strokeWidth??0:0}getBboxWithStroke(){if(this._cacheBboxWithStroke)return this._cacheBboxWithStroke;const t=Kl({...this.getSize(),transform:this.getWorldTransform()},this.getStrokeWidth()/2);return this._cacheBboxWithStroke=t,t}getBbox(){return Kl({...this.getSize(),transform:this.getWorldTransform()})}getLocalBbox(){if(this._cacheBbox)return this._cacheBbox;const t=Kl({...this.getSize(),transform:this.attrs.transform});return this._cacheBbox=t,t}getMinBbox(){return this.getBbox()}getWorldBboxVerts(){const t={x:0,y:0,width:this.attrs.width,height:this.attrs.height};return zo(t,this.getWorldTransform())}getLocalPosition(){return{x:this.attrs.transform[4],y:this.attrs.transform[5]}}getWorldPosition(){const t=this.getWorldTransform();return{x:t[4],y:t[5]}}getX(){return this.attrs.transform[4]}getY(){return this.attrs.transform[5]}getSize(){return{width:this.attrs.width,height:this.attrs.height}}getOpacity(){return this.attrs.opacity??1}getRect(){return{...this.getLocalPosition(),width:this.attrs.width,height:this.attrs.height}}getTransformedSize(){return _C(this.attrs)}getLocalCenter(){return new ee(...this.attrs.transform).apply({x:this.attrs.width/2,y:this.attrs.height/2})}getWorldCenter(){return new ee(...this.getWorldTransform()).apply({x:this.attrs.width/2,y:this.attrs.height/2})}isStrokeShouldRender(){return rx(this.attrs.stroke)}isFillShouldRender(){return rx(this.attrs.fill)}hitTest(t,n=0){return Hm(t,{...this.getSize(),transform:this.getWorldTransform()},n+this.getStrokeWidth()/2)}getHitGraphics(t,n){const{tol:r=0}=n;return!this.isVisible()||this.isLock()||!this.isFillShouldRender()&&!this.isStrokeShouldRender()?null:this.hitTest(t,r)?this:null}hitTestChildren(t,n=0){if(!this.isContainer)return this.hitTest(t,n);if(!this.hitTest(t,n))return!1;const r=this.getChildren();for(let i=r.length-1;i>=0;i--)if(r[i].hitTest(t,n))return!0;return!1}intersectWithChildrenBox(t){if(!this.isContainer)return this.intersectWithBox(t);if(!this.intersectWithBox(t))return!1;const n=this.getChildren();for(const r of n)if(r.isVisible()&&r.intersectWithBox(t))return!0;return!1}strokeAABBIntersectWithBox(t){return Xg(t,this.getBboxWithStroke())}intersectWithBox(t){let n=!1;if(!Xg(t,this.getMinBbox()))n=!1;else{const r=this.getRotate();if(!r||r%qi==0)n=!0;else{const[i,o,s,a]=zo(fo(t),Ci(this.getWorldTransform())),u=Math.min(i.x,o.x,s.x,a.x),c=Math.min(i.y,o.y,s.y,a.y),h=Math.max(i.x,o.x,s.x,a.x),f=Math.max(i.y,o.y,s.y,a.y),p={x:u,y:c,width:h-u,height:f-c};n=X8(p,{x:0,y:0,...this.getSize()})}}return n}containWithBox(t){const n=this.getMinBbox();return Qy(t,n)||Qy(n,t)}calcNewAttrsByControlHandle(t,n,r,i,o=!1,s=!1,a){const u=this.getParentWorldTransform();r={width:r.width,height:r.height,transform:i};const c=this.attrs.height===0?PC(t,n,r,{keepPolarSnap:o,scaleFromCenter:s}):jh(t,n,r,{keepRatio:o,scaleFromCenter:s,flip:a});return c.transform=Zn(Ci(u),c.transform),c}updateByControlHandle(t,n,r,i,o=!1,s=!1,a){const u=this.calcNewAttrsByControlHandle(t,n,r,i,o,s,a);this.updateAttrs(u,{finishRecomputed:!0})}shouldSkipDraw(t){return!!(!this.isVisible()||this.getOpacity()*(t.opacity??1)===0||t.viewportArea&&!this.strokeAABBIntersectWithBox(t.viewportArea))}draw(t){if(this.shouldSkipDraw(t))return;const{ctx:n}=t;n.save(),n.transform(...this.attrs.transform);for(const r of this.children)r.draw(t);n.restore()}drawOutline(t,n,r){const{width:i,height:o}=this.attrs;t.transform(...this.getWorldTransform()),t.strokeStyle=n,t.lineWidth=r,t.beginPath(),t.rect(0,0,i,o),t.stroke(),t.closePath()}fillImage(t,n,r,i=!0,o=0){const s=n.attrs.src,a=this.attrs.width,u=this.attrs.height,c=0,h=0;let f;if(t.imageSmoothingEnabled=i,s?(r.addImg(s),f=r.getImg(s)):(t.imageSmoothingEnabled=!1,f=jC),!f)return;const p=r4(f.width,f.height,a,u),m=f.width/2-a/p/2,w=f.height/2-u/p/2;o&&(t.save(),w6(t,c,h,a,u,o),t.clip()),t.drawImage(f,m,w,a/p,u/p,c,h,a,u),o&&t.restore()}static dMove(t,n,r){for(const i of t){const o=i.getWorldTransform();o[4]+=n,o[5]+=r,i.setWorldTransform(o)}}toJSON(){return{...this.attrs}}isVisible(){return this.attrs.visible??!0}isLock(){return this.attrs.lock??!1}isDeleted(){return this._deleted}setDeleted(t){this._deleted=t,this.doc.collectDeletedGraphics(this)}toObject(){return{type:this.type,id:this.attrs.id,name:this.attrs.objectName,visible:this.isVisible(),lock:this.isLock(),children:this.children.map(t=>t.toObject())}}getControlHandles(t,n){return[]}getRotate(){return Ua(this.getWorldTransform())}getRotateDegree(){return xu(EC(this.getRotate()))}setRotate(t,n){const r=this.getRotate(),i=t-r;n??(n=this.getWorldCenter());const o=new ee().translate(-n.x,-n.y).rotate(i).translate(n.x,n.y);this.prependWorldTransform(o.getArray())}prependWorldTransform(t){const n=this.getParentWorldTransform(),r=Zn(t,Zn(n,this.attrs.transform));this.updateAttrs(Vc({...this.getSize(),transform:Zn(Ci(n),r)}))}dRotate(t,n,r){const i=new ee().translate(-r.x,-r.y).rotate(t).translate(r.x,r.y).append(new ee(...n)).getArray();this.setWorldTransform(i)}getInfoPanelAttrs(){const t=this.getTransformedSize(),n=this.getWorldPosition();return[{label:"X",key:"x",value:n.x,uiType:"number"},{label:"Y",key:"y",value:n.y,uiType:"number"},{label:"W",key:"width",value:t.width,uiType:"number"},{label:"H",key:"height",value:t.height,uiType:"number"},{label:"R",key:"rotation",value:this.getRotateDegree(),suffixValue:"°",uiType:"number"}]}toSVGSegment(t){const n=this.getSVGTagHead(t);if(!n)return console.warn(`please implement getSVGTagHead method of "${this.type}" type`),"";const r=[],{fillPaints:i,strokePaints:o}=this.getFillAndStrokesToSVG();if(i.length<=1&&o.length<=1){const h=i[0];if(h){const p={};if(h.type===J.Solid){p.fill="#"+vc(h.attrs);const m=h.attrs.a;m!==1&&(p["fill-opacity"]=m)}r.push(p)}const f=o[0];if(f){const p={};if(f.type===J.Solid){p.stroke="#"+vc(f.attrs);const m=f.attrs.a;m!==1&&(p["stroke-opacity"]=m)}r.push(p)}}else{for(const h of i)if(h&&h.type===J.Solid){const f={fill:"#"+vc(h.attrs)},p=h.attrs.a;p!==1&&(f["fill-opacity"]=p),r.push(f)}for(const h of o)if(h&&h.type===J.Solid){const f={stroke:"#"+vc(h.attrs)},p=h.attrs.a;p!==1&&(f["stroke-opacity"]=p),r.push(f)}}const s=this.attrs.strokeWidth??0,a=s>1?` stroke-width="${s}"`:"";let u="";const c=this.getSVGTagTail();for(const h of r){let f="",p;for(p in h)f+=` ${p}="${h[p]}"`;u+=n+f+a+c}return u}getSVGTagHead(t){return""}getSVGTagTail(){return`/>
`}getFillAndStrokesToSVG(){return{fillPaints:this.attrs.fill??[],strokePaints:this.attrs.stroke??[]}}getLayerIconPath(){return"M0.5 0.5H11.5V11.5H0.5V0.5Z"}getWorldTransform(){const t=this.getParent();return t?Zn(t.getWorldTransform(),this.attrs.transform):[...this.attrs.transform]}getChildren(){return this.isContainer?(this._sortDirty&&this.sortChildren(),[...this.children]):[]}getChildrenCount(){return this.children.length}setChildren(t){if(!this.isContainer)return;const n=As(null,null,t.length);for(let r=0;r<t.length;r++)t[r].updateAttrs({parentIndex:{guid:this.attrs.id,position:n[r]}})}insertAtParent(t){const n=this.getParent();n&&n.insertChild(this,t)}insertChild(t,n){if(!this.isContainer){console.warn(`graphics "${this.type}" is not container`);return}if(this.children.some(i=>i.attrs.id===t.attrs.id)){n&&this.sortChildren();return}if(!n){const i=this.getMaxChildIndex();n=no(i,null)}t.removeFromParent();const r={guid:this.attrs.id,position:n};Du(t.attrs.parentIndex,r)||t.updateAttrs({parentIndex:r}),this.children.push(t),n&&this.sortChildren()}removeChild(t){this.children=this.children.filter(n=>n.attrs.id!==t.attrs.id)}markSortDirty(){this._sortDirty=!0}sortChildren(){ht.sortGraphicsArray(this.children)}static sortGraphicsArray(t){return t.sort((n,r)=>{var i,o;return(((i=n.attrs.parentIndex)==null?void 0:i.position)??"")<(((o=r.attrs.parentIndex)==null?void 0:o.position)??"")?-1:1}),t}getParentId(){var t;return(t=this.attrs.parentIndex)==null?void 0:t.guid}getParent(){const t=this.getParentId();if(t)return this.doc.getGraphicsById(t)}getParentWorldTransform(){const t=this.getParent();return t?t.getWorldTransform():Ug()}removeFromParent(){const t=this.getParent();t&&t.removeChild(this)}getMaxChildIndex(){if(this.children.length===0)return null;if(!this._sortDirty)return this.children.at(-1).getSortIndex()??null;let t=this.children[0].getSortIndex();for(let n=1;n<this.children.length;n++){const r=this.children[n].getSortIndex();r>t&&(t=r)}return t}getMinChildIndex(){if(this.children.length===0)return null;if(!this._sortDirty)return this.children.at(0).getSortIndex()??null;let t=this.children[0].getSortIndex();for(let n=1;n<this.children.length;n++){const r=this.children[n].getSortIndex();r<t&&(t=r)}return t}getSortIndex(){var t;return((t=this.attrs.parentIndex)==null?void 0:t.position)??""}getNextSibling(){const t=this.getParent();if(!t)return null;const n=t.getChildren(),r=n.findIndex(i=>i===this);return r==-1&&console.warn("index should not be -1!"),n[r+1]??null}getSortIndexPath(){const t=[];let n=this;for(;n;)t.push(n.getSortIndex()),n=n.getParent();return t.reverse(),t}static sortGraphics(t){const n=t.map(r=>({path:r.getSortIndexPath(),val:r}));return n.sort((r,i)=>{const o=Math.max(r.path.length,i.path.length);for(let s=0;s<o;s++){const a=r.path[s],u=i.path[s];if(a!==u)return a<u?-1:1}return r.path.length<i.path.length?-1:1}),n.map(r=>r.val)}containAncestor(t){let n=this;for(;n;){if(n.attrs.id===t)return!0;n=n.getParent()}return!1}forEachParent(t){let n=!1;const r=()=>{n=!0};let i=this.getParent();for(;i&&(t(i,r),!n);)i=i.getParent()}getParentIds(){const t=[];return this.forEachParent(n=>{t.push(n.attrs.id)}),t}getFrameParentIds(){const t=[];return this.forEachParent((n,r)=>{if(n.type===xe.Canvas){r();return}t.push(n.attrs.id)}),t}setWorldTransform(t){const n=this.getParentWorldTransform(),r=Zn(Ci(n),t);this.updateAttrs({transform:r})}forEachVisibleChildNode(t){if(this.isVisible()){for(const n of this.children)n.forEachVisibleChildNode(t);t(this)}}}const Bu=e=>{const{originCtx:t,viewSize:n,draw:r}=e;t.save();const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const o=i.getContext("2d");return o.setTransform(t.getTransform()),r(o),t.resetTransform(),t.drawImage(i,0,0),t.restore(),i};class Hu extends ht{constructor(t,n){super({...t,type:xe.Ellipse},n),$(this,"type",xe.Ellipse)}hitTest(t,n=0){const r=this.attrs,i=r.width/2,o=r.height/2,s=this.getStrokeWidth();n=n+s/2;const a=r.width/2+n,u=r.height/2+n,c=new ee(...this.getWorldTransform()).applyInverse(t);return(c.x-i)**2/a**2+(c.y-o)**2/u**2<=1}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1),{ctx:r,imgManager:i,smooth:o}=t,s=this.attrs,a=s.width/2,u=s.height/2;r.save(),r.transform(...s.transform),n<1&&(r.globalAlpha=n);const c=h=>{h.beginPath(),h.ellipse(a,u,s.width/2,s.height/2,0,0,nx);for(const f of s.fill??[])f.visible!==!1&&(f.type===J.Solid?(h.fillStyle=tr(f.attrs),h.fill()):f.type===J.Image&&(i?(h.clip(),this.fillImage(h,f,i,o)):console.warn("ImgManager is not provided")));if(s.strokeWidth){h.lineWidth=s.strokeWidth;for(const f of s.stroke??[])f.visible!==!1&&(f.type===J.Solid?(h.strokeStyle=tr(f.attrs),h.stroke()):(f.type,J.Image))}h.closePath()};n!==1?Bu({originCtx:r,viewSize:this.doc.getDeviceViewSize(),draw:c}):c(r),r.restore()}drawOutline(t,n,r){const{width:i,height:o}=this.attrs,s=i/2,a=o/2;t.transform(...this.getWorldTransform()),t.strokeStyle=n,t.lineWidth=r,t.beginPath(),t.ellipse(s,a,i/2,o/2,0,0,nx),t.stroke(),t.closePath()}getSVGTagHead(t){const n=[...this.attrs.transform];t&&(n[4]+=t.x,n[5]+=t.y);const r=this.attrs.width/2,i=this.attrs.height/2;return this.attrs.width===this.attrs.height?`<circle cx="${r}" cy="${i}" r="${r}" transform="matrix(${n.join(" ")})"`:`<ellipse cx="${r}" cy="${i}" rx="${r}" ry="${i}" transform="matrix(${n.join(" ")})"`}getLayerIconPath(){const t=this.getBbox(),n=t.maxX-t.minX,r=t.maxY-t.minY,i=11/Math.max(n,r),o=new ee().prepend(new ee(...this.getWorldTransform())).translate(-t.minX-n/2,-t.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.attrs,a=q8({x:0,y:0,width:s.width,height:s.height});return a.forEach(u=>{u.points.forEach((c,h)=>{u.points[h]=o.apply(c)})}),Ps(a,5)}}class Fu extends ht{constructor(t,n){super({...t,type:xe.Frame},n),$(this,"type",xe.Frame),$(this,"isContainer",!0)}updateSizeByChildren(t,n){const r=fo(vo(this.children.filter(u=>u.isVisible()).map(u=>u.getLocalBbox())));if(r.x===0&&r.y===0&&r.width===this.attrs.width&&r.height===this.attrs.height)return;for(const u of this.children){const c=u.attrs.id;t.set(c,Object.assign({transform:[...u.attrs.transform]},t.get(c)??{}));const h=new ee(...u.attrs.transform).translate(-r.x,-r.y);u.updateAttrs({transform:h.getArray()});const f=Object.assign(n.get(c)??{},{transform:[...u.attrs.transform]});n.set(c,f)}const i=new ee().translate(r.x,r.y),o=new ee(...this.attrs.transform).append(i),s=this.attrs.id;t.has(s)||t.set(s,{width:this.attrs.width,height:this.attrs.height,transform:[...this.attrs.transform]});const a={width:r.width,height:r.height,transform:o.getArray()};this.updateAttrs(a),n.set(s,a)}isEmpty(){return this.children.length===0}isFillShouldRender(){return!0}_realDraw(t,n){const r=this.attrs,{fill:i,strokeWidth:o,stroke:s,transform:a}=n||this.attrs,{ctx:u,imgManager:c,smooth:h}=t;u.save(),u.transform(...a);const f=t.opacity??1;f<1&&(u.globalAlpha=f),u.beginPath(),u.rect(0,0,r.width,r.height);for(const p of i??[])if(p.visible!==!1)switch(p.type){case J.Solid:{u.fillStyle=tr(p.attrs),u.fill();break}case J.Image:c?this.fillImage(u,p,c,h):console.warn("ImgManager is not provided")}if(o){u.lineWidth=o;for(const p of s??[])if(p.visible!==!1)switch(p.type){case J.Solid:{u.strokeStyle=tr(p.attrs),u.stroke();break}case J.Image:}}u.closePath(),u.restore()}isGroup(){return this.attrs.resizeToFit}drawText(t,n,r){if(!this.isVisible())return;const i=this.getRotate(),o=new ee().translate(-n,-r).rotate(i).translate(n,r);t.save(),t.fillStyle="#acacac",t.font="11px sans-serif",t.transform(...o.getArray()),t.fillText(this.attrs.objectName,n,r),t.restore()}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1);t={...t,opacity:n},this.isGroup()||this._realDraw(t);const{ctx:r}=t;this.isGroup()||(r.save(),r.clip()),super.draw(t),this.isGroup()||r.restore()}hitTest(t,n=0){const r=new ee(...this.getWorldTransform()).applyInverse(t);return $C({minX:0,minY:0,maxX:this.attrs.width,maxY:this.attrs.height},r,n+(this.attrs.strokeWidth??0)/2)}getHitGraphics(t,n){if(!this.isVisible()||this.isLock())return null;const{parentIdSet:r}=n,i=this.getChildren();if(this.isGroup()){for(let o=i.length-1;o>=0;o--){const s=i[o].getHitGraphics(t,n);if(s){const a=s.getParent();return a&&!r.has(a.attrs.id)?a:s}}if(this.isHitTitle(t,n))return this}else{if(i.length===0)return super.getHitGraphics(t,n);for(let o=i.length-1;o>=0;o--){const s=i[o].getHitGraphics(t,n);if(s)return s}if(this.isHitTitle(t,n))return this}return null}isHitTitle(t,n){const r=12/n.zoom,i=80/n.zoom,o=new ee(...this.getWorldTransform()).append(new ee().translate(0,-r)),s={width:i,height:r,transform:o.getArray()};return Hm(t,s,n.tol)}getLayerIconPath(){return this.isGroup()?"M7 1H5V2H7V1ZM9.5 10H10V9.5H11V11H9.5V10ZM2 5V7H1V5H2ZM10 2.5V2H9.5V1H11V2.5H10ZM10 5V7H11V5H10ZM2 2.5V2H2.5V1H1V2.5H2ZM1 9.5H2V10H2.5V11H1V9.5ZM7 10H5V11H7V10Z":"M4 0.5V3H8V0.5H9V3H11.5V4H9V8H11.5V9H9V11.5H8V9H4V11.5H3V9H0.5V8H3V4H0.5V3H3V0.5H4ZM8 8V4H4V8H8Z"}}const Sn=e=>e instanceof Fu;class zm extends ht{constructor(t,n){super({...t,height:0,type:xe.Line},n),$(this,"type",xe.Line)}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1),{ctx:r}=t,{width:i,transform:o,stroke:s,strokeWidth:a}=this.attrs;if(r.save(),r.transform(...o),n<1&&(r.globalAlpha=n),r.beginPath(),r.moveTo(0,0),r.lineTo(i,0),a){r.lineWidth=a;for(const u of s??[])switch(u.type){case J.Solid:{r.strokeStyle=tr(u.attrs),r.stroke();break}case J.Image:}r.closePath(),r.restore()}}drawOutline(t,n,r){t.transform(...this.getWorldTransform()),t.beginPath(),t.moveTo(0,0),t.lineTo(this.attrs.width,0),t.lineWidth=r,t.strokeStyle=n,t.stroke(),t.closePath()}getSVGTagHead(t){const n=[...this.attrs.transform];t&&(n[4]+=t.x,n[5]+=t.y);const r=this.getTransformedSize();return`<line x1="0" y1="0" x2="${r.width}" y2="${r.height}" transform="matrix(${n.join(" ")})"`}getFillAndStrokesToSVG(){return{fillPaints:[],strokePaints:this.attrs.stroke??[]}}getLayerIconPath(){const t=this.getWorldTransform();let n=[xs(t,{x:0,y:0}),xs(t,{x:this.attrs.width,y:0})];const r=Nu(n),i=r.maxX-r.minX,o=r.maxY-r.minY,s=11/Math.max(i,o),a=new ee().translate(-r.minX-i/2,-r.minY-o/2).scale(s,s).translate(11/2,11/2);return n=n.map(u=>a.apply(u)),`M${n[0].x.toFixed(5)} ${n[0].y.toFixed(5)} L${n[1].x.toFixed(5)} ${n[1].y.toFixed(5)}`}}class gn extends ht{constructor(t,n){super({...t,type:xe.Path},n),$(this,"type",xe.Path),$(this,"geoPath",null)}static computeRect(t){return new ex(t).getBRect()}static recomputeAttrs(t,n){const r=gn.computeRect(t);for(const o of t)for(const s of o.segs)s.point={x:s.point.x-r.x,y:s.point.y-r.y};const i=new ee(...n).apply(r);return{x:i.x,y:i.y,width:r.width,height:r.height,pathData:t}}checkAndFixUpdatedAttrs(t){("width"in t||"height"in t)&&"pathData"in t&&(delete t.width,delete t.height,console.warn("width or height and pathData cannot coexist when updating attribute, removed width and height"))}clearBboxCache(){super.clearBboxCache(),this.geoPath=null}getGeoPath(){return this.geoPath||(this.geoPath=new ex(this.attrs.pathData)),this.geoPath}updateAttrs(t,n){if(n!=null&&n.finishRecomputed){super.updateAttrs(t);return}t=Q(t),this.checkAndFixUpdatedAttrs(t);const r=Object.keys(t);if(t.pathData){const i=t.transform??this.attrs.transform;this.attrs.pathData=t.pathData,t={...t,...gn.recomputeAttrs(t.pathData,i)}}if(r.includes("width")||r.includes("height")){const i=this.recomputedPathData(t.width??this.attrs.width,t.height??this.attrs.height);this.attrs.pathData=i}super.updateAttrs(t)}calcNewAttrsByControlHandle(t,n,r,i,o,s,a){const u=this.getParentWorldTransform();r={width:r.width,height:r.height,transform:i};const c=this.attrs.height===0?PC(t,n,r,{keepPolarSnap:o,scaleFromCenter:s}):jh(t,n,r,{keepRatio:o,scaleFromCenter:s,flip:a});c.transform=Zn(Ci(u),c.transform);const h=c,f=this.recomputedPathData(c.width,c.height);return{...h,pathData:f}}recomputedPathData(t,n){const r=t/(this.attrs.width||1),i=n/(this.attrs.height||1),o=Q(this.attrs.pathData);for(const s of o)for(const a of s.segs)a.point.x*=r,a.point.y*=i,a.in.x*=r,a.in.y*=i,a.out.x*=r,a.out.y*=i;return o}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1);this._realDraw({...t,opacity:n})}drawOutline(t,n,r){this._realDraw({ctx:t},{stroke:[{type:J.Solid,attrs:Lt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(t,n){const{pathData:r}=this.attrs,i=(n==null?void 0:n.transform)??this.attrs.transform,{fill:o,strokeWidth:s,stroke:a}=n||this.attrs,{ctx:u,imgManager:c,smooth:h}=t;u.save(),u.transform(...i);const f=t.opacity??1;f<1&&(u.globalAlpha=f);const p=m=>{m.beginPath();for(const w of r){const x=w.segs[0];if(!x)continue;m.moveTo(x.point.x,x.point.y);const _=w.segs;for(let y=1;y<=_.length;y++){if(y===_.length&&!w.closed)continue;const v=_[y%_.length],b=_[y-1],C=v.point.x,M=v.point.y,T=gn.getHandleOut(b),P=gn.getHandleIn(v);!T&&!P?m.lineTo(C,M):m.bezierCurveTo(T.x,T.y,P.x,P.y,C,M)}w.closed&&m.closePath()}for(const w of o??[])if(w.visible!==!1)switch(w.type){case J.Solid:{m.fillStyle=tr(w.attrs),m.fill();break}case J.Image:c?(m.clip(),this.fillImage(m,w,c,h)):console.warn("ImgManager is not provided")}if(s){m.lineWidth=s;for(const w of a??[])if(w.visible!==!1)switch(w.type){case J.Solid:{m.strokeStyle=tr(w.attrs),m.stroke();break}case J.Image:}}m.closePath()};f!==1?Bu({originCtx:u,viewSize:this.doc.getDeviceViewSize(),draw:p}):p(u),u.restore()}hitTest(t,n=0){var r;if(!super.hitTest(t,n))return!1;if((r=this.attrs.fill)!=null&&r.length)return!0;const i=new ee(...this.getWorldTransform()).applyInverse(t);return this.getGeoPath().hitTest(i,n+this.getStrokeWidth()/2)}toJSON(){return{...super.toJSON(),pathData:this.attrs.pathData}}static getHandleIn(t){return Wi(t.point,t.in)}static getHandleOut(t){return Wi(t.point,t.out)}static getSeg(t,n,r){const i=t[n];return i?i.segs[r]??null:null}getLastSeg(t,n){const r=this.getSegCount(t)-1;return this.getSeg(t,r,n)}getSeg(t,n,r){let i=gn.getSeg(this.attrs.pathData,t,n);if(i=Q(i),i&&r!=null&&r.applyTransform){const o=new ee(...this.getWorldTransform()),s=o.apply(i.point);i.point.x=s.x,i.point.y=s.y,o.tx=0,o.ty=0;const a=o.apply(i.in);i.in.x=a.x,i.in.y=a.y;const u=o.apply(i.out);i.out.x=u.x,i.out.y=u.y}return i}getClosestAnchor(t){const n=new ee(...this.getWorldTransform()),r=n.applyInverse(t.point),i=this.attrs.pathData;let o=1/0,s=null,a=-1,u=-1;for(let c=0;c<i.length;c++){const h=i[c];for(let f=h.segs.length-1;f>=0;f--){const p=h.segs[f],m=vt(p.point,r);m<t.tol&&(o=m,s=p.point,a=f,u=c)}}return s?{pathItemIndex:u,segIndex:a,dist:o,point:n.apply(s)}:null}project(t,n=1/0){const r=this.getGeoPath(),i=new ee(...this.getWorldTransform());t=i.applyInverse(t);const o=r.project(t,n);return o?{dist:o.dist,point:i.apply(o.point),pathItemIndex:o.index[0],segIndex:o.index[1],t:o.t}:null}setSeg(t,n,r){const i=this.attrs.pathData,o={...i[t]},s=this.getSeg(t,n);if(!s)throw new Error(`can not find pathIdx ${t} segIdx ${n}`);r=Q(r);const a=this.getWorldTransform();if(r.point){const u=new ee(...a).invert().apply(r.point);r.point.x=u.x,r.point.y=u.y}if(r.in||r.out){const u=new ee(a[0],a[1],a[2],a[3],0,0).invert();if(r.in){const c=u.apply(r.in);r.in.x=c.x,r.in.y=c.y}if(r.out){const c=u.apply(r.out);r.out.x=c.x,r.out.y=c.y}}o.segs[n]={...s,...r},this.updateAttrs({pathData:i})}addSeg(t,n){const r=this.attrs.pathData,i=r[t];if(!i)throw new Error(`pathIdx ${t} is out of range`);const o=new ee(...this.getWorldTransform()).invert().apply(n.point);i.segs.push({point:o,in:n.in,out:n.out}),this.updateAttrs({pathData:r})}addEmptyPath(){const t=this.attrs.pathData;t.push({segs:[],closed:!1}),this.updateAttrs({pathData:t})}setPathItemClosed(t,n){const r=this.attrs.pathData,i=r[t];if(!i)throw new Error(`pathIdx ${t} is out of range`);i.closed=n,this.updateAttrs({pathData:r})}checkPathItemClosed(t){const n=this.attrs.pathData[t];if(!n)throw new Error(`pathIdx ${t} is out of range`);return n.closed}getPathItemCount(){return this.attrs.pathData.length}hasPath(t){return!!this.attrs.pathData[t]}getSegCount(t){const n=this.attrs.pathData[t];return n?n.segs.length:0}deleteSegAndHeal(t,n){const r=Q(this.attrs.pathData),i=r[t];if(!i)throw new Error(`can not find pathIdx ${t}`);o6(i,n),this.updateAttrs({pathData:r})}insertSeg(t,n,r){const i=Q(this.attrs.pathData),o=i[t];if(!o)throw new Error(`can not find pathIdx ${t}`);i6(o,n,r),this.updateAttrs({pathData:i})}getSVGTagHead(t){const n=[...this.attrs.transform];t&&(n[4]+=t.x,n[5]+=t.y);let r="";for(const i of this.attrs.pathData){const o=i.segs[0];if(!o)continue;r+=`M${o.point.x} ${o.point.y}`;const s=i.segs;for(let a=1;a<=s.length;a++){if(a===s.length&&!i.closed)continue;const u=s[a%s.length],c=s[a-1],h=u.point.x,f=u.point.y,p=gn.getHandleOut(c),m=gn.getHandleIn(u);!p&&!m?r+=`L${h} ${f}`:r+=`C${p.x} ${p.y} ${m.x} ${m.y} ${h} ${f}`}i.closed&&(r+="Z")}return`<path d="${r}" transform="matrix(${n.join(" ")})"`}getLayerIconPath(){const t=this.getBbox(),n=t.maxX-t.minX,r=t.maxY-t.minY,i=11/Math.max(n,r),o=new ee().prepend(new ee(...this.getWorldTransform())).translate(-t.minX-n/2,-t.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.getGeoPath().toCommands();return s.forEach(a=>{a.points.forEach((u,c)=>{a.points[c]=o.apply(u)})}),Ps(s,5)}}let Ot=class{constructor(t){$(this,"cx"),$(this,"cy"),$(this,"rotation"),$(this,"transform"),$(this,"type"),$(this,"graphics"),$(this,"padding"),$(this,"isTransformHandle"),$(this,"hitTest"),$(this,"getCursor"),this.cx=t.cx??0,this.cy=t.cy??0,t.rotation!==void 0&&(this.rotation=t.rotation),t.transform&&(this.transform=t.transform),this.type=t.type,this.padding=t.padding??0,this.graphics=t.graphics,this.getCursor=t.getCursor,t.hitTest&&(this.hitTest=t.hitTest),this.isTransformHandle=t.isTransformHandle??!1,this.graphics.cancelCollectUpdate()}};const _o=(e,t)=>{if(!t)return"default";if(t.height===0)return"move";if(e==="n"||e==="s"){const o=new ee().rotate(qi).prepend(new ee(...t.transform)).rotate(qi),s=Ua([o.a,o.b,o.c,o.d,o.tx,o.ty]);return{type:"resize",degree:xu(s)}}const n=Ua(t.transform),r=CC(t.transform);let i=0;switch(e){case"se":case"nw":i=-45;break;case"ne":case"sw":i=45;break;case"e":case"w":i=90;break;default:console.warn("unknown type",e)}return{type:"resize",degree:xu(n)+(r?-i:i)}},Rl=(e,t)=>{if(!t)return"default";const n=Ua(t.transform),r=CC(t.transform);let i=0;return t.height===0?i={neRotation:90,seRotation:90,swRotation:270,nwRotation:270}[e]:i={neRotation:45,seRotation:135,swRotation:225,nwRotation:315}[e],{type:"rotation",degree:Gg(xu(n)+(r?-i:i))}},C6=(e,t)=>{const n=()=>({width:e.size,height:e.size,fill:[{type:J.Solid,attrs:Lt(e.fill)}],stroke:[{type:J.Solid,attrs:Lt(e.stroke)}],strokeWidth:1}),r={doc:t,noCollectChange:!0},i=new Ot({graphics:new pn({objectName:"nw",...n()},r),type:"nw",padding:3,getCursor:_o,isTransformHandle:!0}),o=new Ot({graphics:new pn({objectName:"ne",...n()},r),type:"ne",padding:3,getCursor:_o,isTransformHandle:!0}),s=new Ot({graphics:new pn({objectName:"se",...n()},r),type:"se",padding:3,getCursor:_o,isTransformHandle:!0}),a=new Ot({graphics:new pn({objectName:"sw",...n()},r),type:"sw",padding:3,getCursor:_o,isTransformHandle:!0}),u=e.size*2.5,c=new Ot({graphics:new pn({objectName:"nwRotation",...n(),width:u,height:u,visible:!1},r),type:"nwRotation",getCursor:Rl,isTransformHandle:!0}),h=new Ot({graphics:new pn({objectName:"neRotation",...n(),width:u,height:u,visible:!1},r),type:"neRotation",getCursor:Rl,isTransformHandle:!0}),f=new Ot({graphics:new pn({objectName:"seRotation",...n(),width:u,height:u,visible:!1},r),type:"seRotation",getCursor:Rl,isTransformHandle:!0}),p=new Ot({graphics:new pn({objectName:"swRotation",...n(),width:u,height:u,visible:!1},r),type:"swRotation",getCursor:Rl,isTransformHandle:!0}),m=function(v,b,C){return!C||C.width===0||C.height===0?!1:this.graphics.hitTest(v,b)},w=new Ot({graphics:new pn({objectName:"n",...n(),visible:!1},r),type:"n",hitTest:m,getCursor:_o,isTransformHandle:!0}),x=new Ot({graphics:new pn({objectName:"e",...n(),visible:!1},r),type:"e",hitTest:m,getCursor:_o,isTransformHandle:!0}),_=new Ot({graphics:new pn({objectName:"s",...n(),visible:!1},r),type:"s",hitTest:m,getCursor:_o,isTransformHandle:!0}),y=new Ot({graphics:new pn({objectName:"w",...n(),visible:!1},r),type:"w",hitTest:m,getCursor:_o,isTransformHandle:!0});return new Map([["n",w],["e",x],["s",_],["w",y],["nwRotation",c],["neRotation",h],["seRotation",f],["swRotation",p],["nw",i],["ne",o],["se",s],["sw",a]])},NC=["n","e","s","w","nwRotation","neRotation","seRotation","swRotation","nw","ne","se","sw"];class _6{constructor(t){$(this,"transformHandles"),$(this,"customHandlesVisible",!1),$(this,"customHandles",[]),$(this,"selectedBoxRect",null),$(this,"enableTransformControl",!0),$(this,"onHoverItemChange",()=>{if(!this.editor.pathEditor.isActive()){const r=this.editor.selectedElements.getHoverItem(),i=this.editor.selectedElements.size()===1,o=i?this.editor.selectedElements.getItems()[0]:null,s=this.editor.selectedBox.isHover();if(i&&o&&(r===o||s)){const a=this.editor.zoomManager.getZoom();this.setCustomHandles(o.getControlHandles(a,!0))}else this.setCustomHandles([])}this.editor.render()}),this.editor=t;const n=t.setting;this.transformHandles=C6({size:n.get("handleSize"),fill:n.get("handleFill"),stroke:n.get("handleStroke"),strokeWidth:n.get("handleStrokeWidth")},t.doc)}bindEvents(){this.editor.selectedElements.on("hoverItemChange",this.onHoverItemChange),this.editor.selectedBox.on("hoverChange",this.onHoverItemChange),this.editor.zoomManager.on("zoomChange",this.onHoverItemChange),this.editor.commandManager.on("change",this.onHoverItemChange)}unbindEvents(){this.editor.selectedElements.off("hoverItemChange",this.onHoverItemChange),this.editor.selectedBox.off("hoverChange",this.onHoverItemChange),this.editor.zoomManager.off("zoomChange",this.onHoverItemChange),this.editor.commandManager.off("change",this.onHoverItemChange)}updateTransformHandles(t){const n=this.editor.zoomManager.getZoom(),r=this.editor.setting.get("handleSize"),i=this.editor.setting.get("handleStrokeWidth"),o=this.editor.setting.get("neswHandleWidth"),s={x:0,y:0,width:t.width,height:t.height},a=(()=>{const w=zo(s,t.transform),x=r/2/n,_=zo(Vg(s,x),t.transform),y=40,v=new Array(4).fill(0);t.width*n<y&&(v[1]=v[3]=o/2/n),t.height*n<y&&(v[0]=v[2]=o/2/n);const b=Vg(s,v),C=new ee(...t.transform),M=K8(b).map(T=>{const{x:P,y:I}=C.apply(T);return{x:P,y:I}});return{nw:w[0],ne:w[1],se:w[2],sw:w[3],n:M[0],e:M[1],s:M[2],w:M[3],nwRotation:_[0],neRotation:_[1],seRotation:_[2],swRotation:_[3]}})();for(const w of NC){const x=a[w],_=this.transformHandles.get(w);if(!_){console.warn(`handle ${w} not found`);continue}_.cx=x.x,_.cy=x.y}const u=this.transformHandles.get("n"),c=this.transformHandles.get("s"),h=this.transformHandles.get("w"),f=this.transformHandles.get("e");u.graphics.attrs.width=c.graphics.attrs.width=t.width*n-r-i,h.graphics.attrs.height=f.graphics.attrs.height=t.height*n-r-i,u.graphics.attrs.height=c.graphics.attrs.height=h.graphics.attrs.width=f.graphics.attrs.width=o;const p=new ee().rotate(qi).prepend(new ee(...t.transform)).rotate(qi),m=Ua([p.a,p.b,p.c,p.d,p.tx,p.ty]);u.rotation=m,c.rotation=m}checkEnableRender(t){const n=zo({x:0,y:0,width:t.width,height:t.height},t.transform).map(i=>this.editor.toViewportPt(i.x,i.y)),r=this.editor.setting.get("sizeIndicatorMinSize");return!(vt(n[0],n[1])<r&&vt(n[1],n[2])<r)}draw(t){if(this.selectedBoxRect=t,t){if(!this.checkEnableRender(t))return;this.updateTransformHandles(t)}const n=[];this.shouldRenderTransformControl()&&n.push(...Array.from(this.transformHandles.values())),this.customHandlesVisible&&n.push(...this.customHandles);const r=this.editor.ctx,i=t?Ua(t.transform):0;n.forEach(o=>{const s=o.graphics;if(s.type!==xe.Path){const{x:a,y:u}=this.editor.toViewportPt(o.cx,o.cy);s.updateAttrs({transform:[1,0,0,1,a-s.attrs.width/2,u-s.attrs.height/2]})}t&&o.isTransformHandle&&s.setRotate(i),o.rotation!==void 0&&s.setRotate(o.rotation),s.isVisible()&&(r.save(),s.draw({ctx:r}),r.restore())})}getHandleInfoByPoint(t){const n=[];if(this.shouldRenderTransformControl()&&n.push(...Array.from(this.transformHandles.values())),this.customHandlesVisible&&n.push(...this.customHandles),n.length===0)return null;const r=this.editor.toViewportPt(t.x,t.y),i=this.editor.selectedBox.getBox();for(let o=n.length-1;o>=0;o--){const s=n[o],a=s.type;if(!s){console.warn(`handle ${a} not found`);continue}if(s.hitTest?s.hitTest(r,s.padding,i):s.graphics.hitTest(r,s.padding))return{handleName:a,cursor:s.getCursor(a,i)}}return null}shouldRenderTransformControl(){return this.selectedBoxRect&&this.enableTransformControl}setCustomHandles(t){this.customHandles=t}getCustomHandlesIntersectedWithRect(t){const n=this.editor.toViewportPt(t.x,t.y),r=this.editor.toViewportPt(t.x+t.width,t.y+t.height),i={minX:n.x,minY:n.y,maxX:r.x,maxY:r.y};return this.customHandles.filter(o=>o.graphics.intersectWithBox(i))}clearCustomHandles(){this.customHandles=[]}hasCustomHandles(){return this.customHandles.length>0}showCustomHandles(){this.customHandlesVisible||(this.customHandlesVisible=!0,this.editor.render())}hideCustomHandles(){this.customHandlesVisible&&(this.customHandlesVisible=!1,this.editor.render())}}const dx=e=>NC.includes(e);class pn extends ht{constructor(t,n){super({...t,type:xe.Rect},n),$(this,"type",xe.Rect)}getAttrs(){return Q({...this.attrs,cornerRadius:this.attrs.cornerRadius??0})}toJSON(){return{...super.toJSON(),cornerRadius:this.attrs.cornerRadius}}getMaxCornerRadius(){return Math.min(this.attrs.width,this.attrs.height)/2}_realDraw(t,n){const{ctx:r,imgManager:i,smooth:o}=t,s=this.attrs,{fill:a,strokeWidth:u,stroke:c,transform:h}=n||this.attrs;r.save(),r.transform(...h);const f=m=>{m.beginPath(),s.cornerRadius?m.roundRect(0,0,s.width,s.height,s.cornerRadius):m.rect(0,0,s.width,s.height);for(const w of a??[])if(w.visible!==!1)switch(w.type){case J.Solid:{m.fillStyle=tr(w.attrs),m.fill();break}case J.Image:if(i){const x=this.getMaxCornerRadius(),_=Math.min(s.cornerRadius??0,x);this.fillImage(m,w,i,o,_)}else console.warn("ImgManager is not provided")}if(u){m.lineWidth=u;for(const w of c??[])if(w.visible!==!1)switch(w.type){case J.Solid:{m.strokeStyle=tr(w.attrs),m.stroke();break}case J.Image:}}m.closePath()},p=t.opacity??1;p<1&&(r.globalAlpha=p),p!==1?Bu({originCtx:r,viewSize:this.doc.getDeviceViewSize(),draw:f}):f(r),r.restore()}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1);this._realDraw({...t,opacity:n})}drawOutline(t,n,r){this._realDraw({ctx:t},{stroke:[{type:J.Solid,attrs:Lt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}getRect(){return{...this.getLocalPosition(),width:this.attrs.width,height:this.attrs.height}}createCornerRadiusHandleGraph(){return new Hu({objectName:"cornerRadius",width:8,height:8,fill:[{type:J.Solid,attrs:Lt("#fff")}],stroke:[{type:J.Solid,attrs:Lt("#1592fe")}],strokeWidth:1},{doc:this.doc})}hitTest(t,n=0){const r=new ee(...this.getWorldTransform()).applyInverse(t),i=this.getMaxCornerRadius(),o=new Array(4).fill(Math.min(this.attrs.cornerRadius??0,i)),s=this.getStrokeWidth()/2,a={x:0,y:0,width:this.attrs.width,height:this.attrs.height},u=qy(r,a,o,n+s);return this.isFillShouldRender()?u:u?!qy(r,a,o.map(c=>Math.max(0,c-s)),-s-n):!1}getControlHandles(t,n){let r=0;n&&(r=14/t);const i=108,o=this.attrs;if(o.width*t<i||o.height*t<i)return[];const s=Math.min(o.width,o.height)/2,a=o.cornerRadius??0,u=[a,a,a,a],c=[],h={x:0,y:0,width:o.width,height:o.height},f=[{type:"nwCornerRadius",origin:{x:h.x,y:h.y},direction:{x:1,y:1},cornerRadius:u[0]},{type:"neCornerRadius",origin:{x:h.x+h.width,y:h.y},direction:{x:-1,y:1},cornerRadius:u[1]},{type:"seCornerRadius",origin:{x:h.x+h.width,y:h.y+h.height},direction:{x:-1,y:-1},cornerRadius:u[2]},{type:"swCornerRadius",origin:{x:h.x,y:h.y+h.height},direction:{x:1,y:-1},cornerRadius:u[3]}];for(let p=0;p<f.length;p++){const m=f[p];let w=m.cornerRadius;w<r?w=r:w>s&&(w=s);let x=m.origin.x+m.direction.x*w,_=m.origin.y+m.direction.y*w;const y=new ee(...this.getWorldTransform()).apply({x,y:_});x=y.x,_=y.y;const v=new Ot({cx:x,cy:_,type:m.type,graphics:this.createCornerRadiusHandleGraph(),getCursor:()=>"default"});c.push(v)}return c}calcNewAttrsByControlHandle(t,n,r,i,o,s,a){const u={};if(t.endsWith("CornerRadius")){const c=this.attrs,h=new ee(...i).applyInverse(n);let f={x:0,y:0},p={x:0,y:0};const m={x:0,y:0,width:c.width,height:c.height};switch(t){case"nwCornerRadius":{f={x:1,y:1},p={x:h.x-m.x,y:h.y-m.y};break}case"neCornerRadius":{f={x:-1,y:1},p={x:h.x-(m.x+m.width),y:h.y-m.y};break}case"seCornerRadius":{f={x:-1,y:-1},p={x:h.x-(m.x+m.width),y:h.y-(m.y+m.height)};break}case"swCornerRadius":{f={x:1,y:-1},p={x:h.x-m.x,y:h.y-(m.y+m.height)};break}}const w=(f.x*p.x+f.y*p.y)/Math.sqrt(f.x*f.x+f.y*f.y);u.cornerRadius=Math.min(this.getMaxCornerRadius(),Math.round(Math.max(w,0)*Math.cos(Math.PI/4)))}else Object.assign(u,super.calcNewAttrsByControlHandle(t,n,r,i,o,s,a));return u}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,uiType:"number"}]}getSVGTagHead(t){const n=[...this.attrs.transform];t&&(n[4]+=t.x,n[5]+=t.y);const r=this.attrs.cornerRadius??0,i=r>1?` rx="${r}"`:"";return`<rect width="${this.attrs.width}" height="${this.attrs.height}" transform="matrix(${n.join(" ")})"${i}`}getLayerIconPath(){const t=this.getBbox(),n=t.maxX-t.minX,r=t.maxY-t.minY,i=11/Math.max(n,r),o=new ee().prepend(new ee(...this.getWorldTransform())).translate(-t.minX-n/2,-t.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.attrs,a=Z8({x:0,y:0,width:s.width,height:s.height},this.attrs.cornerRadius);return a.forEach(u=>{u.points.forEach((c,h)=>{u.points[h]=o.apply(c)})}),Ps(a,5)}}class Gm extends ht{constructor(t,n){super({...t,type:xe.RegularPolygon},n),$(this,"type",xe.RegularPolygon)}getAttrs(){return Q({...this.attrs,count:this.attrs.count})}toJSON(){return{...super.toJSON(),count:this.attrs.count}}getPoints(){return l6(this.getSize(),this.attrs.count)}getMinBbox(){if(this._cacheMinBbox)return this._cacheMinBbox;const t=new ee(...this.attrs.transform),n=this.getPoints().map(i=>t.apply(i)),r=Nu(n);return this._cacheMinBbox=r,r}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1);this._realDraw({...t,opacity:n})}drawOutline(t,n,r){this._realDraw({ctx:t},{stroke:[{type:J.Solid,attrs:Lt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(t,n){const r=this.attrs,{fill:i,strokeWidth:o,stroke:s,transform:a}=n||this.attrs,{ctx:u,imgManager:c,smooth:h}=t;u.save(),u.transform(...a??r.transform);const f=t.opacity??1;f<1&&(u.globalAlpha=f);const p=m=>{const w=this.toPathCmds();m.beginPath();for(const x of w)x.type==="M"?m.moveTo(x.points[0].x,x.points[0].y):x.type==="L"?m.lineTo(x.points[0].x,x.points[0].y):x.type==="C"?m.bezierCurveTo(x.points[0].x,x.points[0].y,x.points[1].x,x.points[1].y,x.points[2].x,x.points[2].y):x.type==="Z"&&m.closePath();for(const x of i??[])if(x.visible!==!1)switch(x.type){case J.Solid:{m.fillStyle=tr(x.attrs),m.fill();break}case J.Image:c?(m.clip(),this.fillImage(m,x,c,h)):console.warn("ImgManager is not provided")}if(o){m.lineWidth=o;for(const x of s??[])if(x.visible!==!1)switch(x.type){case J.Solid:{m.strokeStyle=tr(x.attrs),m.stroke();break}case J.Image:}}m.closePath()};f!==1?Bu({originCtx:u,viewSize:this.doc.getDeviceViewSize(),draw:p}):p(u),u.restore()}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"N",key:"count",value:this.attrs.count,min:3,max:60,uiType:"number"},{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,min:0,max:100,uiType:"number"}]}updateAttrs(t,n){super.updateAttrs(t,n)}hitTest(t,n){const r=new ee(...this.getWorldTransform()).applyInverse(t);return u6(this.getPoints(),r)}getSVGTagHead(t){const n=[...this.attrs.transform];return t&&(n[4]+=t.x,n[5]+=t.y),(this.attrs.cornerRadius??0)>0?`<path d="${Ps(this.toPathCmds(),10)}" transform="matrix(${n.join(" ")})"`:`<polygon points="${this.getPoints().map(r=>`${r.x},${r.y}`).join(" ")}" transform="matrix(${n.join(" ")})"`}toPathCmds(){let t=[];const n=this.getPoints(),r=this.attrs.cornerRadius??0;return r>0?t=MC(n,r):(t=n.map((i,o)=>({type:o===0?"M":"L",points:[i]})),t.push({type:"Z",points:[]})),t}getLayerIconPath(){const t=this.getBbox(),n=t.maxX-t.minX,r=t.maxY-t.minY,i=11/Math.max(n,r),o=new ee().prepend(new ee(...this.getWorldTransform())).translate(-t.minX-n/2,-t.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.toPathCmds();for(const a of s)a.points=a.points.map(u=>o.apply(u));return Ps(s,5)}}let BC=class extends ht{constructor(t,n){super({...t,type:xe.Star},n),$(this,"type",xe.Star)}getAttrs(){return Q({...this.attrs,count:this.attrs.count})}toJSON(){return{...super.toJSON(),count:this.attrs.count}}getPoints(){return p6(this.getSize(),this.attrs.count,this.attrs.starInnerScale)}getMinBbox(){if(this._cacheMinBbox)return this._cacheMinBbox;const t=new ee(...this.attrs.transform),n=this.getPoints().map(i=>t.apply(i)),r=Nu(n);return this._cacheMinBbox=r,r}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1);this._realDraw({...t,opacity:n})}drawOutline(t,n,r){this._realDraw({ctx:t},{stroke:[{type:J.Solid,attrs:Lt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(t,n){const{fill:r,strokeWidth:i,stroke:o,transform:s}=n||this.attrs,{ctx:a,imgManager:u,smooth:c}=t;a.save(),a.transform(...s);const h=t.opacity??1;h<1&&(a.globalAlpha=h);const f=p=>{const m=this.toPathCmds();p.beginPath();for(const w of m)w.type==="M"?p.moveTo(w.points[0].x,w.points[0].y):w.type==="L"?p.lineTo(w.points[0].x,w.points[0].y):w.type==="C"?p.bezierCurveTo(w.points[0].x,w.points[0].y,w.points[1].x,w.points[1].y,w.points[2].x,w.points[2].y):w.type==="Z"&&p.closePath();for(const w of r??[])if(w.visible!==!1)switch(w.type){case J.Solid:{p.fillStyle=tr(w.attrs),p.fill();break}case J.Image:u?(p.clip(),this.fillImage(p,w,u,c)):console.warn("ImgManager is not provided")}if(i){p.lineWidth=i;for(const w of o??[])if(w.visible!==!1)switch(w.type){case J.Solid:{p.strokeStyle=tr(w.attrs),p.stroke();break}case J.Image:}}p.closePath()};h!==1?Bu({originCtx:a,viewSize:this.doc.getDeviceViewSize(),draw:f}):f(a),a.restore()}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"N",key:"count",value:this.attrs.count,min:3,max:60,uiType:"number"},{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,uiType:"number"},{label:"T",key:"starInnerScale",value:this.attrs.starInnerScale,min:.001,max:1,uiType:"percent"}]}updateAttrs(t,n){super.updateAttrs(t,n)}hitTest(t,n){const r=new ee(...this.getWorldTransform()).applyInverse(t);return c6(this.getPoints(),r)}getSVGTagHead(t){const n=[...this.attrs.transform];return t&&(n[4]+=t.x,n[5]+=t.y),(this.attrs.cornerRadius??0)>0?`<path d="${Ps(this.toPathCmds(),10)}" transform="matrix(${n.join(" ")})"`:`<polygon points="${this.getPoints().map(r=>`${r.x},${r.y}`).join(" ")}" transform="matrix(${n.join(" ")})"`}toPathCmds(){let t=[];const n=this.getPoints(),r=this.attrs.cornerRadius??0;return r>0?t=MC(n,r):(t=n.map((i,o)=>({type:o===0?"M":"L",points:[i]})),t.push({type:"Z",points:[]})),t}getLayerIconPath(){const t=this.getBbox(),n=t.maxX-t.minX,r=t.maxY-t.minY,i=11/Math.max(n,r),o=new ee().prepend(new ee(...this.getWorldTransform())).translate(-t.minX-n/2,-t.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.toPathCmds();for(const a of s)a.points=a.points.map(u=>o.apply(u));return Ps(s,5)}};const $6=80,T6=30,fx=document.createElement("canvas").getContext("2d");let qd=class extends ht{constructor(t,n){if(super({...t,type:xe.Text,width:t.width??$6,height:t.height??T6},n),$(this,"type",xe.Text),$(this,"_glyphs",null),$(this,"contentMetrics",null),t.autoFit){fx.font=`${t.fontSize}px ${t.fontFamily}`;const{width:r}=fx.measureText(t.content);this.attrs.width=r,this.attrs.height=t.fontSize}}updateAttrs(t){const n="content"in t&&t.content!==this.attrs.content,r="fontSize"in t||"fontFamily"in t,i="fontFamily"in t&&t.fontFamily!==this.attrs.fontFamily;(n||r||i)&&(this._glyphs=null),super.updateAttrs(t)}draw(t){if(this.shouldSkipDraw(t))return;const n=this.getOpacity()*(t.opacity??1),{transform:r,fill:i,stroke:o,fontSize:s,content:a,fontFamily:u}=this.attrs,{ctx:c}=t;c.save(),c.transform(...r),n<1&&(c.globalAlpha=n),c.beginPath(),c.font=`${s}px ${u??"sans-serif"}`;for(const h of i??[])switch(h.type){case J.Solid:{c.fillStyle=tr(h.attrs);break}case J.Image:}c.fontKerning="none",c.translate(0,this.getContentMetrics().fontBoundingBoxAscent),c.fillText(a,0,0),c.restore()}getSVGTagHead(t){const n=[...this.attrs.transform];return n[5]+=this.attrs.fontSize,t&&(n[4]+=t.x,n[5]+=t.y),`<text x="0" y="0" transform="matrix(${n.join(" ")})"`}getSVGTagTail(){return`>${o4(this.attrs.content)}</text>`}getLayerIconPath(){return"M0 0H11V3H10V1H6V9H7.5V10H3.5V9H5V1H1V3H0V0Z"}getGlyphs(){return this._glyphs?this._glyphs:(this._glyphs=g6(this.attrs.content,{fontSize:this.attrs.fontSize,fontFamily:this.attrs.fontFamily}),this._glyphs)}getContentMetrics(){return this.contentMetrics?this.contentMetrics:(this.contentMetrics=IC(this.attrs.content,{fontSize:this.attrs.fontSize,fontFamily:this.attrs.fontFamily}),this.contentMetrics)}getContentLength(){return this.getGlyphs().length-1}isFillShouldRender(){return!0}getCursorIndex(t){t=Nm(this.getWorldTransform(),t);const n=this.getGlyphs();let r=0,i=n.length-1;for(;r<=i;){const o=Math.floor((r+i)/2),s=n[o];t.x<s.position.x?i=o-1:r=o+1}return r===0?0:r>=n.length?n.length-1:n[r].position.x-t.x>t.x-n[i].position.x?i:r}};const xo={Rect:"Rect",Ellipse:"Ellipse",Line:"Line",RegularPolygon:"Polygon",Star:"Star",Path:"Path",Text:"Text",Group:"Group",Frame:"Frame"};let ut=class{constructor(t){$(this,"originAttrsMap",new Map),$(this,"updatedAttrsMap",new Map),$(this,"removedIds",new Set),$(this,"newIds",new Set),$(this,"isCommitDone",!1),this.editor=t}recordOld(t,n){return this.originAttrsMap.set(t,n),this}update(t,n){return this.updatedAttrsMap.set(t,n),this}remove(t){return this.removedIds.add(t),this}addNewIds(t){for(const n of t)this.newIds.add(n);return this}updateParentSize(t){return bu(this.editor,Ko(t),this.originAttrsMap,this.updatedAttrsMap),this}updateNodeSize(t){return bu(this.editor,t,this.originAttrsMap,this.updatedAttrsMap),this}commit(t){if(this.isCommitDone){console.error("It had committed before, can not commit again!");return}this.editor.commandManager.pushCommand(new Yd(t,this.editor,this.originAttrsMap,this.updatedAttrsMap,this.removedIds,this.newIds)),this.isCommitDone=!0}};const k6=(e,t)=>{const n={[Ke.Left]:o=>o.x,[Ke.HCenter]:o=>o.x+o.width/2,[Ke.Right]:o=>o.x+o.width,[Ke.Top]:o=>o.y,[Ke.VCenter]:o=>o.y+o.height/2,[Ke.Bottom]:o=>o.y+o.height}[t];if(!n)return!1;const r=e.map(o=>fo(o)),i=n(r[0]);return r.every(o=>n(o)===i)},br=(e,t)=>{if(e.selectedElements.size()<2){console.warn("can align zero or two elements, fail silently");return}const n=e.selectedElements.getItems(),r=n.map(u=>u.getBbox()),i=n.map(u=>u.getWorldTransform()),o=vo(r);if(k6(r,t))return;const s=new ut(e),a=(u,c,h,f)=>{s.recordOld(u.attrs.id,{transform:Q(u.attrs.transform)});const p=Q(c);p[4]+=h,p[5]+=f,u.setWorldTransform(p),s.update(u.attrs.id,{transform:Q(u.attrs.transform)})};switch(t){case Ke.Left:{for(let u=0;u<n.length;u++){const c=n[u],h=o.minX-r[u].minX;h!==0&&a(c,i[u],h,0)}break}case Ke.HCenter:{const u=o.minX/2+o.maxX/2;for(let c=0;c<n.length;c++){const h=n[c],f=u-(r[c].minX/2+r[c].maxX/2);f!==0&&a(h,i[c],f,0)}break}case Ke.Right:{for(let u=0;u<n.length;u++){const c=n[u],h=o.maxX-r[u].maxX;h!==0&&a(c,i[u],h,0)}break}case Ke.Top:{for(let u=0;u<n.length;u++){const c=n[u],h=o.minY-r[u].minY;h!==0&&a(c,i[u],0,h)}break}case Ke.VCenter:{const u=o.minY/2+o.maxY/2;for(let c=0;c<n.length;c++){const h=n[c],f=u-(r[c].minY/2+r[c].maxY/2);f!==0&&a(h,i[c],0,f)}break}case Ke.Bottom:{for(let u=0;u<n.length;u++){const c=n[u],h=o.maxY-r[u].maxY;h!==0&&a(c,i[u],0,h)}break}default:{console.warn("invalid type:",t);break}}s.updateParentSize(n),s.commit("Align "+t),e.render()},jo=(e,t)=>{e.selectedElements.size()===0&&console.warn("can't arrange, no element");const n=e.selectedElements.getItems(),r=new ut(e),i=new Map;for(const s of n){const a=s.getParent();i.has(a)||i.set(a,new Set),i.get(a).add(s)}let o=!0;switch(t){case ar.Front:{o=M6(r,i);break}case ar.Back:{o=P6(r,i);break}case ar.Forward:{o=A6(r,i);break}case ar.Backward:{o=I6(r,i);break}default:console.warn(`invalid type ${t}`);break}o?(r.commit(`Arrange ${t}`),e.render()):console.log("No need to arrange.")},M6=(e,t)=>{let n=!1;for(const[r,i]of t){if(r.getChildrenCount()===i.size)continue;const{count:o}=FC(r.getChildren(),i);if(o===i.size)continue;n=!0;const s=r.getMaxChildIndex(),a=ht.sortGraphicsArray(Array.from(i)),u=As(s,null,a.length);for(let c=0;c<a.length;c++){const h=a[c];e.recordOld(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:r.attrs.id,position:u[c]}}),e.update(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)})}r.markSortDirty(),r.sortChildren()}return n},P6=(e,t)=>{let n=!1;for(const[r,i]of t){if(r.getChildrenCount()===i.size)continue;const{count:o}=HC(r.getChildren(),i);if(o===i.size)continue;n=!0;const s=r.getMinChildIndex(),a=ht.sortGraphicsArray(Array.from(i)),u=As(null,s,a.length);for(let c=0;c<a.length;c++){const h=a[c];e.recordOld(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:r.attrs.id,position:u[c]}}),e.update(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)})}r.markSortDirty(),r.sortChildren()}return n},A6=(e,t)=>{var n;let r=!1;for(const[i,o]of t){if(i.getChildrenCount()===o.size)continue;const s=i.getChildren(),{index:a,count:u}=FC(s,o);if(u!==o.size){r=!0;for(let c=a;c>=0;c--){const h=s[c];if(o.has(h)){const f=s[c+1].getSortIndex(),p=((n=s[c+2])==null?void 0:n.getSortIndex())??null,m=no(f,p);oC(s,c,c+1),e.recordOld(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:i.attrs.id,position:m}}),e.update(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)})}}i.markSortDirty(),i.sortChildren()}}return r},I6=(e,t)=>{var n;let r=!1;for(const[i,o]of t){if(i.getChildrenCount()===o.size)continue;const s=i.getChildren(),{index:a,count:u}=HC(s,o);if(u!==o.size){r=!0;for(let c=a;c<=s.length;c++){const h=s[c];if(o.has(h)){const f=((n=s[c-2])==null?void 0:n.getSortIndex())??null,p=s[c-1].getSortIndex(),m=no(f,p);oC(s,c,c-1),e.recordOld(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:i.attrs.id,position:m}}),e.update(h.attrs.id,{parentIndex:Q(h.attrs.parentIndex)})}}i.markSortDirty(),i.sortChildren()}}return r},HC=(e,t)=>{let n=0,r=0;for(;n<e.length&&t.has(e[n]);n++)r++;return{index:n,count:r}},FC=(e,t)=>{let n=e.length-1,r=0;for(;n>=0&&t.has(e[n]);n--)r++;return{index:n,count:r}},j6={exportOriginFile:(e,t="design")=>{const n=e.sceneGraph.toJSON(),r=new Blob([n],{type:"application/json"});O6(r,t+".suika")}},O6=(e,t)=>{const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.setAttribute("download",t),r.click()},zC=(e,t)=>{WC(e,t,{x:-1,y:1})},GC=(e,t)=>{WC(e,t,{x:1,y:-1})},WC=(e,t,n)=>{const r=t.length;if(r===0){console.warn("graphics should not be empty");return}let i;r===1?i=t[0].getWorldCenter():i=b6(vo(t.map(s=>s.getBbox())));const o=new ee().translate(-i.x,-i.y).scale(n.x,n.y).translate(i.x,i.y);R6(e,t,o.getArray(),"Flip Vertical")},R6=(e,t,n,r)=>{const i=new ut(e);for(const o of t)i.recordOld(o.attrs.id,{transform:Q(o.attrs.transform)}),o.prependWorldTransform(n),i.update(o.attrs.id,{transform:Q(o.attrs.transform)});i.updateParentSize(t),i.commit(r)},UC=(e,t)=>{if(e.length===0){console.warn("graphics should not be empty");return}e=ht.sortGraphics(e);const n=Ko(e),r=e.at(-1),i=r.getParent(),o=Ci(i.getWorldTransform()),s=r.getSortIndex(),a=fo(vo(e.map(f=>Kl({...f.getSize(),transform:Zn(o,f.getWorldTransform())})))),u=new Fu({objectName:yo(i,xo.Group),width:a.width,height:a.height,resizeToFit:!0},{advancedAttrs:{x:a.x,y:a.y},doc:t.doc});i.insertChild(u,s);const c=Ci(u.getWorldTransform()),h=new ut(t);h.addNewIds([u.attrs.id]);for(const f of e)h.recordOld(f.attrs.id,{parentIndex:Q(f.attrs.parentIndex),transform:Q(f.attrs.transform)}),f.updateAttrs({transform:Zn(c,f.getWorldTransform())}),u.insertChild(f),h.update(f.attrs.id,{parentIndex:Q(f.attrs.parentIndex),transform:Q(f.attrs.transform)});h.updateNodeSize(n),h.commit("group"),t.sceneGraph.addItems([u]),t.selectedElements.setItems([u])},L6={importOriginFile:e=>{D6(".suika",t=>{e.setContents(JSON.parse(t))})}};function D6(e,t){const n=document.createElement("input");n.type="file",n.accept=e,n.style.display="none",n.addEventListener("change",function(r){var i;const o=(i=r.target.files)==null?void 0:i[0];if(!o)return;const s=new FileReader;s.onload=function(a){var u;const c=(u=a.target)==null?void 0:u.result;c&&t(c)},s.readAsText(o)}),n.click()}const wn={setX({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return;const i=new ut(e);for(const o of t){i.recordOld(o.attrs.id,{transform:Q(o.attrs.transform)});const s=o.getWorldTransform(),a=r?s[4]+n:n;s[4]=a,o.setWorldTransform(s),i.update(o.attrs.id,{transform:Q(o.attrs.transform)})}i.updateParentSize(t),i.commit("Update X of Elements")},setY({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return;const i=new ut(e);for(const o of t){i.recordOld(o.attrs.id,{transform:Q(o.attrs.transform)});const s=o.getWorldTransform(),a=r?s[5]+n:n;s[5]=a,o.setWorldTransform(s),i.update(o.attrs.id,{transform:Q(o.attrs.transform)})}i.updateParentSize(t),i.commit("Update Y of Elements")},setWidth({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){let i=!1;if(t.length===0)return!1;const o=new ut(e);for(const s of t){o.recordOld(s.attrs.id,{width:s.attrs.width});let a=r?s.attrs.width+n:n;a<=0&&(a=1e-7),a!==s.attrs.width&&(i=!0),s.updateAttrs({width:a}),o.update(s.attrs.id,{width:s.attrs.width})}return i&&(o.updateParentSize(t),o.commit("Update Width of Elements")),i},setHeight({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return!1;let i=!1;const o=new ut(e);for(const s of t){o.recordOld(s.attrs.id,{height:s.attrs.height});let a=r?s.attrs.height+n:n;a<=0&&(a=0),a!==s.attrs.height&&(i=!0),s.updateAttrs({height:a}),o.update(s.attrs.id,{height:s.attrs.height})}return i&&(o.updateParentSize(t),o.commit("Update Height of Elements")),i},setRotation({editor:e,graphicsArr:t,rotation:n,isDelta:r=!1}){if(t.length===0)return;const i=new ut(e);for(const o of t){i.recordOld(o.attrs.id,{transform:Q(o.attrs.transform)});const s=r?o.getRotate()+n:n;o.setRotate(s),i.update(o.attrs.id,{transform:Q(o.attrs.transform)})}i.updateParentSize(t),i.commit("Update Rotation")},setCornerRadius({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return!1;let i=!1;const o=t.filter(a=>a.type===xe.Rect||a.type===xe.RegularPolygon||a.type===xe.Star),s=new ut(e);for(const a of o){s.recordOld(a.attrs.id,{cornerRadius:a.attrs.cornerRadius});const u=a.attrs.cornerRadius??0;let c=r?u+n:n;c<=0&&(c=0),c!==u&&(i=!0),a.updateAttrs({cornerRadius:c}),s.update(a.attrs.id,{cornerRadius:a.attrs.cornerRadius})}return i&&s.commit("Update CornerRadius of Elements"),i},setCount({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return;let i=!1;const o=t.filter(a=>a.type===xe.RegularPolygon||a.type===xe.Star),s=new ut(e);for(const a of o){s.recordOld(a.attrs.id,{count:a.attrs.count});const u=a.attrs.count??0;let c=r?u+n:n;c<=3&&(c=3),c!==u&&(i=!0),a.updateAttrs({count:c}),s.update(a.attrs.id,{count:a.attrs.count})}return i&&s.commit("Update Count of Elements"),i},setStarInnerScale({editor:e,graphicsArr:t,val:n,isDelta:r=!1}){if(t.length===0)return;let i=!1;const o=t.filter(a=>a.type===xe.Star),s=new ut(e);for(const a of o){s.recordOld(a.attrs.id,{starInnerScale:a.attrs.starInnerScale});const u=a.attrs.starInnerScale??0;let c=r?u+n:n;c<=.001&&(c=.001),c!==u&&(i=!0),a.updateAttrs({starInnerScale:c}),s.update(a.attrs.id,{starInnerScale:a.attrs.starInnerScale})}return i&&s.commit("Update StarInnerScale of Elements"),i},toggleVisible(e,t){if(t.length===0)return;const n=t.some(i=>!i.isVisible()),r=new ut(e);for(const i of t)r.recordOld(i.attrs.id,{visible:i.attrs.visible}),i.updateAttrs({visible:n}),r.update(i.attrs.id,{visible:n});r.updateParentSize(t),r.commit("update visible of graphs")},toggleLock(e,t){if(t.length===0)return;const n=t.some(i=>!i.isLock()),r=t.map(i=>({lock:i.attrs.lock}));t.forEach(i=>{i.updateAttrs({lock:n})}),e.commandManager.pushCommand(new Ai("update lock of graphs",t,{lock:n},r))},setGraphName(e,t,n){const r=[{objectName:t.attrs.objectName}];t.updateAttrs({objectName:n}),e.commandManager.pushCommand(new Ai("update name of graphics",[t],{objectName:n},r))}},VC=(e,t)=>{var n;const r=e.filter(u=>Sn(u));if(r.length===0){console.log("no frame graphics, no ungroup");return}const i=Ko(e),o=new Map;for(const u of r){const c=u.getParentId();if(!c){console.warn(`graphics ${c} lost`);continue}o.has(c)||o.set(c,new Set),o.get(c).add(u)}const s=new ut(t);let a=[];for(const[u,c]of o){const h=t.doc.getGraphicsById(u).getChildren();for(let f=0;f<h.length;f++){const p=h[f];if(!Sn(p)||!c.has(p))continue;const m=((n=h[f-1])==null?void 0:n.getSortIndex())??null,w=p.getSortIndex();p.removeFromParent(),p.setDeleted(!0),s.remove(p.attrs.id);const x=N6(s,u,p,m,w);a=a.concat(x)}}s.updateNodeSize(i),s.commit("ungroup"),t.selectedElements.setItems(a),t.selectedElements.setHoverItem(null)},N6=(e,t,n,r,i)=>{const o=n.getChildren(),s=As(r,i,o.length);for(let a=0;a<o.length;a++){const u=o[a],c=u.getWorldTransform();e.recordOld(u.attrs.id,{parentIndex:Q(u.attrs.parentIndex),transform:Q(u.attrs.transform)}),u.updateAttrs({parentIndex:{guid:t,position:s[a]}}),u.insertAtParent(s[a]),u.setWorldTransform(c),e.update(u.attrs.id,{parentIndex:Q(u.attrs.parentIndex),transform:Q(u.attrs.transform)})}return o};class B6{constructor(t){$(this,"isBound",!1),this.editor=t}bindKey(){if(this.isBound){console.warn("CommandKeyBinding has been bound, please destroy it first");return}this.isBound=!0;const t=this.editor,n=()=>t.commandManager.undo();t.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyZ"},winKey:{ctrlKey:!0,keyCode:"KeyZ"},when:D=>!D.isToolDragging,actionName:"Undo",action:n});const r=()=>t.commandManager.redo();t.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyZ"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyZ"},when:D=>!D.isToolDragging,actionName:"Redo",action:r});const i=()=>{t.hostEventManager.isEnableDelete&&t.selectedElements.removeFromScene()};t.keybindingManager.register({key:[{keyCode:"Backspace"},{keyCode:"Delete"}],when:D=>!D.isToolDragging,actionName:"Delete",action:i});const o=()=>{t.selectedElements.selectAll(),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyA"},winKey:{ctrlKey:!0,keyCode:"KeyA"},actionName:"Select All",action:o});const s=()=>{this.editor.toolManager.getActiveToolName()==="select"?t.selectedElements.clear():this.editor.toolManager.setActiveTool("select"),t.render()};t.keybindingManager.register({key:{keyCode:"Escape"},when:D=>!D.isToolDragging,actionName:"Back to Select Tool or Cancel Select",action:s});const a=()=>{t.setting.set("enableRuler",!t.setting.get("enableRuler")),t.render()};t.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyR"},actionName:"Toggle Rulers",action:a});const u=()=>{t.zoomManager.zoomToFit(),t.render()};t.keybindingManager.register({key:{shiftKey:!0,keyCode:"Digit1"},actionName:"Zoom To Fit",action:u});const c=()=>{t.zoomManager.zoomToSelection(),t.render()};t.keybindingManager.register({key:{shiftKey:!0,keyCode:"Digit2"},actionName:"Zoom To Selection",action:c});const h=()=>{t.zoomManager.zoomIn({isLevelZoom:!0}),t.render()};t.keybindingManager.register({key:[{metaKey:!0,keyCode:"Equal"},{keyCode:"Equal"}],winKey:{ctrlKey:!0,keyCode:"Equal"},actionName:"Zoom In",action:h});const f=()=>{t.zoomManager.zoomOut({isLevelZoom:!0}),t.render()};t.keybindingManager.register({key:[{metaKey:!0,keyCode:"Minus"},{keyCode:"Minus"}],winKey:{ctrlKey:!0,keyCode:"Minus"},actionName:"Zoom Out",action:f});const p=()=>{t.zoomManager.setZoomAndUpdateViewport(1),t.render()};t.keybindingManager.register({key:[{metaKey:!0,keyCode:"Digit0"},{shiftKey:!0,keyCode:"Digit0"}],winKey:[{ctrlKey:!0,keyCode:"Digit0"},{shiftKey:!0,keyCode:"Digit0"}],actionName:"Zoom To 100%",action:p});const m=()=>{t.setting.set("enablePixelGrid",!t.setting.get("enablePixelGrid")),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"Quote"},winKey:{ctrlKey:!0,keyCode:"Quote"},actionName:"Toggle Grid",action:m});const w=()=>{t.setting.set("snapToGrid",!t.setting.get("snapToGrid")),t.render()};t.keybindingManager.register({key:{shiftKey:!0,metaKey:!0,keyCode:"Quote"},winKey:{shiftKey:!0,ctrlKey:!0,keyCode:"Quote"},actionName:"Snap To Grid",action:w});const x=()=>{jo(t,ar.Front),t.render()};t.keybindingManager.register({key:{keyCode:"BracketRight"},when:D=>!D.isToolDragging,actionName:"Front",action:x});const _=()=>{jo(t,ar.Back),t.render()};t.keybindingManager.register({key:{keyCode:"BracketLeft"},when:D=>!D.isToolDragging,actionName:"Back",action:_});const y=()=>{jo(t,ar.Forward),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"BracketRight"},winKey:{ctrlKey:!0,keyCode:"BracketRight"},when:D=>!D.isToolDragging,actionName:"Forward",action:y});const v=()=>{jo(t,ar.Backward),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"BracketLeft"},winKey:{ctrlKey:!0,keyCode:"BracketLeft"},when:D=>!D.isToolDragging,actionName:"Backward",action:v}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyA"},when:D=>!D.isToolDragging,actionName:"AlignLeft",action:()=>{br(t,Ke.Left)}}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyH"},when:D=>!D.isToolDragging,actionName:"AlignHorizontalCenters",action:()=>{br(t,Ke.HCenter)}}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyD"},when:D=>!D.isToolDragging,actionName:"AlignRight",action:()=>{br(t,Ke.Right)}}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyW"},when:D=>!D.isToolDragging,actionName:"AlignTop",action:()=>{br(t,Ke.Top)}}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyV"},when:D=>!D.isToolDragging,actionName:"AlignVerticalCenters",action:()=>{br(t,Ke.VCenter)}}),t.keybindingManager.register({key:{altKey:!0,keyCode:"KeyS"},when:D=>!D.isToolDragging,actionName:"AlignBottom",action:()=>{br(t,Ke.Bottom)}});const b=()=>{UC(this.editor.selectedElements.getItems(),t),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyG"},winKey:{ctrlKey:!0,keyCode:"KeyG"},when:D=>!D.isToolDragging,actionName:"Group",action:b});const C=()=>{VC(this.editor.selectedElements.getItems(),t),t.render()};t.keybindingManager.register({key:{metaKey:!0,keyCode:"Backspace"},winKey:{ctrlKey:!0,keyCode:"Backspace"},when:D=>!D.isToolDragging,actionName:"Ungroup",action:C});const M=()=>{wn.toggleVisible(t,t.selectedElements.getItems()),t.render()};t.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyH"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyH"},when:D=>!D.isToolDragging,actionName:"Show/Hide",action:M});const T=()=>{wn.toggleLock(t,t.selectedElements.getItems()),t.render()};t.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyL"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyL"},when:D=>!D.isToolDragging,actionName:"Lock/Unlock",action:T});const P=()=>{GC(t,t.selectedElements.getItems()),t.render()};t.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyV"},winKey:{shiftKey:!0,keyCode:"KeyV"},when:D=>!D.isToolDragging,actionName:"FlipVertical",action:P});const I=()=>{zC(t,t.selectedElements.getItems()),t.render()};t.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyH"},winKey:{shiftKey:!0,keyCode:"KeyH"},when:D=>!D.isToolDragging,actionName:"FlipHorizontal",action:I});const N=()=>{const D=t.selectedElements.getItems(),H=[];let V=!1;for(const G of D)Sn(G)&&G.isGroup()?(H.push(...G.getChildren()),V=!0):H.push(G);V&&(t.selectedElements.setItems(H),t.render())},j=()=>{const D=t.selectedElements.size();if(!(t.pathEditor.isActive()||D===0))if(D===1){const H=t.selectedElements.getItems()[0];H instanceof gn?t.pathEditor.active(H):H instanceof qd?t.textEditor.active({textGraphics:H,pos:H.getWorldPosition(),range:{start:0,end:H.getContentLength()}}):Sn(H)&&H.isGroup()&&N()}else N()};t.keybindingManager.register({key:{keyCode:"Enter"},when:D=>!D.isToolDragging,actionName:"EnterGraphEdit",action:j})}destroy(){this.isBound=!1}}class H6{constructor(t){$(this,"unbindHandler",ks),$(this,"hadBound",!1),$(this,"transaction"),this.editor=t,this.transaction=new ut(t)}bindKey(){if(this.hadBound){console.warn("MoveGraphsKeyBinding had already bound, please unbind first");return}this.hadBound=!0;const t=this.editor;let n=!0;const r=_4(h=>{this.editor.controlHandleManager.showCustomHandles(),n=!0;for(const f of h)this.transaction.update(f.attrs.id,{transform:Q(f.attrs.transform)});this.editor.commandManager.enableRedoUndo(),this.transaction.commit("Move elements by direction key"),this.transaction=new ut(t)},t.setting.get("moveElementsDelay")),i=()=>{r.flush()},o={ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1},s=()=>o.ArrowLeft||o.ArrowRight||o.ArrowUp||o.ArrowDown,a=h=>{const f=t.selectedElements.getItems();if(f.length===0||(h.key in o&&(o[h.key]=!0),!s()))return;if(n){for(const m of f)this.transaction.recordOld(m.attrs.id,{transform:Q(m.attrs.transform)});n=!1}let p=t.setting.get("smallNudge");h.shiftKey&&(p=t.setting.get("bigNudge")),o.ArrowLeft&&ht.dMove(f,-p,0),o.ArrowRight&&ht.dMove(f,p,0),o.ArrowUp&&ht.dMove(f,0,-p),o.ArrowDown&&ht.dMove(f,0,p),this.transaction.updateParentSize(f),this.editor.commandManager.disableRedoUndo(),this.editor.controlHandleManager.hideCustomHandles(),r(f),t.render()},u=h=>{const f=h.key;f in o&&(o[f]=!1)},c=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];this.editor.keybindingManager.register({key:[...c.map(h=>({keyCode:h})),...c.map(h=>({shiftKey:!0,keyCode:h}))],actionName:"Move Elements",action:a}),window.addEventListener("keyup",u),t.commandManager.on("beforeExecCmd",i),this.unbindHandler=()=>{window.removeEventListener("keyup",u),t.commandManager.off("beforeExecCmd",i)}}destroy(){this.unbindHandler(),this.hadBound=!1}}class F6{constructor(t){$(this,"isShiftPressing",!1),$(this,"isCtrlPressing",!1),$(this,"isAltPressing",!1),$(this,"isCommandPressing",!1),$(this,"isSpacePressing",!1),$(this,"isWheelBtnPressing",!1),$(this,"isDraggingCanvasBySpace",!1),$(this,"isEnableDelete",!0),$(this,"isEnableContextMenu",!0),$(this,"moveGraphsKeyBinding"),$(this,"commandKeyBinding"),$(this,"eventEmitter",new _n),$(this,"unbindHandlers",[]),this.editor=t,this.moveGraphsKeyBinding=new H6(t),this.commandKeyBinding=new B6(t)}bindHotkeys(){this.observeModifiersToggle(),this.bindWheelEvent(),this.bindContextMenu(),this.moveGraphsKeyBinding.bindKey(),this.commandKeyBinding.bindKey()}observeModifiersToggle(){const t=n=>{const r=this.isShiftPressing,i=this.isAltPressing,o=this.isSpacePressing;this.isShiftPressing=n.shiftKey,this.isCtrlPressing=n.ctrlKey,this.isAltPressing=n.altKey,this.isCommandPressing=n.metaKey,n.code==="Space"&&(this.isSpacePressing=n.type==="keydown"),r!==this.isShiftPressing&&this.eventEmitter.emit("shiftToggle",this.isShiftPressing),i!==this.isAltPressing&&this.eventEmitter.emit("altToggle",this.isAltPressing),o!==this.isSpacePressing&&this.eventEmitter.emit("spaceToggle",this.isSpacePressing)};document.addEventListener("keydown",t),document.addEventListener("keyup",t),this.unbindHandlers.push(()=>{document.removeEventListener("keydown",t),document.removeEventListener("keyup",t)})}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}bindWheelEvent(){const t=this.editor,n=i=>{if(i.ctrlKey||i.metaKey){i.preventDefault();const o=this.editor.getCursorXY(i);let s=i.deltaY>0;this.editor.setting.get("invertZoomDirection")&&(s=!s),s?t.zoomManager.zoomOut({center:o,deltaY:i.deltaY}):t.zoomManager.zoomIn({center:o,deltaY:i.deltaY}),t.render()}else{if(this.editor.canvasDragger.isActive()&&this.editor.canvasDragger.isPressing())return;const o=t.zoomManager.getZoom();t.viewportManager.translate(i.deltaX/o,i.deltaY/o),t.render()}},r=i=>{(i.ctrlKey||i.metaKey)&&i.preventDefault()};t.canvasElement.addEventListener("wheel",n),window.addEventListener("wheel",r,{passive:!1}),this.unbindHandlers.push(()=>{t.canvasElement.removeEventListener("wheel",n),window.removeEventListener("wheel",r)})}bindContextMenu(){const t=n=>{n.preventDefault(),this.isEnableContextMenu&&this.eventEmitter.emit("contextmenu",{x:n.clientX,y:n.clientY})};this.editor.canvasElement.addEventListener("contextmenu",t),this.unbindHandlers.push(()=>{this.editor.canvasElement.removeEventListener("contextmenu",t)})}enableDelete(){this.isEnableDelete=!0}disableDelete(){this.isEnableDelete=!1}enableContextmenu(){this.isEnableContextMenu=!0}disableContextmenu(){this.isEnableContextMenu=!1}destroy(){this.unbindHandlers.forEach(t=>t()),this.unbindHandlers=[],this.moveGraphsKeyBinding.destroy(),this.commandKeyBinding.destroy()}}var Zg=(e=>(e[e.Left=0]="Left",e[e.Mid=1]="Mid",e))(Zg||{});class z6{constructor(t){$(this,"isWheelBtnPressing",!1),$(this,"eventEmitter",new _n),$(this,"cursorPos",null),$(this,"startPos",{x:0,y:0}),$(this,"isPressing",!1),$(this,"maxDragDistance",0),$(this,"onPointerdown",n=>{if(n.target!==this.editor.canvasElement)return;this.updateIsWheelBtnPressing(n),this.isPressing=!0;const{pos:r,vwPos:i}=this.getPosAndVwPos(n);this.startPos={...r};const o=this.checkIfComboClick(n),s={pos:r,vwPos:i,nativeEvent:n,isComboClick:o};this.eventEmitter.emit("start",s),o&&this.eventEmitter.emit("comboClick",s)}),$(this,"onPointerMove",n=>{const r=n.target===this.editor.canvasElement;if(r||this.isPressing){const s=this.editor.getSceneCursorXY(n);this.setCursorPos(s)}const{pos:i,vwPos:o}=this.getPosAndVwPos(n);if(this.isPressing){const s=i.x-this.startPos.x,a=i.y-this.startPos.y,u=Math.max(Math.abs(s),Math.abs(a));this.maxDragDistance=Math.max(u,this.maxDragDistance),this.eventEmitter.emit("drag",{pos:i,vwPos:o,nativeEvent:n,isOutside:r,maxDragDistance:this.maxDragDistance})}else this.eventEmitter.emit("move",{pos:i,vwPos:o,nativeEvent:n,isOutside:r,maxDragDistance:this.maxDragDistance})}),$(this,"onPointerUp",n=>{this.updateIsWheelBtnPressing(n),this.isPressing=!1,this.maxDragDistance=0,(n.target===this.editor.canvasElement||this.isPressing)&&this.eventEmitter.emit("end",{...this.getPosAndVwPos(n),nativeEvent:n})}),$(this,"pointerDownTimeStamp",-1/0),$(this,"lastPointerDownPos",{x:-99,y:-99}),$(this,"checkIfComboClick",n=>{if(n.button!==0)return!1;const r=new Date().getTime(),i={x:n.pageX,y:n.pageY},o=r-this.pointerDownTimeStamp,s=vt(i,this.lastPointerDownPos);return o<this.editor.setting.get("comboClickMaxGap")&&s<this.editor.setting.get("comboClickDistanceTol")?(this.pointerDownTimeStamp=r,!0):(this.pointerDownTimeStamp=r,this.lastPointerDownPos=i,!1)}),this.editor=t,this.bindEvent()}getCursorPos(){return Q(this.cursorPos)}setCursorPos(t){const n=this.cursorPos;this.cursorPos=t&&{x:t.x,y:t.y},Du(n,this.cursorPos)||this.eventEmitter.emit("cursorPosUpdate",Q(t))}getPosAndVwPos(t){const n=this.editor.getCursorXY(t);return{pos:this.editor.toScenePt(n.x,n.y),vwPos:n}}updateIsWheelBtnPressing(t){if(t.button===1){const n=this.isWheelBtnPressing;t.type==="pointerdown"?this.isWheelBtnPressing=!0:t.type==="pointerup"&&(this.isWheelBtnPressing=!1),n!==this.isWheelBtnPressing&&this.eventEmitter.emit("wheelBtnToggle",this.isWheelBtnPressing,t)}}bindEvent(){window.addEventListener("pointerdown",this.onPointerdown),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}unbindEvent(){window.removeEventListener("pointerdown",this.onPointerdown),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)}destroy(){this.unbindEvent()}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class G6{constructor(t){$(this,"_active",!1),$(this,"inactiveAfterPointerUp",!1),$(this,"isEnableDragCanvasBySpace",!0),$(this,"_isPressing",!1),$(this,"startVwPos",{x:0,y:0}),$(this,"startViewportPos",{x:0,y:0}),$(this,"eventEmitter",new _n),$(this,"handleSpaceToggle",n=>{this.isEnableDragCanvasBySpace&&(n?this.active():this.inactive())}),$(this,"handleWheelBtnToggle",(n,r)=>{this.isEnableDragCanvasBySpace&&(n?this.active(r):this.inactive())}),$(this,"onStart",n=>{n.nativeEvent.button!==Zg.Left&&n.nativeEvent.button!==Zg.Mid||(this.editor.textEditor.isActive()&&n.nativeEvent.preventDefault(),this.editor.cursorManager.setCursor("grabbing"),this._isPressing=!0,this.startVwPos={...n.vwPos},this.startViewportPos=this.editor.viewportManager.getViewport())}),$(this,"onDrag",n=>{if(!this._isPressing)return;const r=n.vwPos.x-this.startVwPos.x,i=n.vwPos.y-this.startVwPos.y,o=this.editor.setting.get("dragBlockStep"),s=this.editor.zoomManager.getZoom();if(n.maxDragDistance>o/s){const a=this.startViewportPos.x-r/s,u=this.startViewportPos.y-i/s;this.editor.viewportManager.setViewport({x:a,y:u}),this.editor.render()}}),$(this,"onEnd",()=>{this.editor.cursorManager.setCursor("grab"),this._isPressing=!1,this.inactiveAfterPointerUp&&(this.inactiveAfterPointerUp=!1,this.inactive())}),this.editor=t,this.editor.hostEventManager.on("spaceToggle",this.handleSpaceToggle),this.editor.mouseEventManager.on("wheelBtnToggle",this.handleWheelBtnToggle)}isPressing(){return this._isPressing}isActive(){return this._active}active(t){if(this._active){console.warn("CanvasDragger already active");return}if(this.eventEmitter.emit("activeChange",!0),this._active=!0,this.editor.setCursor("grab"),this.bindEventWhenActive(),t){this.editor.setCursor("grabbing");const n=this.editor.getCursorXY(t);this.onStart({pos:this.editor.toScenePt(n.x,n.y),vwPos:n,nativeEvent:t})}}inactive(){if(this._isPressing)this.inactiveAfterPointerUp=!0;else{if(!this._active)return;this.eventEmitter.emit("activeChange",!1),this._active=!1,this.unbindEventWhenInactive(),this.editor.toolManager.setCursorWhenActive()}}enableDragBySpace(){this.isEnableDragCanvasBySpace=!0}disableDragBySpace(){this.isEnableDragCanvasBySpace=!1}bindEventWhenActive(){this.editor.mouseEventManager.on("start",this.onStart),this.editor.mouseEventManager.on("drag",this.onDrag),this.editor.mouseEventManager.on("end",this.onEnd)}unbindEventWhenInactive(){this.editor.mouseEventManager.off("start",this.onStart),this.editor.mouseEventManager.off("drag",this.onDrag),this.editor.mouseEventManager.off("end",this.onEnd)}destroy(){this.editor.hostEventManager.off("spaceToggle",this.handleSpaceToggle),this.editor.mouseEventManager.off("wheelBtnToggle",this.handleWheelBtnToggle),this.unbindEventWhenInactive()}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class Va extends ht{constructor(t,n){super({...t,type:xe.Canvas},n),$(this,"type",xe.Canvas),$(this,"isContainer",!0)}getWorldTransform(){return Ug()}getHitGraphics(t,n){const r=this.getChildren();for(let i=r.length-1;i>=0;i--){const o=r[i].getHitGraphics(t,n);if(o)return o}return null}shouldSkipDraw(){return!1}}const XC=e=>e instanceof Va,W6=e=>{const t=vo(e.map(a=>a.getBboxWithStroke())),n=fo(t),r={x:-t.minX,y:-t.minY},i=`<svg width="${n.width}" height="${n.height}" viewBox="0 0 ${n.width} ${n.height}" fill="none" xmlns="http://www.w3.org/2000/svg">
`,o="</svg>";let s="";for(const a of e)s+=a.toSVGSegment(r);return i+s+o};class U6{constructor(t){$(this,"unbindEvents",ks),$(this,"hasBindEvents",!1),this.editor=t}bindEvents(){if(this.hasBindEvents){console.log("ClipboardManager has bind events, please destroy first");return}this.hasBindEvents=!0;const t=()=>{this.copy()},n=r=>{const i=r.clipboardData;if(!i||this.editor.textEditor.isActive()||(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)&&!this.editor.textEditor.isEditorInputDom(r.target))return;if(i.files.length>0){for(const s of i.files)if(s.type.includes("image")){const a=new FileReader;a.onload=u=>{var c;const h=(c=u.target)==null?void 0:c.result;this.createGraphicsWithImg(h)},a.readAsDataURL(s)}return}const o=i.getData("Text");this.addGraphsFromClipboard(o)};this.editor.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyC"},winKey:{ctrlKey:!0,keyCode:"KeyC"},actionName:"Copy",action:t}),window.addEventListener("paste",n),this.unbindEvents=()=>{window.removeEventListener("paste",n)}}async createGraphicsWithImg(t){const n=this.editor;await n.imgManager.addImg(t);const r=n.imgManager.getImg(t),i=n.viewportManager.getCenter();if(r){const o=new pn({objectName:"",width:r.width,height:r.height,fill:[{type:J.Image,attrs:{src:t}}]},{advancedAttrs:{x:i.x-r.width/2,y:i.y-r.height/2},doc:n.doc});n.sceneGraph.addItems([o]),n.doc.getCanvas().insertChild(o),n.render()}}copy(){const t=this.getSelectedItemsSnapshot();t&&navigator.clipboard.writeText(t).then(()=>{console.log("copied")})}copyAsSVG(){const t=this.editor.selectedElements.getItems();if(t.length===0)return;const n=W6(t);navigator.clipboard.writeText(n).then(()=>{console.log("SVG copied")})}pasteAt(t){navigator.clipboard.readText().then(n=>{this.addGraphsFromClipboard(n,t)})}getSelectedItemsSnapshot(){const t=ht.sortGraphics(this.editor.selectedElements.getItems());if(t.length===0)return null;const n=e4(),r=new Map,i=[];for(const s of t){const a=s.getAttrs();a.transform=s.getWorldTransform(),a.parentIndex=void 0;const u=n();r.set(a.id,u),a.id=u,i.push(a)}const o=Zd(t);for(const s of o){const a=s.getAttrs(),u=n();r.set(a.id,u),a.id=u,a.parentIndex&&(a.parentIndex.guid=r.get(a.parentIndex.guid)),i.push(a)}return JSON.stringify({appVersion:this.editor.appVersion,paperId:this.editor.paperId,data:i})}updateAttrsParentIndex(t){let n=null,r=null;const i=ht.sortGraphics(this.editor.selectedElements.getItems()).at(-1)??this.editor.doc.getCurrCanvas();let o=i;if(XC(i)||Sn(i))n=i.getMaxChildIndex();else{o=i.getParent(),n=i.getSortIndex();const p=i.getNextSibling();r=p?p.getSortIndex():null}const s=o.attrs.id,a=Ci(o.getWorldTransform());let u=0;for(;u<t.length&&!t[u].parentIndex;)u++;const c=u,h=As(n,r,c),f=new Map;for(let p=0;p<c;p++){const m=t[p];m.parentIndex={guid:s,position:h[p]};const w=vu();f.set(m.id,w),m.id=w,m.transform=Zn(a,m.transform)}for(;u<t.length;){const p=t[u],m=vu();f.set(p.id,m),p.id=m,p.parentIndex.guid=f.get(p.parentIndex.guid),u++}return c}addGraphsFromClipboard(t,n){let r=null;try{r=JSON.parse(t)}catch{return}if(!(r&&typeof r=="object"&&r.appVersion.startsWith("suika-editor")&&r.data))return;const i=this.editor;if(r.data.length===0)return;const o=this.updateAttrsParentIndex(r.data),s=i.sceneGraph.createGraphicsArr(r.data);i.sceneGraph.addItems(s),i.sceneGraph.initGraphicsTree(s);const a=s.slice(0,o);i.selectedElements.setItems(a);const u=fo(vo(a.map(c=>c.getBbox())));if(!n&&r.paperId!==i.paperId){const c=this.editor.viewportManager.getCenter();n={x:c.x-u.width/2,y:c.y-u.height/2}}if(n){const c=n.x-u.x,h=n.y-u.y;(c||h)&&ht.dMove(a,c,h)}new ut(i).addNewIds(s.map(c=>c.attrs.id)).updateParentSize(a).commit("pasted graphs"),i.render()}destroy(){this.hasBindEvents=!1,this.unbindEvents()}}const V6=e=>`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_1139_2)" transform="rotate(${e} 16 16)"><path d="M4.38452 17.3499L9.68782 16.9963L7.78571 15.0942C8.84801 14.0319 10.1091 13.1892 11.4971 12.6143C12.8851 12.0394 14.3727 11.7435 15.875 11.7435C17.3773 11.7435 18.8649 12.0394 20.2529 12.6143C21.6409 13.1892 22.902 14.0319 23.9643 15.0942L22.0622 16.9963L27.3655 17.3499L27.0119 12.0466L25.0674 13.9911C23.8602 12.784 22.4271 11.8264 20.8499 11.1731C19.2727 10.5198 17.5822 10.1835 15.875 10.1835C14.1678 10.1835 12.4774 10.5198 10.9001 11.1731C9.32289 11.8264 7.88978 12.784 6.68262 13.9911L4.73807 12.0466L4.38452 17.3499Z" fill="#000000"/><path d="M9.72108 17.4952L10.8205 17.4219L10.0414 16.6428L8.5009 15.1023C9.43698 14.2481 10.5153 13.5622 11.6884 13.0763C13.0158 12.5265 14.4383 12.2435 15.875 12.2435C17.3117 12.2435 18.7343 12.5265 20.0616 13.0763C21.2347 13.5622 22.313 14.2481 23.2491 15.1023L21.7086 16.6428L20.9295 17.4219L22.0289 17.4952L27.3322 17.8488L27.9024 17.8868L27.8644 17.3166L27.5108 12.0133L27.4375 10.9139L26.6584 11.693L25.0608 13.2906C23.8859 12.1996 22.525 11.3257 21.0412 10.7111C19.4033 10.0327 17.6479 9.68351 15.875 9.68351C14.1022 9.68351 12.3467 10.0327 10.7088 10.7111C9.22503 11.3257 7.86411 12.1996 6.68917 13.2906L5.09163 11.693L4.31248 10.9139L4.23918 12.0133L3.88563 17.3166L3.84762 17.8868L4.41778 17.8488L9.72108 17.4952Z" stroke="white"/></g><defs><filter id="filter0_d_1139_2" x="1.3107" y="7.18351" width="29.1286" height="13.2402" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1139_2"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1139_2" result="shape"/></filter></defs></svg>`,X6=e=>`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_1173_45)" transform="rotate(${e} 16 16)"><path d="M16 6L12.5 10H19.5L16 6Z" fill="#000000"/><path d="M16 26L12.5 22H19.5L16 26Z" fill="#000000"/><path d="M15.25 10H16.75V22H15.25V10Z" fill="#000000"/><path d="M12.1237 9.67075L11.3981 10.5H12.5H14.75V21.5H12.5H11.3981L12.1237 22.3293L15.6237 26.3293L16 26.7593L16.3763 26.3293L19.8763 22.3293L20.6019 21.5H19.5H17.25V10.5H19.5H20.6019L19.8763 9.67075L16.3763 5.67075L16 5.2407L15.6237 5.67075L12.1237 9.67075Z" stroke="white"/></g><defs><filter id="filter0_d_1173_45" x="8.29623" y="2.48141" width="15.4075" height="27.0372" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1173_45"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1173_45" result="shape"/></filter></defs></svg>`,up=new Map,K6=(e,t)=>{const n=e+t;if(up.has(n))return up.get(n);let r="";switch(e){case"resize":r=X6(t);break;case"rotation":r=V6(t);break;default:console.warn("getIconSvgDataUrl: unknown type",e)}const i=`url("data:image/svg+xml,${r.replace(/"/g,"'").replace(/#/g,"%23")}") 16 16, auto`;return up.set(n,i),i};class Y6{constructor(t){$(this,"cursor"),$(this,"customClassCursor",new Set(["default","move","move-ns","move-ew","pen","pen-close","pen-anchor-remove","pen-anchor-add","crosshair","pencil"])),this.editor=t,this.setCursor("default")}getCursor(){return this.cursor}normalizeCursor(t){return typeof t=="string"?t:t.type==="resize"?{type:t.type,degree:Gg(t.degree)%180}:t.type==="rotation"?{type:t.type,degree:Gg(Math.round(t.degree))}:t}setCursor(t){if(t=this.normalizeCursor(t),Du(t,this.cursor))return;this.cursor=t;const n="suika-cursor-",r=this.editor.canvasElement;if(r.classList.forEach(i=>{i.startsWith(n)&&r.classList.remove(i)}),this.editor.canvasElement.style.cursor="",this.customClassCursor.has(t)){const i=`${n}${t}`;this.editor.canvasElement.classList.add(i)}else typeof t=="string"?this.editor.canvasElement.style.cursor=t:(t.type==="resize"||t.type==="rotation")&&(this.editor.canvasElement.style.cursor=K6(t.type,t.degree))}}const Z6=e=>typeof e=="object"&&(e==null?void 0:e.type)==="rotation";class q6{constructor(){$(this,"graphicsStore",new Map),$(this,"canvasStore",new Map),$(this,"frameStore",new Map)}add(t){const n=t.attrs.id,r=this.graphicsStore;r.has(n)&&console.warn(`graphics ${n} has added`),t instanceof Va?this.canvasStore.set(n,t):t instanceof Fu&&this.frameStore.set(n,t),r.set(n,t)}get(t){return this.graphicsStore.get(t)}getAll(){const t=[];for(const[,n]of this.graphicsStore)n.isDeleted()||t.push(n);return t}getCanvas(){return Array.from(this.canvasStore.values())[0]}getFrames(){return Array.from(this.frameStore.values())}clear(){this.graphicsStore.clear(),this.canvasStore.clear(),this.frameStore.clear()}}let KC=class extends ht{constructor(t){super({...t,type:xe.Document},{}),$(this,"type",xe.Document),$(this,"isContainer",!0),$(this,"graphicsStoreManager",new q6),$(this,"emitter",new _n),$(this,"changes",{added:new Map,deleted:new Set,updatedIds:new Set}),$(this,"editor"),$(this,"emitSceneChangeThrottle",Lm(()=>{const n=this.flushChanges();this.emitter.emit("sceneChange",n,"unknown")},100))}setEditor(t){this.editor=t}clear(){this.graphicsStoreManager.clear()}getCanvas(){return this.graphicsStoreManager.getCanvas()}getGraphicsById(t){return this.graphicsStoreManager.get(t)}getGraphicsArrByIds(t){const n=[];for(const r of t){const i=this.getGraphicsById(r);if(!i){console.warn(`id ${r} is no exist in graphics array`);continue}n.push(i)}return n}getAllGraphicsArr(){return this.graphicsStoreManager.getAll()}getCurrCanvas(){return this.graphicsStoreManager.getCanvas()}addGraphics(t){this.graphicsStoreManager.add(t),this.changes.added.set(t.attrs.id,t.getAttrs()),this.emitSceneChangeThrottle()}collectDeletedGraphics(t){const n=t.attrs.id;t.isDeleted()?(this.changes.deleted.add(n),this.changes.added.delete(n)):(this.changes.deleted.delete(n),this.changes.added.set(n,t.getAttrs())),this.emitSceneChangeThrottle()}collectUpdatedGraphics(t){this.changes.updatedIds.add(t),this.emitSceneChangeThrottle()}flushChanges(){const t=new Map;for(const r of this.changes.updatedIds){const i=this.getGraphicsById(r);if(!i){console.warn(`graphics ${r} is lost!`);continue}t.set(r,i.getUpdatedAttrs())}const n={added:this.changes.added,deleted:this.changes.deleted,update:t};return this.clearChanges(),n}clearChanges(){this.changes={added:new Map,deleted:new Set,updatedIds:new Set}}getDeviceViewSize(){const t=this.editor.canvasElement;return{width:t.width,height:t.height}}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}};class Q6{constructor(){$(this,"eventEmitter",new _n),$(this,"imgMap",new Map),$(this,"loadingImgSet",new Set)}async addImg(t){if(this.loadingImgSet.has(t)||this.getImg(t))return;const n=new Image;n.src=t,await new Promise(r=>{n.onload=()=>{this.loadingImgSet.delete(t),this.imgMap.set(t,n),this.eventEmitter.emit("added",n),r(n)}})}getImg(t){return this.imgMap.get(t)}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}const px=e=>{const{ctrlKey:t=!1,shiftKey:n=!1,altKey:r=!1,metaKey:i=!1}=e;return`${t?"ctrl+":""}${i?"meta+":""}${n?"shift+":""}${r?"alt+":""}${e.code}`};class J6{constructor(t){$(this,"keyBindingMap",new Map),$(this,"isBound",!1),$(this,"id",0),$(this,"handleAction",n=>{if(n.altKey&&n.preventDefault(),n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let r=!1;const i={isToolDragging:this.editor.toolManager.isDragging()};for(const o of this.keyBindingMap.values())if((!o.when||o.when(i))&&(i4()&&o.winKey?this.isKeyMatch(o.winKey,n)&&(r=!0):this.isKeyMatch(o.key,n)&&(r=!0)),r){n.preventDefault(),console.log(`[${px(n)}] => ${o.actionName}`),o.action(n);break}r||console.log(`[${px(n)}] => no match`)}),this.editor=t}isKeyMatch(t,n){if(Array.isArray(t))return t.some(a=>this.isKeyMatch(a,n));if(t.keyCode=="*")return!0;const{ctrlKey:r=!1,shiftKey:i=!1,altKey:o=!1,metaKey:s=!1}=t;return r==n.ctrlKey&&i==n.shiftKey&&o==n.altKey&&s==n.metaKey&&t.keyCode==n.code}register(t){const n=this.id;return this.keyBindingMap.set(n,t),this.id++,n}registerWithHighPrior(t){const n=this.id,r=new Map;r.set(n,t);for(const[i,o]of this.keyBindingMap)r.set(i,o);return this.keyBindingMap=r,this.id++,n}unregister(t){this.keyBindingMap.delete(t)}bindEvent(){this.isBound||(this.isBound=!0,document.addEventListener("keydown",this.handleAction))}destroy(){this.isBound&&(this.keyBindingMap.clear(),document.removeEventListener("keydown",this.handleAction))}}const Wm=(e,t)=>{const n=new Set;for(const a of t)a.removeFromParent(),a.setDeleted(!0),n.add(a.attrs.id);const r=Ko(t);for(const a of r){const u=e.doc.getGraphicsById(a);u.isEmpty()&&(u.removeFromParent(),u.setDeleted(!0),n.add(a))}const i=Zd(t);for(const a of i)a.setDeleted(!0),n.add(a.attrs.id);const o=new Map,s=new Map;bu(e,r,o,s),e.commandManager.pushCommand(new Yd("remove graphics",e,o,s,n))},YC="dragCanvas",ZC="h";class Rh{constructor(t){$(this,"type",YC),$(this,"hotkey",ZC),$(this,"cursor","grab"),this.editor=t}onActive(){this.editor.canvasDragger.disableDragBySpace(),this.editor.canvasDragger.active()}onInactive(){this.editor.canvasDragger.inactive(),this.editor.canvasDragger.enableDragBySpace()}onMoveExcludeDrag(){}onStart(){}onDrag(){}onEnd(){}afterEnd(){this.editor.canvasDragger.disableDragBySpace()}}$(Rh,"type",YC),$(Rh,"hotkey",ZC);const Xc={getSnapPtBySetting(e,t){if(e={x:e.x,y:e.y},t.get("snapToGrid")){const n={x:t.get("gridSnapX"),y:t.get("gridSnapY")};return this.getGridSnapPt(e,n)}return e},getGridSnapPt(e,t){return{x:yt(e.x,t.x),y:yt(e.y,t.y)}}};class po{constructor(t){$(this,"type",""),$(this,"hotkey",""),$(this,"cursor","crosshair"),$(this,"commandDesc","Add Graphics"),$(this,"drawingGraphics",null),$(this,"startPoint",{x:-1,y:-1}),$(this,"lastDragPoint"),$(this,"lastDragPointInViewport"),$(this,"lastMousePoint"),$(this,"startPointWhenSpaceDown",null),$(this,"lastDragPointWhenSpaceDown",null),$(this,"isDragging",!1),$(this,"unbindEvent",ks),this.editor=t}onActive(){const t=this.editor,n=t.hostEventManager,r=()=>{this.isDragging&&this.updateRect()};n.on("shiftToggle",r);const i=()=>{t.hostEventManager.isDraggingCanvasBySpace||this.isDragging&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.editor.selectedElements.getItems()})},o=()=>{t.hostEventManager.isDraggingCanvasBySpace||this.isDragging&&(this.lastDragPoint=t.toScenePt(this.lastDragPointInViewport.x,this.lastDragPointInViewport.y,this.editor.setting.get("snapToGrid")),this.updateRect())};t.viewportManager.on("xOrYChange",i),t.viewportManager.on("xOrYChange",o),this.unbindEvent=()=>{n.off("shiftToggle",r),t.viewportManager.off("xOrYChange",i),t.viewportManager.off("xOrYChange",o)}}onSpaceToggle(t){this.isDragging&&t?(this.startPointWhenSpaceDown=this.startPoint,this.lastDragPointWhenSpaceDown=this.lastMousePoint,this.updateRect()):(this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null)}onAltToggle(){this.isDragging&&this.updateRect()}onInactive(){this.unbindEvent()}onMoveExcludeDrag(){}onStart(t){this.startPoint=Xc.getSnapPtBySetting(this.editor.getSceneCursorXY(t),this.editor.setting),this.drawingGraphics=null,this.isDragging=!1,this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null}onDrag(t){if(this.editor.hostEventManager.disableDelete(),this.editor.hostEventManager.disableContextmenu(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;this.lastDragPointInViewport=this.editor.getCursorXY(t),this.lastDragPoint=this.lastMousePoint=Xc.getSnapPtBySetting(this.editor.getSceneCursorXY(t),this.editor.setting),!this.isDragging&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines();const n=this.editor.refLine.getGraphicsSnapOffset([this.lastDragPoint]);this.lastDragPoint={x:this.lastDragPoint.x+n.x,y:this.lastDragPoint.y+n.y},this.isDragging=!0,this.updateRect()}adjustSizeWhenShiftPressing(t){const{width:n,height:r}=t,i=Math.max(Math.abs(n),Math.abs(r));return t.height=(Math.sign(r)||1)*i,t.width=(Math.sign(n)||1)*i,t}updateGraphics(t){t=Hs(t);const n=this.drawingGraphics,r=n.getParent();let i=t.x,o=t.y;if(r&&Sn(r)){const s=r.getWorldTransform(),a=Nm(s,t);i=a.x,o=a.y}n.updateAttrs({x:i,y:o,width:t.width,height:t.height})}updateRect(){if(!this.isDragging)return;const{x:t,y:n}=this.lastDragPoint,r=this.editor.sceneGraph;if(this.startPointWhenSpaceDown&&this.lastDragPointWhenSpaceDown){const{x:m,y:w}=this.startPointWhenSpaceDown,{x,y:_}=this.lastDragPointWhenSpaceDown,y=t-x,v=n-_;this.startPoint={x:m+y,y:w+v}}const{x:i,y:o}=this.startPoint;let s=t-i,a=n-o;if(s===0||a===0){const m=this.solveWidthOrHeightIsZero({width:s,height:a},{x:this.lastMousePoint.x-this.startPoint.x,y:this.lastMousePoint.y-this.startPoint.y});s=m.width,a=m.height}let u={x:i,y:o,width:s,height:a};const c=this.editor.hostEventManager.isAltPressing,h=this.editor.hostEventManager.isShiftPressing;let f=0,p=0;if(c&&(u={x:u.x-s,y:u.y-a,width:u.width*2,height:u.height*2},f=u.x+u.width/2,p=u.y+u.height/2),h&&(u=this.adjustSizeWhenShiftPressing(u)),c&&(u.x=f-u.width/2,u.y=p-u.height/2),this.drawingGraphics)this.updateGraphics(u);else{const m=this.editor.doc.getCurrCanvas(),w=wu(this.startPoint,m.getChildren()),x=w||m,_=this.createGraphics(u,x);if(this.drawingGraphics=_,!_)return;if(r.addItems([_]),x.insertChild(_),w){const y=[..._.attrs.transform];_.setWorldTransform(y)}this.editor.selectedElements.setItems([_])}this.editor.render()}solveWidthOrHeightIsZero(t,n){const r={width:t.width,height:t.height};if(t.width===0){const i=Math.sign(n.x)||1;r.width=i*this.editor.setting.get("gridSnapX")}if(t.height===0){const i=Math.sign(n.y)||1;r.height=i*this.editor.setting.get("gridSnapY")}return r}onEnd(t){if(this.editor.hostEventManager.isDraggingCanvasBySpace)return;const n=Xc.getSnapPtBySetting(this.editor.getSceneCursorXY(t),this.editor.setting);if(this.drawingGraphics===null){const{x:r,y:i}=n,o=this.editor.setting.get("drawGraphDefaultWidth"),s=this.editor.setting.get("drawGraphDefaultHeight"),a=this.editor.doc.getCurrCanvas(),u=wu(this.startPoint,a.getChildren()),c=u||a;if(this.drawingGraphics=this.createGraphics({x:r-o/2,y:i-s/2,width:o,height:s},c,!0),this.drawingGraphics){const h=this.drawingGraphics;if(this.editor.sceneGraph.addItems([h]),c.insertChild(h),u){const f=[...h.attrs.transform];h.setWorldTransform(f)}this.editor.selectedElements.setItems([h]),this.editor.render()}}this.drawingGraphics&&this.editor.commandManager.pushCommand(new Tm(this.commandDesc,this.editor,[this.drawingGraphics]))}afterEnd(){this.isDragging=!1,this.editor.hostEventManager.enableDelete(),this.editor.hostEventManager.enableContextmenu(),this.drawingGraphics&&!this.editor.setting.get("keepToolSelectedAfterUse")&&this.editor.toolManager.setActiveTool("select"),this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null,this.editor.refLine.clear()}}$(po,"type",""),$(po,"hotkey","");const qC="drawEllipse",QC="o";let Lh=class extends po{constructor(t){super(t),$(this,"type",qC),$(this,"hotkey",QC),this.commandDesc="Add Ellipse"}createGraphics(t,n){return t=Hs(t),new Hu({objectName:yo(n,xo.Ellipse),width:t.width,height:t.height,fill:[Q(this.editor.setting.get("firstFill"))]},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(Lh,"type",qC),$(Lh,"hotkey",QC);const JC="drawFrame",e3="f";let Dh=class extends po{constructor(t){super(t),$(this,"type",JC),$(this,"hotkey",e3),this.commandDesc="Add Frame"}createGraphics(t,n){return t=Hs(t),new Fu({objectName:yo(n,xo.Frame),width:t.width,height:t.height,fill:[Q(this.editor.setting.get("firstFrameFill"))],resizeToFit:!1},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(Dh,"type",JC),$(Dh,"hotkey",e3);const eO=()=>new Promise(e=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=n=>{var r;const i=(r=n.target.files)==null?void 0:r[0];if(!i)return;const o=new FileReader;o.onload=s=>{var a;const u=(a=s.target)==null?void 0:a.result;setTimeout(()=>{e({url:u,name:i.name})})},o.readAsDataURL(i)},t.click()}),t3="drawImg",n3="";let Nh=class extends po{constructor(t){super(t),$(this,"type",t3),$(this,"hotkey",n3),$(this,"imgData",null),this.commandDesc="Add Image"}async enableActive(){try{const t=await eO();return await this.editor.imgManager.addImg(t.url),this.imgData=t,!0}catch{return!1}}createGraphics(t){return t=Hs(t),new pn({objectName:this.imgData.name,width:t.width,height:t.height,fill:[{type:J.Image,attrs:{src:this.imgData.url}}]},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(Nh,"type",t3),$(Nh,"hotkey",n3);const r3="drawLine",i3="l";let Bh=class extends po{constructor(t){super(t),$(this,"type",r3),$(this,"hotkey",i3),this.commandDesc="Add Line"}createGraphics(t,n,r){if(r)return null;const i=this.calcAttrs(t);return new zm({objectName:yo(n,xo.Line),...i,height:0,stroke:[Q(this.editor.setting.get("firstStroke"))],strokeWidth:this.editor.setting.get("strokeWidth")},{doc:this.editor.doc})}adjustSizeWhenShiftPressing(t){return S6(t)}updateGraphics(t){const n=this.drawingGraphics.getParent();let r=t.x,i=t.y;if(n&&Sn(n)){const s=n.getWorldTransform(),a=Nm(s,t);r=a.x,i=a.y}const o=this.calcAttrs({x:r,y:i,width:t.width,height:t.height});this.drawingGraphics.updateAttrs({width:o.width,transform:o.transform})}solveWidthOrHeightIsZero(t,n){const r={width:t.width,height:t.height};if(t.width===0){const i=Math.sign(n.x)||1;r.width=i*this.editor.setting.get("gridSnapX")}return r}calcAttrs({x:t,y:n,width:r,height:i}){const o=Ii({x:0,y:-1},{x:r,y:i})-qi,s=t+r/2,a=n+i/2,u=new ee().translate(s,a).rotate(o).translate(-s,-a);return u.tx=t,u.ty=n,{width:Math.sqrt(r*r+i*i),transform:u.getArray()}}};$(Bh,"type",r3),$(Bh,"hotkey",i3);const o3="drawRect",s3="r";let Hh=class extends po{constructor(t){super(t),$(this,"type",o3),$(this,"hotkey",s3),this.commandDesc="Add Rect"}createGraphics(t,n){return t=Hs(t),new pn({objectName:yo(n,xo.Rect),width:t.width,height:t.height,fill:[Q(this.editor.setting.get("firstFill"))]},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(Hh,"type",o3),$(Hh,"hotkey",s3);const a3="drawRegularPolygon",l3="";let Fh=class extends po{constructor(t){super(t),$(this,"type",a3),$(this,"hotkey",l3),this.commandDesc="AddRegularPolygon"}createGraphics(t,n){return t=Hs(t),new Gm({objectName:yo(n,xo.RegularPolygon),width:t.width,height:t.height,fill:[Q(this.editor.setting.get("firstFill"))],count:3},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(Fh,"type",a3),$(Fh,"hotkey",l3);const u3="drawStar",c3="";let zh=class extends po{constructor(t){super(t),$(this,"type",u3),$(this,"hotkey",c3),this.commandDesc="AddStar"}createGraphics(t,n){return t=Hs(t),new BC({objectName:yo(n,xo.Star),width:t.width,height:t.height,fill:[Q(this.editor.setting.get("firstFill"))],count:5,starInnerScale:this.editor.setting.get("defaultStarInnerScale")},{advancedAttrs:{x:t.x,y:t.y},doc:this.editor.doc})}};$(zh,"type",u3),$(zh,"hotkey",c3);const h3="drawText",d3="t";let Gh=class{constructor(t){$(this,"type",h3),$(this,"hotkey",d3),$(this,"cursor","crosshair"),this.editor=t}onActive(){}onInactive(){}onMoveExcludeDrag(){}onStart(){}onDrag(){}onEnd(t){const n=this.editor.getSceneCursorXY(t);this.editor.textEditor.active({pos:n}),this.editor.setting.get("keepToolSelectedAfterUse")||this.editor.toolManager.setActiveTool("select")}afterEnd(){}};$(Gh,"type",h3),$(Gh,"hotkey",d3);const f3="pathSelect",p3="v";class qg{constructor(t){$(this,"type",f3),$(this,"hotkey",p3),$(this,"cursor","default"),$(this,"startPoint",null),$(this,"prevAttrs",null),$(this,"selectedControls",[]),$(this,"startSegs",[]),this.editor=t}onActive(){}onInactive(){}onStart(t){const n=this.editor.pathEditor,r=this.startPoint=this.editor.getSceneCursorXY(t),i=this.editor.controlHandleManager.getHandleInfoByPoint(r);if(!i)return;const o=n.getPath();this.prevAttrs=Q({transform:o.attrs.transform,pathData:o.attrs.pathData});const s=Um.parseSelectedInfoStr(i.handleName);n.selectedControl.contains(s.type,s.pathIdx,s.segIdx)?this.selectedControls=n.selectedControl.getSelectedControls():this.selectedControls=[s],this.startSegs=this.selectedControls.map(({pathIdx:a,segIdx:u})=>n.getPath().getSeg(a,u,{applyTransform:!0})),n.selectedControl.setItems(this.selectedControls),n.drawControlHandles(),this.editor.render()}onDrag(t){if(!this.startPoint)return;const n=this.editor.getSceneCursorXY(t),r=n.x-this.startPoint.x,i=n.y-this.startPoint.y,o=this.editor.pathEditor.getPath();for(let s=0;s<this.selectedControls.length;s++){const{type:a,pathIdx:u,segIdx:c}=this.selectedControls[s];if(o.getSeg(u,c)){const h=this.startSegs[s];if(a==="anchor")o.setSeg(u,c,{point:{x:h.point.x+r,y:h.point.y+i}});else{if(this.editor.pathEditor.selectedControl.contains("anchor",u,c))continue;a==="in"?o.setSeg(u,c,{in:{x:h.in.x+r,y:h.in.y+i}}):a==="out"&&o.setSeg(u,c,{out:{x:h.out.x+r,y:h.out.y+i}})}this.editor.pathEditor.drawControlHandles(),this.editor.render()}}}onEnd(){const t=this.editor.pathEditor.getPath();this.editor.commandManager.pushCommand(new Ai("UpdatePathData",[t],[{transform:t.attrs.transform,pathData:t.attrs.pathData}],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}onMoveExcludeDrag(){}afterEnd(){this.startPoint=null,this.prevAttrs=null,this.selectedControls=[],this.startSegs=[]}onCommandChange(){this.editor.pathEditor.drawControlHandles()}}$(qg,"type",f3),$(qg,"hotkey",p3);class tO{constructor(t){$(this,"lastPoint",{x:-1,y:-1}),$(this,"isShiftPressingWhenStart",!1),$(this,"startSelectedControls",[]),$(this,"segControlsNeedDrawInStart",[]),this.editor=t}onActive(){}onInactive(){}onStart(){this.isShiftPressingWhenStart=!1;const t=this.editor,n=t.pathEditor;this.segControlsNeedDrawInStart=this.editor.pathEditor.selectedControl.getSegControlsNeedDraw(),t.hostEventManager.isShiftPressing?(this.isShiftPressingWhenStart=!0,this.startSelectedControls=t.pathEditor.selectedControl.getSelectedControls()):(this.startSelectedControls=n.selectedControl.getSelectedControls(),n.selectedControl.setNormalControls(n.selectedControl.getSelectedControls()),n.drawControlHandles()),this.lastPoint=t.toolManager.getCurrPoint(),t.render(),t.sceneGraph.setSelection(this.lastPoint)}onDrag(t){const n=this.editor.getSceneCursorXY(t),r=Bm(this.lastPoint,n);this.editor.sceneGraph.setSelection(r);const i=this.editor.controlHandleManager.getCustomHandlesIntersectedWithRect(r).map(o=>Um.parseSelectedInfoStr(o.type)).filter(o=>{if(!o)return!1;const s=o.type;return s==="anchor"?!0:s==="in"||s==="out"?this.segControlsNeedDrawInStart.some(a=>Du(a,{pathIdx:o.pathIdx,segIdx:o.segIdx})):!1});this.isShiftPressingWhenStart?(this.editor.pathEditor.selectedControl.setItems([...this.startSelectedControls,...i]),this.editor.pathEditor.drawControlHandles()):(this.editor.pathEditor.selectedControl.setItems(i),this.editor.pathEditor.drawControlHandles()),this.editor.render()}onEnd(){}afterEnd(t,n){this.isShiftPressingWhenStart=!1,this.startSelectedControls=[],this.editor.pathEditor.selectedControl.setNormalControls([]),n||this.editor.pathEditor.selectedControl.clear(),this.editor.pathEditor.drawControlHandles(),this.editor.sceneGraph.selection=null,this.editor.render()}}const g3="pathSelect",m3="v";let ws=class{constructor(t){$(this,"type",g3),$(this,"hotkey",m3),$(this,"cursor","default"),$(this,"currStrategy",null),$(this,"strategyMove"),$(this,"strategyDrawSelection"),this.editor=t,this.strategyMove=new qg(t),this.strategyDrawSelection=new tO(t)}onActive(){}onInactive(){}onStart(t){const n=this.editor.getSceneCursorXY(t);if(this.editor.controlHandleManager.getHandleInfoByPoint(n)?this.currStrategy=this.strategyMove:this.currStrategy=this.strategyDrawSelection,this.currStrategy)this.currStrategy.onActive(),this.currStrategy.onStart(t);else throw new Error("no strategy found")}onDrag(t){if(this.currStrategy)this.currStrategy.onDrag(t);else throw new Error("no strategy found")}onEnd(t,n){if(this.editor.controlHandleManager.showCustomHandles(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;const r=this.currStrategy;if(r)r.onEnd(t,n),r.onInactive();else throw new Error("no strategy found")}onMoveExcludeDrag(){}afterEnd(t,n){var r;this.editor.hostEventManager.isDraggingCanvasBySpace||this.editor.setCursor("default"),(r=this.currStrategy)==null||r.afterEnd(t,n),this.currStrategy=null}onCommandChange(){this.editor.pathEditor.drawControlHandles()}onViewportXOrYChange(){this.editor.hostEventManager.isSpacePressing?this.editor.pathEditor.drawControlHandles():this.editor.pathEditor.drawControlHandles(),this.editor.render()}};$(ws,"type",g3),$(ws,"hotkey",m3);class nO{constructor(t,n){this.editor=t,this.parentTool=n}onActive(){}onInactive(){}onStart(){const t=this.editor,n=this.parentTool.path,r=n.project(this.editor.toolManager.getCurrPoint(),this.editor.toSceneSize(5));if(!r)return;const i=Q({transform:n.attrs.transform,pathData:n.attrs.pathData});n.insertSeg(r.pathItemIndex,r.segIndex,r.t),t.commandManager.pushCommand(new Ai("Update Path Data",[n],[Q({transform:n.attrs.transform,pathData:n.attrs.pathData})],[i])),t.pathEditor.selectedControl.clear(),t.pathEditor.drawControlHandles(),t.render()}onDrag(){this.editor.setCursor("default")}onEnd(){this.editor.setCursor("pen")}afterEnd(){this.editor.setCursor("pen")}}class rO{constructor(t,n){$(this,"startPoint",null),$(this,"prevAttrs",null),this.editor=t,this.parentTool=n}onActive(){}onInactive(){}onAltToggle(){this.startPoint&&this.onDrag()}onStart(){const t=this.editor.pathEditor;if(this.startPoint=this.parentTool.getCorrectedPoint(),t.isActive()){const r=this.parentTool.path;this.prevAttrs=Q({transform:r.attrs.transform,pathData:r.attrs.pathData}),t.selectedControl.getSelectedControlsSize()===0&&(this.parentTool.pathIdx=r.getPathItemCount()),r.hasPath(this.parentTool.pathIdx)||r.addEmptyPath(),r.addSeg(this.parentTool.pathIdx,{point:this.startPoint,in:{x:0,y:0},out:{x:0,y:0}})}else{const r=[{segs:[{point:{x:0,y:0},in:{x:0,y:0},out:{x:0,y:0}}],closed:!1}],i=this.editor.doc.getCurrCanvas(),o=new gn({objectName:yo(i,xo.Path),width:100,height:100,strokeWidth:1,stroke:[{type:J.Solid,attrs:Lt("#000")}],pathData:r},{advancedAttrs:this.startPoint,doc:this.editor.doc});this.parentTool.path=o,this.editor.sceneGraph.addItems([o]),this.editor.doc.getCurrCanvas().insertChild(o),this.editor.commandManager.batchCommandStart(),this.editor.commandManager.pushCommand(new Tm("Add Path",this.editor,[o]),{beforeRedo:()=>{this.editor.pathEditor.active(o),this.editor.toolManager.setActiveTool(ws.type)},beforeUndo:()=>{this.editor.pathEditor.inactive("undo")}}),this.editor.selectedElements.setItems([o]),this.prevAttrs=Q({transform:o.attrs.transform,pathData:o.attrs.pathData}),t.active(o)}const n=this.parentTool.path.getSegCount(this.parentTool.pathIdx)-1;t.selectedControl.setItems([{type:"anchor",pathIdx:this.parentTool.pathIdx,segIdx:n}]),t.drawControlHandles(),this.editor.render()}onDrag(){if(!this.startPoint){console.warn("startPoint is null, check start()");return}const t=this.parentTool.getCorrectedPoint(),n=t.x-this.startPoint.x,r=t.y-this.startPoint.y,i=this.parentTool.path,o=i.getSegCount(this.parentTool.pathIdx)-1,s={out:{x:n,y:r}};!this.editor.hostEventManager.isAltPressing&&o!==0&&(s.in={x:-n,y:-r}),i.setSeg(this.parentTool.pathIdx,o,s),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onEnd(){const t=this.parentTool.path;t.updateAttrs({pathData:t.attrs.pathData}),this.editor.commandManager.pushCommand(new Ai("Update Path Data",[t],[Q({transform:t.attrs.transform,pathData:t.attrs.pathData})],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}afterEnd(){}}class iO{constructor(t,n){$(this,"startPoint",null),$(this,"prevAttrs",null),this.editor=t,this.parentTool=n}onActive(){}onInactive(){}onStart(){this.startPoint=this.parentTool.getCorrectedPoint(),this.prevAttrs=Q({transform:this.parentTool.path.attrs.transform,pathData:this.parentTool.path.attrs.pathData});const t=this.parentTool.path;t.setPathItemClosed(this.parentTool.pathIdx,!0),t.setSeg(this.parentTool.pathIdx,0,{in:{x:0,y:0}})}onDrag(){const t=this.parentTool.getCorrectedPoint(),n=this.parentTool.path,r=this.startPoint,i=t.x-r.x,o=t.y-r.y,s=n.getSegCount(this.parentTool.pathIdx)-1,a={out:{x:i,y:o}};!this.editor.hostEventManager.isAltPressing&&s!==0&&(a.in={x:-i,y:-o}),n.setSeg(this.parentTool.pathIdx,0,a),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onEnd(){this.editor.pathEditor.selectedControl.clear();const t=this.parentTool.path;t.updateAttrs({pathData:t.attrs.pathData}),this.editor.commandManager.pushCommand(new Ai("Update Path Data",[t],[Q({transform:t.attrs.transform,pathData:t.attrs.pathData})],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}afterEnd(){}}class oO{constructor(t,n){this.editor=t,this.parentTool=n}onActive(){}onInactive(){}onStart(){const t=this.editor,n=t.pathEditor,r=this.parentTool.path,i=t.toSceneSize(this.editor.setting.get("selectionHitPadding")),o=r?r.getClosestAnchor({point:t.toolManager.getCurrPoint(),tol:i}):null;if(!o)return;const s=Q({transform:r.attrs.transform,pathData:r.attrs.pathData});r.deleteSegAndHeal(o.pathItemIndex,o.segIndex),t.commandManager.pushCommand(new Ai("Update Path Data",[r],[Q({transform:r.attrs.transform,pathData:r.attrs.pathData})],[s])),t.pathEditor.selectedControl.clear(),n.drawControlHandles(),t.render()}onDrag(){this.editor.setCursor("default")}onEnd(){this.editor.setCursor("pen")}afterEnd(){this.editor.setCursor("pen")}}const v3="pen",y3="p";let Xa=class{constructor(t){$(this,"type",v3),$(this,"hotkey",y3),$(this,"cursor","pen"),$(this,"path",null),$(this,"pathIdx",0),$(this,"childTool",null),this.editor=t}onActive(){this.editor.pathEditor.isActive()&&(this.path=this.editor.pathEditor.getPath(),this.pathIdx=this.path.attrs.pathData.length),this.updatePreviewHandles(this.getCorrectedPoint())}onInactive(){this.editor.commandManager.batchCommandEnd(),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onMoveExcludeDrag(t,n){var r;const i=this.editor;if(n){i.pathEditor.drawControlHandles(),i.render();return}if(this.editor.canvasDragger.isActive())i.pathEditor.drawControlHandles();else{const o=this.path?this.path.getClosestAnchor({point:this.editor.toolManager.getCurrPoint(),tol:this.editor.toSceneSize(5)}):null;let s=null,a=!1;if(o)i.hostEventManager.isAltPressing?(s=o.point,i.setCursor("pen-anchor-remove"),a=!0):o.segIndex===0&&o.pathItemIndex===this.pathIdx?(i.setCursor("pen-close"),s=o.point):i.setCursor("pen");else{const u=(r=this.path)==null?void 0:r.project(this.editor.toolManager.getCurrPoint(),this.editor.toSceneSize(5));u&&i.hostEventManager.isAltPressing?(s=u.point,i.setCursor("pen-anchor-add"),a=!0):i.setCursor("pen")}this.updatePreviewHandles(s??this.getCorrectedPoint(),a)}}onStart(t){const n=this.editor.toSceneSize(this.editor.setting.get("selectionHitPadding")),r=this.path?this.path.getClosestAnchor({point:this.getCorrectedPoint(),tol:n}):null;r&&this.editor.hostEventManager.isAltPressing?this.childTool=new oO(this.editor,this):r&&r.segIndex===0?this.childTool=new iO(this.editor,this):this.path&&this.path.project(this.editor.toolManager.getCurrPoint(),n)&&this.editor.hostEventManager.isAltPressing?this.childTool=new nO(this.editor,this):this.childTool=new rO(this.editor,this),this.childTool.onStart(t)}onDrag(t){var n;(n=this.childTool)==null||n.onDrag(t)}onEnd(t,n){var r;(r=this.childTool)==null||r.onEnd(t,n)}afterEnd(){}onCommandChange(){this.updatePreviewHandles(this.getCorrectedPoint())}onCanvasDragActiveChange(t){t?this.editor.pathEditor.drawControlHandles():this.updatePreviewHandles(this.getCorrectedPoint()),this.editor.render()}getCorrectedPoint(){const t=this.editor.toolManager.getCurrPoint();return this.editor.setting.get("snapToGrid")&&(t.x=yt(t.x,.5),t.y=yt(t.y,.5)),t}onViewportXOrYChange(){this.editor.canvasDragger.isActive()?this.editor.pathEditor.drawControlHandles():this.updatePreviewHandles(this.getCorrectedPoint()),this.editor.render()}updatePreviewHandles(t,n=!1){const r=[];if(this.editor.pathEditor.selectedControl.getSelectedControlsSize()>0){const s=this.path;if(!s)return;const a=s.getLastSeg(this.pathIdx,{applyTransform:!0});if(a&&!n){const u=new Ot({cx:t.x,cy:t.y,type:"path-preview-curve",getCursor:()=>"default",graphics:new gn({objectName:"path-preview-curve",width:0,height:0,pathData:[{segs:[{point:this.editor.toViewportPt(a.point.x,a.point.y),in:{x:this.editor.toViewportSize(a.in.x),y:this.editor.toViewportSize(a.in.y)},out:{x:this.editor.toViewportSize(a.out.x),y:this.editor.toViewportSize(a.out.y)}},{point:this.editor.toViewportPt(t.x,t.y),in:{x:0,y:0},out:{x:0,y:0}}],closed:!1}],stroke:[{type:J.Solid,attrs:Lt("#1592fe")}],strokeWidth:1},{doc:this.editor.doc})});r.push(u)}}const i=this.editor.setting.get("handleStroke"),o=new Ot({cx:t.x,cy:t.y,type:"path-preview-anchor",getCursor:()=>"default",graphics:new Hu({objectName:"path-preview-anchor",width:6,height:6,fill:[{type:J.Solid,attrs:Lt("#fff")}],stroke:[{type:J.Solid,attrs:Lt(i)}],strokeWidth:1},{advancedAttrs:t,doc:this.editor.doc})});r.push(o),this.editor.pathEditor.drawControlHandles(r),this.editor.render()}};$(Xa,"type",v3),$(Xa,"hotkey",y3);const x3="pencil",w3={shiftKey:!0,keyCode:"KeyP"};let Wh=class{constructor(t){$(this,"type",x3),$(this,"hotkey",w3),$(this,"cursor","pencil"),$(this,"commandDesc","draw by Pencil"),$(this,"unbindEvent",ks),$(this,"path",null),$(this,"isFirstDrag",!0),this.editor=t}onActive(){this.editor.selectedElements.clear()}onInactive(){this.unbindEvent()}onMoveExcludeDrag(){}onStart(t){this.path=new gn({objectName:yo(this.editor.doc.getCurrCanvas(),xo.Path),width:0,height:0,pathData:[{segs:[],closed:!1}],stroke:[Q(this.editor.setting.get("firstStroke"))],strokeWidth:3},{doc:this.editor.doc});const n=this.editor.getSceneCursorXY(t);this.path.addSeg(0,{point:n,in:{x:0,y:0},out:{x:0,y:0}})}onDrag(t){const n=this.editor.getSceneCursorXY(t),r=this.path;r.addSeg(0,{point:n,in:{x:0,y:0},out:{x:0,y:0}}),this.isFirstDrag&&(this.editor.sceneGraph.addItems([r]),this.editor.doc.getCurrCanvas().insertChild(r),this.isFirstDrag=!1),this.editor.render()}onEnd(t,n){const r=this.path;if(n){const i=r.attrs.pathData[0].segs,o=r6(i,this.editor.setting.get("pencilCurveFitTolerance"));r.attrs.pathData[0].segs=o,this.editor.commandManager.pushCommand(new Tm("Add Path by pencil",this.editor,[r]))}else r.setDeleted(!0)}afterEnd(){this.path=null,this.isFirstDrag=!0}getDragBlockStep(){return 0}};$(Wh,"type",x3),$(Wh,"hotkey",w3);class gs{constructor(t){$(this,"vRefLineMap",new Map),$(this,"hRefLineMap",new Map),$(this,"sortedXs",[]),$(this,"sortedYs",[]),$(this,"toDrawVLines",[]),$(this,"toDrawHLines",[]),this.editor=t}cacheGraphicsRefLines(t={excludeItems:[]}){this.clear();const n=t.excludeItems,r=this.vRefLineMap,i=this.hRefLineMap,o=this.editor.viewportManager.getBbox(),s=new Set;this.editor.doc.getCurrCanvas().forEachVisibleChildNode(u=>{XC(u)||Sn(u)&&u.isGroup()||s.add(u)});for(const u of n)u.forEachVisibleChildNode(c=>{s.has(c)&&s.delete(c)});const a=new Set(n.map(u=>u.attrs.id));for(const u of s){if(a.has(u.attrs.id))continue;const c=ux(u.getBbox());if(!Xg(o,c))continue;const h=this.editor.setting;if(h.get("snapToGrid")){const _=h.get("gridSnapX"),y=h.get("gridSnapY");c.minX=yt(c.minX,_),c.minY=yt(c.minY,y),c.midX=yt(c.midX,_),c.midY=yt(c.midY,y),c.maxX=yt(c.maxX,_),c.maxY=yt(c.maxY,y)}gs.addRefLinesToMap(r,c.midX,[c.minY,c.maxY]),gs.addRefLinesToMap(i,c.midY,[c.minX,c.maxX]);const f=u.getWorldBboxVerts();if(h.get("snapToGrid")){const _=h.get("gridSnapX"),y=h.get("gridSnapY");for(const v of f)v.x=yt(v.x,_),v.y=yt(v.y,y)}const p=f.filter(_=>_.x===c.minX),m=f.filter(_=>_.x===c.maxX),w=f.filter(_=>_.y===c.minY),x=f.filter(_=>_.y===c.maxY);for(const _ of[...p,...m])gs.addRefLinesToMap(r,_.x,[_.y]);for(const _ of[...w,...x])gs.addRefLinesToMap(i,_.y,[_.x])}this.sortedXs=Array.from(r.keys()).sort((u,c)=>u-c),this.sortedYs=Array.from(i.keys()).sort((u,c)=>u-c)}clear(){this.vRefLineMap.clear(),this.hRefLineMap.clear(),this.sortedXs=[],this.sortedYs=[],this.toDrawVLines=[],this.toDrawHLines=[]}static addRefLinesToMap(t,n,r){const i=t.get(n);if(i)for(const o of r)i.add(o);else t.set(n,new Set(r))}static getGraphicsTargetPoints(t){let n=[];if(t.size===1){const{width:r,height:i,transform:o}=Array.from(t.values())[0],s=zo({x:0,y:0,width:r,height:i},o);return s.push({x:(s[0].x+s[2].x)/2,y:(s[0].y+s[2].y)/2}),s}else{const r=ux(vo(Array.from(t.values()).map(i=>Kl(i))));n=[{x:r.minX,y:r.minY},{x:r.minX,y:r.maxY},{x:r.maxX,y:r.minY},{x:r.maxX,y:r.maxY},{x:r.midX,y:r.midY}]}return n}getGraphicsSnapOffset(t){this.toDrawVLines=[],this.toDrawHLines=[];let n=cx(t),r=Array.from(n.keys()),i=hx(t),o=Array.from(i.keys());const s=this.vRefLineMap,a=this.hRefLineMap,u=this.sortedXs,c=this.sortedYs;if(u.length===0&&c.length===0)return{x:0,y:0};let h,f;const p=ss(r,M=>Ny(u,M)),m=ss(r,(M,T)=>p[T]-M),w=Math.min(...ss(m,M=>Math.abs(M))),x=ss(o,M=>Ny(c,M)),_=ss(o,(M,T)=>x[T]-M),y=Math.min(...ss(_,M=>Math.abs(M))),v=(M,T)=>Math.abs(M-T)<1e-5,b=this.editor.setting.get("refLineTolerance")/this.editor.zoomManager.getZoom();if(w<=b){for(const M of m)if(v(w,Math.abs(M))){h=M;break}if(h===void 0)throw new Error("it should not reach here, please put a issue to us")}if(y<=b){for(const M of _)if(v(y,Math.abs(M))){f=M;break}if(f===void 0)throw new Error("it should not reach here, please put a issue to us")}const C=ss(t,M=>({x:M.x+(h??0),y:M.y+(f??0)}));return n=cx(C),r=Array.from(n.keys()),h!==void 0&&Oy(r,(M,T)=>{if(v(h,m[T])){const P={x:p[T],ys:[]};P.ys.push(...n.get(M)),P.ys.push(...Array.from(s.get(M)??[])),this.toDrawVLines.push(P)}}),f!==void 0&&(i=hx(C),o=Array.from(i.keys()),Oy(o,(M,T)=>{if(v(f,_[T])){const P={y:x[T],xs:[]};P.xs.push(...i.get(M)),P.xs.push(...Array.from(a.get(M)??[])),this.toDrawHLines.push(P)}})),{x:h??0,y:f??0}}drawRefLine(t){t.save();const n=this.editor.setting.get("refLineStroke");t.fillStyle=n,t.strokeStyle=n,t.lineWidth=this.editor.setting.get("refLineStrokeWidth");const r=new Set,i=this.editor.setting.get("refLinePointSize");this.drawVerticalLines(t,i,r),this.drawHorizontalLines(t,i,r),t.restore()}drawVerticalLines(t,n,r){for(const i of this.toDrawVLines){let o=1/0,s=-1/0;const{x:a}=this.editor.toViewportPt(i.x,0);for(const u of i.ys){const{y:c}=this.editor.toViewportPt(0,u);o=Math.min(o,c),s=Math.max(s,c);const h=`${a},${c}`;r.has(h)||(r.add(h),sx(t,a,c,n))}Oh(t,a,o,a,s)}}drawHorizontalLines(t,n,r){for(const i of this.toDrawHLines){let o=1/0,s=-1/0;const{y:a}=this.editor.toViewportPt(0,i.y);for(const u of i.xs){const{x:c}=this.editor.toViewportPt(u,0);o=Math.min(o,c),s=Math.max(s,c);const h=`${c},${a}`;r.has(h)||(r.add(h),sx(t,c,a,n))}Oh(t,o,a,s,a)}}}const Kc=(e,t)=>{const n=e.zoomManager.getZoom(),r=e.setting.get("selectionHitPadding")/n,i=e.doc.getCurrCanvas(),o=e.selectedElements.getParentIdSet(),s={tol:r,parentIdSet:o,zoom:n};return i.getHitGraphics(t,s)},gx=(e,t=new Set)=>{const n=e.sceneGraph.selection;if(n===null)return console.warn("selection 为 null，请确认在正确的时机调用当前方法"),[];const r=Fm(n);return b3(e,r,e.doc.getCurrCanvas(),t)},b3=(e,t,n,r)=>{const i=[],o=n.getChildren();for(const s of o)!s.isVisible()||s.isLock()||(r.has(s.attrs.id)?i.push(...b3(e,t,s,r)):s.intersectWithChildrenBox(t)&&i.push(s));return i};class sO{constructor(t){$(this,"originWorldTfMap",new Map),$(this,"originParentIndexMap",new Map),$(this,"transaction"),$(this,"selectedItems",[]),$(this,"selectedFrameIdSet",new Set),$(this,"prevParent"),$(this,"startPoint",{x:-1,y:-1}),$(this,"dragPoint",null),$(this,"dx",0),$(this,"dy",0),$(this,"prevBBoxPos",{x:-1,y:-1}),this.editor=t,this.transaction=new ut(t)}onActive(){}onInactive(){}onShiftToggle(){this.dragPoint&&this.move()}onStart(t){this.editor.controlHandleManager.hideCustomHandles(),this.startPoint=this.editor.getSceneCursorXY(t),this.selectedItems=this.editor.selectedElements.getItems({excludeLocked:!0});for(const i of this.selectedItems){const o=i.attrs.id;Sn(i)&&!i.isGroup()&&this.selectedFrameIdSet.add(o),this.transaction.recordOld(o,{transform:Q(i.attrs.transform),parentIndex:Q(i.attrs.parentIndex)}),this.originWorldTfMap.set(o,i.getWorldTransform()),this.originParentIndexMap.set(o,Q(i.attrs.parentIndex))}const n=this.editor.doc.getCanvas();this.prevParent=wu(this.startPoint,n.getChildren(),i=>this.selectedFrameIdSet.has(i.attrs.id))??n;const r=this.editor.selectedElements.getBoundingRect();r?this.prevBBoxPos={x:r.x,y:r.y}:console.error("selected elements should't be empty when moving, please report us issue"),this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.selectedItems})}onDrag(t){this.dragPoint=this.editor.getCursorXY(t),this.move()}move(){this.editor.sceneGraph.showBoxAndHandleWhenSelected=!1,this.editor.sceneGraph.showSelectedGraphsOutline=!1;const t=this.editor.toScenePt(this.dragPoint.x,this.dragPoint.y);let n=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.editor.hostEventManager.isShiftPressing&&(Math.abs(n)>Math.abs(r)?r=0:n=0),this.editor.setting.get("snapToGrid")&&(n!==0&&(n=Math.round(this.prevBBoxPos.x+n)-this.prevBBoxPos.x),r!==0&&(r=Math.round(this.prevBBoxPos.y+r)-this.prevBBoxPos.y)),this.dx=n,this.dy=r;const i=this.selectedItems,o=new Map;for(const f of i){const p=Q(this.originWorldTfMap.get(f.attrs.id));p[4]+=n,p[5]+=r,o.set(f.attrs.id,{width:f.attrs.width,height:f.attrs.height,transform:p})}const s=gs.getGraphicsTargetPoints(o),a=this.editor.refLine.getGraphicsSnapOffset(s),u=this.editor.doc.getCanvas(),c=wu(t,u.getChildren(),f=>this.selectedFrameIdSet.has(f.attrs.id))??u,h=c.attrs.id;for(const f of i){const p=Q(this.originWorldTfMap.get(f.attrs.id));p[4]+=n+a.x,p[5]+=r+a.y,this.prevParent!==c&&f.attrs.id!==h&&(f.getParentId()===h?f.updateAttrs({parentIndex:{guid:h,position:f.attrs.parentIndex.position}}):c.insertChild(f)),f.setWorldTransform(p)}this.prevParent=c;for(const f of i)this.transaction.update(f.attrs.id,{transform:Q(f.attrs.transform),parentIndex:Q(f.attrs.parentIndex)});this.updateCursor(),this.transaction.updateParentSize(i),this.editor.render()}updateCursor(){if(this.editor.hostEventManager.isShiftPressing){if(this.dx===0&&this.dy!==0){this.editor.setCursor("move-ns");return}if(this.dx!==0&&this.dy===0){this.editor.setCursor("move-ew");return}}this.editor.setCursor("default")}onEnd(t,n){const r=this.editor.selectedElements.getItems({excludeLocked:!0});if(r.length!==0){if(!n){const i=this.editor.getSceneCursorXY(t);!Kc(this.editor,i)&&!this.editor.hostEventManager.isShiftPressing&&this.editor.selectedElements.clear();return}(this.dx!==0||this.dy!==0)&&(this.transaction.commit("Update Graphics Attributes"),r.length===1&&this.editor.controlHandleManager.setCustomHandles(r[0].getControlHandles(this.editor.zoomManager.getZoom(),!0)))}}afterEnd(){this.transaction=new ut(this.editor),this.dragPoint=null,this.selectedFrameIdSet.clear(),this.editor.sceneGraph.showBoxAndHandleWhenSelected=!0,this.editor.sceneGraph.showSelectedGraphsOutline=!0,this.editor.refLine.clear(),this.editor.render()}}class aO{constructor(t){$(this,"startPoint",{x:-1,y:-1}),$(this,"handleName"),$(this,"startSelectBRect",null),$(this,"originAttrsMap",new Map),$(this,"originWorldTransforms",new Map),$(this,"childNodeSet",new Set),$(this,"updatedAttrsMap",new Map),$(this,"lastDragPoint",null),$(this,"prevLastPoint",null),$(this,"unbind",ks),$(this,"isResizeOp",()=>["nw","ne","se","sw","n","e","s","w"].includes(this.handleName)),$(this,"updateControls",n=>{const r=this.editor.controlHandleManager;if(!dx(this.handleName)&&r.hasCustomHandles()){const i=n.getControlHandles(this.editor.zoomManager.getZoom());i&&r.setCustomHandles(i)}}),this.editor=t}onActive(){const t=()=>{this.updateGraphics(),this.editor.render()};this.editor.hostEventManager.on("shiftToggle",t),this.editor.hostEventManager.on("altToggle",t),this.unbind=()=>{this.editor.hostEventManager.off("shiftToggle",t),this.editor.hostEventManager.off("altToggle",t)}}onInactive(){this.unbind(),this.unbind=ks}onStart(t){this.startPoint=this.editor.getSceneCursorXY(t);const n=this.editor.controlHandleManager.getHandleInfoByPoint(this.startPoint);if(!n)throw new Error("handleName is invalid");const r=this.editor.selectedElements.getItems();r.forEach(o=>{this.originAttrsMap.set(o.attrs.id,o.getAttrs()),this.originWorldTransforms.set(o.attrs.id,[...o.getWorldTransform()])}),this.childNodeSet=Zd(r);for(const o of this.childNodeSet)this.originAttrsMap.set(o.attrs.id,o.getAttrs()),this.originWorldTransforms.set(o.attrs.id,[...o.getWorldTransform()]);const i=this.editor.selectedElements.getBoundingRect();if(!i)throw new Error("startSelectBbox should not be null, please issue to us");this.startSelectBRect=i,dx(n.handleName)&&this.editor.controlHandleManager.hideCustomHandles(),this.handleName=n.handleName}onDrag(t){this.editor.commandManager.disableRedoUndo(),this.editor.hostEventManager.disableDelete();const n=["nw","ne","se","sw"].includes(this.handleName),r=["n","e","s","w"].includes(this.handleName)&&(this.editor.selectedElements.size()>1||this.editor.selectedElements.getItems()[0].getRotate()%qi===0);if(!this.lastDragPoint&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.editor.selectedElements.getItems()}),this.lastDragPoint=this.editor.getSceneCursorXY(t),n||r){this.editor.setting.get("snapToGrid")&&(this.lastDragPoint=Xc.getSnapPtBySetting(this.lastDragPoint,this.editor.setting));const o=this.editor.refLine.getGraphicsSnapOffset([this.lastDragPoint]);this.lastDragPoint={x:this.lastDragPoint.x+o.x,y:this.lastDragPoint.y+o.y}}const i=this.prevLastPoint;this.prevLastPoint=this.lastDragPoint,!Du(i,this.lastDragPoint)&&(this.updateGraphics(),this.editor.render())}checkEnableUpdate(t,n){var r,i;return!((n.width===0||((r=n==null?void 0:n.transform)==null?void 0:r[0])===0)&&(n.height===0||((i=n==null?void 0:n.transform)==null?void 0:i[3])===0)||!(t.width===0||t.height===0)&&(n.width===0||n.height===0||n.transform&&(n.transform[0]===0||n.transform[3])===0))}updateSingleGraphics(t){const n=t.calcNewAttrsByControlHandle(this.handleName,this.lastDragPoint,this.originAttrsMap.get(t.attrs.id),this.originWorldTransforms.get(t.attrs.id),this.editor.hostEventManager.isShiftPressing,this.editor.hostEventManager.isAltPressing,this.editor.setting.get("flipObjectsWhileResizing"));t.updateAttrs(n,{finishRecomputed:!0}),this.updatedAttrsMap.set(t.attrs.id,Q(n)),bu(this.editor,Ko([t]),this.originAttrsMap,this.updatedAttrsMap),this.updateControls(t)}updateGraphics(){if(!this.lastDragPoint)return;let t=new ee;const n=this.editor.selectedElements.getItems();if(n.length===1){const r=n[0];if(!this.isResizeOp()||r.attrs.height===0){this.updateSingleGraphics(r);return}const i=this.originWorldTransforms.get(r.attrs.id),o=this.originAttrsMap.get(r.attrs.id),s=jh(this.handleName,this.lastDragPoint,{width:o.width,height:o.height,transform:i},{keepRatio:this.editor.hostEventManager.isShiftPressing,scaleFromCenter:this.editor.hostEventManager.isAltPressing,noChangeWidthAndHeight:!0,flip:this.editor.setting.get("flipObjectsWhileResizing")});if(!this.checkEnableUpdate(o,Vc(s)))return;t=new ee(...s.transform).append(new ee(...i).invert()),this.updateControls(n[0])}else{const r=this.startSelectBRect,i=new ee().translate(r.x,r.y),o=jh(this.handleName,this.lastDragPoint,{width:r.width,height:r.height,transform:i.getArray()},{keepRatio:this.editor.hostEventManager.isShiftPressing,scaleFromCenter:this.editor.hostEventManager.isAltPressing,noChangeWidthAndHeight:!0,flip:this.editor.setting.get("flipObjectsWhileResizing")});t=new ee(...o.transform).append(i.clone().invert())}this.isResizeOp()?this.resizeGraphicsArray(t.getArray()):console.error("should not reach here, please put a issue")}resizeGraphicsArray(t){const n=this.editor.selectedElements.getItems();for(const r of n){const i=r.attrs.id,o=this.originWorldTransforms.get(i),s=Zn(t,o),a=Zn(Ci(r.getParentWorldTransform()),s),{width:u,height:c}=this.originAttrsMap.get(i),h=Vc({width:u,height:c,transform:a});r.updateAttrs(h),this.updatedAttrsMap.set(i,Q(h))}this.updateChildren(t),bu(this.editor,Ko(n),this.originAttrsMap,this.updatedAttrsMap)}updateChildren(t){for(const n of this.childNodeSet){const r=n.attrs.id,i=this.originWorldTransforms.get(r),o=Zn(t,i),s=Zn(Ci(n.getParentWorldTransform()),o),{width:a,height:u}=this.originAttrsMap.get(r),c=Vc({width:a,height:u,transform:s});n.updateAttrs(c),this.updatedAttrsMap.set(r,Q(c))}}onEnd(t,n){if(this.editor.selectedElements.size()===0||!n)return;const r=this.editor.selectedElements.getItems();this.editor.commandManager.pushCommand(new Yd("Update Selected Graphics attributes by Control Handle",this.editor,this.originAttrsMap,this.updatedAttrsMap)),r.length===1&&(this.editor.controlHandleManager.setCustomHandles(r[0].getControlHandles(this.editor.zoomManager.getZoom(),!0)),this.editor.render()),this.editor.commandManager.enableRedoUndo(),this.editor.hostEventManager.enableDelete()}afterEnd(){this.originAttrsMap=new Map,this.updatedAttrsMap=new Map,this.lastDragPoint=null,this.editor.refLine.clear()}}class lO{constructor(t){$(this,"originWorldTfMap",new Map),$(this,"transaction"),$(this,"selectedItems",[]),$(this,"lastPoint",null),$(this,"startRotation",0),$(this,"startBboxRotation",0),$(this,"dRotation",0),$(this,"selectedBoxCenter",null),$(this,"handleType",""),$(this,"shiftPressHandler",()=>{this.rotateSelectedGraphics()}),this.editor=t,this.transaction=new ut(t)}onActive(){this.editor.hostEventManager.on("shiftToggle",this.shiftPressHandler)}onInactive(){this.editor.hostEventManager.off("shiftToggle",this.shiftPressHandler)}onStart(t){this.selectedItems=this.editor.selectedElements.getItems({excludeLocked:!0});for(const i of this.selectedItems)this.transaction.recordOld(i.attrs.id,{transform:Q(i.attrs.transform)}),this.originWorldTfMap.set(i.attrs.id,i.getWorldTransform());const n=this.editor.selectedElements.getBoundingRect();this.selectedBoxCenter={x:n.x+n.width/2,y:n.y+n.height/2};const r=this.editor.getSceneCursorXY(t);this.startRotation=Ii({x:0,y:-1},{x:r.x-this.selectedBoxCenter.x,y:r.y-this.selectedBoxCenter.y}),this.startBboxRotation=this.editor.selectedElements.getRotation()}onDrag(t){this.lastPoint=this.editor.getSceneCursorXY(t),this.rotateSelectedGraphics()}rotateSelectedGraphics(){const t=this.lastPoint;if(!t)return;const n=this.editor,r=this.selectedItems,{x:i,y:o}=this.selectedBoxCenter,s=Ii({x:0,y:-1},{x:t.x-i,y:t.y-o});if(this.dRotation=s-this.startRotation,n.hostEventManager.isShiftPressing){const a=n.setting.get("lockRotation"),u=this.startBboxRotation+this.dRotation;this.dRotation=yt(u,a)-this.startBboxRotation}n.selectedElements.size()===1?n.setCursor(Rl(this.handleType,n.selectedBox.getBox())):n.setCursor({type:"rotation",degree:xu(s)});for(const a of r)a.dRotate(this.dRotation,this.originWorldTfMap.get(a.attrs.id),{x:i,y:o}),this.transaction.update(a.attrs.id,{transform:[...a.attrs.transform]});this.transaction.updateParentSize(this.selectedItems),n.render()}onEnd(){this.dRotation!==0&&this.transaction.commit("Rotate Elements")}afterEnd(){this.transaction=new ut(this.editor),this.lastPoint=null,this.dRotation=0,this.selectedBoxCenter=null}}class uO{constructor(t){$(this,"startPoint",{x:-1,y:-1}),$(this,"isShiftPressingWhenStart",!1),$(this,"startSelectedGraphs",[]),$(this,"startPointWhenSpaceDown",null),$(this,"lastDragPointWhenSpaceDown",null),$(this,"lastMouseScenePoint"),$(this,"lastMousePoint"),this.editor=t}onActive(){}onInactive(){}onStart(t){this.isShiftPressingWhenStart=!1,this.editor.hostEventManager.isShiftPressing?(this.isShiftPressingWhenStart=!0,this.startSelectedGraphs=this.editor.selectedElements.getItems()):this.editor.selectedElements.clear(),this.startPoint=this.editor.getSceneCursorXY(t),this.editor.render(),this.editor.sceneGraph.setSelection(this.startPoint)}onDrag(t){this.lastMouseScenePoint=this.editor.getSceneCursorXY(t),this.lastMousePoint=this.lastMouseScenePoint,this.updateSelectionAndSelectSet()}updateSelectionAndSelectSet(){const{x:t,y:n}=this.lastMouseScenePoint;if(this.startPointWhenSpaceDown&&this.lastDragPointWhenSpaceDown){const{x:i,y:o}=this.startPointWhenSpaceDown,{x:s,y:a}=this.lastDragPointWhenSpaceDown,u=t-s,c=n-a;this.startPoint={x:i+u,y:o+c}}const r=Bm(this.startPoint,this.lastMouseScenePoint);if(this.editor.sceneGraph.setSelection(r),this.isShiftPressingWhenStart){const i=Ko(this.startSelectedGraphs),o=gx(this.editor,i);this.editor.selectedElements.setItems(this.startSelectedGraphs),this.editor.selectedElements.toggleItems(o.filter(s=>!i.has(s.attrs.id)))}else{const i=gx(this.editor);this.editor.selectedElements.setItems(i)}this.editor.render()}onEnd(){}afterEnd(){this.isShiftPressingWhenStart=!1,this.startSelectedGraphs=[],this.editor.sceneGraph.selection=null,this.editor.render(),this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null}onSpaceToggle(t){this.editor.toolManager.isDragging()&&t?(this.startPointWhenSpaceDown=this.startPoint,this.lastDragPointWhenSpaceDown=this.lastMousePoint,this.updateSelectionAndSelectSet()):(this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null)}}const S3="select",E3="v";class Ia{constructor(t){$(this,"type",S3),$(this,"hotkey",E3),$(this,"cursor","default"),$(this,"startPoint",{x:-1,y:-1}),$(this,"currStrategy",null),$(this,"strategyMove"),$(this,"strategyDrawSelection"),$(this,"strategySelectRotation"),$(this,"strategySelectResize"),$(this,"graphShouldRemovedFromSelectedIfNotMoved",null),$(this,"handleHoverItemChange",()=>{this.editor.toolManager.isDragging()||this.editor.render()}),$(this,"onComboClick",n=>{const r=n.pos,i=this.editor;if(i.controlHandleManager.getHandleInfoByPoint(r))return;const o=Kc(i,r);if(o){if(o instanceof gn)i.pathEditor.active(o);else if(o instanceof qd)i.textEditor.active({textGraphics:o,pos:o.getWorldPosition(),range:{start:0,end:o.getContentLength()}}),n.nativeEvent.preventDefault();else if(Sn(o)&&o.isGroup()){const s=o.getChildren();for(let a=s.length-1;a>=0;a--)if(s[a].hitTestChildren(r)){this.editor.hostEventManager.isShiftPressing?this.editor.selectedElements.toggleItems([s[a]]):this.editor.selectedElements.setItems([s[a]]),i.selectedElements.setHoverItem(s[a]);break}}}}),$(this,"updateCursorAndHlHoverGraph",Lm(n=>{if(this.editor.canvasDragger.isActive())return;const r=this.editor.controlHandleManager.getHandleInfoByPoint(n);if(this.editor.setCursor((r==null?void 0:r.cursor)||"default"),r||!this.editor.hostEventManager.isShiftPressing&&this.editor.selectedBox.hitTest(n))this.editor.selectedElements.setHoverItem(null);else{const i=Kc(this.editor,n);this.editor.selectedElements.setHoverItem(i)}},20)),this.editor=t,this.strategyMove=new sO(t),this.strategyDrawSelection=new uO(t),this.strategySelectRotation=new lO(t),this.strategySelectResize=new aO(t)}onActive(){this.editor.selectedElements.on("hoverItemChange",this.handleHoverItemChange),this.editor.mouseEventManager.on("comboClick",this.onComboClick)}onInactive(){this.editor.selectedElements.setHighlightedItem(null),this.editor.selectedElements.off("hoverItemChange",this.handleHoverItemChange),this.editor.mouseEventManager.off("comboClick",this.onComboClick),this.updateCursorAndHlHoverGraph.cancel(),this.editor.render()}onMoveExcludeDrag(t,n){if(n||this.editor.textEditor.isActive())return;const r=this.editor.getSceneCursorXY(t);this.updateCursorAndHlHoverGraph(r),this.editor.selectedBox.setHoverByPoint(r)}onStart(t){if(this.currStrategy=null,this.graphShouldRemovedFromSelectedIfNotMoved=null,this.editor.hostEventManager.isDraggingCanvasBySpace)return;const n=this.editor.sceneGraph,r=this.editor.selectedElements,i=this.editor.hostEventManager.isShiftPressing;this.startPoint=this.editor.getSceneCursorXY(t);const o=this.editor.controlHandleManager.getHandleInfoByPoint(this.startPoint);if(o)Z6(o.cursor)?(this.strategySelectRotation.handleType=o.handleName,this.currStrategy=this.strategySelectRotation):this.currStrategy=this.strategySelectResize;else{const s=this.editor.selectedBox.hitTest(this.startPoint),a=Kc(this.editor,this.startPoint);a&&i&&r.getItems().includes(a)&&(this.graphShouldRemovedFromSelectedIfNotMoved=a),s?this.currStrategy=this.strategyMove:a?(i?r.getItems().includes(a)||r.toggleItems([a]):r.setItems([a]),this.editor.selectedBox.setHover(!0),n.render(),this.currStrategy=this.strategyMove):this.currStrategy=this.strategyDrawSelection}if(this.currStrategy)this.currStrategy.onActive(),this.currStrategy.onStart(t);else throw new Error("没有根据判断选择策略，代码有问题")}onDrag(t){if(!this.editor.hostEventManager.isDraggingCanvasBySpace)if(this.currStrategy)this.currStrategy.onDrag(t);else throw new Error("没有根据判断选择策略，代码有问题")}onEnd(t,n){if(this.editor.controlHandleManager.showCustomHandles(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;!n&&this.graphShouldRemovedFromSelectedIfNotMoved&&(this.editor.selectedElements.toggleItems([this.graphShouldRemovedFromSelectedIfNotMoved]),this.editor.render());const r=this.currStrategy;if(r)r.onEnd(t,n),r.onInactive();else throw new Error("没有根据判断选择策略，代码有问题")}afterEnd(t,n){var r;this.editor.hostEventManager.isDraggingCanvasBySpace||this.editor.setCursor("default"),this.graphShouldRemovedFromSelectedIfNotMoved=null,(r=this.currStrategy)==null||r.afterEnd(t,n),this.currStrategy=null;const i=this.editor.getSceneCursorXY(t);this.editor.selectedBox.setHoverByPoint(i),this.updateCursorAndHlHoverGraph(i)}onCanvasDragActiveChange(t){t&&this.editor.selectedElements.setHoverItem(null)}onSpaceToggle(t){var n;(n=this.currStrategy)!=null&&n.onSpaceToggle&&this.currStrategy.onSpaceToggle(t)}onShiftToggle(t){var n;(n=this.currStrategy)!=null&&n.onShiftToggle&&this.currStrategy.onShiftToggle(t)}}$(Ia,"type",S3),$(Ia,"hotkey",E3);class cO{constructor(t){$(this,"toolCtorMap",new Map),$(this,"hotkeySet",new Set),$(this,"currentTool",null),$(this,"eventEmitter",new _n),$(this,"enableSwitchTool",!0),$(this,"keyBindingToken",[]),$(this,"_isDragging",!1),$(this,"enableToolTypes",[]),$(this,"currViewportPoint",{x:1/0,y:1/0}),$(this,"_unbindEvent"),this.editor=t,this.registerToolCtor(Ia),this.registerToolCtor(Dh),this.registerToolCtor(Hh),this.registerToolCtor(Lh),this.registerToolCtor(Nh),this.registerToolCtor(Bh),this.registerToolCtor(Gh),this.registerToolCtor(Rh),this.registerToolCtor(ws),this.registerToolCtor(Xa),this.registerToolCtor(Fh),this.registerToolCtor(zh),this.registerToolCtor(Wh),this.setEnableHotKeyTools([Ia.type,Dh.type,Hh.type,Lh.type,Nh.type,Xa.type,Wh.type,Bh.type,Fh.type,zh.type,Gh.type,Rh.type]),this.setActiveTool(Ia.type),this._unbindEvent=this.bindEvent()}unbindHotkey(){this.keyBindingToken.forEach(t=>{this.editor.keybindingManager.unregister(t)}),this.keyBindingToken=[]}setEnableHotKeyTools(t){this.enableToolTypes=t,this.eventEmitter.emit("changeEnableTools",[...t])}getEnableTools(){return[...this.enableToolTypes]}registerToolCtor(t){const n=t.type;this.toolCtorMap.has(n)&&console.warn(`tool "${n}" had exit, replace it!`),this.toolCtorMap.set(n,t);const r=t.hotkey;let i="",o;if(!r){console.log(`${n} has no hotkey`);return}typeof r=="string"?(i=`Key${r.toUpperCase()}`,o={keyCode:i}):(i=`${r.altKey?"alt+":""}${r.ctrlKey?"ctrl+":""}${r.shiftKey?"shift+":""}${r.metaKey?"meta+":""}${r.keyCode}`,o=r),this.hotkeySet.has(i)&&console.log(`register same hotkey: "${i}"`),this.hotkeySet.add(i);const s=this.editor.keybindingManager.register({key:o,actionName:n,when:()=>this.enableToolTypes.includes(n),action:()=>{this.setActiveTool(n)}});this.keyBindingToken.push(s)}getActiveToolName(){var t;return(t=this.currentTool)==null?void 0:t.type}bindEvent(){let t=!1,n={x:0,y:0},r=!1;const i=w=>{setTimeout(()=>{if(t=!1,this._isDragging=!1,r=!1,!(w.button!==0||this.editor.textEditor.isActive()||this.editor.hostEventManager.isSpacePressing)){if(t=!0,r=!0,!this.currentTool)throw new Error("there is no active tool");n={x:w.clientX,y:w.clientY},this.currentTool.onStart(w)}})},o=w=>{var x,_;if(this.currViewportPoint=this.editor.getCursorXY(w),!this.currentTool)throw new Error("未设置当前使用工具");if(t){if(!r)return;const y=w.clientX-n.x,v=w.clientY-n.y,b=((_=(x=this.currentTool).getDragBlockStep)==null?void 0:_.call(x))??this.editor.setting.get("dragBlockStep");!this._isDragging&&(Math.abs(y)>b||Math.abs(v)>b)&&(this._isDragging=!0),this._isDragging&&(this.enableSwitchTool=!1,this.editor.canvasDragger.disableDragBySpace(),this.currentTool.onDrag(w))}else{const y=this.editor.canvasElement!==w.target;this.currentTool.onMoveExcludeDrag(w,y)}},s=w=>{if(this.enableSwitchTool=!0,!!r){if(!this.currentTool)throw new Error("未设置当前使用工具");t&&(this.editor.canvasDragger.enableDragBySpace(),t=!1,this.currentTool.onEnd(w,this._isDragging),this.currentTool.afterEnd(w,this._isDragging)),this._isDragging=!1}},a=()=>{var w,x;(x=(w=this.currentTool)==null?void 0:w.onCommandChange)==null||x.call(w)},u=w=>{var x,_;(_=(x=this.currentTool)==null?void 0:x.onSpaceToggle)==null||_.call(x,w)},c=w=>{var x,_;(_=(x=this.currentTool)==null?void 0:x.onShiftToggle)==null||_.call(x,w)},h=w=>{var x,_;(_=(x=this.currentTool)==null?void 0:x.onAltToggle)==null||_.call(x,w)},f=(w,x)=>{var _,y;(y=(_=this.currentTool)==null?void 0:_.onViewportXOrYChange)==null||y.call(_,w,x)},p=w=>{var x,_;(_=(x=this.currentTool)==null?void 0:x.onCanvasDragActiveChange)==null||_.call(x,w)},m=this.editor.canvasElement;return m.addEventListener("pointerdown",i),window.addEventListener("pointermove",o),window.addEventListener("pointerup",s),this.editor.commandManager.on("change",a),this.editor.hostEventManager.on("spaceToggle",u),this.editor.hostEventManager.on("shiftToggle",c),this.editor.hostEventManager.on("altToggle",h),this.editor.viewportManager.on("xOrYChange",f),this.editor.canvasDragger.on("activeChange",p),()=>{m.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",s),this.editor.commandManager.off("change",a),this.editor.hostEventManager.off("spaceToggle",u),this.editor.hostEventManager.off("shiftToggle",c),this.editor.hostEventManager.off("altToggle",h),this.editor.viewportManager.off("xOrYChange",f),this.editor.canvasDragger.off("activeChange",p)}}unbindEvent(){this._unbindEvent(),this._unbindEvent=ks,this.unbindHotkey()}async setActiveTool(t){if(!this.enableSwitchTool||this.getActiveToolName()===t)return;if(!this.enableToolTypes.includes(t)){console.warn(`target tool "${t}" is not enable`);return}const n=this.toolCtorMap.get(t)||null;if(!n)throw new Error(`tool "${t}" is not registered`);const r=new n(this.editor);if(r.enableActive&&!await r.enableActive())return;const i=this.currentTool;this.currentTool=r,i&&i.onInactive(),this.setCursorWhenActive(),r.onActive(),this.eventEmitter.emit("switchTool",r.type)}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}destroy(){var t;(t=this.currentTool)==null||t.onInactive()}setCursorWhenActive(){this.currentTool&&this.editor.cursorManager.setCursor(this.currentTool.cursor)}isDragging(){return this._isDragging}getCurrPoint(){return this.editor.toScenePt(this.currViewportPoint.x,this.currViewportPoint.y)}}class hO{constructor(t){$(this,"normalControls",[]),$(this,"selectedControls",[]),$(this,"segControlsNeedDraw",[]),$(this,"drawControlHandles",Lm((n=[])=>{n=this.generateControls().concat(n),this.editor.controlHandleManager.setCustomHandles(n),this.editor.controlHandleManager.showCustomHandles()})),this.editor=t}getSegControlsNeedDraw(){return this.segControlsNeedDraw}getItemsNeedDraw(){const t=this.editor.pathEditor.getPath(),n=new Map,r=[];if(!t)return console.warn("path is no exist"),{segControlsNeedDrawMap:n,segControlsNeedDraw:r};const i=[...this.selectedControls,...this.normalControls];for(const o of i){const{type:s,pathIdx:a,segIdx:u}=o;if(a<0||a>=t.attrs.pathData.length)continue;const c=t.attrs.pathData[a],h=c.segs.length,f=c.closed;if(u<0||u>=h)continue;let p=n.get(a);p||(p=new Set,n.set(a,p)),p.add(u),r.push({pathIdx:a,segIdx:u});const m=u-1,w=u+1;s==="anchor"?(m>=0?(p.add(m),r.push({pathIdx:a,segIdx:m})):f&&(p.add(h-1),r.push({pathIdx:a,segIdx:h-1})),w<h?(p.add(w),r.push({pathIdx:a,segIdx:w})):f&&(p.add(0),r.push({pathIdx:a,segIdx:0}))):s==="in"?m>=0&&(p.add(m),r.push({pathIdx:a,segIdx:m})):(s==="out"||s==="curve")&&w<h&&(p.add(w),r.push({pathIdx:a,segIdx:w}))}return{segControlsNeedDrawMap:n,segControlsNeedDraw:r}}generateControls(){const t=this.editor.pathEditor.getPath();if(!t)return[];const n=4,r=6,i=this.editor.setting.get("handleStroke"),o=this.editor.zoomManager.getZoom(),s=t.attrs.pathData,{segControlsNeedDrawMap:a,segControlsNeedDraw:u}=this.getItemsNeedDraw();this.segControlsNeedDraw=u;const c=[],h=[];for(let f=0;f<s.length;f++){const p=s[f];for(let m=0;m<p.segs.length;m++){const w=t.getSeg(f,m,{applyTransform:!0}),x=w.point;let _=6,y="#fff",v=i;this.contains("anchor",f,m)&&(_=8,y=i,v="#fff");const b=new Ot({cx:x.x,cy:x.y,type:["anchor",f,m].join("-"),graphics:new Hu({objectName:"anchor",width:_,height:_,fill:[{type:J.Solid,attrs:Lt(y)}],stroke:[{type:J.Solid,attrs:Lt(v)}],strokeWidth:1},{advancedAttrs:this.editor.toViewportPt(x.x+_/2,x.y+_/2),doc:this.editor.doc}),padding:n,getCursor:()=>"default"});c.push(b);const C=a.get(f);if(!C||!C.has(m))continue;const M=Lt(this.editor.setting.get("pathLineStroke")),T=[gn.getHandleIn(w),gn.getHandleOut(w)];for(let P=0;P<T.length;P++){const I=T[P];if(Dm(I,x))continue;const N=P===0&&this.contains("in",f,m)||P===1&&this.contains("out",f,m),j=Y8(x,I),D=new Ot({cx:j.x+j.width/2,cy:j.y+j.height/2,type:"handleLine",rotation:j.rotation,graphics:new zm({objectName:"handleLine",height:j.height,width:j.width*o,stroke:[{type:J.Solid,attrs:N?Lt(i):M}],strokeWidth:1},{advancedAttrs:{x:j.x,y:j.y},doc:this.editor.doc}),hitTest:()=>!1,getCursor:()=>"default"}),H=N?8.5:r,V=new Ot({cx:I.x,cy:I.y,type:[P===0?"in":"out",f,m].join("-"),graphics:new Gm({objectName:"pathHandle",width:H,height:H,fill:[{type:J.Solid,attrs:Lt(N?i:"#fff")}],stroke:[{type:J.Solid,attrs:Lt(N?"#fff":i)}],strokeWidth:N?1.5:1,count:4},{advancedAttrs:this.editor.toViewportPt(I.x+H/2,I.y+H/2),doc:this.editor.doc}),padding:n,getCursor:()=>"default"});h.push(D,V)}}}return c.concat(h)}contains(t,n,r){return this.selectedControls.some(i=>i.type===t&&i.pathIdx===n&&i.segIdx===r)}getSelectedControlsSize(){return this.selectedControls.length}getSelectedControls(){return Q(this.selectedControls)}setItems(t){this.selectedControls=t}clear(){this.selectedControls=[]}setNormalControls(t){this.normalControls=t}getNormalControls(){return Q(this.normalControls)}}class Um{constructor(t){$(this,"_active",!1),$(this,"path",null),$(this,"eventTokens",[]),$(this,"prevToolKeys",[]),$(this,"eventEmitter",new _n),$(this,"selectedControl"),$(this,"onSelectedChange",n=>{n.length===0||n[0]===this.path||(this.inactive(),this.editor.toolManager.setActiveTool("select"))}),this.editor=t,this.selectedControl=new hO(t)}getPath(){return this.path}isActive(){return this._active}active(t){this._active=!0,this.path=t;const n=this.editor;n.sceneGraph.showSelectedGraphsOutline=!1,n.sceneGraph.highlightLayersOnHover=!1,n.controlHandleManager.enableTransformControl=!1,this.unbindHotkeys(),this.bindHotkeys(),this.prevToolKeys=n.toolManager.getEnableTools(),n.toolManager.setEnableHotKeyTools([ws.type,Xa.type]);const r=n.toolManager.getActiveToolName();r!==ws.type&&r!==Xa.type&&n.toolManager.setActiveTool(ws.type),n.selectedElements.on("itemsChange",this.onSelectedChange),n.pathEditor.drawControlHandles(),this.eventEmitter.emit("toggle",!0)}inactive(t){if(!this._active)return;this._active=!1,t!=="undo"&&this.removePathIfEmpty(),this.selectedControl.clear(),this.path=null;const n=this.editor;n.sceneGraph.showSelectedGraphsOutline=!0,n.sceneGraph.highlightLayersOnHover=!0,n.controlHandleManager.enableTransformControl=!0,this.unbindHotkeys(),n.toolManager.setEnableHotKeyTools(this.prevToolKeys),n.toolManager.setActiveTool(Ia.type),n.selectedElements.off("itemsChange",this.onSelectedChange),n.controlHandleManager.clearCustomHandles(),n.render(),this.eventEmitter.emit("toggle",!1)}removePathIfEmpty(){const t=this.path;if(!t)return;const n=t.attrs.pathData;(n.length===0||n.every(r=>r.segs.length<=1))&&(Wm(this.editor,[t]),this.editor.selectedElements.clear())}bindHotkeys(){const t=this.editor;this.eventTokens=[];let n=t.keybindingManager.registerWithHighPrior({key:[{keyCode:"Backspace"},{keyCode:"Delete"}],when:r=>!r.isToolDragging,actionName:"Path Delete",action:()=>{}});this.eventTokens.push(n),n=t.keybindingManager.registerWithHighPrior({key:{keyCode:"Escape"},when:r=>!r.isToolDragging,actionName:"Path Finish",action:()=>{this.selectedControl.getSelectedControlsSize()>0?(this.selectedControl.clear(),this.drawControlHandles(),this.editor.render()):this.inactive()}}),this.eventTokens.push(n),n=t.keybindingManager.registerWithHighPrior({key:{keyCode:"Enter"},when:r=>!r.isToolDragging,actionName:"Path End",action:()=>{this.inactive()}}),this.eventTokens.push(n)}unbindHotkeys(){for(const t of this.eventTokens)this.editor.keybindingManager.unregister(t);this.eventTokens=[]}static parseSelectedInfoStr(t){const n=t.split("-");return n.length!==3?null:{type:n[0],pathIdx:parseInt(n[1]),segIdx:parseInt(n[2])}}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}drawControlHandles(t=[]){this.selectedControl.drawControlHandles(t)}}var dO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(dO,function(){var n=function(){function r(m){return s.appendChild(m.dom),m}function i(m){for(var w=0;w<s.children.length;w++)s.children[w].style.display=w===m?"block":"none";o=m}var o=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(m){m.preventDefault(),i(++o%s.children.length)},!1);var a=(performance||Date).now(),u=a,c=0,h=r(new n.Panel("FPS","#0ff","#002")),f=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new n.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(f.update(m-a,200),m>u+1e3&&(h.update(1e3*c/(m-u),100),u=m,c=0,p)){var w=performance.memory;p.update(w.usedJSHeapSize/1048576,w.jsHeapSizeLimit/1048576)}return m},update:function(){a=this.end()},domElement:s,setMode:i}};return n.Panel=function(r,i,o){var s=1/0,a=0,u=Math.round,c=u(window.devicePixelRatio||1),h=80*c,f=48*c,p=3*c,m=2*c,w=3*c,x=15*c,_=74*c,y=30*c,v=document.createElement("canvas");v.width=h,v.height=f,v.style.cssText="width:80px;height:48px";var b=v.getContext("2d");return b.font="bold "+9*c+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=o,b.fillRect(0,0,h,f),b.fillStyle=i,b.fillText(r,p,m),b.fillRect(w,x,_,y),b.fillStyle=o,b.globalAlpha=.9,b.fillRect(w,x,_,y),{dom:v,update:function(C,M){s=Math.min(s,C),a=Math.max(a,C),b.fillStyle=o,b.globalAlpha=1,b.fillRect(0,0,h,x),b.fillStyle=i,b.fillText(u(C)+" "+r+" ("+u(s)+"-"+u(a)+")",p,m),b.drawImage(v,w+c,x,_-c,y,w,x,_-c,y),b.fillRect(w+_-c,x,c,y),b.fillStyle=o,b.globalAlpha=.9,b.fillRect(w+_-c,x,c,u((1-C/M)*y))}}},n})})(C3);var pO=C3.exports;const gO=fO(pO);class mO{constructor(){$(this,"stats",new gO),$(this,"rafId",0)}start(t){const n=this.stats;n.showPanel(0),n.dom.style.left="300px",t.appendChild(n.dom);const r=()=>{n.begin(),n.end(),this.rafId=requestAnimationFrame(r)};this.rafId=requestAnimationFrame(r)}destroy(){cancelAnimationFrame(this.rafId),this.stats.dom.remove()}}const mx=e=>{const t=[1,2,5,10,25,50,100,250,500,1e3,2500,5e3],n=50/e;for(let r=0,i=t.length;r<i;r++)if(t[r]>=n)return t[r];return t[0]};class vO{constructor(t){$(this,"visible",!1),this.editor=t}open(){this.visible=!0}close(){this.visible=!1}draw(){const t=this.editor.setting,n=t.get("rulerWidth"),r=this.editor.ctx,i=this.editor.viewportManager.getViewport(),{width:o,height:s}=i;r.save(),r.fillStyle=t.get("rulerBgColor"),r.fillRect(0,0,o,n),r.fillRect(0,0,n,s),this.drawSelectArea(),this.drawXRuler(),this.drawYRuler(),r.fillStyle=t.get("rulerBgColor"),r.fillRect(0,0,n,n),r.strokeStyle=t.get("rulerStroke"),r.beginPath(),r.moveTo(0,n+.5),r.lineTo(o,n+.5),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(n+.5,0),r.lineTo(n+.5,s),r.stroke(),r.closePath(),r.restore()}drawSelectArea(){const t=this.editor.setting,n=t.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=this.editor.selectedElements.getItems().map(a=>a.getBbox());r.fillStyle=t.get("rulerSelectedBgColor");for(const[a,u]of lx(s.map(({minX:c,maxX:h})=>[c,h])))r.fillRect((a-o.x)*i,0,(u-a)*i,n);for(const[a,u]of lx(s.map(({minY:c,maxY:h})=>[c,h])))r.fillRect(0,(a-o.y)*i,n,(u-a)*i)}drawXRuler(){const t=this.editor.setting,n=t.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=mx(i),a=n;let u=o.x+a/i;u=yt(u,s);const c=o.width;let{x:h}=this.editor.toScenePt(c,0);h=yt(h,s),r.textAlign="center";const f=n-t.get("rulerMarkSize");for(;u<=h;){r.strokeStyle=t.get("rulerMarkStroke"),r.fillStyle=t.get("rulerMarkStroke");const p=Th((u-o.x)*i);r.beginPath(),r.moveTo(p,f),r.lineTo(p,f+t.get("rulerMarkSize")),r.stroke(),r.closePath(),r.fillText(String(u),p,f-4),u+=s}}drawYRuler(){const t=this.editor.setting,n=t.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=mx(i),a=n;let u=o.y+a/i;u=yt(u,s);const c=o.height;let h=o.y+c/i;h=yt(h,s);const f=n-t.get("rulerMarkSize");for(r.textAlign="center",r.fillStyle=t.get("rulerMarkStroke");u<=h;){const p=Th((u-o.y)*i);r.beginPath(),r.moveTo(f,p),r.lineTo(f+t.get("rulerMarkSize"),p),r.stroke(),r.closePath(),ax(r,-qi,f,p),r.fillText(String(u),f,p-3),ax(r,qi,f,p),u+=s}}}class yO{constructor(t){this.editor=t}draw(){const t=this.editor.ctx;t.save();const{x:n,y:r,width:i,height:o}=this.editor.viewportManager.getViewport(),s=this.editor.zoomManager.getZoom(),a=this.editor.setting,u=this.editor.setting.get("gridViewX"),c=this.editor.setting.get("gridViewY");let h=yt(n,u);const f=yt(n+i/s,u);for(;h<=f;){t.strokeStyle=a.get("pixelGridLineColor");const w=Th((h-n)*s);t.beginPath(),t.moveTo(w,0),t.lineTo(w,o),t.stroke(),t.closePath(),h+=u}let p=yt(r,c);const m=yt(r+o/s,c);for(;p<=m;){t.strokeStyle=a.get("pixelGridLineColor");const w=Th((p-r)*s);t.beginPath(),t.moveTo(0,w),t.lineTo(i,w),t.stroke(),t.closePath(),p+=c}t.restore()}}const xO={[xe.Graph]:ht,[xe.Rect]:pn,[xe.Ellipse]:Hu,[xe.Line]:zm,[xe.Text]:qd,[xe.Path]:gn,[xe.RegularPolygon]:Gm,[xe.Star]:BC,[xe.Frame]:Fu,[xe.Canvas]:Va,[xe.Document]:KC};class wO{constructor(t){$(this,"selection",null),$(this,"eventEmitter",new _n),$(this,"grid"),$(this,"showBoxAndHandleWhenSelected",!0),$(this,"showSelectedGraphsOutline",!0),$(this,"highlightLayersOnHover",!0),$(this,"render",E6(()=>{const{viewportManager:n,canvasElement:r,ctx:i,setting:o}=this.editor,s=n.getViewport(),a=this.editor.zoomManager.getZoom(),u=this.editor.selectedElements;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,r.width,r.height),i.save(),i.fillStyle=o.get("canvasBgColor"),i.fillRect(0,0,r.width,r.height),i.restore();const c=Bg(),h=-s.x,f=-s.y;i.scale(c*a,c*a),i.translate(h,f);const p=this.editor.imgManager,m=this.editor.doc.getCanvas(),w=a<=1;if(m){const v=this.editor.viewportManager.getBbox();i.save(),m.draw({ctx:i,imgManager:p,smooth:w,viewportArea:v}),i.restore()}if(i.save(),i.setTransform(1,0,0,1,0,0),i.scale(c,c),o.get("enablePixelGrid")&&a>=this.editor.setting.get("minPixelGridZoom")&&this.grid.draw(),this.highlightLayersOnHover&&o.get("highlightLayersOnHover")){const v=u.getHighlightedItem();v&&!u.hasItem(v)&&this.drawGraphsOutline([v],o.get("hoverOutlineStrokeWidth"),this.editor.setting.get("hoverOutlineStroke"))}const x=this.editor.selectedBox.updateBbox();if(this.showSelectedGraphsOutline&&(this.drawGraphsOutline(this.editor.selectedElements.getItems().filter(v=>v.isVisible()),o.get("selectedOutlineStrokeWidth"),this.editor.setting.get("hoverOutlineStroke")),this.editor.selectedBox.draw()),this.editor.pathEditor.isActive()){const v=this.editor.pathEditor.getPath();v&&this.drawGraphsOutline([v],o.get("selectedOutlineStrokeWidth"),this.editor.setting.get("pathLineStroke"))}const _=4,y=this.editor.doc.graphicsStoreManager.getFrames();for(const v of y){if(Sn(v)&&v.isGroup()||v.isDeleted())continue;const b=v.getWorldPosition(),C=this.editor.toViewportPt(b.x,b.y);v.drawText(i,C.x,C.y-_)}if(this.showBoxAndHandleWhenSelected&&this.editor.controlHandleManager.draw(x),this.editor.textEditor.drawRange({ctx:i,imgManager:p,smooth:w}),this.selection){i.save(),i.strokeStyle=o.get("selectionStroke"),i.fillStyle=o.get("selectionFill");const{x:v,y:b,width:C,height:M}=this.selection,{x:T,y:P}=this.editor.toViewportPt(v,b),I=C*a,N=M*a;i.fillRect(T,P,I,N),i.strokeRect(T,P,I,N),i.restore()}this.editor.refLine.drawRefLine(i),o.get("enableRuler")&&this.editor.ruler.draw(),i.restore(),this.eventEmitter.emit("render")})),this.editor=t,this.grid=new yO(t)}addItems(t){for(const n of t)this.editor.doc.addGraphics(n)}drawGraphsOutline(t,n,r){const i=this.editor.ctx,o=Bg(),s=this.editor.viewportManager.getViewport(),a=this.editor.zoomManager.getZoom(),u=-s.x,c=-s.y;i.save(),i.setTransform(1,0,0,1,0,0),i.scale(o*a,o*a),i.translate(u,c),n/=a;for(const h of t)i.save(),h.drawOutline(i,r,n),i.restore();i.restore()}setSelection(t){this.selection=Object.assign({},this.selection,t)}toObjects(){const t=this.editor.doc.getCanvas();return t?t.toObject().children??[]:[]}toJSON(){const t=this.editor.doc.getAllGraphicsArr().filter(r=>!r.isDeleted()).map(r=>r.toJSON()),n={appVersion:this.editor.appVersion,paperId:this.editor.paperId,data:t};return JSON.stringify(n)}createGraphicsArr(t){const n=[];for(const r of t){const i=r.type,o=xO[i];if(!o){console.error(`Unsupported graphics type "${r.type}", ignore it`);continue}n.push(new o(r,{doc:this.editor.doc}))}return n}initGraphicsTree(t){var n;const r=this.editor.doc.getCanvas();for(const i of t){if(i instanceof Va)continue;const o=i.getParent()??r;o&&o!==i&&o.insertChild(i,(n=i.attrs.parentIndex)==null?void 0:n.position)}}load(t,n){const r=this.createGraphicsArr(t);n||this.editor.doc.clear(),this.addItems(r),this.initGraphicsTree(r)}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class bO{constructor(t){$(this,"box",null),$(this,"eventEmitter",new _n),$(this,"_hover",!1),$(this,"enableDrawSizeIndicator",!0),this.editor=t}isHover(){return this._hover}getBox(){return this.box?{...this.box}:null}updateBbox(){const t=this.editor.selectedElements,n=t.size();if(n>0)if(n===1){const r=t.getItems()[0],i=r.getSize();this.box={width:i.width,height:i.height,transform:r.getWorldTransform()}}else{const r=t.getBoundingRect();this.box={width:r.width,height:r.height,transform:[1,0,0,1,r.x,r.y]}}else this.box=null;return this.box}draw(){const t=this.box;if(!t)return;const n=this.editor.ctx,r=zo({x:0,y:0,width:t.width,height:t.height},t.transform).map(i=>this.editor.toViewportPt(i.x,i.y));this.drawBox(n,r),this.drawSizeIndicator(n,r,t)}drawBox(t,n){const r=this.editor.setting.get("selectBoxStroke"),i=this.editor.setting.get("selectBoxStrokeWidth");t.save(),t.strokeStyle=r,t.lineWidth=i,t.beginPath(),t.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)t.lineTo(n[o].x,n[o].y);t.closePath(),t.stroke(),t.restore()}drawSizeIndicator(t,n,r){if(!this.enableDrawSizeIndicator)return;const i=this.editor.setting.get("sizeIndicatorMinSize");if(vt(n[0],n[1])<i&&vt(n[1],n[2])<i)return;let o=n[0],s=0;for(let H=1;H<n.length;H++)n[H].y>o.y&&(o=n[H],s=H);let a=1/0,u=n[0];for(let H=0;H<n.length;H++){if(H===s||Dm(n[H],o))continue;let V=Ii({x:1,y:0},oo(n[H],o),!0);V>Math.PI/2&&(V=Math.PI-V),V<a&&(a=V,u=n[H])}const c=Wg(o,u),[h,f]=W8([o,u],c,this.editor.setting.get("sizeIndicatorOffset")),p=h.y>f.y?h:f,m=this.editor.setting.get("sizeIndicatorRectRadius"),w=this.editor.setting.get("sizeIndicatorRectPadding"),x=this.editor.setting.get("sizeIndicatorNumPrecision"),_=this.editor.setting.get("sizeIndicatorTextColor"),y=this.editor.setting.get("sizeIndicatorTextFontStyle"),v=Dy(r.width,x),b=Dy(r.height,x),C=`${v} × ${b}`;t.save(),t.font=y;const M=t.measureText(C),T=M.width,P=M.fontBoundingBoxAscent,I=P+M.fontBoundingBoxDescent,N=new ee().translate(-T/2,0).rotate(Ii({x:0,y:1},oo(p,c))).translate(p.x,p.y),j=this.editor.setting.get("selectBoxStroke");t.fillStyle=j,t.transform(...N.getArray()),t.beginPath();const D=Vg({x:0,y:0,width:T,height:I},w);t.roundRect(D.x,D.y,D.width,D.height,m),t.fill(),t.translate(0,P),t.fillStyle=_,t.fillText(C,0,0),t.restore()}hitTest(t){return this.box?Hm(t,this.box,2/this.editor.zoomManager.getZoom()):!1}setHover(t){this._hover!==t&&(this._hover=t,this.eventEmitter.emit("hoverChange",t))}setHoverByPoint(t){const n=this.hitTest(t);this.setHover(n)}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class SO{constructor(t){$(this,"items",[]),$(this,"hoverItem",null),$(this,"highlightedItem",null),$(this,"eventEmitter",new _n),this.editor=t}setItems(t){const n=this.items;this.items=t,this.emitItemsChangeIfChanged(n,t)}getItems({excludeLocked:t=!1}={}){return t?this.items.filter(n=>!n.isLock()):[...this.items]}getIdSet(){return new Set(this.items.map(t=>t.attrs.id))}setItemsById(t){const n=this.editor.doc.getGraphicsArrByIds(t);n.length===0?console.warn("can not find element by id"):this.setItems(n)}isAllLocked(){return this.items.every(t=>t.isLock())}hasItem(t){return this.items.includes(t)}clear(){this.hoverItem&&this.items.includes(this.hoverItem)&&this.setHoverItem(null),this.setItems([])}toggleItems(t){const n=this.items,r=[];for(let i=0,o=n.length;i<o;i++){const s=n[i],a=t.indexOf(s);a===-1?r.push(s):t.splice(a,1)}r.push(...t),this.items=r,this.emitItemsChangeIfChanged(n,r)}emitItemsChangeIfChanged(t,n){n4(t,n)||this.eventEmitter.emit("itemsChange",n)}toggleItemById(t,n){const r=this.editor.doc.getGraphicsById(t);if(!r){console.warn("can not find element by id");return}if(n!=null&&n.disableParentAndChildCoexist)if(Sn(r)&&r.isGroup())this.items=this.items.filter(i=>!i.containAncestor(t));else{const i=new Set(r.getParentIds());this.items=this.items.filter(o=>!i.has(o.attrs.id))}this.toggleItems([r])}size(){return this.items.length}isEmpty(){return this.items.length===0}getBoundingRect(){if(this.isEmpty())return null;const t=this.items.map(n=>n.getBbox());return fo(vo(t))}getRotation(){return this.items.length===0||this.items.length>1?0:this.items[0].getRotate()??0}getTransform(){return this.items.length===0||this.items.length>1?null:this.items[0].attrs.transform}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}removeFromScene(){this.isEmpty()||(Wm(this.editor,this.items),this.clear(),this.editor.render())}selectAll(){var t,n;const r=((n=(t=this.items[0])==null?void 0:t.getParent)==null?void 0:n.call(t))??this.editor.doc.getCurrCanvas();for(let i=1;i<this.items.length;i++)if(r!==this.items[i].getParent())return;this.setItems(r.getChildren().filter(i=>!i.isLock()))}setHoverItem(t){const n=this.hoverItem;this.hoverItem=t,this.setHighlightedItem(t),n!==t&&this.eventEmitter.emit("hoverItemChange",t,this.hoverItem)}getHoverItem(){return this.hoverItem}setHighlightedItem(t){const n=this.highlightedItem;this.highlightedItem=t,n!==t&&this.eventEmitter.emit("highlightedItemChange",t,this.highlightedItem)}getHighlightedItem(){return this.highlightedItem}getParentIdSet(){return Ko(this.items)}}class EO{constructor(t){$(this,"eventEmitter",new _n),$(this,"value",{canvasBgColor:"#f4f4f4",firstStroke:{type:J.Solid,attrs:{r:0,g:0,b:0,a:1}},strokeWidth:1,firstFill:{type:J.Solid,attrs:{r:217,g:217,b:217,a:1}},firstFrameFill:{type:J.Solid,attrs:{r:255,g:255,b:255,a:1}},addedPaint:{type:J.Solid,attrs:{r:0,g:0,b:0,a:.2}},defaultStarInnerScale:.3819660246372223,selectBoxStroke:"#1592fe",selectBoxStrokeWidth:1.2,sizeIndicatorMinSize:10,sizeIndicatorOffset:10,sizeIndicatorRectRadius:2,sizeIndicatorRectPadding:[0,4,0,4],sizeIndicatorTextColor:"#fff",sizeIndicatorTextFontStyle:"12px sans-serif",sizeIndicatorNumPrecision:2,selectionStroke:"#0f8eff",selectionFill:"#0f8eff33",selectionMode:"intersect",selectionHitPadding:4,highlightLayersOnHover:!0,hoverOutlineStrokeWidth:2,hoverOutlineStroke:"#1592fe",selectedOutlineStrokeWidth:1,handleStroke:"#1592fe",handleFill:"#fcfcfc",handleStrokeWidth:2,handleSize:7,neswHandleWidth:10,defaultFontSize:12,defaultFontFamily:"sans-serif",textFill:[{type:J.Solid,attrs:{r:0,g:0,b:0,a:1}}],lockRotation:Math.PI/12,zoomStep:.2325,zoomMin:.015625,zoomMax:256,zoomLevels:[.015625,.03125,.0625,.125,.25,.5,1,2,4,8,16,32,64,128,256],drawGraphDefaultWidth:100,drawGraphDefaultHeight:100,enableRuler:!1,minStepInViewport:50,rulerBgColor:"#fff",rulerStroke:"#e6e6e6",rulerMarkStroke:"#c1c1c1",rulerSelectedBgColor:"#e6f5ff",rulerWidth:20,rulerMarkSize:4,enablePixelGrid:!0,snapToGrid:!0,minPixelGridZoom:8,pixelGridLineColor:"#cccccc55",gridViewX:1,gridViewY:1,gridSnapX:1,gridSnapY:1,snapToObjects:!0,dragBlockStep:4,offsetX:0,offsetY:0,zoomToFixPadding:40,invertZoomDirection:!1,smallNudge:1,bigNudge:10,moveElementsDelay:500,refLineTolerance:4,refLineStroke:"#f14f30ee",refLineStrokeWidth:1,refLinePointSize:5,keepToolSelectedAfterUse:!1,pencilCurveFitTolerance:1,pathLineStroke:"#a4a4a4",angleBase:{x:0,y:-1},flipObjectsWhileResizing:!0,comboClickMaxGap:350,comboClickDistanceTol:5,textEditorCursorSize:1.5,textEditorCursorLineStroke:"#000",textEditorSelectionFill:"#0069c433"}),t=wC(t,Object.keys(this.value)),this.value={...this.value,...t}}toggle(t){const n=this.value[t];typeof n=="boolean"?this.set(t,!n):console.warn(`toggle ${t} failed, value is not boolean`)}set(t,n){this.value[t]=n,this.eventEmitter.emit("update",this.getAttrs(),t)}get(t){return this.value[t]}getAttrs(){return{...this.value}}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class CO{constructor(t){$(this,"range",{start:0,end:0}),this.editor=t}setRange(t){this.range={start:t.start,end:t.end}}getRange(){return{...this.range}}getSortedRange(){const t=Math.min(this.range.start,this.range.end),n=Math.max(this.range.start,this.range.end);return{rangeLeft:t,rangeRight:n}}moveLeft(){if(this.range.start===this.range.end)this.dMove(-1);else{const{rangeLeft:t}=this.getSortedRange();this.setRange({start:t,end:t})}}getMaxRange(){const t=this.editor.textEditor.getTextGraphics();return t?t.getContentLength():1/0}moveRight(){if(this.range.start===this.range.end)this.getMaxRange()>this.range.end&&this.dMove(1);else{const{rangeRight:t}=this.getSortedRange();this.setRange({start:t,end:t})}}dMove(t){const n=Math.max(0,this.range.start+t),r=Math.max(0,this.range.end+t);this.setRange({start:n,end:r})}moveRangeEnd(t){const n=this.getMaxRange(),r=this.range.end+t;n+1>r&&r>=0&&this.setRange({start:this.range.start,end:r})}setRangeEnd(t){const n=t-this.range.end;this.moveRangeEnd(n)}getCursorLinePos(t){const n=t.getGlyphs(),r=this.getRange(),{height:i}=t.getContentMetrics(),o=(n[r.start]??{position:{x:0,y:0},width:0,height:i}).position,s=t.getWorldTransform(),a=xs(s,o),u=this.editor.toViewportPt(a.x,a.y),c=xs(s,{x:o.x,y:o.y+i}),h=this.editor.toViewportPt(c.x,c.y);let f=null;if(r.end!==r.start){const p=(n[r.end]??{position:{x:0,y:0},width:0,height:i}).position,m=xs(s,p);f=this.editor.toViewportPt(m.x,m.y)}return{topInViewport:u,bottomInViewport:h,rightInViewport:f}}draw(t,n,r,i){const{ctx:o}=t,s=this.editor.setting.get("textEditorCursorLineStroke"),a=this.editor.setting.get("textEditorCursorSize");if(o.save(),!i)o.beginPath(),o.moveTo(n.x,n.y),o.lineTo(r.x,r.y),o.closePath(),o.lineWidth=a,o.strokeStyle=s,o.stroke();else{const u=this.editor.setting.get("textEditorSelectionFill");o.beginPath(),o.moveTo(n.x,n.y),o.lineTo(r.x,r.y);const c=r.x-n.x,h=r.y-n.y,f={x:i.x+c,y:i.y+h};o.lineTo(f.x,f.y),o.lineTo(i.x,i.y),o.closePath(),o.fillStyle=u,o.fill()}o.restore()}}const _O={position:"fixed",width:"1px",zIndex:"-1",margin:0,padding:0,border:0,outline:0,opacity:0};class _a{constructor(t){$(this,"inputDom"),$(this,"textGraphics",null),$(this,"rangeManager"),$(this,"_active",!1),$(this,"transaction"),this.editor=t,this.rangeManager=new CO(t),this.inputDom=this.createInputDom(),this.inactive(),this.bindEvent(),t.containerElement.appendChild(this.inputDom)}createInputDom(){const t=document.createElement("input");return t.tabIndex=-1,Object.assign(t.style,_O),t}isEditorInputDom(t){return t===this.inputDom}getTextGraphics(){return this.textGraphics}isActive(){return this._active}active(t){this._active=!0,this.editor.controlHandleManager.enableTransformControl=!1,this.editor.selectedBox.enableDrawSizeIndicator=!1,this.transaction=new ut(this.editor);let n=t.textGraphics;if(!t.textGraphics){const i=this.editor.setting.get("defaultFontSize"),o=this.editor.setting.get("defaultFontFamily");n=new qd({objectName:"",content:"",fontSize:i,fontFamily:o,width:0,height:i},{advancedAttrs:t.pos,doc:this.editor.doc}),this.textGraphics=n,this.editor.sceneGraph.addItems([n]),this.editor.doc.getCurrCanvas().insertChild(n)}if(this.textGraphics=n,this.editor.selectedElements.setItems([n]),this.transaction.recordOld(n.attrs.id,{content:n.attrs.content,width:n.attrs.width}),t.range)this.rangeManager.setRange(t.range);else{const i=n.getContentLength();this.rangeManager.setRange({start:i,end:i})}const r=this.editor.mouseEventManager.getCursorPos();r&&this.updateCursor(r),this.inputDom.focus(),this.editor.render()}inactive(){this._active=!1,this.textGraphics&&(this.textGraphics.attrs.content?(this.transaction.update(this.textGraphics.attrs.id,{content:this.textGraphics.attrs.content,width:this.textGraphics.attrs.width}),this.transaction.updateParentSize([this.textGraphics]),this.transaction.commit("update text content")):Wm(this.editor,[this.textGraphics]),this.textGraphics=null),this.editor.controlHandleManager.enableTransformControl=!0,this.editor.selectedBox.enableDrawSizeIndicator=!0}static updateTextContentAndResize(t,n){const{width:r,height:i}=IC(n,{fontSize:t.attrs.fontSize,fontFamily:t.attrs.fontFamily});t.updateAttrs({content:n,width:r,height:i})}bindEvent(){let t="",n="",r="";const i=this.inputDom;i.addEventListener("input",u=>{const c=u,h=this.textGraphics;if(h){if(c.isComposing){if(!t){const{rangeLeft:f,rangeRight:p}=this.rangeManager.getSortedRange(),m=h.attrs.content;n=Bi(m,0,f),r=Bi(m,p)}t=c.data??""}else t="",n="",r="";if(!c.isComposing&&c.data){const{rangeLeft:f,rangeRight:p}=this.rangeManager.getSortedRange(),m=h.attrs.content,w=Bi(m,0,f)+c.data+Bi(m,p);_a.updateTextContentAndResize(h,w);const x=op(c.data);this.rangeManager.setRange({start:f+x,end:f+x}),this.editor.render()}else if(c.isComposing){const f=n+t+r;_a.updateTextContentAndResize(h,f);const p=op(n)+op(t);this.rangeManager.setRange({start:p,end:p}),this.editor.render()}}}),i.addEventListener("keydown",u=>{if(u.key==="Escape")this.inactive();else if(u.key==="Backspace"||u.key==="Delete"){const c=this.textGraphics;if(!c||!c.attrs.content)return;let{rangeLeft:h,rangeRight:f}=this.rangeManager.getSortedRange();const p=h!==f;p||(h=u.key==="Backspace"?h-1:h,f=u.key==="Backspace"?f:f+1);const m=c.attrs.content,w=Bi(m,0,h),x=Bi(m,f),_=w+x;_a.updateTextContentAndResize(c,_),p?this.rangeManager.setRange({start:h,end:h}):u.key==="Backspace"&&this.rangeManager.moveLeft(),this.editor.render()}else if(u.key==="ArrowLeft")u.shiftKey?this.rangeManager.moveRangeEnd(-1):this.rangeManager.moveLeft(),this.editor.render();else if(u.key==="ArrowRight")u.shiftKey?this.rangeManager.moveRangeEnd(1):this.rangeManager.moveRight(),this.editor.render();else if(u.key==="a"&&(u.metaKey||u.ctrlKey))this.textGraphics&&(this.rangeManager.setRange({start:0,end:this.textGraphics.getContentLength()}),this.editor.render());else if(u.key==="c"&&(u.metaKey||u.ctrlKey)){if(!this.textGraphics)return;const{rangeLeft:c,rangeRight:h}=this.rangeManager.getSortedRange(),f=Bi(this.textGraphics.attrs.content,c,h);f&&navigator.clipboard.writeText(f)}else if(u.key==="x"&&(u.metaKey||u.ctrlKey)){if(!this.textGraphics)return;const{rangeLeft:c,rangeRight:h}=this.rangeManager.getSortedRange(),f=Bi(this.textGraphics.attrs.content,c,h);f&&navigator.clipboard.writeText(f);const p=Bi(this.textGraphics.attrs.content,0,c)+Bi(this.textGraphics.attrs.content,h);_a.updateTextContentAndResize(this.textGraphics,p),this.rangeManager.setRange({start:c,end:c}),this.editor.render()}}),i.addEventListener("blur",()=>{this.inactive()}),i.addEventListener("compositionend",()=>{t="",n="",r=""});const o=u=>{if(!this.isActive()||this.editor.canvasDragger.isActive()||!this.textGraphics)return;const c=u.pos;if(!this.textGraphics.hitTest(c))return;u.nativeEvent.preventDefault();const h=this.textGraphics.getCursorIndex(c);this.rangeManager.setRange({start:h,end:h}),this.editor.render()},s=u=>{if(!this.isActive()||this.editor.canvasDragger.isActive()||!this.textGraphics)return;const c=u.pos,h=this.textGraphics.getCursorIndex(c);this.rangeManager.setRangeEnd(h),this.editor.render()},a=u=>{this.updateCursor(u.pos)};this.editor.mouseEventManager.on("start",o),this.editor.mouseEventManager.on("drag",s),this.editor.mouseEventManager.on("move",a),this.editor.mouseEventManager.on("end",a)}updateCursor(t){!this.isActive()||!this.textGraphics||(this.textGraphics.hitTest(t)?this.editor.cursorManager.setCursor("text"):this.editor.cursorManager.setCursor("default"))}destroy(){this.inputDom.remove(),this._active=!1}drawRange(t){if(!this.isActive())return;const n=this.editor,r=n.zoomManager.getZoom(),i=n.setting.get("defaultFontSize")*r,o=this.textGraphics;if(!o)return;const{topInViewport:s,bottomInViewport:a,rightInViewport:u}=this.rangeManager.getCursorLinePos(o),c=n.setting.get("offsetX"),h=n.setting.get("offsetY"),f={left:a.x+c+"px",top:a.y-i+h+"px",height:`${i}px`,fontSize:`${i}px`};Object.assign(this.inputDom.style,f),this.rangeManager.draw(t,s,a,u)}}class $O{constructor(t){$(this,"scrollX",0),$(this,"scrollY",0),$(this,"eventEmitter",new _n),this.editor=t}getViewport(){return{x:this.scrollX,y:this.scrollY,width:parseFloat(this.editor.canvasElement.style.width),height:parseFloat(this.editor.canvasElement.style.height)}}setViewport({x:t,y:n,width:r,height:i}){const o=this.scrollX,s=this.scrollY,a=Bg();t!==void 0&&(this.scrollX=t),n!==void 0&&(this.scrollY=n),r!==void 0&&(this.editor.canvasElement.width=r*a,this.editor.canvasElement.style.width=r+"px"),i!==void 0&&(this.editor.canvasElement.height=i*a,this.editor.canvasElement.style.height=i+"px"),(o!==t||s!==n)&&this.eventEmitter.emit("xOrYChange",t,n)}getCenter(){const{x:t,y:n,width:r,height:i}=this.getViewport(),o=this.editor.zoomManager.getZoom();return{x:t+r/2/o,y:n+i/2/o}}translate(t,n){this.scrollX+=t,this.scrollY+=n,this.eventEmitter.emit("xOrYChange",this.scrollX,this.scrollY)}getBbox(){const{x:t,y:n,width:r,height:i}=this.getViewport(),o=this.editor.zoomManager.getZoom();return{minX:t,minY:n,maxX:t+r/o,maxY:n+i/o}}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}class TO{constructor(t){$(this,"zoom",1),$(this,"eventEmitter",new _n),this.editor=t}getZoom(){return this.zoom}setZoom(t){const n=this.zoom,r=this.editor.setting.get("zoomMax");t>r&&(t=r);const i=this.editor.setting.get("zoomMin");t<i&&(t=i),this.zoom=t,Promise.resolve().then(()=>{this.eventEmitter.emit("zoomChange",t,n)})}setZoomAndUpdateViewport(t){const n=this.zoom;this.setZoom(t),this.adjustScroll(n)}zoomIn(t){const n=this.zoom;let r;if(t!=null&&t.isLevelZoom){const i=this.editor.setting.get("zoomLevels"),[,o]=vx(i,n);r=o}else{const i=t!=null&&t.deltaY?this.deltaYToZoomStep(t.deltaY):this.editor.setting.get("zoomStep");r=Math.min(n*(1+i),this.editor.setting.get("zoomMax"))}this.setZoom(r),this.adjustScroll(n,t==null?void 0:t.center)}zoomOut(t){const n=this.zoom;let r;if(t!=null&&t.isLevelZoom){const i=this.editor.setting.get("zoomLevels"),[o]=vx(i,n);r=o}else{const i=t!=null&&t.deltaY?this.deltaYToZoomStep(t.deltaY):this.editor.setting.get("zoomStep");r=Math.max(n/(1+i),this.editor.setting.get("zoomMin"))}this.setZoom(r),this.adjustScroll(n,t==null?void 0:t.center)}deltaYToZoomStep(t){return Math.max(.05,.12937973*Math.log(Math.abs(t))-.33227472)}reset(){this.setZoom(1);const t=this.editor.viewportManager,n=t.getViewport();t.setViewport({x:-n.width/2,y:-n.height/2})}zoomRectToFit(t,n){const{setting:r,viewportManager:i}=this.editor,o=r.get("zoomToFixPadding"),s=i.getViewport(),a=this.editor.setting.get("enableRuler")?this.editor.setting.get("rulerWidth"):0,u=_=>{const y=_-o*2-a;return y>0?y:_},c=u(s.height),h=u(s.width),f=h/c,p=t.width/t.height;let m=f>p?c/t.height:h/t.width;m=n?Math.min(m,n):m;const w=t.x-((s.width+a)/m-t.width)/2,x=t.y-((s.height+a)/m-t.height)/2;this.setZoom(m),i.setViewport({x:w,y:x})}zoomToSelection(){const t=this.editor.selectedElements.getBoundingRect();t?this.zoomRectToFit(t):this.zoomToFit()}zoomToGraphics(t){const n=fo(t.getBbox());this.zoomRectToFit(n)}zoomToFit(t){const n=this.editor.getCanvasBbox();if(!n){this.reset();return}this.zoomRectToFit(fo(n),t)}getCanvasCenter(){const{width:t,height:n}=this.editor.viewportManager.getViewport();return{x:t/2,y:n/2}}adjustScroll(t,n){const r=this.editor.viewportManager,i=this.zoom,{x:o,y:s}=r.getViewport();n||(n=this.getCanvasCenter());const{x:a,y:u}=sC(n.x,n.y,t,o,s),c=a-n.x/i,h=u-n.y/i;r.setViewport({x:c,y:h})}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}}const vx=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2);if(e[i]===t){r=i-1,n=i+1;break}else e[i]<t?n=i+1:r=i-1}return r<0&&(r=0),n>=e.length&&(n=e.length-1),[e[r],e[n]]};class kO{constructor(t){$(this,"containerElement"),$(this,"canvasElement"),$(this,"ctx"),$(this,"appVersion","suika-editor_0.0.2"),$(this,"paperId"),$(this,"emitter",new _n),$(this,"doc"),$(this,"sceneGraph"),$(this,"controlHandleManager"),$(this,"setting"),$(this,"viewportManager"),$(this,"canvasDragger"),$(this,"toolManager"),$(this,"commandManager"),$(this,"zoomManager"),$(this,"imgManager"),$(this,"cursorManager"),$(this,"mouseEventManager"),$(this,"keybindingManager"),$(this,"hostEventManager"),$(this,"clipboard"),$(this,"selectedElements"),$(this,"selectedBox"),$(this,"ruler"),$(this,"refLine"),$(this,"textEditor"),$(this,"pathEditor"),$(this,"perfMonitor"),this.containerElement=t.containerElement,this.canvasElement=document.createElement("canvas"),this.containerElement.appendChild(this.canvasElement),this.ctx=this.canvasElement.getContext("2d"),this.setting=new EO(t.userPreference),t.offsetX&&this.setting.set("offsetX",t.offsetX),t.offsetY&&this.setting.set("offsetY",t.offsetY),this.mouseEventManager=new z6(this),this.keybindingManager=new J6(this),this.keybindingManager.bindEvent(),this.doc=new KC({id:"0-0",objectName:"Document",width:0,height:0}),this.doc.setEditor(this),this.sceneGraph=new wO(this),this.cursorManager=new Y6(this),this.viewportManager=new $O(this),this.commandManager=new B8(this),this.zoomManager=new TO(this),this.imgManager=new Q6,this.selectedElements=new SO(this),this.selectedBox=new bO(this),this.ruler=new vO(this),this.refLine=new gs(this),this.controlHandleManager=new _6(this),this.controlHandleManager.bindEvents(),this.textEditor=new _a(this),this.pathEditor=new Um(this),this.hostEventManager=new F6(this),this.hostEventManager.bindHotkeys(),this.canvasDragger=new G6(this),this.toolManager=new cO(this),this.clipboard=new U6(this),this.clipboard.bindEvents(),this.imgManager.on("added",()=>{this.render()}),this.paperId=vu();const n=new Va({objectName:"Canvas",width:0,height:0},{doc:this.doc});this.sceneGraph.addItems([n]),this.viewportManager.setViewport({x:-t.width/2,y:-t.height/2,width:t.width,height:t.height}),this.perfMonitor=new mO,t.showPerfMonitor&&this.perfMonitor.start(this.containerElement),Promise.resolve().then(()=>{this.render()})}setContents(t){if(this.sceneGraph.load(t.data),this.commandManager.clearRecords(),this.paperId=t.paperId??vu(),!this.doc.getCurrCanvas()){const n=new Va({objectName:"Canvas",width:0,height:0},{doc:this.doc});this.sceneGraph.addItems([n])}this.zoomManager.zoomToFit(1)}destroy(){this.containerElement.removeChild(this.canvasElement),this.textEditor.destroy(),this.keybindingManager.destroy(),this.hostEventManager.destroy(),this.clipboard.destroy(),this.canvasDragger.destroy(),this.toolManager.unbindEvent(),this.toolManager.destroy(),this.perfMonitor.destroy(),this.controlHandleManager.unbindEvents(),this.emitter.emit("destroy")}setCursor(t){this.cursorManager.setCursor(t)}getCursor(){return this.cursorManager.getCursor()}toScenePt(t,n,r=!1){const i=this.zoomManager.getZoom(),{x:o,y:s}=this.viewportManager.getViewport();return sC(t,n,i,o,s,r)}toViewportPt(t,n){const r=this.zoomManager.getZoom(),{x:i,y:o}=this.viewportManager.getViewport();return t4(t,n,r,i,o)}toSceneSize(t){const n=this.zoomManager.getZoom();return t/n}toViewportSize(t){const n=this.zoomManager.getZoom();return t*n}getCursorXY(t){return{x:t.clientX-this.setting.get("offsetX"),y:t.clientY-this.setting.get("offsetY")}}getSceneCursorXY(t,n=!1){const{x:r,y:i}=this.getCursorXY(t);return this.toScenePt(r,i,n)}render(){this.sceneGraph.render()}getCanvasBbox(){const t=this.doc.getCurrCanvas().getChildren().filter(n=>n.isVisible());return t.length===0?null:vo(t.map(n=>n.getBbox()))}applyChanges(t){const n=[];for(const[,r]of t.added)n.push(r);this.sceneGraph.load(n,!0);for(const[r,i]of t.update){const o=this.doc.getGraphicsById(r);if(!o){console.warn(`graphics ${r} is not exist`);continue}o.updateAttrs(i)}for(const r of t.deleted){const i=this.doc.getGraphicsById(r);if(!i){console.warn(`graphics ${r} is not exist`);continue}i.setDeleted(!0),i.removeFromParent()}}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}}const yr=A.createContext(null),cp="suika-paper";class MO{constructor(t){this.editor=t,this.listener=PP(()=>{this.save()},10);const n=this.load();n&&(n.appVersion!==t.appVersion?confirm("编辑器版本和图纸版本不兼容，将清空本地缓存 (version not match, to clear data)")&&this.clear():t.setContents(n)),this.autoSave(),this.editor.on("destroy",()=>this.stopAutoSave())}autoSave(){this.editor.commandManager.on("change",this.listener)}stopAutoSave(){this.editor.commandManager.off("change",this.listener)}save(){localStorage.setItem(cp,this.editor.sceneGraph.toJSON())}clear(){localStorage.removeItem(cp)}load(){const t=localStorage.getItem(cp);return t?JSON.parse(t):null}}var _3={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var u in o)t.call(o,u)&&o[u]&&r.push(u)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(_3);var PO=_3.exports;const go=pd(PO),on=({children:e,suffix:t,disabled:n,onClick:r})=>S.jsxs("div",{className:go("suika-context-menu-item",{"suika-is-disable":n}),onClick:r,children:[e,t&&S.jsx("span",{children:t})]}),as=()=>S.jsx("div",{className:"suika-context-menu-sep"}),yx=2,AO=-5,Ec=60,IO=()=>{const e=A.useContext(yr),[t,n]=A.useState(!1),[r,i]=A.useState({x:0,y:0}),[o,s]=A.useState(!1),[a,u]=A.useState(!1),[c,h]=A.useState(!1),[f,p]=A.useState({width:0,height:0}),m=A.useRef(null),w=A.useCallback(()=>{const y=window.innerWidth,v=window.innerHeight;let b=r.x+yx,C=r.y+AO;return b+f.width>y&&(b=r.x-f.width-yx),C<Ec?C=Ec:r.y+f.height+Ec>v&&(C=v-Ec-f.height),{left:b,top:C}},[r.x,r.y,f]);A.useLayoutEffect(()=>{if(m.current){const y=m.current.getBoundingClientRect();p({width:y.width,height:y.height})}},[t]),A.useEffect(()=>{if(e){const y=b=>{t||(h(e.selectedBox.hitTest(e.getSceneCursorXY({clientX:b.x,clientY:b.y}))),n(!0),i(b))};e.hostEventManager.on("contextmenu",y);const v=b=>{s(b.canRedo),u(b.canUndo)};return e.commandManager.on("change",v),()=>{e.hostEventManager.off("contextmenu",y),e.commandManager.off("change",v)}}},[e]);const x=()=>S.jsxs(S.Fragment,{children:[c&&S.jsxs(S.Fragment,{children:[S.jsx(on,{suffix:gt()?"Ctrl+C":"⌘C",onClick:()=>{n(!1),e&&e.clipboard.copy()},children:S.jsx(lt,{id:"command.copy"})}),S.jsx(on,{onClick:()=>{n(!1),e&&e.clipboard.copyAsSVG()},children:S.jsx(lt,{id:"command.copyAsSVG"})})]}),S.jsx(on,{onClick:()=>{if(n(!1),e){const y=e.getSceneCursorXY({clientX:r.x,clientY:r.y},!0);e.clipboard.pasteAt(y)}},children:S.jsx(lt,{id:"command.pasteHere"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Ctrl+Z":"⌘Z",disabled:!a,onClick:()=>{n(!1),e&&e.commandManager.undo()},children:S.jsx(lt,{id:"command.undo"})}),S.jsx(on,{suffix:gt()?"Ctrl+Shift+Z":"⇧⌘Z",disabled:!o,onClick:()=>{n(!1),e&&e.commandManager.redo()},children:S.jsx(lt,{id:"command.redo"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Ctrl+A":"⌘A",onClick:()=>{n(!1),e&&(e.selectedElements.selectAll(),e.render())},children:S.jsx(lt,{id:"command.selectAll"})})]}),_=()=>S.jsxs(S.Fragment,{children:[S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Ctrl+G":"⌘G",onClick:()=>{n(!1),e&&UC(e.selectedElements.getItems(),e)},children:S.jsx(lt,{id:"group"})}),S.jsx(on,{suffix:gt()?"Ctrl+Backspace":"⌘⌫",onClick:()=>{n(!1),e&&VC(e.selectedElements.getItems(),e)},children:S.jsx(lt,{id:"ungroup"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Ctrl+]":"⌘]",onClick:()=>{n(!1),e&&jo(e,ar.Forward)},children:S.jsx(lt,{id:"arrange.forward"})}),S.jsx(on,{suffix:gt()?"Ctrl+[":"⌘[",onClick:()=>{n(!1),e&&jo(e,ar.Backward)},children:S.jsx(lt,{id:"arrange.backward"})}),S.jsx(on,{suffix:"]",onClick:()=>{n(!1),e&&jo(e,ar.Front)},children:S.jsx(lt,{id:"arrange.front"})}),S.jsx(on,{suffix:"[",onClick:()=>{n(!1),e&&jo(e,ar.Back)},children:S.jsx(lt,{id:"arrange.back"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Ctrl+Shift+H":"⇧⌘H",onClick:()=>{n(!1),e&&(wn.toggleVisible(e,e.selectedElements.getItems()),e.render())},children:S.jsx(lt,{id:"showOrHide"})}),S.jsx(on,{suffix:gt()?"Ctrl+Shift+L":"⇧⌘L",onClick:()=>{n(!1),e&&(wn.toggleLock(e,e.selectedElements.getItems()),e.render())},children:S.jsx(lt,{id:"lockOrUnlock"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Shift+H":"⇧H",onClick:()=>{n(!1),e&&(zC(e,e.selectedElements.getItems()),e.render())},children:S.jsx(lt,{id:"flip.horizontal"})}),S.jsx(on,{suffix:gt()?"Shift+V":"⇧V",onClick:()=>{n(!1),e&&(GC(e,e.selectedElements.getItems()),e.render())},children:S.jsx(lt,{id:"flip.vertical"})}),S.jsx(as,{}),S.jsx(on,{suffix:gt()?"Backspace":"⌫",onClick:()=>{n(!1),e&&e.selectedElements.removeFromScene()},children:S.jsx(lt,{id:"delete"})})]});return S.jsxs("div",{onContextMenu:y=>y.preventDefault(),children:[t&&S.jsx("div",{className:"suika-context-menu-mask",onMouseDown:()=>{n(!1)}}),S.jsxs("div",{ref:m,className:"suika-context-menu",style:{display:t?void 0:"none",...w()},children:[x(),e&&!e.selectedElements.isEmpty()&&_()]})]})};function $3(e){return e.split("-")[1]}function jO(e){return e==="y"?"height":"width"}function Vm(e){return e.split("-")[0]}function T3(e){return["top","bottom"].includes(Vm(e))?"x":"y"}function xx(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=T3(t),u=jO(a),c=r[u]/2-i[u]/2,h=a==="x";let f;switch(Vm(t)){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-i.width,y:s};break;default:f={x:r.x,y:r.y}}switch($3(t)){case"start":f[a]-=c*(n&&h?-1:1);break;case"end":f[a]+=c*(n&&h?-1:1)}return f}const OO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:f}=xx(c,r,u),p=r,m={},w=0;for(let x=0;x<a.length;x++){const{name:_,fn:y}=a[x],{x:v,y:b,data:C,reset:M}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});h=v??h,f=b??f,m={...m,[_]:{...m[_],...C}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:h,y:f}=xx(c,p,u)),x=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:m}};function k3(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const RO=["top","right","bottom","left"];RO.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const LO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:u,elements:c}=o,h=await(u.isRTL==null?void 0:u.isRTL(c.floating)),f=Vm(a),p=$3(a),m=T3(a)==="x",w=["left","top"].includes(f)?-1:1,x=h&&m?-1:1,_=typeof s=="function"?s(o):s;let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return p&&typeof b=="number"&&(v=p==="end"?-1*b:b),m?{x:v*x,y:y*w}:{x:y*w,y:v*x}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function lr(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){return lr(e).getComputedStyle(e)}function M3(e){return e instanceof lr(e).Node}function Yo(e){return M3(e)?(e.nodeName||"").toLowerCase():""}let Cc;function P3(){if(Cc)return Cc;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Cc=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Cc):navigator.userAgent}function ji(e){return e instanceof lr(e).HTMLElement}function ki(e){return e instanceof lr(e).Element}function wx(e){return typeof ShadowRoot>"u"?!1:e instanceof lr(e).ShadowRoot||e instanceof ShadowRoot}function Qd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function DO(e){return["table","td","th"].includes(Yo(e))}function Qg(e){const t=/firefox/i.test(P3()),n=Xi(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function Jg(){return/^((?!chrome|android).)*safari/i.test(P3())}function Xm(e){return["html","body","#document"].includes(Yo(e))}const bx=Math.min,Yl=Math.max,Uh=Math.round;function A3(e){const t=Xi(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=ji(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Uh(n)!==o||Uh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function I3(e){return ki(e)?e:e.contextElement}const j3={x:1,y:1};function ja(e){const t=I3(e);if(!ji(t))return j3;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:o}=A3(t);let s=(o?Uh(n.width):n.width)/r,a=(o?Uh(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Is(e,t,n,r){var i,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=I3(e);let u=j3;t&&(r?ki(r)&&(u=ja(r)):u=ja(e));const c=a?lr(a):window,h=Jg()&&n;let f=(s.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/u.x,p=(s.top+(h&&((o=c.visualViewport)==null?void 0:o.offsetTop)||0))/u.y,m=s.width/u.x,w=s.height/u.y;if(a){const x=lr(a),_=r&&ki(r)?lr(r):r;let y=x.frameElement;for(;y&&r&&_!==x;){const v=ja(y),b=y.getBoundingClientRect(),C=getComputedStyle(y);b.x+=(y.clientLeft+parseFloat(C.paddingLeft))*v.x,b.y+=(y.clientTop+parseFloat(C.paddingTop))*v.y,f*=v.x,p*=v.y,m*=v.x,w*=v.y,f+=b.x,p+=b.y,y=lr(y).frameElement}}return k3({width:m,height:w,x:f,y:p})}function Go(e){return((M3(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jd(e){return ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function O3(e){return Is(Go(e)).left+Jd(e).scrollLeft}function Su(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wx(e)&&e.host||Go(e);return wx(t)?t.host:t}function R3(e){const t=Su(e);return Xm(t)?t.ownerDocument.body:ji(t)&&Qd(t)?t:R3(t)}function Zl(e,t){var n;t===void 0&&(t=[]);const r=R3(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=lr(r);return i?t.concat(o,o.visualViewport||[],Qd(r)?r:[]):t.concat(r,Zl(r))}function Sx(e,t,n){let r;if(t==="viewport")r=function(s,a){const u=lr(s),c=Go(s),h=u.visualViewport;let f=c.clientWidth,p=c.clientHeight,m=0,w=0;if(h){f=h.width,p=h.height;const x=Jg();(!x||x&&a==="fixed")&&(m=h.offsetLeft,w=h.offsetTop)}return{width:f,height:p,x:m,y:w}}(e,n);else if(t==="document")r=function(s){const a=Go(s),u=Jd(s),c=s.ownerDocument.body,h=Yl(a.scrollWidth,a.clientWidth,c.scrollWidth,c.clientWidth),f=Yl(a.scrollHeight,a.clientHeight,c.scrollHeight,c.clientHeight);let p=-u.scrollLeft+O3(s);const m=-u.scrollTop;return Xi(c).direction==="rtl"&&(p+=Yl(a.clientWidth,c.clientWidth)-h),{width:h,height:f,x:p,y:m}}(Go(e));else if(ki(t))r=function(s,a){const u=Is(s,!0,a==="fixed"),c=u.top+s.clientTop,h=u.left+s.clientLeft,f=ji(s)?ja(s):{x:1,y:1};return{width:s.clientWidth*f.x,height:s.clientHeight*f.y,x:h*f.x,y:c*f.y}}(t,n);else{const s={...t};if(Jg()){var i,o;const a=lr(e);s.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,s.y-=((o=a.visualViewport)==null?void 0:o.offsetTop)||0}r=s}return k3(r)}function Ex(e,t){return ji(e)&&Xi(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Cx(e,t){const n=lr(e);if(!ji(e))return n;let r=Ex(e,t);for(;r&&DO(r)&&Xi(r).position==="static";)r=Ex(r,t);return r&&(Yo(r)==="html"||Yo(r)==="body"&&Xi(r).position==="static"&&!Qg(r))?n:r||function(i){let o=Su(i);for(;ji(o)&&!Xm(o);){if(Qg(o))return o;o=Su(o)}return null}(e)||n}function NO(e,t,n){const r=ji(t),i=Go(t),o=Is(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Yo(t)!=="body"||Qd(i))&&(s=Jd(t)),ji(t)){const u=Is(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=O3(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}const BO={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(c,h){const f=h.get(c);if(f)return f;let p=Zl(c).filter(_=>ki(_)&&Yo(_)!=="body"),m=null;const w=Xi(c).position==="fixed";let x=w?Su(c):c;for(;ki(x)&&!Xm(x);){const _=Xi(x),y=Qg(x);_.position==="fixed"&&(m=null),(w?y||m:y||_.position!=="static"||!m||!["absolute","fixed"].includes(m.position))?m=_:p=p.filter(v=>v!==x),x=Su(x)}return h.set(c,p),p}(t,this._c):[].concat(n),s=[...o,r],a=s[0],u=s.reduce((c,h)=>{const f=Sx(t,h,i);return c.top=Yl(f.top,c.top),c.right=bx(f.right,c.right),c.bottom=bx(f.bottom,c.bottom),c.left=Yl(f.left,c.left),c},Sx(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=ji(n),o=Go(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const u={x:0,y:0};if((i||!i&&r!=="fixed")&&((Yo(n)!=="body"||Qd(o))&&(s=Jd(n)),ji(n))){const c=Is(n);a=ja(n),u.x=c.x+n.clientLeft,u.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+u.x,y:t.y*a.y-s.scrollTop*a.y+u.y}},isElement:ki,getDimensions:function(e){return A3(e)},getOffsetParent:Cx,getDocumentElement:Go,getScale:ja,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||Cx,o=this.getDimensions;return{reference:NO(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Xi(e).direction==="rtl"};function HO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,u=i&&!a,c=u||o?[...ki(e)?Zl(e):e.contextElement?Zl(e.contextElement):[],...Zl(t)]:[];c.forEach(m=>{u&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});let h,f=null;s&&(f=new ResizeObserver(()=>{n()}),ki(e)&&!a&&f.observe(e),ki(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t));let p=a?Is(e):null;return a&&function m(){const w=Is(e);!p||w.x===p.x&&w.y===p.y&&w.width===p.width&&w.height===p.height||n(),p=w,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(w=>{u&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}const FO=(e,t,n)=>{const r=new Map,i={platform:BO,...n},o={...i.platform,_c:r};return OO(e,t,{...i,platform:o})};var Yc=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Vh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Vh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Vh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function _x(e){const t=A.useRef(e);return Yc(()=>{t.current=e}),t}function zO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=e,[a,u]=A.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,h]=A.useState(r);Vh(c,r)||h(r);const f=A.useRef(null),p=A.useRef(null),m=A.useRef(a),w=_x(o),x=_x(i),[_,y]=A.useState(null),[v,b]=A.useState(null),C=A.useCallback(j=>{f.current!==j&&(f.current=j,y(j))},[]),M=A.useCallback(j=>{p.current!==j&&(p.current=j,b(j))},[]),T=A.useCallback(()=>{if(!f.current||!p.current)return;const j={placement:t,strategy:n,middleware:c};x.current&&(j.platform=x.current),FO(f.current,p.current,j).then(D=>{const H={...D,isPositioned:!0};P.current&&!Vh(m.current,H)&&(m.current=H,Ad.flushSync(()=>{u(H)}))})},[c,t,n,x]);Yc(()=>{s===!1&&m.current.isPositioned&&(m.current.isPositioned=!1,u(j=>({...j,isPositioned:!1})))},[s]);const P=A.useRef(!1);Yc(()=>(P.current=!0,()=>{P.current=!1}),[]),Yc(()=>{if(_&&v){if(w.current)return w.current(_,v,T);T()}},[_,v,T,w]);const I=A.useMemo(()=>({reference:f,floating:p,setReference:C,setFloating:M}),[C,M]),N=A.useMemo(()=>({reference:_,floating:v}),[_,v]);return A.useMemo(()=>({...a,update:T,refs:I,elements:N,reference:C,floating:M}),[a,T,I,N,C,M])}var L3=typeof document<"u"?A.useLayoutEffect:A.useEffect;let hp=!1,GO=0;const $x=()=>"floating-ui-"+GO++;function WO(){const[e,t]=A.useState(()=>hp?$x():void 0);return L3(()=>{e==null&&t($x())},[]),A.useEffect(()=>{hp||(hp=!0)},[]),e}const UO=r2.useId,VO=UO||WO;function XO(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const KO=A.createContext(null),YO=()=>A.useContext(KO);function ZO(e){return(e==null?void 0:e.ownerDocument)||document}function D3(e){return ZO(e).defaultView||window}function _c(e){return e?e instanceof D3(e).Element:!1}function N3(e){return e?e instanceof D3(e).HTMLElement:!1}function Tx(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}const qO="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function QO(e){return N3(e)&&e.matches(qO)}function kx(e){return N3(e.target)&&e.target.tagName==="BUTTON"}function Mx(e){return QO(e)}const JO=function(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:a="click",toggle:u=!0,ignoreMouse:c=!1,keyboardHandlers:h=!0}=t,f=A.useRef();return A.useMemo(()=>s?{reference:{onPointerDown(p){f.current=p.pointerType},onMouseDown(p){p.button===0&&(Tx(f.current,!0)&&c||a!=="click"&&(n?u&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")&&r(!1):(p.preventDefault(),r(!0)),i.current.openEvent=p.nativeEvent))},onClick(p){if(a==="mousedown"&&f.current){f.current=void 0;return}Tx(f.current,!0)&&c||(n?u&&(!i.current.openEvent||i.current.openEvent.type==="click")&&r(!1):r(!0),i.current.openEvent=p.nativeEvent)},onKeyDown(p){f.current=void 0,h&&(kx(p)||(p.key===" "&&!Mx(o)&&p.preventDefault(),p.key==="Enter"&&(n?u&&r(!1):r(!0))))},onKeyUp(p){h&&(kx(p)||Mx(o)||p.key===" "&&(n?u&&r(!1):r(!0)))}}}:{},[s,i,a,c,h,o,u,n,r])},eR=r2.useInsertionEffect,tR=eR||(e=>e());function nR(e){const t=A.useRef(()=>{});return tR(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function rR(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=zO(e),o=YO(),s=A.useRef(null),a=A.useRef({}),u=A.useState(()=>XO())[0],c=VO(),[h,f]=A.useState(null),p=A.useCallback(v=>{const b=_c(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;i.refs.setReference(b)},[i.refs]),m=A.useCallback(v=>{(_c(v)||v===null)&&(s.current=v,f(v)),(_c(i.refs.reference.current)||i.refs.reference.current===null||v!==null&&!_c(v))&&i.refs.setReference(v)},[i.refs]),w=A.useMemo(()=>({...i.refs,setReference:m,setPositionReference:p,domReference:s}),[i.refs,m,p]),x=A.useMemo(()=>({...i.elements,domReference:h}),[i.elements,h]),_=nR(n),y=A.useMemo(()=>({...i,refs:w,elements:x,dataRef:a,nodeId:r,floatingId:c,events:u,open:t,onOpenChange:_}),[i,r,c,u,t,_,w,x]);return L3(()=>{const v=o==null?void 0:o.nodesRef.current.find(b=>b.id===r);v&&(v.context=y)}),A.useMemo(()=>({...i,context:y,refs:w,elements:x,reference:m,positionReference:p}),[i,w,x,y,m,p])}function dp(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,u]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var c;(c=r.get(a))==null||c.push(u),i[a]=function(){for(var h,f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return(h=r.get(a))==null?void 0:h.map(w=>w(...p)).find(w=>w!==void 0)}}}else i[a]=u}),i),{})}}const iR=function(e){e===void 0&&(e=[]);const t=e,n=A.useCallback(o=>dp(o,e,"reference"),t),r=A.useCallback(o=>dp(o,e,"floating"),t),i=A.useCallback(o=>dp(o,e,"item"),e.map(o=>o==null?void 0:o.item));return A.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},Px=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 12V17H12V12H17V11H12V6H11V11H6V12H11Z"})})),oR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M5 19L21 19"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 12 5)",strokeWidth:"3"}),S.jsx("path",{d:"M15.5 9L15.5 17",strokeWidth:"3"})]})),sR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M12 4L12 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"8",y1:"14.5",x2:"16",y2:"14.5",strokeWidth:"3"})]})),aR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[S.jsx("path",{d:"M4 4L4 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"6",y1:"14.5",x2:"14",y2:"14.5",strokeWidth:"3"})]})),lR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M20 4L20 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"10",y1:"14.5",x2:"18",y2:"14.5",strokeWidth:"3"})]})),uR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M3 5L19 5"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 10 7)",strokeWidth:"3"}),S.jsx("line",{x1:"13.5",y1:"7",x2:"13.5",y2:"15",strokeWidth:"3"})]})),cR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M4 12L20 12"}),S.jsx("line",{x1:"9.5",y1:"18",x2:"9.5",y2:"6",strokeWidth:"3"}),S.jsx("path",{d:"M14.5 16L14.5 8",strokeWidth:"3"})]})),hR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 10L12 15L17 10"})})),dR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 12L11 16L18 7"})})),fR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 7L17 17M7 17L17 7",stroke:"#333333"})})),B3=k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"3.08865",y:"7.49549",width:"1",height:"2.5",rx:"0.2",transform:"rotate(38.5717 3.08865 7.49549)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.781828 0.623494 0.623494 0.781828 12.6592 7.49549)",fill:"currentColor"}),S.jsx("rect",{x:"6.08005",y:"9.07446",width:"1",height:"2.5",rx:"0.2",transform:"rotate(21.1013 6.08005 9.07446)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.932945 0.360019 0.360019 0.932945 10 9.07446)",fill:"currentColor"}),S.jsx("path",{d:"M2 6.42055C2 6.42055 4 9.42055 8 9.42055C12 9.42055 14 6.42055 14 6.42055",stroke:"currentColor",strokeLinejoin:"round"})]})),pR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"5",y1:"5.5",x2:"15",y2:"5.5",stroke:"#333333"}),S.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"5",stroke:"#333333"}),S.jsx("line",{x1:"13.3947",y1:"5.30697",x2:"6.39468",y2:"14.307",stroke:"#333333"}),S.jsx("line",{x1:"7.35355",y1:"6.64645",x2:"12.3536",y2:"11.6464",stroke:"#333333"}),S.jsx("path",{d:"M11.5 18L15.5629 9.75718L19.5 18",stroke:"#333333",strokeLinejoin:"bevel"}),S.jsx("line",{x1:"13",y1:"14.2098",x2:"18",y2:"14.2098",stroke:"#333333"})]})),gR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"4",y1:"6.5",x2:"20",y2:"6.5"}),S.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16",strokeWidth:"4"}),S.jsx("line",{x1:"4",y1:"10.5",x2:"20",y2:"10.5",strokeWidth:"3"})]})),mR=k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M5.5 7.5V5.5C5.5 4.39543 6.39543 3.5 7.5 3.5C8.60457 3.5 9.5 4.39543 9.5 5.5V7.5",stroke:"currentColor"})]})),vR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8.0393 16.8461C7.11636 15.6636 5.60665 4.7907 5.60665 4.7907C5.60665 4.7907 15.7876 8.89536 16.7105 10.0778C17.6335 11.2602 15.9869 14.839 15.9869 14.839L18.2586 17.7494L15.1054 20.2106L12.8337 17.3002C12.8337 17.3002 8.96225 18.0285 8.0393 16.8461Z",stroke:"currentColor"}),S.jsx("path",{d:"M5.60666 4.7907L11.7596 12.6736",stroke:"currentColor"}),S.jsx("circle",{cx:"11.8572",cy:"12.7987",r:"1.25",transform:"rotate(-37.9736 11.8572 12.7987)",fill:"currentColor"})]})),yR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M17.6992 9.30076L8.7158 18.2842C8.66927 18.3307 8.61198 18.3651 8.54902 18.3842L5.3017 19.3687C4.99583 19.4615 4.71011 19.1757 4.80285 18.8699L5.78742 15.6226C5.80651 15.5596 5.84084 15.5023 5.88737 15.4558L14.8708 6.47233M17.6992 9.30076L19.8593 7.14071C20.0155 6.9845 20.0155 6.73123 19.8593 6.57502L17.5966 4.31228C17.4403 4.15607 17.1871 4.15607 17.0309 4.31228L14.8708 6.47233M17.6992 9.30076L14.8708 6.47233",stroke:"currentColor"})})),Ax=k.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"})})),Ix=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9.5 7.5L14.5 12.5L9.5 17.5"})}));const H3=k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8 5C4 5 2 8 2 8C2 8 4 11 8 11C12 11 14 8 14 8C14 8 12 5 8 5Z",stroke:"currentColor",strokeLinejoin:"round"}),S.jsx("circle",{cx:"8",cy:"8",r:"1.75",fill:"currentColor"})]})),xR=k.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10.8183 5.3029L8.1715 9.71417C8.09382 9.84364 7.90618 9.84364 7.8285 9.71417L5.18174 5.3029C5.10176 5.16959 5.19778 5 5.35324 5H10.6468C10.8022 5 10.8982 5.16959 10.8183 5.3029Z",fill:"currentColor"})})),wR=k.memo(()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",transform:"translate(0.25 0.25)  rotate(0 7.75 7.556366182551985)",d:"M5.00688 12.0551C4.91688 12.0551 4.84688 12.1051 4.84688 12.1651C4.84688 12.2451 4.91688 12.2951 5.01688 12.2851C5.11688 12.2851 5.18688 12.2351 5.18688 12.1651C5.18688 12.0951 5.10688 12.0451 5.00688 12.0551Z M4.34812 12.1793C4.42812 12.2093 4.51812 12.1793 4.53812 12.1193C4.55812 12.0593 4.49812 11.9893 4.40812 11.9593C4.32812 11.9393 4.23812 11.9693 4.20812 12.0293C4.18812 12.0893 4.25812 12.1593 4.34812 12.1793Z M5.44907 12.1237C5.45907 12.1937 5.53907 12.2337 5.63907 12.2137C5.72907 12.1837 5.78907 12.1237 5.77907 12.0637C5.76907 12.0037 5.68907 11.9637 5.58907 11.9737C5.49907 11.9937 5.43907 12.0537 5.44907 12.1237Z M7.65 0C3.32 0 0 3.29 0 7.63C0 11.09 2.18 14.06 5.3 15.1C5.7 15.17 5.84 14.93 5.84 14.72C5.84 14.53 5.83 13.46 5.83 12.8C5.83 12.8 3.64 13.27 3.18 11.87C3.18 11.87 2.83 10.96 2.31 10.73C2.31 10.73 1.6 10.24 2.36 10.25C2.36 10.25 3.14 10.31 3.57 11.05C4.25 12.26 5.4 11.91 5.85 11.71C5.92 11.21 6.12 10.86 6.35 10.65C4.6 10.46 2.84 10.21 2.84 7.2C2.84 6.34 3.08 5.91 3.58 5.36C3.49 5.16 3.23 4.32 3.66 3.24C4.31 3.03 5.81 4.08 5.81 4.08C6.44 3.91 7.11 3.82 7.78 3.82C8.44 3.82 9.11 3.91 9.74 4.08C9.74 4.08 11.24 3.03 11.89 3.24C12.32 4.32 12.06 5.16 11.98 5.36C12.48 5.91 12.78 6.34 12.78 7.2C12.78 10.22 10.94 10.46 9.19 10.65C9.48 10.9 9.73 11.37 9.73 12.1C9.73 13.16 9.72 14.46 9.72 14.72C9.72 14.92 9.86 15.17 10.26 15.09C13.38 14.06 15.5 11.09 15.5 7.63C15.5 3.29 11.98 0 7.65 0Z M3.06231 10.9369C3.11231 10.9869 3.18231 11.0169 3.22231 10.9669C3.26231 10.9369 3.25231 10.8669 3.20231 10.8069C3.15231 10.7569 3.08231 10.7369 3.04231 10.7769C2.99231 10.8069 3.00231 10.8769 3.06231 10.9369Z M2.77304 10.6435C2.82304 10.6735 2.88304 10.6735 2.90304 10.6235C2.93304 10.5835 2.89304 10.5335 2.83304 10.5035C2.77304 10.4835 2.72304 10.4935 2.70304 10.5235C2.68304 10.5635 2.71304 10.6135 2.77304 10.6435Z M3.75443 11.8362C3.82443 11.9062 3.91443 11.9162 3.95443 11.8662C3.99443 11.8262 3.97443 11.7262 3.91443 11.6662C3.84443 11.5962 3.75443 11.5862 3.71443 11.6362C3.66443 11.6762 3.68443 11.7762 3.75443 11.8362Z M3.35875 11.3601C3.40875 11.4301 3.48875 11.4701 3.52875 11.4301C3.57875 11.3901 3.57875 11.3101 3.52875 11.2401C3.48875 11.1701 3.40875 11.1401 3.35875 11.1801C3.30875 11.2101 3.30875 11.2901 3.35875 11.3601Z "})})),bR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"12",cy:"12",r:"7.5"})})),SR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V7H16V4H17V7H20V8H17L17 16H20V17H17V20H16V17H8V20H7V17H4V16H7V8H4V7H7V4H8ZM16 16L16 8H8V16H16Z",fill:"currentColor"})})),ER=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M18.7717 7.39806H17.7548C17.5361 7.39806 17.3568 7.56657 17.3568 7.7767V11.3197H16.6395V6.01456C16.6395 5.55479 16.248 5.18239 15.7647 5.18239H14.8943C14.6712 5.18239 14.4876 5.35506 14.4876 5.56935V11.3197H13.7703V4.89528C13.7703 4.67684 13.5844 4.5 13.3547 4.5H12.4078C11.9726 4.5 11.6205 4.83495 11.6205 5.24896V11.3176H10.9032V6.4785C10.9032 6.23301 10.4364 6.01456 10.1784 6.01456L9.53862 6.03329C9.10343 6.03329 8.75352 6.36824 8.75352 6.78017V15.7698L5.939 13.8495C5.53005 13.5915 4.97676 13.7309 4.75589 14.1491C4.75589 14.1491 4.58968 14.4695 4.53064 14.5756C4.47378 14.6817 4.50221 14.7816 4.56563 14.8523C4.6203 14.9126 7.42171 18.0333 8.34895 19.0527C8.61794 19.3481 9.12092 19.5 9.55393 19.5H18.085C18.8679 19.5 19.384 18.8967 19.384 18.154L19.4999 11.3197V8.09709C19.5065 7.71013 19.1784 7.39806 18.7717 7.39806Z"})})),CR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 5H5V13.6849L8.46807 9.78333L17.1983 18H18V5ZM5 18V15.1901L8.53193 11.2167L15.7392 18H5ZM4 4V19H19V4H4ZM16 9.5C16 10.3284 15.3284 11 14.5 11C13.6716 11 13 10.3284 13 9.5C13 8.67157 13.6716 8 14.5 8C15.3284 8 16 8.67157 16 9.5ZM17 9.5C17 10.8807 15.8807 12 14.5 12C13.1193 12 12 10.8807 12 9.5C12 8.11929 13.1193 7 14.5 7C15.8807 7 17 8.11929 17 9.5Z"})})),_R=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3915 5.35404L5.35308 19.354L4.64694 18.646L18.6853 4.64597L19.3915 5.35404Z"})})),$R=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 16H6V15H17V16Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 8H6V7H17V8Z"})]})),TR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 5L19.7942 18.5H4.20577L12 5Z",stroke:"currentColor",strokeWidth:"1"})})),kR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("rect",{x:"4.5",y:"4.5",width:"15",height:"15"})})),jx=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M14.0855 13.0738L13.9614 13.1256L13.8801 13.2327L9.24626 19.3343L5.72813 4.87748L19.1707 10.9487L14.0855 13.0738Z",stroke:"currentColor"})})),MR=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 4L13.7961 9.52786H19.6085L14.9062 12.9443L16.7023 18.4721L12 15.0557L7.29772 18.4721L9.09383 12.9443L4.39155 9.52786H10.2039L12 4Z",stroke:"currentColor"})})),PR=k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"11",y:"5",width:"1",height:"14"}),S.jsx("rect",{x:"5",y:"5",width:"13",height:"1"}),S.jsx("rect",{x:"5",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"17",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"8",y:"18",width:"7",height:"1"})]})),AR=k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7.5",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M9.5 7.5V5.5C9.5 4.39543 10.3954 3.5 11.5 3.5C12.6046 3.5 13.5 4.39543 13.5 5.5V7",stroke:"currentColor"})]}));var IR=function(e){return function(t,n){var r=A.useRef(!1);e(function(){return function(){r.current=!1}},[]),e(function(){if(!r.current)r.current=!0;else return t()},n)}},jR=function(e){return typeof e=="function"};const OR=IR(A.useEffect);function Ox(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function Km(e){var t=A.useRef(e);return t.current=e,t}var F3=function(e){var t=Km(e);A.useEffect(function(){return function(){t.current()}},[])};function RR(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rs=RR,LR=typeof qu=="object"&&qu&&qu.Object===Object&&qu,z3=LR,DR=z3,NR=typeof self=="object"&&self&&self.Object===Object&&self,BR=DR||NR||Function("return this")(),Ri=BR,HR=Ri,FR=function(){return HR.Date.now()},zR=FR,GR=/\s/;function WR(e){for(var t=e.length;t--&&GR.test(e.charAt(t)););return t}var UR=WR,VR=UR,XR=/^\s+/;function KR(e){return e&&e.slice(0,VR(e)+1).replace(XR,"")}var YR=KR,ZR=Ri,qR=ZR.Symbol,zu=qR,Rx=zu,G3=Object.prototype,QR=G3.hasOwnProperty,JR=G3.toString,Cl=Rx?Rx.toStringTag:void 0;function e9(e){var t=QR.call(e,Cl),n=e[Cl];try{e[Cl]=void 0;var r=!0}catch{}var i=JR.call(e);return r&&(t?e[Cl]=n:delete e[Cl]),i}var t9=e9,n9=Object.prototype,r9=n9.toString;function i9(e){return r9.call(e)}var o9=i9,Lx=zu,s9=t9,a9=o9,l9="[object Null]",u9="[object Undefined]",Dx=Lx?Lx.toStringTag:void 0;function c9(e){return e==null?e===void 0?u9:l9:Dx&&Dx in Object(e)?s9(e):a9(e)}var Fs=c9;function h9(e){return e!=null&&typeof e=="object"}var wo=h9,d9=Fs,f9=wo,p9="[object Symbol]";function g9(e){return typeof e=="symbol"||f9(e)&&d9(e)==p9}var ef=g9,m9=YR,Nx=rs,v9=ef,Bx=NaN,y9=/^[-+]0x[0-9a-f]+$/i,x9=/^0b[01]+$/i,w9=/^0o[0-7]+$/i,b9=parseInt;function S9(e){if(typeof e=="number")return e;if(v9(e))return Bx;if(Nx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=m9(e);var n=x9.test(e);return n||w9.test(e)?b9(e.slice(2),n?2:8):y9.test(e)?Bx:+e}var E9=S9,C9=rs,fp=zR,Hx=E9,_9="Expected a function",$9=Math.max,T9=Math.min;function k9(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(_9);t=Hx(t)||0,C9(n)&&(h=!!n.leading,f="maxWait"in n,o=f?$9(Hx(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?T9(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=fp();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(fp())}function M(){var T=fp(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return clearTimeout(a),a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}var M9=k9;const P9=pd(M9);var A9=!!(typeof window<"u"&&window.document&&window.document.createElement),W3=function(e){A.useEffect(function(){e==null||e()},[])};function tf(e,t){if(A9){if(!e)return t;var n;return jR(e)?n=e():"current"in e?n=e.current:n=e,n}}var I9=function(e){return e.every(function(t){var n=tf(t);if(!n)return!1;if(n.getRootNode()instanceof ShadowRoot)return!0})},j9=function(e){return e?e.getRootNode():document},O9=function(e){if(!e||!document.getRootNode)return document;var t=Array.isArray(e)?e:[e];return I9(t)?j9(tf(t[0])):document},R9=function(e){var t=function(n,r,i){var o=A.useRef(!1),s=A.useRef([]),a=A.useRef([]),u=A.useRef();e(function(){var c,h=Array.isArray(i)?i:[i],f=h.map(function(p){return tf(p)});if(!o.current){o.current=!0,s.current=f,a.current=r,u.current=n();return}(f.length!==s.current.length||!Ox(f,s.current)||!Ox(r,a.current))&&((c=u.current)===null||c===void 0||c.call(u),s.current=f,a.current=r,u.current=n())}),F3(function(){var c;(c=u.current)===null||c===void 0||c.call(u),o.current=!1})};return t},L9=R9(A.useEffect);function U3(e,t,n){n===void 0&&(n="click");var r=Km(e);L9(function(){var i=function(a){var u=Array.isArray(t)?t:[t];u.some(function(c){var h=tf(c);return!h||h.contains(a.target)})||r.current(a)},o=O9(t),s=Array.isArray(n)?n:[n];return s.forEach(function(a){return o.addEventListener(a,i)}),function(){s.forEach(function(a){return o.removeEventListener(a,i)})}},Array.isArray(n)?n:[n],t)}function D9(e,t){var n,r=Km(e),i=(n=t==null?void 0:t.wait)!==null&&n!==void 0?n:1e3,o=A.useMemo(function(){return P9(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.current.apply(r,Si([],lE(s),!1))},i,t)},[]);return F3(function(){o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}function N9(e,t,n){var r=lE(A.useState({}),2),i=r[0],o=r[1],s=D9(function(){o({})},n).run;A.useEffect(function(){return s()},t),OR(e,[i])}function B9(){this.__data__=[],this.size=0}var H9=B9;function F9(e,t){return e===t||e!==e&&t!==t}var Ym=F9,z9=Ym;function G9(e,t){for(var n=e.length;n--;)if(z9(e[n][0],t))return n;return-1}var nf=G9,W9=nf,U9=Array.prototype,V9=U9.splice;function X9(e){var t=this.__data__,n=W9(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():V9.call(t,n,1),--this.size,!0}var K9=X9,Y9=nf;function Z9(e){var t=this.__data__,n=Y9(t,e);return n<0?void 0:t[n][1]}var q9=Z9,Q9=nf;function J9(e){return Q9(this.__data__,e)>-1}var e7=J9,t7=nf;function n7(e,t){var n=this.__data__,r=t7(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var r7=n7,i7=H9,o7=K9,s7=q9,a7=e7,l7=r7;function il(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}il.prototype.clear=i7;il.prototype.delete=o7;il.prototype.get=s7;il.prototype.has=a7;il.prototype.set=l7;var rf=il,u7=rf;function c7(){this.__data__=new u7,this.size=0}var h7=c7;function d7(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var f7=d7;function p7(e){return this.__data__.get(e)}var g7=p7;function m7(e){return this.__data__.has(e)}var v7=m7,y7=Fs,x7=rs,w7="[object AsyncFunction]",b7="[object Function]",S7="[object GeneratorFunction]",E7="[object Proxy]";function C7(e){if(!x7(e))return!1;var t=y7(e);return t==b7||t==S7||t==w7||t==E7}var V3=C7,_7=Ri,$7=_7["__core-js_shared__"],T7=$7,pp=T7,Fx=function(){var e=/[^.]+$/.exec(pp&&pp.keys&&pp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function k7(e){return!!Fx&&Fx in e}var M7=k7,P7=Function.prototype,A7=P7.toString;function I7(e){if(e!=null){try{return A7.call(e)}catch{}try{return e+""}catch{}}return""}var X3=I7,j7=V3,O7=M7,R7=rs,L7=X3,D7=/[\\^$.*+?()[\]{}|]/g,N7=/^\[object .+?Constructor\]$/,B7=Function.prototype,H7=Object.prototype,F7=B7.toString,z7=H7.hasOwnProperty,G7=RegExp("^"+F7.call(z7).replace(D7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W7(e){if(!R7(e)||O7(e))return!1;var t=j7(e)?G7:N7;return t.test(L7(e))}var U7=W7;function V7(e,t){return e==null?void 0:e[t]}var X7=V7,K7=U7,Y7=X7;function Z7(e,t){var n=Y7(e,t);return K7(n)?n:void 0}var zs=Z7,q7=zs,Q7=Ri,J7=q7(Q7,"Map"),Zm=J7,eL=zs,tL=eL(Object,"create"),of=tL,zx=of;function nL(){this.__data__=zx?zx(null):{},this.size=0}var rL=nL;function iL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oL=iL,sL=of,aL="__lodash_hash_undefined__",lL=Object.prototype,uL=lL.hasOwnProperty;function cL(e){var t=this.__data__;if(sL){var n=t[e];return n===aL?void 0:n}return uL.call(t,e)?t[e]:void 0}var hL=cL,dL=of,fL=Object.prototype,pL=fL.hasOwnProperty;function gL(e){var t=this.__data__;return dL?t[e]!==void 0:pL.call(t,e)}var mL=gL,vL=of,yL="__lodash_hash_undefined__";function xL(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vL&&t===void 0?yL:t,this}var wL=xL,bL=rL,SL=oL,EL=hL,CL=mL,_L=wL;function ol(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ol.prototype.clear=bL;ol.prototype.delete=SL;ol.prototype.get=EL;ol.prototype.has=CL;ol.prototype.set=_L;var $L=ol,Gx=$L,TL=rf,kL=Zm;function ML(){this.size=0,this.__data__={hash:new Gx,map:new(kL||TL),string:new Gx}}var PL=ML;function AL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var IL=AL,jL=IL;function OL(e,t){var n=e.__data__;return jL(t)?n[typeof t=="string"?"string":"hash"]:n.map}var sf=OL,RL=sf;function LL(e){var t=RL(this,e).delete(e);return this.size-=t?1:0,t}var DL=LL,NL=sf;function BL(e){return NL(this,e).get(e)}var HL=BL,FL=sf;function zL(e){return FL(this,e).has(e)}var GL=zL,WL=sf;function UL(e,t){var n=WL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var VL=UL,XL=PL,KL=DL,YL=HL,ZL=GL,qL=VL;function sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sl.prototype.clear=XL;sl.prototype.delete=KL;sl.prototype.get=YL;sl.prototype.has=ZL;sl.prototype.set=qL;var qm=sl,QL=rf,JL=Zm,eD=qm,tD=200;function nD(e,t){var n=this.__data__;if(n instanceof QL){var r=n.__data__;if(!JL||r.length<tD-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new eD(r)}return n.set(e,t),this.size=n.size,this}var rD=nD,iD=rf,oD=h7,sD=f7,aD=g7,lD=v7,uD=rD;function al(e){var t=this.__data__=new iD(e);this.size=t.size}al.prototype.clear=oD;al.prototype.delete=sD;al.prototype.get=aD;al.prototype.has=lD;al.prototype.set=uD;var Qm=al,cD="__lodash_hash_undefined__";function hD(e){return this.__data__.set(e,cD),this}var dD=hD;function fD(e){return this.__data__.has(e)}var pD=fD,gD=qm,mD=dD,vD=pD;function Xh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gD;++t<n;)this.add(e[t])}Xh.prototype.add=Xh.prototype.push=mD;Xh.prototype.has=vD;var yD=Xh;function xD(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var wD=xD;function bD(e,t){return e.has(t)}var SD=bD,ED=yD,CD=wD,_D=SD,$D=1,TD=2;function kD(e,t,n,r,i,o){var s=n&$D,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var f=-1,p=!0,m=n&TD?new ED:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var w=e[f],x=t[f];if(r)var _=s?r(x,w,f,t,e,o):r(w,x,f,e,t,o);if(_!==void 0){if(_)continue;p=!1;break}if(m){if(!CD(t,function(y,v){if(!_D(m,v)&&(w===y||i(w,y,n,r,o)))return m.push(v)})){p=!1;break}}else if(!(w===x||i(w,x,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var K3=kD,MD=Ri,PD=MD.Uint8Array,Y3=PD;function AD(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var ID=AD;function jD(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var OD=jD,Wx=zu,Ux=Y3,RD=Ym,LD=K3,DD=ID,ND=OD,BD=1,HD=2,FD="[object Boolean]",zD="[object Date]",GD="[object Error]",WD="[object Map]",UD="[object Number]",VD="[object RegExp]",XD="[object Set]",KD="[object String]",YD="[object Symbol]",ZD="[object ArrayBuffer]",qD="[object DataView]",Vx=Wx?Wx.prototype:void 0,gp=Vx?Vx.valueOf:void 0;function QD(e,t,n,r,i,o,s){switch(n){case qD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZD:return!(e.byteLength!=t.byteLength||!o(new Ux(e),new Ux(t)));case FD:case zD:case UD:return RD(+e,+t);case GD:return e.name==t.name&&e.message==t.message;case VD:case KD:return e==t+"";case WD:var a=DD;case XD:var u=r&BD;if(a||(a=ND),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=HD,s.set(e,t);var h=LD(a(e),a(t),r,i,o,s);return s.delete(e),h;case YD:if(gp)return gp.call(e)==gp.call(t)}return!1}var JD=QD;function eN(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Z3=eN,tN=Array.isArray,Li=tN,nN=Z3,rN=Li;function iN(e,t,n){var r=t(e);return rN(e)?r:nN(r,n(e))}var q3=iN;function oN(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var sN=oN;function aN(){return[]}var Q3=aN,lN=sN,uN=Q3,cN=Object.prototype,hN=cN.propertyIsEnumerable,Xx=Object.getOwnPropertySymbols,dN=Xx?function(e){return e==null?[]:(e=Object(e),lN(Xx(e),function(t){return hN.call(e,t)}))}:uN,Jm=dN;function fN(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var pN=fN,gN=Fs,mN=wo,vN="[object Arguments]";function yN(e){return mN(e)&&gN(e)==vN}var xN=yN,Kx=xN,wN=wo,J3=Object.prototype,bN=J3.hasOwnProperty,SN=J3.propertyIsEnumerable,EN=Kx(function(){return arguments}())?Kx:function(e){return wN(e)&&bN.call(e,"callee")&&!SN.call(e,"callee")},e_=EN,Kh={exports:{}};function CN(){return!1}var _N=CN;Kh.exports;(function(e,t){var n=Ri,r=_N,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,c=u||r;e.exports=c})(Kh,Kh.exports);var ev=Kh.exports,$N=9007199254740991,TN=/^(?:0|[1-9]\d*)$/;function kN(e,t){var n=typeof e;return t=t??$N,!!t&&(n=="number"||n!="symbol"&&TN.test(e))&&e>-1&&e%1==0&&e<t}var t_=kN,MN=9007199254740991;function PN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MN}var tv=PN,AN=Fs,IN=tv,jN=wo,ON="[object Arguments]",RN="[object Array]",LN="[object Boolean]",DN="[object Date]",NN="[object Error]",BN="[object Function]",HN="[object Map]",FN="[object Number]",zN="[object Object]",GN="[object RegExp]",WN="[object Set]",UN="[object String]",VN="[object WeakMap]",XN="[object ArrayBuffer]",KN="[object DataView]",YN="[object Float32Array]",ZN="[object Float64Array]",qN="[object Int8Array]",QN="[object Int16Array]",JN="[object Int32Array]",eB="[object Uint8Array]",tB="[object Uint8ClampedArray]",nB="[object Uint16Array]",rB="[object Uint32Array]",Ue={};Ue[YN]=Ue[ZN]=Ue[qN]=Ue[QN]=Ue[JN]=Ue[eB]=Ue[tB]=Ue[nB]=Ue[rB]=!0;Ue[ON]=Ue[RN]=Ue[XN]=Ue[LN]=Ue[KN]=Ue[DN]=Ue[NN]=Ue[BN]=Ue[HN]=Ue[FN]=Ue[zN]=Ue[GN]=Ue[WN]=Ue[UN]=Ue[VN]=!1;function iB(e){return jN(e)&&IN(e.length)&&!!Ue[AN(e)]}var oB=iB;function sB(e){return function(t){return e(t)}}var nv=sB,Yh={exports:{}};Yh.exports;(function(e,t){var n=z3,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(Yh,Yh.exports);var rv=Yh.exports,aB=oB,lB=nv,Yx=rv,Zx=Yx&&Yx.isTypedArray,uB=Zx?lB(Zx):aB,n_=uB,cB=pN,hB=e_,dB=Li,fB=ev,pB=t_,gB=n_,mB=Object.prototype,vB=mB.hasOwnProperty;function yB(e,t){var n=dB(e),r=!n&&hB(e),i=!n&&!r&&fB(e),o=!n&&!r&&!i&&gB(e),s=n||r||i||o,a=s?cB(e.length,String):[],u=a.length;for(var c in e)(t||vB.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pB(c,u)))&&a.push(c);return a}var r_=yB,xB=Object.prototype;function wB(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||xB;return e===n}var iv=wB;function bB(e,t){return function(n){return e(t(n))}}var i_=bB,SB=i_,EB=SB(Object.keys,Object),CB=EB,_B=iv,$B=CB,TB=Object.prototype,kB=TB.hasOwnProperty;function MB(e){if(!_B(e))return $B(e);var t=[];for(var n in Object(e))kB.call(e,n)&&n!="constructor"&&t.push(n);return t}var PB=MB,AB=V3,IB=tv;function jB(e){return e!=null&&IB(e.length)&&!AB(e)}var af=jB,OB=r_,RB=PB,LB=af;function DB(e){return LB(e)?OB(e):RB(e)}var Gu=DB,NB=q3,BB=Jm,HB=Gu;function FB(e){return NB(e,HB,BB)}var o_=FB,qx=o_,zB=1,GB=Object.prototype,WB=GB.hasOwnProperty;function UB(e,t,n,r,i,o){var s=n&zB,a=qx(e),u=a.length,c=qx(t),h=c.length;if(u!=h&&!s)return!1;for(var f=u;f--;){var p=a[f];if(!(s?p in t:WB.call(t,p)))return!1}var m=o.get(e),w=o.get(t);if(m&&w)return m==t&&w==e;var x=!0;o.set(e,t),o.set(t,e);for(var _=s;++f<u;){p=a[f];var y=e[p],v=t[p];if(r)var b=s?r(v,y,p,t,e,o):r(y,v,p,e,t,o);if(!(b===void 0?y===v||i(y,v,n,r,o):b)){x=!1;break}_||(_=p=="constructor")}if(x&&!_){var C=e.constructor,M=t.constructor;C!=M&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(x=!1)}return o.delete(e),o.delete(t),x}var VB=UB,XB=zs,KB=Ri,YB=XB(KB,"DataView"),ZB=YB,qB=zs,QB=Ri,JB=qB(QB,"Promise"),eH=JB,tH=zs,nH=Ri,rH=tH(nH,"Set"),iH=rH,oH=zs,sH=Ri,aH=oH(sH,"WeakMap"),lH=aH,e0=ZB,t0=Zm,n0=eH,r0=iH,i0=lH,s_=Fs,ll=X3,Qx="[object Map]",uH="[object Object]",Jx="[object Promise]",ew="[object Set]",tw="[object WeakMap]",nw="[object DataView]",cH=ll(e0),hH=ll(t0),dH=ll(n0),fH=ll(r0),pH=ll(i0),cs=s_;(e0&&cs(new e0(new ArrayBuffer(1)))!=nw||t0&&cs(new t0)!=Qx||n0&&cs(n0.resolve())!=Jx||r0&&cs(new r0)!=ew||i0&&cs(new i0)!=tw)&&(cs=function(e){var t=s_(e),n=t==uH?e.constructor:void 0,r=n?ll(n):"";if(r)switch(r){case cH:return nw;case hH:return Qx;case dH:return Jx;case fH:return ew;case pH:return tw}return t});var lf=cs,mp=Qm,gH=K3,mH=JD,vH=VB,rw=lf,iw=Li,ow=ev,yH=n_,xH=1,sw="[object Arguments]",aw="[object Array]",$c="[object Object]",wH=Object.prototype,lw=wH.hasOwnProperty;function bH(e,t,n,r,i,o){var s=iw(e),a=iw(t),u=s?aw:rw(e),c=a?aw:rw(t);u=u==sw?$c:u,c=c==sw?$c:c;var h=u==$c,f=c==$c,p=u==c;if(p&&ow(e)){if(!ow(t))return!1;s=!0,h=!1}if(p&&!h)return o||(o=new mp),s||yH(e)?gH(e,t,n,r,i,o):mH(e,t,u,n,r,i,o);if(!(n&xH)){var m=h&&lw.call(e,"__wrapped__"),w=f&&lw.call(t,"__wrapped__");if(m||w){var x=m?e.value():e,_=w?t.value():t;return o||(o=new mp),i(x,_,n,r,o)}}return p?(o||(o=new mp),vH(e,t,n,r,i,o)):!1}var SH=bH,EH=SH,uw=wo;function a_(e,t,n,r,i){return e===t?!0:e==null||t==null||!uw(e)&&!uw(t)?e!==e&&t!==t:EH(e,t,n,r,a_,i)}var l_=a_;const Zh=new cP,CH=()=>{const[e,t]=A.useState(!1),{x:n,y:r,strategy:i,refs:o,context:s}=rR({open:e,onOpenChange:t,placement:"bottom-end",middleware:[LO(12)],whileElementsMounted:HO}),a=JO(s),{getReferenceProps:u,getFloatingProps:c}=iR([a]);return U3(()=>{t(!1)},[o.domReference,o.floating],"mousedown"),S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:o.setReference,...u(),className:go("locale-selector",{active:e}),children:S.jsx(pR,{})}),e&&S.jsxs("div",{ref:o.setFloating,className:"locale-selector-popover",style:{position:i,top:r??0,left:n??0,zIndex:60},...c(),children:[S.jsx("div",{className:"locale-selector-popover-item",onClick:()=>{const h="en";localStorage.setItem("suika-locale",h),Zh.emit("localeChange",h),t(!1)},children:"English"}),S.jsx("div",{className:"locale-selector-popover-item",onClick:()=>{const h="zh";localStorage.setItem("suika-locale",h),Zh.emit("localeChange",h),t(!1)},children:"简体中文"})]})]})},Tc=({onClick:e,children:t,suffix:n,check:r})=>S.jsxs("div",{className:"suika-action-item-wrap",onClick:e,children:[S.jsxs("div",{className:"suika-action-item",children:[S.jsx("div",{className:"suika-icon-box",children:r&&S.jsx(dR,{})}),t]}),n&&S.jsx("span",{children:n})]}),_H=({defaultValue:e,onChange:t})=>{const n=A.useRef(null),[r,i]=A.useState(e?`${String(Math.round(e*100))}%`:""),o=e&&Math.round(e*100);W3(()=>{n.current&&n.current.select()});const s=()=>{const a=parseInt(r);!Number.isNaN(a)&&o!==a&&t&&t(ym(a/100))};return S.jsx("input",{ref:n,value:r,className:"suika-zoom-input",onInput:a=>{const u=a.target.value.replace(/\s/g,"");i(u)},onKeyDown:a=>{a.key==="Enter"&&!a.nativeEvent.isComposing&&s()},onBlur:()=>s()})},$H=()=>{const e=A.useContext(yr),[t,n]=A.useState(1),[r,i]=A.useState({}),[o,s]=A.useState(!1),a=A.useRef(null);return U3(()=>{s(!1)},a),A.useEffect(()=>{if(e){n(e.zoomManager.getZoom()),i(e.setting.getAttrs());const u=c=>{n(c)};return e.zoomManager.on("zoomChange",u),e.setting.on("update",c=>{i(c)}),()=>{e.zoomManager.off("zoomChange",u)}}},[e]),S.jsxs("div",{ref:a,className:"zoom-actions",children:[S.jsxs("div",{className:go(["value",{active:o}]),onClick:()=>{s(!o)},children:[Math.round(t*100),"%",S.jsx(hR,{})]}),o&&S.jsxs("div",{className:"popover",children:[S.jsx("div",{className:"zoom-input-box",children:S.jsx(_H,{defaultValue:t,onChange:u=>{e==null||e.zoomManager.setZoomAndUpdateViewport(u),e==null||e.render()}})}),S.jsx("div",{className:"separator"}),[{id:"zoom.zoomIn",suffix:gt()?"Ctrl++":"⌘+",action:()=>{e==null||e.zoomManager.zoomIn({isLevelZoom:!0})}},{id:"zoom.zoomOut",suffix:gt()?"Ctrl+-":"⌘-",action:()=>{e==null||e.zoomManager.zoomOut({isLevelZoom:!0})}},{id:"zoom.zoomToFit",suffix:gt()?"Shift+1":"⇧1",action:()=>{e==null||e.zoomManager.zoomToFit()}},{id:"zoom.zoomToSelection",suffix:gt()?"Shift+2":"⇧2",action:()=>{e==null||e.zoomManager.zoomToSelection()}},{id:"zoom.zoomTo50",action:()=>{e==null||e.zoomManager.setZoomAndUpdateViewport(.5)}},{id:"zoom.zoomTo100",suffix:gt()?"Ctrl+0":"⌘0",action:()=>{e==null||e.zoomManager.setZoomAndUpdateViewport(1)}},{id:"zoom.zoomTo200",action:()=>{e==null||e.zoomManager.setZoomAndUpdateViewport(2)}}].map(u=>S.jsx(Tc,{suffix:u.suffix,onClick:()=>{u.action(),e==null||e.render(),s(!1)},children:S.jsx(lt,{id:u.id})},u.id)),S.jsx("div",{className:"separator"}),S.jsx(Tc,{check:r.enablePixelGrid,suffix:gt()?"Ctrl+'":"⌘'",onClick:()=>{if(e){const u=e.setting.get("enablePixelGrid");e.setting.set("enablePixelGrid",!u),e.render(),s(!1)}},children:S.jsx(lt,{id:"setting.grid.pixelGrid"})}),S.jsx(Tc,{check:r.snapToGrid,suffix:gt()?"Ctrl+Shift+'":"⌘⇧'",onClick:()=>{if(e){const u=e.setting.get("snapToGrid");e.setting.set("snapToGrid",!u),e.render(),s(!1)}},children:S.jsx(lt,{id:"setting.grid.snapToPixelGrid"})}),S.jsx(Tc,{check:r.enableRuler,suffix:gt()?"Shift+R":"⇧R",onClick:()=>{if(e){const u=e.setting.get("enableRuler");e.setting.set("enableRuler",!u),e.render(),s(!1)}},children:S.jsx(lt,{id:"setting.rulers"})})]})]})},TH=({value:e})=>S.jsxs("div",{className:"suika-header-title",children:[S.jsx(wR,{}),S.jsx("a",{href:"https://github.com/F-star/suika",target:"_blank",children:e})]}),kH=({style:e,children:t,onClick:n})=>S.jsx("button",{className:"sk-btn",style:e,onClick:()=>n(),children:t});var MH=Object.defineProperty,PH=(e,t,n)=>t in e?MH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AH=(e,t,n)=>(PH(e,typeof t!="symbol"?t+"":t,n),n);const IH=[];for(let e=0;e<256;++e)IH.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);class jH{constructor(){AH(this,"eventMap",{})}on(t,n){return this.eventMap[t]||(this.eventMap[t]=[]),this.eventMap[t].push(n),this}emit(t,...n){const r=this.eventMap[t];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(t,n){return this.eventMap[t]&&(this.eventMap[t]=this.eventMap[t].filter(r=>r!==n)),this}}var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qh={exports:{}};qh.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",m="[object Number]",w="[object Object]",x="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",C="[object WeakMap]",M="[object ArrayBuffer]",T="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",H="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",se=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,L=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,R={};R[o]=R[s]=R[M]=R[T]=R[a]=R[u]=R[P]=R[I]=R[N]=R[j]=R[D]=R[p]=R[m]=R[w]=R[_]=R[y]=R[v]=R[b]=R[H]=R[V]=R[G]=R[q]=!0,R[c]=R[h]=R[C]=!1;var le=typeof et=="object"&&et&&et.Object===Object&&et,he=typeof self=="object"&&self&&self.Object===Object&&self,ne=le||he||Function("return this")(),Be=t&&!t.nodeType&&t,X=Be&&!0&&e&&!e.nodeType&&e,pt=X&&X.exports===Be;function hn(l,d){return l.set(d[0],d[1]),l}function Se(l,d){return l.add(d),l}function $n(l,d){for(var g=-1,E=l?l.length:0;++g<E&&d(l[g],g,l)!==!1;);return l}function Tn(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Bt(l,d,g,E){var B=-1,O=l?l.length:0;for(E&&O&&(g=l[++B]);++B<O;)g=d(g,l[B],B,l);return g}function Ht(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function kn(l,d){return l==null?void 0:l[d]}function Ft(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function Mn(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function zt(l,d){return function(g){return l(d(g))}}function Pn(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var Pr=Array.prototype,Ar=Function.prototype,wt=Object.prototype,Gt=ne["__core-js_shared__"],An=function(){var l=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),In=Ar.toString,Me=wt.hasOwnProperty,bt=wt.toString,Ir=RegExp("^"+In.call(Me).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=pt?ne.Buffer:void 0,St=ne.Symbol,Wt=ne.Uint8Array,we=zt(Object.getPrototypeOf,Object),jn=Object.create,On=wt.propertyIsEnumerable,jr=Pr.splice,Ut=Object.getOwnPropertySymbols,Et=tt?tt.isBuffer:void 0,Rn=zt(Object.keys,Object),Ct=Ce(ne,"DataView"),nt=Ce(ne,"Map"),Ee=Ce(ne,"Promise"),_t=Ce(ne,"Set"),Vt=Ce(ne,"WeakMap"),rt=Ce(Object,"create"),Xt=ge(Ct),it=ge(nt),Kt=ge(Ee),Yt=ge(_t),Zt=ge(Vt),He=St?St.prototype:void 0,Ln=He?He.valueOf:void 0;function je(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Or(){this.__data__=rt?rt(null):{}}function Rr(l){return this.has(l)&&delete this.__data__[l]}function Lr(l){var d=this.__data__;if(rt){var g=d[l];return g===r?void 0:g}return Me.call(d,l)?d[l]:void 0}function Dn(l){var d=this.__data__;return rt?d[l]!==void 0:Me.call(d,l)}function qt(l,d){var g=this.__data__;return g[l]=rt&&d===void 0?r:d,this}je.prototype.clear=Or,je.prototype.delete=Rr,je.prototype.get=Lr,je.prototype.has=Dn,je.prototype.set=qt;function ue(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=[]}function Nr(l){var d=this.__data__,g=Tt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():jr.call(d,g,1),!0}function Br(l){var d=this.__data__,g=Tt(d,l);return g<0?void 0:d[g][1]}function Hr(l){return Tt(this.__data__,l)>-1}function Fr(l,d){var g=this.__data__,E=Tt(g,l);return E<0?g.push([l,d]):g[E][1]=d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__={hash:new je,map:new(nt||ue),string:new je}}function Gr(l){return st(this,l).delete(l)}function Wr(l){return st(this,l).get(l)}function Ur(l){return st(this,l).has(l)}function Vr(l,d){return st(this,l).set(l,d),this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){this.__data__=new ue(l)}function Xr(){this.__data__=new ue}function Kr(l){return this.__data__.delete(l)}function Yr(l){return this.__data__.get(l)}function Zr(l){return this.__data__.has(l)}function qr(l,d){var g=this.__data__;if(g instanceof ue){var E=g.__data__;if(!nt||E.length<n-1)return E.push([l,d]),this;g=this.__data__=new de(E)}return g.set(l,d),this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l,d){var g=tn(l)||Mt(l)?Ht(l.length,String):[],E=g.length,B=!!E;for(var O in l)(d||Me.call(l,O))&&!(B&&(O=="length"||hi(O,E)))&&g.push(O);return g}function Nn(l,d,g){var E=l[d];(!(Me.call(l,d)&&Gn(E,g))||g===void 0&&!(d in l))&&(l[d]=g)}function Tt(l,d){for(var g=l.length;g--;)if(Gn(l[g][0],d))return g;return-1}function Pe(l,d){return l&&en(d,rn(d),l)}function Qt(l,d,g,E,B,O,F){var z;if(E&&(z=O?E(l,B,O,F):E(l)),z!==void 0)return z;if(!Ie(l))return l;var re=tn(l);if(re){if(z=ui(l),!d)return si(l,z)}else{var U=Re(l),fe=U==h||U==f;if(Wn(l))return kt(l,d);if(U==w||U==o||fe&&!O){if(Ft(l))return O?l:{};if(z=Ae(fe?{}:l),!d)return ai(l,Pe(z,l))}else{if(!R[U])return O?l:{};z=ci(l,U,Qt,d)}}F||(F=new ve);var ye=F.get(l);if(ye)return ye;if(F.set(l,z),!re)var ae=g?li(l):rn(l);return $n(ae||l,function(pe,ce){ae&&(ce=pe,pe=l[ce]),Nn(z,ce,Qt(pe,d,g,E,ce,l,F))}),z}function Qr(l){return Ie(l)?jn(l):{}}function Jr(l,d,g){var E=d(l);return tn(l)?E:Tn(E,g(l))}function ei(l){return bt.call(l)}function ti(l){if(!Ie(l)||fi(l))return!1;var d=nn(l)||Ft(l)?Ir:L;return d.test(ge(l))}function ni(l){if(!Fn(l))return Rn(l);var d=[];for(var g in Object(l))Me.call(l,g)&&g!="constructor"&&d.push(g);return d}function kt(l,d){if(d)return l.slice();var g=new l.constructor(l.length);return l.copy(g),g}function Jt(l){var d=new l.constructor(l.byteLength);return new Wt(d).set(new Wt(l)),d}function ot(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function Bn(l,d,g){var E=d?g(Mn(l),!0):Mn(l);return Bt(E,hn,new l.constructor)}function Hn(l){var d=new l.constructor(l.source,Z.exec(l));return d.lastIndex=l.lastIndex,d}function ri(l,d,g){var E=d?g(Pn(l),!0):Pn(l);return Bt(E,Se,new l.constructor)}function ii(l){return Ln?Object(Ln.call(l)):{}}function oi(l,d){var g=d?Jt(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function si(l,d){var g=-1,E=l.length;for(d||(d=Array(E));++g<E;)d[g]=l[g];return d}function en(l,d,g,E){g||(g={});for(var B=-1,O=d.length;++B<O;){var F=d[B],z=E?E(g[F],l[F],F,g,l):void 0;Nn(g,F,z===void 0?l[F]:z)}return g}function ai(l,d){return en(l,Oe(l),d)}function li(l){return Jr(l,rn,Oe)}function st(l,d){var g=l.__data__;return di(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Ce(l,d){var g=kn(l,d);return ti(g)?g:void 0}var Oe=Ut?zt(Ut,Object):gi,Re=ei;(Ct&&Re(new Ct(new ArrayBuffer(1)))!=T||nt&&Re(new nt)!=p||Ee&&Re(Ee.resolve())!=x||_t&&Re(new _t)!=y||Vt&&Re(new Vt)!=C)&&(Re=function(l){var d=bt.call(l),g=d==w?l.constructor:void 0,E=g?ge(g):void 0;if(E)switch(E){case Xt:return T;case it:return p;case Kt:return x;case Yt:return y;case Zt:return C}return d});function ui(l){var d=l.length,g=l.constructor(d);return d&&typeof l[0]=="string"&&Me.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function Ae(l){return typeof l.constructor=="function"&&!Fn(l)?Qr(we(l)):{}}function ci(l,d,g,E){var B=l.constructor;switch(d){case M:return Jt(l);case a:case u:return new B(+l);case T:return ot(l,E);case P:case I:case N:case j:case D:case H:case V:case G:case q:return oi(l,E);case p:return Bn(l,E,g);case m:case v:return new B(l);case _:return Hn(l);case y:return ri(l,E,g);case b:return ii(l)}}function hi(l,d){return d=d??i,!!d&&(typeof l=="number"||K.test(l))&&l>-1&&l%1==0&&l<d}function di(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function fi(l){return!!An&&An in l}function Fn(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||wt;return l===g}function ge(l){if(l!=null){try{return In.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l){return Qt(l,!0,!0)}function Gn(l,d){return l===d||l!==l&&d!==d}function Mt(l){return pi(l)&&Me.call(l,"callee")&&(!On.call(l,"callee")||bt.call(l)==o)}var tn=Array.isArray;function Pt(l){return l!=null&&Un(l.length)&&!nn(l)}function pi(l){return Vn(l)&&Pt(l)}var Wn=Et||mi;function nn(l){var d=Ie(l)?bt.call(l):"";return d==h||d==f}function Un(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=i}function Ie(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function Vn(l){return!!l&&typeof l=="object"}function rn(l){return Pt(l)?$t(l):ni(l)}function gi(){return[]}function mi(){return!1}e.exports=zn})(qh,qh.exports);qh.exports;var OH=typeof et=="object"&&et&&et.Object===Object&&et,RH=typeof self=="object"&&self&&self.Object===Object&&self;OH||RH||Function("return this")();var Qh={exports:{}};Qh.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",w="[object GeneratorFunction]",x="[object Map]",_="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",C="[object Proxy]",M="[object RegExp]",T="[object Set]",P="[object String]",I="[object Symbol]",N="[object Undefined]",j="[object WeakMap]",D="[object ArrayBuffer]",H="[object DataView]",V="[object Float32Array]",G="[object Float64Array]",q="[object Int8Array]",se="[object Int16Array]",Z="[object Int32Array]",L="[object Uint8Array]",K="[object Uint8ClampedArray]",R="[object Uint16Array]",le="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,X={};X[V]=X[G]=X[q]=X[se]=X[Z]=X[L]=X[K]=X[R]=X[le]=!0,X[a]=X[u]=X[D]=X[h]=X[H]=X[f]=X[p]=X[m]=X[x]=X[_]=X[v]=X[M]=X[T]=X[P]=X[j]=!1;var pt=typeof et=="object"&&et&&et.Object===Object&&et,hn=typeof self=="object"&&self&&self.Object===Object&&self,Se=pt||hn||Function("return this")(),$n=t&&!t.nodeType&&t,Tn=$n&&!0&&e&&!e.nodeType&&e,Bt=Tn&&Tn.exports===$n,Ht=Bt&&pt.process,kn=function(){try{return Ht&&Ht.binding&&Ht.binding("util")}catch{}}(),Ft=kn&&kn.isTypedArray;function Mn(l,d){for(var g=-1,E=l==null?0:l.length,B=0,O=[];++g<E;){var F=l[g];d(F,g,l)&&(O[B++]=F)}return O}function zt(l,d){for(var g=-1,E=d.length,B=l.length;++g<E;)l[B+g]=d[g];return l}function Pn(l,d){for(var g=-1,E=l==null?0:l.length;++g<E;)if(d(l[g],g,l))return!0;return!1}function Pr(l,d){for(var g=-1,E=Array(l);++g<l;)E[g]=d(g);return E}function Ar(l){return function(d){return l(d)}}function wt(l,d){return l.has(d)}function Gt(l,d){return l==null?void 0:l[d]}function An(l){var d=-1,g=Array(l.size);return l.forEach(function(E,B){g[++d]=[B,E]}),g}function In(l,d){return function(g){return l(d(g))}}function Me(l){var d=-1,g=Array(l.size);return l.forEach(function(E){g[++d]=E}),g}var bt=Array.prototype,Ir=Function.prototype,tt=Object.prototype,St=Se["__core-js_shared__"],Wt=Ir.toString,we=tt.hasOwnProperty,jn=function(){var l=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),On=tt.toString,jr=RegExp("^"+Wt.call(we).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Bt?Se.Buffer:void 0,Et=Se.Symbol,Rn=Se.Uint8Array,Ct=tt.propertyIsEnumerable,nt=bt.splice,Ee=Et?Et.toStringTag:void 0,_t=Object.getOwnPropertySymbols,Vt=Ut?Ut.isBuffer:void 0,rt=In(Object.keys,Object),Xt=Oe(Se,"DataView"),it=Oe(Se,"Map"),Kt=Oe(Se,"Promise"),Yt=Oe(Se,"Set"),Zt=Oe(Se,"WeakMap"),He=Oe(Object,"create"),Ln=ge(Xt),je=ge(it),Or=ge(Kt),Rr=ge(Yt),Lr=ge(Zt),Dn=Et?Et.prototype:void 0,qt=Dn?Dn.valueOf:void 0;function ue(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Dr(){this.__data__=He?He(null):{},this.size=0}function Nr(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function Br(l){var d=this.__data__;if(He){var g=d[l];return g===r?void 0:g}return we.call(d,l)?d[l]:void 0}function Hr(l){var d=this.__data__;return He?d[l]!==void 0:we.call(d,l)}function Fr(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=He&&d===void 0?r:d,this}ue.prototype.clear=Dr,ue.prototype.delete=Nr,ue.prototype.get=Br,ue.prototype.has=Hr,ue.prototype.set=Fr;function de(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function zr(){this.__data__=[],this.size=0}function Gr(l){var d=this.__data__,g=kt(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():nt.call(d,g,1),--this.size,!0}function Wr(l){var d=this.__data__,g=kt(d,l);return g<0?void 0:d[g][1]}function Ur(l){return kt(this.__data__,l)>-1}function Vr(l,d){var g=this.__data__,E=kt(g,l);return E<0?(++this.size,g.push([l,d])):g[E][1]=d,this}de.prototype.clear=zr,de.prototype.delete=Gr,de.prototype.get=Wr,de.prototype.has=Ur,de.prototype.set=Vr;function ve(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function Xr(){this.size=0,this.__data__={hash:new ue,map:new(it||de),string:new ue}}function Kr(l){var d=Ce(this,l).delete(l);return this.size-=d?1:0,d}function Yr(l){return Ce(this,l).get(l)}function Zr(l){return Ce(this,l).has(l)}function qr(l,d){var g=Ce(this,l),E=g.size;return g.set(l,d),this.size+=g.size==E?0:1,this}ve.prototype.clear=Xr,ve.prototype.delete=Kr,ve.prototype.get=Yr,ve.prototype.has=Zr,ve.prototype.set=qr;function $t(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new ve;++d<g;)this.add(l[d])}function Nn(l){return this.__data__.set(l,r),this}function Tt(l){return this.__data__.has(l)}$t.prototype.add=$t.prototype.push=Nn,$t.prototype.has=Tt;function Pe(l){var d=this.__data__=new de(l);this.size=d.size}function Qt(){this.__data__=new de,this.size=0}function Qr(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function Jr(l){return this.__data__.get(l)}function ei(l){return this.__data__.has(l)}function ti(l,d){var g=this.__data__;if(g instanceof de){var E=g.__data__;if(!it||E.length<n-1)return E.push([l,d]),this.size=++g.size,this;g=this.__data__=new ve(E)}return g.set(l,d),this.size=g.size,this}Pe.prototype.clear=Qt,Pe.prototype.delete=Qr,Pe.prototype.get=Jr,Pe.prototype.has=ei,Pe.prototype.set=ti;function ni(l,d){var g=Mt(l),E=!g&&Gn(l),B=!g&&!E&&Pt(l),O=!g&&!E&&!B&&Vn(l),F=g||E||B||O,z=F?Pr(l.length,String):[],re=z.length;for(var U in l)(d||we.call(l,U))&&!(F&&(U=="length"||B&&(U=="offset"||U=="parent")||O&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ci(U,re)))&&z.push(U);return z}function kt(l,d){for(var g=l.length;g--;)if(zn(l[g][0],d))return g;return-1}function Jt(l,d,g){var E=d(l);return Mt(l)?E:zt(E,g(l))}function ot(l){return l==null?l===void 0?N:y:Ee&&Ee in Object(l)?Re(l):Fn(l)}function Bn(l){return Ie(l)&&ot(l)==a}function Hn(l,d,g,E,B){return l===d?!0:l==null||d==null||!Ie(l)&&!Ie(d)?l!==l&&d!==d:ri(l,d,g,E,Hn,B)}function ri(l,d,g,E,B,O){var F=Mt(l),z=Mt(d),re=F?u:Ae(l),U=z?u:Ae(d);re=re==a?v:re,U=U==a?v:U;var fe=re==v,ye=U==v,ae=re==U;if(ae&&Pt(l)){if(!Pt(d))return!1;F=!0,fe=!1}if(ae&&!fe)return O||(O=new Pe),F||Vn(l)?en(l,d,g,E,B,O):ai(l,d,re,g,E,B,O);if(!(g&i)){var pe=fe&&we.call(l,"__wrapped__"),ce=ye&&we.call(d,"__wrapped__");if(pe||ce){var Fe=pe?l.value():l,Le=ce?d.value():d;return O||(O=new Pe),B(Fe,Le,g,E,O)}}return ae?(O||(O=new Pe),li(l,d,g,E,B,O)):!1}function ii(l){if(!Un(l)||di(l))return!1;var d=Wn(l)?jr:ne;return d.test(ge(l))}function oi(l){return Ie(l)&&nn(l.length)&&!!X[ot(l)]}function si(l){if(!fi(l))return rt(l);var d=[];for(var g in Object(l))we.call(l,g)&&g!="constructor"&&d.push(g);return d}function en(l,d,g,E,B,O){var F=g&i,z=l.length,re=d.length;if(z!=re&&!(F&&re>z))return!1;var U=O.get(l);if(U&&O.get(d))return U==d;var fe=-1,ye=!0,ae=g&o?new $t:void 0;for(O.set(l,d),O.set(d,l);++fe<z;){var pe=l[fe],ce=d[fe];if(E)var Fe=F?E(ce,pe,fe,d,l,O):E(pe,ce,fe,l,d,O);if(Fe!==void 0){if(Fe)continue;ye=!1;break}if(ae){if(!Pn(d,function(Le,at){if(!wt(ae,at)&&(pe===Le||B(pe,Le,g,E,O)))return ae.push(at)})){ye=!1;break}}else if(!(pe===ce||B(pe,ce,g,E,O))){ye=!1;break}}return O.delete(l),O.delete(d),ye}function ai(l,d,g,E,B,O,F){switch(g){case H:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case D:return!(l.byteLength!=d.byteLength||!O(new Rn(l),new Rn(d)));case h:case f:case _:return zn(+l,+d);case p:return l.name==d.name&&l.message==d.message;case M:case P:return l==d+"";case x:var z=An;case T:var re=E&i;if(z||(z=Me),l.size!=d.size&&!re)return!1;var U=F.get(l);if(U)return U==d;E|=o,F.set(l,d);var fe=en(z(l),z(d),E,B,O,F);return F.delete(l),fe;case I:if(qt)return qt.call(l)==qt.call(d)}return!1}function li(l,d,g,E,B,O){var F=g&i,z=st(l),re=z.length,U=st(d),fe=U.length;if(re!=fe&&!F)return!1;for(var ye=re;ye--;){var ae=z[ye];if(!(F?ae in d:we.call(d,ae)))return!1}var pe=O.get(l);if(pe&&O.get(d))return pe==d;var ce=!0;O.set(l,d),O.set(d,l);for(var Fe=F;++ye<re;){ae=z[ye];var Le=l[ae],at=d[ae];if(E)var Eo=F?E(at,Le,ae,d,l,O):E(Le,at,ae,l,d,O);if(!(Eo===void 0?Le===at||B(Le,at,g,E,O):Eo)){ce=!1;break}Fe||(Fe=ae=="constructor")}if(ce&&!Fe){var Xn=l.constructor,Kn=d.constructor;Xn!=Kn&&"constructor"in l&&"constructor"in d&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof Kn=="function"&&Kn instanceof Kn)&&(ce=!1)}return O.delete(l),O.delete(d),ce}function st(l){return Jt(l,rn,ui)}function Ce(l,d){var g=l.__data__;return hi(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Oe(l,d){var g=Gt(l,d);return ii(g)?g:void 0}function Re(l){var d=we.call(l,Ee),g=l[Ee];try{l[Ee]=void 0;var E=!0}catch{}var B=On.call(l);return E&&(d?l[Ee]=g:delete l[Ee]),B}var ui=_t?function(l){return l==null?[]:(l=Object(l),Mn(_t(l),function(d){return Ct.call(l,d)}))}:gi,Ae=ot;(Xt&&Ae(new Xt(new ArrayBuffer(1)))!=H||it&&Ae(new it)!=x||Kt&&Ae(Kt.resolve())!=b||Yt&&Ae(new Yt)!=T||Zt&&Ae(new Zt)!=j)&&(Ae=function(l){var d=ot(l),g=d==v?l.constructor:void 0,E=g?ge(g):"";if(E)switch(E){case Ln:return H;case je:return x;case Or:return b;case Rr:return T;case Lr:return j}return d});function ci(l,d){return d=d??s,!!d&&(typeof l=="number"||Be.test(l))&&l>-1&&l%1==0&&l<d}function hi(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function di(l){return!!jn&&jn in l}function fi(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||tt;return l===g}function Fn(l){return On.call(l)}function ge(l){if(l!=null){try{return Wt.call(l)}catch{}try{return l+""}catch{}}return""}function zn(l,d){return l===d||l!==l&&d!==d}var Gn=Bn(function(){return arguments}())?Bn:function(l){return Ie(l)&&we.call(l,"callee")&&!Ct.call(l,"callee")},Mt=Array.isArray;function tn(l){return l!=null&&nn(l.length)&&!Wn(l)}var Pt=Vt||mi;function pi(l,d){return Hn(l,d)}function Wn(l){if(!Un(l))return!1;var d=ot(l);return d==m||d==w||d==c||d==C}function nn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function Un(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Ie(l){return l!=null&&typeof l=="object"}var Vn=Ft?Ar(Ft):oi;function rn(l){return tn(l)?ni(l):si(l)}function gi(){return[]}function mi(){return!1}e.exports=pi})(Qh,Qh.exports);Qh.exports;var LH=200,ov="__lodash_hash_undefined__",DH=1/0,u_=9007199254740991,NH="[object Arguments]",BH="[object Function]",HH="[object GeneratorFunction]",FH="[object Symbol]",zH=/[\\^$.*+?()[\]{}|]/g,GH=/^\[object .+?Constructor\]$/,WH=/^(?:0|[1-9]\d*)$/,UH=typeof et=="object"&&et&&et.Object===Object&&et,VH=typeof self=="object"&&self&&self.Object===Object&&self,sv=UH||VH||Function("return this")();function XH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function KH(e,t){var n=e?e.length:0;return!!n&&qH(e,t,0)>-1}function YH(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function c_(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function av(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ZH(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qH(e,t,n){if(t!==t)return ZH(e,QH,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function QH(e){return e!==e}function JH(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function eF(e){return function(t){return e(t)}}function tF(e,t){return e.has(t)}function nF(e,t){return e==null?void 0:e[t]}function rF(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function h_(e,t){return function(n){return e(t(n))}}var iF=Array.prototype,oF=Function.prototype,uf=Object.prototype,vp=sv["__core-js_shared__"],cw=function(){var e=/[^.]+$/.exec(vp&&vp.keys&&vp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),d_=oF.toString,ul=uf.hasOwnProperty,lv=uf.toString,sF=RegExp("^"+d_.call(ul).replace(zH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hw=sv.Symbol,aF=h_(Object.getPrototypeOf,Object),lF=uf.propertyIsEnumerable,uF=iF.splice,dw=hw?hw.isConcatSpreadable:void 0,o0=Object.getOwnPropertySymbols,fw=Math.max,cF=p_(sv,"Map"),Eu=p_(Object,"create");function js(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hF(){this.__data__=Eu?Eu(null):{}}function dF(e){return this.has(e)&&delete this.__data__[e]}function fF(e){var t=this.__data__;if(Eu){var n=t[e];return n===ov?void 0:n}return ul.call(t,e)?t[e]:void 0}function pF(e){var t=this.__data__;return Eu?t[e]!==void 0:ul.call(t,e)}function gF(e,t){var n=this.__data__;return n[e]=Eu&&t===void 0?ov:t,this}js.prototype.clear=hF;js.prototype.delete=dF;js.prototype.get=fF;js.prototype.has=pF;js.prototype.set=gF;function cl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mF(){this.__data__=[]}function vF(e){var t=this.__data__,n=cf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():uF.call(t,n,1),!0}function yF(e){var t=this.__data__,n=cf(t,e);return n<0?void 0:t[n][1]}function xF(e){return cf(this.__data__,e)>-1}function wF(e,t){var n=this.__data__,r=cf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}cl.prototype.clear=mF;cl.prototype.delete=vF;cl.prototype.get=yF;cl.prototype.has=xF;cl.prototype.set=wF;function hl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function bF(){this.__data__={hash:new js,map:new(cF||cl),string:new js}}function SF(e){return hf(this,e).delete(e)}function EF(e){return hf(this,e).get(e)}function CF(e){return hf(this,e).has(e)}function _F(e,t){return hf(this,e).set(e,t),this}hl.prototype.clear=bF;hl.prototype.delete=SF;hl.prototype.get=EF;hl.prototype.has=CF;hl.prototype.set=_F;function Jh(e){var t=-1,n=e?e.length:0;for(this.__data__=new hl;++t<n;)this.add(e[t])}function $F(e){return this.__data__.set(e,ov),this}function TF(e){return this.__data__.has(e)}Jh.prototype.add=Jh.prototype.push=$F;Jh.prototype.has=TF;function kF(e,t){var n=uv(e)||g_(e)?JH(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||ul.call(e,o))&&!(i&&(o=="length"||HF(o,r)))&&n.push(o);return n}function cf(e,t){for(var n=e.length;n--;)if(XF(e[n][0],t))return n;return-1}function MF(e,t,n,r){var i=-1,o=KH,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=c_(t,eF(n))),r?(o=YH,s=!1):t.length>=LH&&(o=tF,s=!1,t=new Jh(t));e:for(;++i<a;){var h=e[i],f=n?n(h):h;if(h=r||h!==0?h:0,s&&f===f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(h)}else o(t,f,r)||u.push(h)}return u}function f_(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=BF),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?f_(a,t-1,n,r,i):av(i,a):r||(i[i.length]=a)}return i}function PF(e,t,n){var r=t(e);return uv(e)?r:av(r,n(e))}function AF(e){if(!cv(e)||zF(e))return!1;var t=v_(e)||rF(e)?sF:GH;return t.test(VF(e))}function IF(e){if(!cv(e))return WF(e);var t=GF(e),n=[];for(var r in e)r=="constructor"&&(t||!ul.call(e,r))||n.push(r);return n}function jF(e,t){return e=Object(e),OF(e,t,function(n,r){return r in e})}function OF(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function RF(e,t){return t=fw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=fw(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,XH(e,this,s)}}function LF(e){return PF(e,qF,NF)}function hf(e,t){var n=e.__data__;return FF(t)?n[typeof t=="string"?"string":"hash"]:n.map}function p_(e,t){var n=nF(e,t);return AF(n)?n:void 0}var DF=o0?h_(o0,Object):x_,NF=o0?function(e){for(var t=[];e;)av(t,DF(e)),e=aF(e);return t}:x_;function BF(e){return uv(e)||g_(e)||!!(dw&&e&&e[dw])}function HF(e,t){return t=t??u_,!!t&&(typeof e=="number"||WH.test(e))&&e>-1&&e%1==0&&e<t}function FF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zF(e){return!!cw&&cw in e}function GF(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||uf;return e===n}function WF(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}function UF(e){if(typeof e=="string"||ZF(e))return e;var t=e+"";return t=="0"&&1/e==-DH?"-0":t}function VF(e){if(e!=null){try{return d_.call(e)}catch{}try{return e+""}catch{}}return""}function XF(e,t){return e===t||e!==e&&t!==t}function g_(e){return KF(e)&&ul.call(e,"callee")&&(!lF.call(e,"callee")||lv.call(e)==NH)}var uv=Array.isArray;function m_(e){return e!=null&&YF(e.length)&&!v_(e)}function KF(e){return y_(e)&&m_(e)}function v_(e){var t=cv(e)?lv.call(e):"";return t==BH||t==HH}function YF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=u_}function cv(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function y_(e){return!!e&&typeof e=="object"}function ZF(e){return typeof e=="symbol"||y_(e)&&lv.call(e)==FH}function qF(e){return m_(e)?kF(e,!0):IF(e)}RF(function(e,t){return e==null?{}:(t=c_(f_(t,1),UF),jF(e,MF(LF(e),t)))});function x_(){return[]}var QF=1/0,JF=9007199254740991,ez="[object Arguments]",tz="[object Function]",nz="[object GeneratorFunction]",rz="[object Symbol]",iz=typeof et=="object"&&et&&et.Object===Object&&et,oz=typeof self=="object"&&self&&self.Object===Object&&self,sz=iz||oz||Function("return this")();function az(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function lz(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function uz(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var hv=Object.prototype,cz=hv.hasOwnProperty,dv=hv.toString,pw=sz.Symbol,hz=hv.propertyIsEnumerable,gw=pw?pw.isConcatSpreadable:void 0,mw=Math.max;function w_(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=gz),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?w_(a,t-1,n,r,i):uz(i,a):r||(i[i.length]=a)}return i}function dz(e,t){return e=Object(e),fz(e,t,function(n,r){return r in e})}function fz(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=e[s];n(a,s)&&(o[s]=a)}return o}function pz(e,t){return t=mw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=mw(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=o,az(e,this,s)}}function gz(e){return yz(e)||vz(e)||!!(gw&&e&&e[gw])}function mz(e){if(typeof e=="string"||Cz(e))return e;var t=e+"";return t=="0"&&1/e==-QF?"-0":t}function vz(e){return wz(e)&&cz.call(e,"callee")&&(!hz.call(e,"callee")||dv.call(e)==ez)}var yz=Array.isArray;function xz(e){return e!=null&&Sz(e.length)&&!bz(e)}function wz(e){return b_(e)&&xz(e)}function bz(e){var t=Ez(e)?dv.call(e):"";return t==tz||t==nz}function Sz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JF}function Ez(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function b_(e){return!!e&&typeof e=="object"}function Cz(e){return typeof e=="symbol"||b_(e)&&dv.call(e)==rz}pz(function(e,t){return e==null?{}:dz(e,lz(w_(t,1),mz))});var _z=typeof et=="object"&&et&&et.Object===Object&&et,$z=typeof self=="object"&&self&&self.Object===Object&&self;_z||$z||Function("return this")();function df(e){return e.split("-")[1]}function S_(e){return e==="y"?"height":"width"}function Oa(e){return e.split("-")[0]}function fv(e){return["top","bottom"].includes(Oa(e))?"x":"y"}function vw(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=fv(t),u=S_(a),c=r[u]/2-i[u]/2,h=a==="x";let f;switch(Oa(t)){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-i.width,y:s};break;default:f={x:r.x,y:r.y}}switch(df(t)){case"start":f[a]-=c*(n&&h?-1:1);break;case"end":f[a]+=c*(n&&h?-1:1)}return f}const Tz=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:f}=vw(c,r,u),p=r,m={},w=0;for(let x=0;x<a.length;x++){const{name:_,fn:y}=a[x],{x:v,y:b,data:C,reset:M}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});h=v??h,f=b??f,m={...m,[_]:{...m[_],...C}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:h,y:f}=vw(c,p,u)),x=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:m}};function kz(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function ed(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Mz(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=t,w=kz(m),x=a[p?f==="floating"?"reference":"floating":f],_=ed(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),y=f==="floating"?{...s.floating,x:r,y:i}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(v))&&await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1},C=ed(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:u}):y);return{top:(_.top-C.top+w.top)/b.y,bottom:(C.bottom-_.bottom+w.bottom)/b.y,left:(_.left-C.left+w.left)/b.x,right:(C.right-_.right+w.right)/b.x}}const Pz=["top","right","bottom","left"];Pz.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Az={left:"right",right:"left",bottom:"top",top:"bottom"};function td(e){return e.replace(/left|right|bottom|top/g,t=>Az[t])}function Iz(e,t,n){n===void 0&&(n=!1);const r=df(e),i=fv(e),o=S_(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=td(s)),{main:s,cross:td(s)}}const jz={start:"end",end:"start"};function yp(e){return e.replace(/start|end/g,t=>jz[t])}const Oz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:w=!0,...x}=e,_=Oa(r),y=Oa(s)===s,v=await(a.isRTL==null?void 0:a.isRTL(u.floating)),b=f||(y||!w?[td(s)]:function(D){const H=td(D);return[yp(D),H,yp(H)]}(s));f||m==="none"||b.push(...function(D,H,V,G){const q=df(D);let se=function(Z,L,K){const R=["left","right"],le=["right","left"],he=["top","bottom"],ne=["bottom","top"];switch(Z){case"top":case"bottom":return K?L?le:R:L?R:le;case"left":case"right":return L?he:ne;default:return[]}}(Oa(D),V==="start",G);return q&&(se=se.map(Z=>Z+"-"+q),H&&(se=se.concat(se.map(yp)))),se}(s,w,m,v));const C=[s,...b],M=await Mz(t,x),T=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&T.push(M[_]),h){const{main:D,cross:H}=Iz(r,o,v);T.push(M[D],M[H])}if(P=[...P,{placement:r,overflows:T}],!T.every(D=>D<=0)){var I,N;const D=(((I=i.flip)==null?void 0:I.index)||0)+1,H=C[D];if(H)return{data:{index:D,overflows:P},reset:{placement:H}};let V=(N=P.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!V)switch(p){case"bestFit":{var j;const G=(j=P.map(q=>[q.placement,q.overflows.filter(se=>se>0).reduce((se,Z)=>se+Z,0)]).sort((q,se)=>q[1]-se[1])[0])==null?void 0:j[0];G&&(V=G);break}case"initialPlacement":V=s}if(r!==V)return{reset:{placement:V}}}return{}}}},Rz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:u,elements:c}=o,h=await(u.isRTL==null?void 0:u.isRTL(c.floating)),f=Oa(a),p=df(a),m=fv(a)==="x",w=["left","top"].includes(f)?-1:1,x=h&&m?-1:1,_=typeof s=="function"?s(o):s;let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return p&&typeof b=="number"&&(v=p==="end"?-1*b:b),m?{x:v*x,y:y*w}:{x:y*w,y:v*x}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function ur(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ki(e){return ur(e).getComputedStyle(e)}function E_(e){return e instanceof ur(e).Node}function Zo(e){return E_(e)?(e.nodeName||"").toLowerCase():""}let kc;function C_(){if(kc)return kc;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(kc=e.brands.map(t=>t.brand+"/"+t.version).join(" "),kc):navigator.userAgent}function Oi(e){return e instanceof ur(e).HTMLElement}function Mi(e){return e instanceof ur(e).Element}function yw(e){return typeof ShadowRoot>"u"?!1:e instanceof ur(e).ShadowRoot||e instanceof ShadowRoot}function ff(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Lz(e){return["table","td","th"].includes(Zo(e))}function s0(e){const t=/firefox/i.test(C_()),n=Ki(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function a0(){return/^((?!chrome|android).)*safari/i.test(C_())}function pv(e){return["html","body","#document"].includes(Zo(e))}const xw=Math.min,ql=Math.max,nd=Math.round;function __(e){const t=Ki(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=Oi(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=nd(n)!==o||nd(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function $_(e){return Mi(e)?e:e.contextElement}const T_={x:1,y:1};function Ra(e){const t=$_(e);if(!Oi(t))return T_;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:o}=__(t);let s=(o?nd(n.width):n.width)/r,a=(o?nd(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Os(e,t,n,r){var i,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=$_(e);let u=T_;t&&(r?Mi(r)&&(u=Ra(r)):u=Ra(e));const c=a?ur(a):window,h=a0()&&n;let f=(s.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/u.x,p=(s.top+(h&&((o=c.visualViewport)==null?void 0:o.offsetTop)||0))/u.y,m=s.width/u.x,w=s.height/u.y;if(a){const x=ur(a),_=r&&Mi(r)?ur(r):r;let y=x.frameElement;for(;y&&r&&_!==x;){const v=Ra(y),b=y.getBoundingClientRect(),C=getComputedStyle(y);b.x+=(y.clientLeft+parseFloat(C.paddingLeft))*v.x,b.y+=(y.clientTop+parseFloat(C.paddingTop))*v.y,f*=v.x,p*=v.y,m*=v.x,w*=v.y,f+=b.x,p+=b.y,y=ur(y).frameElement}}return ed({width:m,height:w,x:f,y:p})}function Wo(e){return((E_(e)?e.ownerDocument:e.document)||window.document).documentElement}function pf(e){return Mi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function k_(e){return Os(Wo(e)).left+pf(e).scrollLeft}function Cu(e){if(Zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yw(e)&&e.host||Wo(e);return yw(t)?t.host:t}function M_(e){const t=Cu(e);return pv(t)?t.ownerDocument.body:Oi(t)&&ff(t)?t:M_(t)}function Uo(e,t){var n;t===void 0&&(t=[]);const r=M_(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ur(r);return i?t.concat(o,o.visualViewport||[],ff(r)?r:[]):t.concat(r,Uo(r))}function ww(e,t,n){let r;if(t==="viewport")r=function(s,a){const u=ur(s),c=Wo(s),h=u.visualViewport;let f=c.clientWidth,p=c.clientHeight,m=0,w=0;if(h){f=h.width,p=h.height;const x=a0();(!x||x&&a==="fixed")&&(m=h.offsetLeft,w=h.offsetTop)}return{width:f,height:p,x:m,y:w}}(e,n);else if(t==="document")r=function(s){const a=Wo(s),u=pf(s),c=s.ownerDocument.body,h=ql(a.scrollWidth,a.clientWidth,c.scrollWidth,c.clientWidth),f=ql(a.scrollHeight,a.clientHeight,c.scrollHeight,c.clientHeight);let p=-u.scrollLeft+k_(s);const m=-u.scrollTop;return Ki(c).direction==="rtl"&&(p+=ql(a.clientWidth,c.clientWidth)-h),{width:h,height:f,x:p,y:m}}(Wo(e));else if(Mi(t))r=function(s,a){const u=Os(s,!0,a==="fixed"),c=u.top+s.clientTop,h=u.left+s.clientLeft,f=Oi(s)?Ra(s):{x:1,y:1};return{width:s.clientWidth*f.x,height:s.clientHeight*f.y,x:h*f.x,y:c*f.y}}(t,n);else{const s={...t};if(a0()){var i,o;const a=ur(e);s.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,s.y-=((o=a.visualViewport)==null?void 0:o.offsetTop)||0}r=s}return ed(r)}function bw(e,t){return Oi(e)&&Ki(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Sw(e,t){const n=ur(e);if(!Oi(e))return n;let r=bw(e,t);for(;r&&Lz(r)&&Ki(r).position==="static";)r=bw(r,t);return r&&(Zo(r)==="html"||Zo(r)==="body"&&Ki(r).position==="static"&&!s0(r))?n:r||function(i){let o=Cu(i);for(;Oi(o)&&!pv(o);){if(s0(o))return o;o=Cu(o)}return null}(e)||n}function Dz(e,t,n){const r=Oi(t),i=Wo(t),o=Os(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Zo(t)!=="body"||ff(i))&&(s=pf(t)),Oi(t)){const u=Os(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=k_(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}const Nz={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(c,h){const f=h.get(c);if(f)return f;let p=Uo(c).filter(_=>Mi(_)&&Zo(_)!=="body"),m=null;const w=Ki(c).position==="fixed";let x=w?Cu(c):c;for(;Mi(x)&&!pv(x);){const _=Ki(x),y=s0(x);_.position==="fixed"&&(m=null),(w?y||m:y||_.position!=="static"||!m||!["absolute","fixed"].includes(m.position))?m=_:p=p.filter(v=>v!==x),x=Cu(x)}return h.set(c,p),p}(t,this._c):[].concat(n),s=[...o,r],a=s[0],u=s.reduce((c,h)=>{const f=ww(t,h,i);return c.top=ql(f.top,c.top),c.right=xw(f.right,c.right),c.bottom=xw(f.bottom,c.bottom),c.left=ql(f.left,c.left),c},ww(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Oi(n),o=Wo(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const u={x:0,y:0};if((i||!i&&r!=="fixed")&&((Zo(n)!=="body"||ff(o))&&(s=pf(n)),Oi(n))){const c=Os(n);a=Ra(n),u.x=c.x+n.clientLeft,u.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+u.x,y:t.y*a.y-s.scrollTop*a.y+u.y}},isElement:Mi,getDimensions:function(e){return __(e)},getOffsetParent:Sw,getDocumentElement:Wo,getScale:Ra,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||Sw,o=this.getDimensions;return{reference:Dz(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Ki(e).direction==="rtl"};function P_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,u=i&&!a,c=u||o?[...Mi(e)?Uo(e):e.contextElement?Uo(e.contextElement):[],...Uo(t)]:[];c.forEach(m=>{u&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});let h,f=null;s&&(f=new ResizeObserver(()=>{n()}),Mi(e)&&!a&&f.observe(e),Mi(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t));let p=a?Os(e):null;return a&&function m(){const w=Os(e);!p||w.x===p.x&&w.y===p.y&&w.width===p.width&&w.height===p.height||n(),p=w,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(w=>{u&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}const Bz=(e,t,n)=>{const r=new Map,i={platform:Nz,...n},o={...i.platform,_c:r};return Tz(e,t,{...i,platform:o})};var Zc=typeof document<"u"?A.useLayoutEffect:A.useEffect;function rd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!rd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!rd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ew(e){const t=A.useRef(e);return Zc(()=>{t.current=e}),t}function Hz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=e,[a,u]=A.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,h]=A.useState(r);rd(c,r)||h(r);const f=A.useRef(null),p=A.useRef(null),m=A.useRef(a),w=Ew(o),x=Ew(i),[_,y]=A.useState(null),[v,b]=A.useState(null),C=A.useCallback(j=>{f.current!==j&&(f.current=j,y(j))},[]),M=A.useCallback(j=>{p.current!==j&&(p.current=j,b(j))},[]),T=A.useCallback(()=>{if(!f.current||!p.current)return;const j={placement:t,strategy:n,middleware:c};x.current&&(j.platform=x.current),Bz(f.current,p.current,j).then(D=>{const H={...D,isPositioned:!0};P.current&&!rd(m.current,H)&&(m.current=H,Ad.flushSync(()=>{u(H)}))})},[c,t,n,x]);Zc(()=>{s===!1&&m.current.isPositioned&&(m.current.isPositioned=!1,u(j=>({...j,isPositioned:!1})))},[s]);const P=A.useRef(!1);Zc(()=>(P.current=!0,()=>{P.current=!1}),[]),Zc(()=>{if(_&&v){if(w.current)return w.current(_,v,T);T()}},[_,v,T,w]);const I=A.useMemo(()=>({reference:f,floating:p,setReference:C,setFloating:M}),[C,M]),N=A.useMemo(()=>({reference:_,floating:v}),[_,v]);return A.useMemo(()=>({...a,update:T,refs:I,elements:N,reference:C,floating:M}),[a,T,I,N,C,M])}/*!
* tabbable 6.1.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fz=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],l0=Fz.join(","),A_=typeof Element>"u",_u=A_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,id=!A_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},od=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",s=o||n&&t&&e(t.parentNode);return s},zz=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Gz=function(e,t,n){if(od(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(l0));return t&&_u.call(e,l0)&&r.unshift(e),r=r.filter(n),r},Wz=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!od(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),u=a.length?a:s.children,c=e(u,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:s,candidates:c})}else{var h=_u.call(s,l0);h&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!od(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&p){var m=e(f===!0?s.children:f.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:s,candidates:m})}else o.unshift.apply(o,s.children)}}return i},I_=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||zz(e))&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Uz=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},j_=function(e){return e.tagName==="INPUT"},Vz=function(e){return j_(e)&&e.type==="hidden"},Xz=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Kz=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Yz=function(e){if(!e.name)return!0;var t=e.form||id(e),n=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=Kz(r,e.form);return!i||i===e},Zz=function(e){return j_(e)&&e.type==="radio"},qz=function(e){return Zz(e)&&!Yz(e)},Qz=function(e){var t,n=e&&id(e),r=(t=n)===null||t===void 0?void 0:t.host,i=!1;if(n&&n!==e){var o,s,a;for(i=!!((o=r)!==null&&o!==void 0&&(s=o.ownerDocument)!==null&&s!==void 0&&s.contains(r)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!i&&r;){var u,c,h;n=id(r),r=(u=n)===null||u===void 0?void 0:u.host,i=!!((c=r)!==null&&c!==void 0&&(h=c.ownerDocument)!==null&&h!==void 0&&h.contains(r))}}return i},Cw=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n===0&&r===0},Jz=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=_u.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(_u.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var s=e;e;){var a=e.parentElement,u=id(e);if(a&&!a.shadowRoot&&r(a)===!0)return Cw(e);e.assignedSlot?e=e.assignedSlot:!a&&u!==e.ownerDocument?e=u.host:e=a}e=s}if(Qz(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Cw(e);return!1},eG=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if(r.tagName==="LEGEND")return _u.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},tG=function(e,t){return!(t.disabled||od(t)||Vz(t)||Jz(t,e)||Xz(t)||eG(t))},_w=function(e,t){return!(qz(t)||I_(t)<0||!tG(e,t))},nG=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},rG=function e(t){var n=[],r=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,u=I_(a,s),c=s?e(i.candidates):a;u===0?s?n.push.apply(n,c):n.push(a):r.push({documentOrder:o,tabIndex:u,item:i,isScope:s,content:c})}),r.sort(Uz).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},O_=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Wz([e],t.includeContainer,{filter:_w.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:nG}):n=Gz(e,t.includeContainer,_w.bind(null,t)),rG(n)};function u0(){return u0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(this,arguments)}var Rs=typeof document<"u"?A.useLayoutEffect:A.useEffect;let xp=!1,iG=0;const $w=()=>"floating-ui-"+iG++;function oG(){const[e,t]=A.useState(()=>xp?$w():void 0);return Rs(()=>{e==null&&t($w())},[]),A.useEffect(()=>{xp||(xp=!0)},[]),e}const sG=A.useId,R_=sG||oG;function aG(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const lG=A.createContext(null),uG=A.createContext(null),L_=()=>{var e;return((e=A.useContext(lG))==null?void 0:e.id)||null},gv=()=>A.useContext(uG);function ms(e){return(e==null?void 0:e.ownerDocument)||document}function cG(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function hG(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function gf(e){return ms(e).defaultView||window}function so(e){return e?e instanceof gf(e).Element:!1}function mv(e){return e?e instanceof gf(e).HTMLElement:!1}function dG(e){if(typeof ShadowRoot>"u")return!1;const t=gf(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function fG(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(cG())||t.test(hG()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function pG(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function gG(){return/apple/i.test(navigator.vendor)}function sd(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function D_(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dG(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Tw(e){const t=A.useRef(e);return Rs(()=>{t.current=e}),t}const kw="data-floating-ui-safe-polygon";function wp(e,t,n){return n&&!sd(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const mG=function(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:{domReference:s,floating:a},refs:u}=e,{enabled:c=!0,delay:h=0,handleClose:f=null,mouseOnly:p=!1,restMs:m=0,move:w=!0}=t,x=gv(),_=L_(),y=Tw(f),v=Tw(h),b=A.useRef(),C=A.useRef(),M=A.useRef(),T=A.useRef(),P=A.useRef(!0),I=A.useRef(!1),N=A.useRef(()=>{}),j=A.useCallback(()=>{var G;const q=(G=i.current.openEvent)==null?void 0:G.type;return(q==null?void 0:q.includes("mouse"))&&q!=="mousedown"},[i]);A.useEffect(()=>{if(!c)return;function G(){clearTimeout(C.current),clearTimeout(T.current),P.current=!0}return o.on("dismiss",G),()=>{o.off("dismiss",G)}},[c,o]),A.useEffect(()=>{if(!c||!y.current||!n)return;function G(){j()&&r(!1)}const q=ms(a).documentElement;return q.addEventListener("mouseleave",G),()=>{q.removeEventListener("mouseleave",G)}},[a,n,r,c,y,i,j]);const D=A.useCallback(function(G){G===void 0&&(G=!0);const q=wp(v.current,"close",b.current);q&&!M.current?(clearTimeout(C.current),C.current=setTimeout(()=>r(!1),q)):G&&(clearTimeout(C.current),r(!1))},[v,r]),H=A.useCallback(()=>{N.current(),M.current=void 0},[]),V=A.useCallback(()=>{if(I.current){const G=ms(u.floating.current).body;G.style.pointerEvents="",G.removeAttribute(kw),I.current=!1}},[u]);return A.useEffect(()=>{if(!c)return;function G(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function q(L){if(clearTimeout(C.current),P.current=!1,p&&!sd(b.current)||m>0&&wp(v.current,"open")===0)return;i.current.openEvent=L;const K=wp(v.current,"open",b.current);K?C.current=setTimeout(()=>{r(!0)},K):r(!0)}function se(L){if(G())return;N.current();const K=ms(a);if(clearTimeout(T.current),y.current){n||clearTimeout(C.current),M.current=y.current({...e,tree:x,x:L.clientX,y:L.clientY,onClose(){V(),H(),D()}});const R=M.current;K.addEventListener("mousemove",R),N.current=()=>{K.removeEventListener("mousemove",R)};return}(b.current!=="touch"||!D_(a,L.relatedTarget))&&D()}function Z(L){G()||y.current==null||y.current({...e,tree:x,x:L.clientX,y:L.clientY,onClose(){V(),H(),D()}})(L)}if(so(s)){const L=s;return n&&L.addEventListener("mouseleave",Z),a==null||a.addEventListener("mouseleave",Z),w&&L.addEventListener("mousemove",q,{once:!0}),L.addEventListener("mouseenter",q),L.addEventListener("mouseleave",se),()=>{n&&L.removeEventListener("mouseleave",Z),a==null||a.removeEventListener("mouseleave",Z),w&&L.removeEventListener("mousemove",q),L.removeEventListener("mouseenter",q),L.removeEventListener("mouseleave",se)}}},[s,a,c,e,p,m,w,D,H,V,r,n,x,v,y,i]),Rs(()=>{var G;if(c&&n&&(G=y.current)!=null&&G.__options.blockPointerEvents&&j()){const Z=ms(a).body;if(Z.setAttribute(kw,""),Z.style.pointerEvents="none",I.current=!0,so(s)&&a){var q,se;const L=s,K=x==null||(q=x.nodesRef.current.find(R=>R.id===_))==null||(se=q.context)==null?void 0:se.elements.floating;return K&&(K.style.pointerEvents=""),L.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{L.style.pointerEvents="",a.style.pointerEvents=""}}}},[c,n,_,a,s,x,y,i,j]),Rs(()=>{n||(b.current=void 0,H(),V())},[n,H,V]),A.useEffect(()=>()=>{H(),clearTimeout(C.current),clearTimeout(T.current),V()},[c,H,V]),A.useMemo(()=>{if(!c)return{};function G(q){b.current=q.pointerType}return{reference:{onPointerDown:G,onPointerEnter:G,onMouseMove(){n||m===0||(clearTimeout(T.current),T.current=setTimeout(()=>{P.current||r(!0)},m))}},floating:{onMouseEnter(){clearTimeout(C.current)},onMouseLeave(){o.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),D(!1)}}}},[o,c,m,n,r,D])};function vG(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function bp(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}function yG(e){return"composedPath"in e?e.composedPath()[0]:e.target}const xG="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function wG(e){return mv(e)&&e.matches(xG)}const N_=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function B_(e,t){const n=O_(e,N_());t==="prev"&&n.reverse();const r=n.indexOf(vG(ms(e)));return n.slice(r+1)[0]}function bG(){return B_(document.body,"next")}function SG(){return B_(document.body,"prev")}function Sp(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!D_(n,r)}function EG(e){O_(e,N_()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function CG(e){e.querySelectorAll("[data-tabindex]").forEach(t=>{const n=t.dataset.tabindex;delete t.dataset.tabindex,n?t.setAttribute("tabindex",n):t.removeAttribute("tabindex")})}const H_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let _G;function Mw(e){e.key==="Tab"&&(e.target,clearTimeout(_G))}const Pw=A.forwardRef(function(e,t){const[n,r]=A.useState();return Rs(()=>(gG()&&r("button"),document.addEventListener("keydown",Mw),()=>{document.removeEventListener("keydown",Mw)}),[]),A.createElement("span",u0({},e,{ref:t,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,"data-floating-ui-focus-guard":"",style:H_}))}),F_=A.createContext(null),$G=function(e){let{id:t,root:n}=e===void 0?{}:e;const[r,i]=A.useState(null),o=R_(),s=TG();return Rs(()=>{const a=t?document.getElementById(t):null,u="data-floating-ui-portal";if(a){const c=document.createElement("div");return c.id=o,c.setAttribute(u,""),a.appendChild(c),i(c),()=>{c.remove()}}else{let c=(s==null?void 0:s.portalNode)||n||document.body,h=null;t&&(h=document.createElement("div"),h.id=t,c.appendChild(h));const f=document.createElement("div");return f.id=o,f.setAttribute(u,""),i(f),c=h||c,c.appendChild(f),()=>{var p;f.remove(),(p=h)==null||p.remove()}}},[t,n,s,o]),r},z_=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:i=!0}=e;const o=$G({id:n,root:r}),[s,a]=A.useState(null),u=A.useRef(null),c=A.useRef(null),h=A.useRef(null),f=A.useRef(null),p=!!s&&!s.modal&&!!(r||o)&&i;return A.useEffect(()=>{if(!o||!i||s!=null&&s.modal)return;function m(w){o&&Sp(w)&&(w.type==="focusin"?CG:EG)(o)}return o.addEventListener("focusin",m,!0),o.addEventListener("focusout",m,!0),()=>{o.removeEventListener("focusin",m,!0),o.removeEventListener("focusout",m,!0)}},[o,i,s==null?void 0:s.modal]),A.createElement(F_.Provider,{value:A.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:c,beforeInsideRef:h,afterInsideRef:f,portalNode:o,setFocusManagerState:a}),[i,o])},p&&o&&A.createElement(Pw,{"data-type":"outside",ref:u,onFocus:m=>{if(Sp(m,o)){var w;(w=h.current)==null||w.focus()}else{const x=SG()||(s==null?void 0:s.refs.domReference.current);x==null||x.focus()}}}),p&&o&&A.createElement("span",{"aria-owns":o.id,style:H_}),o&&Ad.createPortal(t,o),p&&o&&A.createElement(Pw,{"data-type":"outside",ref:c,onFocus:m=>{if(Sp(m,o)){var w;(w=f.current)==null||w.focus()}else{const x=bG()||(s==null?void 0:s.refs.domReference.current);x==null||x.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},TG=()=>A.useContext(F_);function Aw(e){return mv(e.target)&&e.target.tagName==="BUTTON"}function Iw(e){return wG(e)}const kG=function(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:a="click",toggle:u=!0,ignoreMouse:c=!1,keyboardHandlers:h=!0}=t,f=A.useRef();return A.useMemo(()=>s?{reference:{onPointerDown(p){f.current=p.pointerType},onMouseDown(p){p.button===0&&(sd(f.current,!0)&&c||a!=="click"&&(n?u&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")&&r(!1):(p.preventDefault(),r(!0)),i.current.openEvent=p.nativeEvent))},onClick(p){if(a==="mousedown"&&f.current){f.current=void 0;return}sd(f.current,!0)&&c||(n?u&&(!i.current.openEvent||i.current.openEvent.type==="click")&&r(!1):r(!0),i.current.openEvent=p.nativeEvent)},onKeyDown(p){f.current=void 0,h&&(Aw(p)||(p.key===" "&&!Iw(o)&&p.preventDefault(),p.key==="Enter"&&(n?u&&r(!1):r(!0))))},onKeyUp(p){h&&(Aw(p)||Iw(o)||p.key===" "&&(n?u&&r(!1):r(!0)))}}}:{},[s,i,a,c,h,o,u,n,r])},MG=A.useInsertionEffect,PG=MG||(e=>e());function qc(e){const t=A.useRef(()=>{});return PG(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Ep(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const AG={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},IG={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jG=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}},G_=function(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:u},dataRef:c}=e,{enabled:h=!0,escapeKey:f=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:w=!1,referencePressEvent:x="pointerdown",ancestorScroll:_=!1,bubbles:y}=t,v=gv(),b=L_()!=null,C=qc(typeof p=="function"?p:()=>!1),M=typeof p=="function"?C:p,T=A.useRef(!1),{escapeKeyBubbles:P,outsidePressBubbles:I}=jG(y),N=qc(D=>{if(!n||!h||!f||D.key!=="Escape")return;const H=v?bp(v.nodesRef.current,o):[];if(!P&&(D.stopPropagation(),H.length>0)){let V=!0;if(H.forEach(G=>{var q;if((q=G.context)!=null&&q.open&&!G.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}),j=qc(D=>{const H=T.current;if(T.current=!1,H||typeof M=="function"&&!M(D))return;const V=yG(D);if(mv(V)&&u){const se=V.clientWidth>0&&V.scrollWidth>V.clientWidth,Z=V.clientHeight>0&&V.scrollHeight>V.clientHeight;let L=Z&&D.offsetX>V.clientWidth;if(Z&&gf(u).getComputedStyle(V).direction==="rtl"&&(L=D.offsetX<=V.offsetWidth-V.clientWidth),L||se&&D.offsetY>V.clientHeight)return}const G=v&&bp(v.nodesRef.current,o).some(se=>{var Z;return Ep(D,(Z=se.context)==null?void 0:Z.elements.floating)});if(Ep(D,u)||Ep(D,a)||G)return;const q=v?bp(v.nodesRef.current,o):[];if(q.length>0){let se=!0;if(q.forEach(Z=>{var L;if((L=Z.context)!=null&&L.open&&!Z.context.dataRef.current.__outsidePressBubbles){se=!1;return}}),!se)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:b?{preventScroll:!0}:fG(D)||pG(D)}}),r(!1)});return A.useEffect(()=>{if(!n||!h)return;c.current.__escapeKeyBubbles=P,c.current.__outsidePressBubbles=I;function D(){r(!1)}const H=ms(u);f&&H.addEventListener("keydown",N),M&&H.addEventListener(m,j);let V=[];return _&&(so(a)&&(V=Uo(a)),so(u)&&(V=V.concat(Uo(u))),!so(s)&&s&&s.contextElement&&(V=V.concat(Uo(s.contextElement)))),V=V.filter(G=>{var q;return G!==((q=H.defaultView)==null?void 0:q.visualViewport)}),V.forEach(G=>{G.addEventListener("scroll",D,{passive:!0})}),()=>{f&&H.removeEventListener("keydown",N),M&&H.removeEventListener(m,j),V.forEach(G=>{G.removeEventListener("scroll",D)})}},[c,u,a,s,f,M,m,n,r,_,h,P,I,N,j]),A.useEffect(()=>{T.current=!1},[M,m]),A.useMemo(()=>h?{reference:{onKeyDown:N,[AG[x]]:()=>{w&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{onKeyDown:N,[IG[m]]:()=>{T.current=!0}}}:{},[h,i,w,m,x,r,N])};function W_(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=Hz(e),o=gv(),s=A.useRef(null),a=A.useRef({}),u=A.useState(()=>aG())[0],c=R_(),[h,f]=A.useState(null),p=A.useCallback(v=>{const b=so(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;i.refs.setReference(b)},[i.refs]),m=A.useCallback(v=>{(so(v)||v===null)&&(s.current=v,f(v)),(so(i.refs.reference.current)||i.refs.reference.current===null||v!==null&&!so(v))&&i.refs.setReference(v)},[i.refs]),w=A.useMemo(()=>({...i.refs,setReference:m,setPositionReference:p,domReference:s}),[i.refs,m,p]),x=A.useMemo(()=>({...i.elements,domReference:h}),[i.elements,h]),_=qc(n),y=A.useMemo(()=>({...i,refs:w,elements:x,dataRef:a,nodeId:r,floatingId:c,events:u,open:t,onOpenChange:_}),[i,r,c,u,t,_,w,x]);return Rs(()=>{const v=o==null?void 0:o.nodesRef.current.find(b=>b.id===r);v&&(v.context=y)}),A.useMemo(()=>({...i,context:y,refs:w,elements:x,reference:m,positionReference:p}),[i,w,x,y,m,p])}function Cp(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,u]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var c;(c=r.get(a))==null||c.push(u),i[a]=function(){for(var h,f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return(h=r.get(a))==null?void 0:h.map(w=>w(...p)).find(w=>w!==void 0)}}}else i[a]=u}),i),{})}}const U_=function(e){e===void 0&&(e=[]);const t=e,n=A.useCallback(o=>Cp(o,e,"reference"),t),r=A.useCallback(o=>Cp(o,e,"floating"),t),i=A.useCallback(o=>Cp(o,e,"item"),e.map(o=>o==null?void 0:o.item));return A.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},V_=e=>{const{content:t,children:n,placement:r="bottom-start",trigger:i="click",offset:o=5}=e,[s,a]=A.useState(!1),u=C=>{var M;a(C),(M=e.onOpenChange)==null||M.call(e,C)},c=e.open===void 0?s:e.open,{x:h,y:f,strategy:p,refs:m,context:w}=W_({placement:r,open:c,onOpenChange:u,whileElementsMounted:P_,middleware:[Oz({fallbackAxisSideDirection:"end"}),Rz(o)]}),x=kG(w,{event:"mousedown",enabled:i==="click"}),_=G_(w),y=mG(w,{enabled:i==="hover"}),{getReferenceProps:v,getFloatingProps:b}=U_([x,y,_]);return S.jsxs(S.Fragment,{children:[k.cloneElement(n,{...v(),ref:m.setReference}),S.jsx(z_,{children:c&&S.jsx("div",{ref:m.setFloating,className:"sk-popover-content",style:{position:p,left:h??0,top:f??0},...b(),children:t})})]})};k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 12V17H12V12H17V11H12V6H11V11H6V12H11Z"})}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M5 19L21 19"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 12 5)",strokeWidth:"3"}),S.jsx("path",{d:"M15.5 9L15.5 17",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M12 4L12 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"8",y1:"14.5",x2:"16",y2:"14.5",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[S.jsx("path",{d:"M4 4L4 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"6",y1:"14.5",x2:"14",y2:"14.5",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M20 4L20 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"10",y1:"14.5",x2:"18",y2:"14.5",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M3 5L19 5"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 10 7)",strokeWidth:"3"}),S.jsx("line",{x1:"13.5",y1:"7",x2:"13.5",y2:"15",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M4 12L20 12"}),S.jsx("line",{x1:"9.5",y1:"18",x2:"9.5",y2:"6",strokeWidth:"3"}),S.jsx("path",{d:"M14.5 16L14.5 8",strokeWidth:"3"})]}));const OG=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 10L12 15L17 10"})})),X_=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 12L11 16L18 7"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 7L17 17M7 17L17 7",stroke:"#333333"})}));k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"3.08865",y:"7.49549",width:"1",height:"2.5",rx:"0.2",transform:"rotate(38.5717 3.08865 7.49549)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.781828 0.623494 0.623494 0.781828 12.6592 7.49549)",fill:"currentColor"}),S.jsx("rect",{x:"6.08005",y:"9.07446",width:"1",height:"2.5",rx:"0.2",transform:"rotate(21.1013 6.08005 9.07446)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.932945 0.360019 0.360019 0.932945 10 9.07446)",fill:"currentColor"}),S.jsx("path",{d:"M2 6.42055C2 6.42055 4 9.42055 8 9.42055C12 9.42055 14 6.42055 14 6.42055",stroke:"currentColor",strokeLinejoin:"round"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"5",y1:"5.5",x2:"15",y2:"5.5",stroke:"#333333"}),S.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"5",stroke:"#333333"}),S.jsx("line",{x1:"13.3947",y1:"5.30697",x2:"6.39468",y2:"14.307",stroke:"#333333"}),S.jsx("line",{x1:"7.35355",y1:"6.64645",x2:"12.3536",y2:"11.6464",stroke:"#333333"}),S.jsx("path",{d:"M11.5 18L15.5629 9.75718L19.5 18",stroke:"#333333",strokeLinejoin:"bevel"}),S.jsx("line",{x1:"13",y1:"14.2098",x2:"18",y2:"14.2098",stroke:"#333333"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"4",y1:"6.5",x2:"20",y2:"6.5"}),S.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16",strokeWidth:"4"}),S.jsx("line",{x1:"4",y1:"10.5",x2:"20",y2:"10.5",strokeWidth:"3"})]}));k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M5.5 7.5V5.5C5.5 4.39543 6.39543 3.5 7.5 3.5C8.60457 3.5 9.5 4.39543 9.5 5.5V7.5",stroke:"currentColor"})]}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8.0393 16.8461C7.11636 15.6636 5.60665 4.7907 5.60665 4.7907C5.60665 4.7907 15.7876 8.89536 16.7105 10.0778C17.6335 11.2602 15.9869 14.839 15.9869 14.839L18.2586 17.7494L15.1054 20.2106L12.8337 17.3002C12.8337 17.3002 8.96225 18.0285 8.0393 16.8461Z",stroke:"currentColor"}),S.jsx("path",{d:"M5.60666 4.7907L11.7596 12.6736",stroke:"currentColor"}),S.jsx("circle",{cx:"11.8572",cy:"12.7987",r:"1.25",transform:"rotate(-37.9736 11.8572 12.7987)",fill:"currentColor"})]}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M17.6992 9.30076L8.7158 18.2842C8.66927 18.3307 8.61198 18.3651 8.54902 18.3842L5.3017 19.3687C4.99583 19.4615 4.71011 19.1757 4.80285 18.8699L5.78742 15.6226C5.80651 15.5596 5.84084 15.5023 5.88737 15.4558L14.8708 6.47233M17.6992 9.30076L19.8593 7.14071C20.0155 6.9845 20.0155 6.73123 19.8593 6.57502L17.5966 4.31228C17.4403 4.15607 17.1871 4.15607 17.0309 4.31228L14.8708 6.47233M17.6992 9.30076L14.8708 6.47233",stroke:"currentColor"})}));k.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"})}));const RG=k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9.5 7.5L14.5 12.5L9.5 17.5"})}));k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8 5C4 5 2 8 2 8C2 8 4 11 8 11C12 11 14 8 14 8C14 8 12 5 8 5Z",stroke:"currentColor",strokeLinejoin:"round"}),S.jsx("circle",{cx:"8",cy:"8",r:"1.75",fill:"currentColor"})]}));k.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10.8183 5.3029L8.1715 9.71417C8.09382 9.84364 7.90618 9.84364 7.8285 9.71417L5.18174 5.3029C5.10176 5.16959 5.19778 5 5.35324 5H10.6468C10.8022 5 10.8982 5.16959 10.8183 5.3029Z",fill:"currentColor"})}));k.memo(()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",transform:"translate(0.25 0.25)  rotate(0 7.75 7.556366182551985)",d:"M5.00688 12.0551C4.91688 12.0551 4.84688 12.1051 4.84688 12.1651C4.84688 12.2451 4.91688 12.2951 5.01688 12.2851C5.11688 12.2851 5.18688 12.2351 5.18688 12.1651C5.18688 12.0951 5.10688 12.0451 5.00688 12.0551Z M4.34812 12.1793C4.42812 12.2093 4.51812 12.1793 4.53812 12.1193C4.55812 12.0593 4.49812 11.9893 4.40812 11.9593C4.32812 11.9393 4.23812 11.9693 4.20812 12.0293C4.18812 12.0893 4.25812 12.1593 4.34812 12.1793Z M5.44907 12.1237C5.45907 12.1937 5.53907 12.2337 5.63907 12.2137C5.72907 12.1837 5.78907 12.1237 5.77907 12.0637C5.76907 12.0037 5.68907 11.9637 5.58907 11.9737C5.49907 11.9937 5.43907 12.0537 5.44907 12.1237Z M7.65 0C3.32 0 0 3.29 0 7.63C0 11.09 2.18 14.06 5.3 15.1C5.7 15.17 5.84 14.93 5.84 14.72C5.84 14.53 5.83 13.46 5.83 12.8C5.83 12.8 3.64 13.27 3.18 11.87C3.18 11.87 2.83 10.96 2.31 10.73C2.31 10.73 1.6 10.24 2.36 10.25C2.36 10.25 3.14 10.31 3.57 11.05C4.25 12.26 5.4 11.91 5.85 11.71C5.92 11.21 6.12 10.86 6.35 10.65C4.6 10.46 2.84 10.21 2.84 7.2C2.84 6.34 3.08 5.91 3.58 5.36C3.49 5.16 3.23 4.32 3.66 3.24C4.31 3.03 5.81 4.08 5.81 4.08C6.44 3.91 7.11 3.82 7.78 3.82C8.44 3.82 9.11 3.91 9.74 4.08C9.74 4.08 11.24 3.03 11.89 3.24C12.32 4.32 12.06 5.16 11.98 5.36C12.48 5.91 12.78 6.34 12.78 7.2C12.78 10.22 10.94 10.46 9.19 10.65C9.48 10.9 9.73 11.37 9.73 12.1C9.73 13.16 9.72 14.46 9.72 14.72C9.72 14.92 9.86 15.17 10.26 15.09C13.38 14.06 15.5 11.09 15.5 7.63C15.5 3.29 11.98 0 7.65 0Z M3.06231 10.9369C3.11231 10.9869 3.18231 11.0169 3.22231 10.9669C3.26231 10.9369 3.25231 10.8669 3.20231 10.8069C3.15231 10.7569 3.08231 10.7369 3.04231 10.7769C2.99231 10.8069 3.00231 10.8769 3.06231 10.9369Z M2.77304 10.6435C2.82304 10.6735 2.88304 10.6735 2.90304 10.6235C2.93304 10.5835 2.89304 10.5335 2.83304 10.5035C2.77304 10.4835 2.72304 10.4935 2.70304 10.5235C2.68304 10.5635 2.71304 10.6135 2.77304 10.6435Z M3.75443 11.8362C3.82443 11.9062 3.91443 11.9162 3.95443 11.8662C3.99443 11.8262 3.97443 11.7262 3.91443 11.6662C3.84443 11.5962 3.75443 11.5862 3.71443 11.6362C3.66443 11.6762 3.68443 11.7762 3.75443 11.8362Z M3.35875 11.3601C3.40875 11.4301 3.48875 11.4701 3.52875 11.4301C3.57875 11.3901 3.57875 11.3101 3.52875 11.2401C3.48875 11.1701 3.40875 11.1401 3.35875 11.1801C3.30875 11.2101 3.30875 11.2901 3.35875 11.3601Z "})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"12",cy:"12",r:"7.5"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V7H16V4H17V7H20V8H17L17 16H20V17H17V20H16V17H8V20H7V17H4V16H7V8H4V7H7V4H8ZM16 16L16 8H8V16H16Z",fill:"currentColor"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M18.7717 7.39806H17.7548C17.5361 7.39806 17.3568 7.56657 17.3568 7.7767V11.3197H16.6395V6.01456C16.6395 5.55479 16.248 5.18239 15.7647 5.18239H14.8943C14.6712 5.18239 14.4876 5.35506 14.4876 5.56935V11.3197H13.7703V4.89528C13.7703 4.67684 13.5844 4.5 13.3547 4.5H12.4078C11.9726 4.5 11.6205 4.83495 11.6205 5.24896V11.3176H10.9032V6.4785C10.9032 6.23301 10.4364 6.01456 10.1784 6.01456L9.53862 6.03329C9.10343 6.03329 8.75352 6.36824 8.75352 6.78017V15.7698L5.939 13.8495C5.53005 13.5915 4.97676 13.7309 4.75589 14.1491C4.75589 14.1491 4.58968 14.4695 4.53064 14.5756C4.47378 14.6817 4.50221 14.7816 4.56563 14.8523C4.6203 14.9126 7.42171 18.0333 8.34895 19.0527C8.61794 19.3481 9.12092 19.5 9.55393 19.5H18.085C18.8679 19.5 19.384 18.8967 19.384 18.154L19.4999 11.3197V8.09709C19.5065 7.71013 19.1784 7.39806 18.7717 7.39806Z"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 5H5V13.6849L8.46807 9.78333L17.1983 18H18V5ZM5 18V15.1901L8.53193 11.2167L15.7392 18H5ZM4 4V19H19V4H4ZM16 9.5C16 10.3284 15.3284 11 14.5 11C13.6716 11 13 10.3284 13 9.5C13 8.67157 13.6716 8 14.5 8C15.3284 8 16 8.67157 16 9.5ZM17 9.5C17 10.8807 15.8807 12 14.5 12C13.1193 12 12 10.8807 12 9.5C12 8.11929 13.1193 7 14.5 7C15.8807 7 17 8.11929 17 9.5Z"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3915 5.35404L5.35308 19.354L4.64694 18.646L18.6853 4.64597L19.3915 5.35404Z"})}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 16H6V15H17V16Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 8H6V7H17V8Z"})]}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 5L19.7942 18.5H4.20577L12 5Z",stroke:"currentColor",strokeWidth:"1"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("rect",{x:"4.5",y:"4.5",width:"15",height:"15"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M14.0855 13.0738L13.9614 13.1256L13.8801 13.2327L9.24626 19.3343L5.72813 4.87748L19.1707 10.9487L14.0855 13.0738Z",stroke:"currentColor"})}));k.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 4L13.7961 9.52786H19.6085L14.9062 12.9443L16.7023 18.4721L12 15.0557L7.29772 18.4721L9.09383 12.9443L4.39155 9.52786H10.2039L12 4Z",stroke:"currentColor"})}));k.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"11",y:"5",width:"1",height:"14"}),S.jsx("rect",{x:"5",y:"5",width:"13",height:"1"}),S.jsx("rect",{x:"5",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"17",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"8",y:"18",width:"7",height:"1"})]}));k.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7.5",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M9.5 7.5V5.5C9.5 4.39543 10.3954 3.5 11.5 3.5C12.6046 3.5 13.5 4.39543 13.5 5.5V7",stroke:"currentColor"})]}));function LG(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var u in o)t.call(o,u)&&o[u]&&r.push(u)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(K_);var DG=K_.exports;const Y_=LG(DG),NG=e=>{const{onClick:t,label:n,suffix:r,check:i,subItems:o,emitter:s}=e;A.useEffect(()=>{const h=()=>{c(!1)};return s.on("openSubMenu",h),()=>{s.off("openSubMenu",h)}},[s,e.itemKey]);const a=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"sk-dropdown-item",children:[S.jsx("div",{className:"sk-dropdown-item-icon-box",children:i&&S.jsx(X_,{})}),n]}),r&&S.jsx("span",{children:r}),o&&S.jsx(RG,{})]}),[u,c]=A.useState(!1);return S.jsx(S.Fragment,{children:o?S.jsx(Z_,{items:o,onClick:t,open:u,placement:"right-start",offset:{mainAxis:0,crossAxis:-8},children:S.jsx("div",{className:Y_("sk-dropdown-item-wrap",{active:u}),onMouseEnter:()=>{s.emit("openSubMenu",e.itemKey),c(!0)},children:a})}):S.jsx("div",{className:"sk-dropdown-item-wrap",onClick:()=>t({key:e.itemKey}),onMouseEnter:()=>{s.emit("openSubMenu",e.itemKey)},children:a})})},BG=e=>e.type==="divider",Z_=e=>{const{items:t,children:n,placement:r="bottom-start"}=e,[i,o]=A.useState(!1),s=e.open===void 0?i:e.open,a=c=>{var h;o(c),(h=e.onOpenChange)==null||h.call(e,c)},u=A.useRef(new jH);return S.jsx(V_,{open:s,onOpenChange:a,placement:r,offset:e.offset,trigger:e.trigger,content:S.jsx("div",{className:"sk-dropdown-content",children:t.map((c,h)=>BG(c)?S.jsx("div",{className:"sk-dropdown-item-separator"},h):S.jsx(NG,{itemKey:c.key,label:c.label,suffix:c.suffix,check:c.check,subItems:c.children,emitter:u.current,onClick:f=>{var p;(p=e.onClick)!=null&&p.call(e,f)||a(!1)}},c.key))}),children:k.cloneElement(n)})},_l=({children:e,onClick:t})=>S.jsx("div",{className:"sk-icon-btn",onClick:()=>t(),children:e}),HG=({value:e,options:t=[],bordered:n=!0,style:r,dropdownWidth:i,onSelect:o})=>{var s;const[a,u]=A.useState(!1),{x:c,y:h,strategy:f,refs:p,context:m}=W_({placement:"bottom-start",open:a,onOpenChange:u,whileElementsMounted:P_}),w=G_(m),{getReferenceProps:x,getFloatingProps:_}=U_([w]),y=((s=t.find(b=>b.value===e))==null?void 0:s.label)??"",v=b=>{o&&e!=b&&o(b),u(!1)};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:r,className:Y_("sk-select",{"sk-select-no-border":!n}),ref:p.setReference,onClick:()=>u(!a),...x(),children:[y,S.jsx("span",{className:"sk-select-suffix-icon",children:S.jsx(OG,{})})]}),S.jsx(z_,{children:a&&S.jsx("div",{ref:p.setFloating,className:"sk-select-popover",style:{position:f,top:h??0,left:c??0,width:i},..._(),children:t.map(b=>S.jsxs("div",{className:"sk-select-popover-item",onClick:()=>v(b.value),children:[S.jsx("span",{className:"sk-select-popover-item-icon",children:b.value===e&&S.jsx(X_,{})}),b.label]},b.label))})})]})},FG=({children:e,onMouseDown:t,className:n,tooltipContent:r,hotkey:i})=>S.jsxs("div",{className:go("tool-btn",n),onMouseDown:()=>{t()},children:[e,S.jsxs("div",{className:"tooltip",children:[r,i&&S.jsx("span",{className:"tool-hotkey",children:i})]})]}),zG=()=>{const e=Qi(),t=A.useContext(yr),[n,r]=A.useState({});A.useEffect(()=>{if(!t)return;r(t.setting.getAttrs());const a=u=>{r(u)};return t.setting.on("update",a),()=>{t.setting.off("update",a)}},[t]);const i=a=>e.formatMessage(a),o=[{key:"import",label:i({id:"import.originFile"})},{key:"export",label:i({id:"export.originFile"})},{type:"divider"},{key:"preference",label:i({id:"preference"}),children:[{key:"snapToObjects",check:n.snapToObjects,label:i({id:"snapToObjects"})},{key:"keepToolSelectedAfterUse",check:n.keepToolSelectedAfterUse,label:i({id:"keepToolSelectedAfterUse"})},{key:"invertZoomDirection",check:n.invertZoomDirection,label:i({id:"invertZoomDirection"})},{key:"highlightLayersOnHover",check:n.highlightLayersOnHover,label:i({id:"highlightLayersOnHover"})},{key:"flipObjectsWhileResizing",check:n.flipObjectsWhileResizing,label:i({id:"flipObjectsWhileResizing"})}]}],s=({key:a})=>{if(!t)return;let u=!1;switch(a){case"import":L6.importOriginFile(t);break;case"export":j6.exportOriginFile(t);break;case"keepToolSelectedAfterUse":case"invertZoomDirection":case"highlightLayersOnHover":case"flipObjectsWhileResizing":case"snapToObjects":t.setting.toggle(a),u=!0;break}return u};return S.jsx(Z_,{items:o,onClick:s,children:S.jsx("div",{className:"sk-ed-menu-btn",children:S.jsx($R,{})})})},GG=()=>{const e=A.useContext(yr),t=Qi(),[n,r]=A.useState(""),[i,o]=A.useState([]),[s,a]=A.useState(!1);A.useEffect(()=>{if(e){r(e.toolManager.getActiveToolName()||""),o(e.toolManager.getEnableTools()),a(e.pathEditor.isActive());const c=p=>{a(p)},h=p=>{r(p)},f=p=>{o(p)};return e.toolManager.on("switchTool",h),e.toolManager.on("changeEnableTools",f),e.pathEditor.on("toggle",c),()=>{e.toolManager.off("switchTool",h),e.toolManager.off("changeEnableTools",f),e.pathEditor.off("toggle",c)}}},[e]);const u={select:{name:"select",hotkey:"V",intlId:"tool.select",icon:S.jsx(jx,{})},drawFrame:{name:"drawFrame",hotkey:"F",intlId:"tool.frame",icon:S.jsx(SR,{})},drawRect:{name:"drawRect",hotkey:"R",intlId:"tool.rectangle",icon:S.jsx(kR,{})},drawEllipse:{name:"drawEllipse",hotkey:"O",intlId:"tool.ellipse",icon:S.jsx(bR,{})},drawImg:{name:"drawImg",hotkey:"",intlId:"tool.image",icon:S.jsx(CR,{})},pathSelect:{name:"pathSelect",hotkey:"V",intlId:"tool.select",icon:S.jsx(jx,{})},pen:{name:"pen",hotkey:"P",intlId:"tool.pen",icon:S.jsx(vR,{})},pencil:{name:"pencil",hotkey:`${gt()?"Shift+":"⇧"}P`,intlId:"tool.pencil",icon:S.jsx(yR,{})},drawLine:{name:"drawLine",hotkey:"L",intlId:"tool.line",icon:S.jsx(_R,{})},drawRegularPolygon:{name:"drawRegularPolygon",hotkey:"",intlId:"tool.polygon",icon:S.jsx(TR,{})},drawStar:{name:"drawStar",hotkey:"",intlId:"tool.star",icon:S.jsx(MR,{})},drawText:{name:"drawText",hotkey:"T",intlId:"tool.text",icon:S.jsx(PR,{})},dragCanvas:{name:"dragCanvas",hotkey:"H",intlId:"tool.hand",icon:S.jsx(ER,{})}};return S.jsxs("div",{className:"suika-tool-bar",children:[S.jsx(zG,{}),i.map(c=>{const h=u[c];return S.jsx(FG,{className:go({active:n===h.name}),tooltipContent:t.formatMessage({id:h.intlId}),hotkey:h.hotkey,onMouseDown:()=>{e==null||e.toolManager.setActiveTool(h.name)},children:h.icon},h.name)}),s&&S.jsx(kH,{style:{marginLeft:"16px",userSelect:"none"},onClick:()=>{e&&e.pathEditor.inactive()},children:t.formatMessage({id:"done"})})]})},WG=({title:e})=>S.jsxs("div",{className:"sk-header",children:[S.jsx(GG,{}),S.jsx(TH,{value:e}),S.jsxs("div",{className:"sk-right-area",children:[S.jsx(CH,{}),S.jsx($H,{})]})]}),$u=({title:e,children:t,headerAction:n})=>S.jsxs("div",{className:"info-card",children:[e&&S.jsxs("div",{className:"info-card-title",children:[S.jsx("span",{children:e}),n]}),t]}),UG=()=>{const e=A.useContext(yr),[t,n]=A.useState(!0);return A.useEffect(()=>{if(e){const r=e.selectedElements.getItems();n(r.length<2);const i=o=>{n(o.length<2)};return e.selectedElements.on("itemsChange",i),()=>{e.selectedElements.off("itemsChange",i)}}},[e]),S.jsx($u,{children:S.jsxs("div",{className:go("align-list",{disabled:t}),children:[S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.Left)},children:S.jsx(aR,{})}),S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.HCenter)},children:S.jsx(sR,{})}),S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.Right)},children:S.jsx(lR,{})}),S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.Top)},children:S.jsx(uR,{})}),S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.VCenter)},children:S.jsx(cR,{})}),S.jsx("div",{className:"align-item",onClick:()=>{e&&br(e,Ke.Bottom)},children:S.jsx(oR,{})})]})})},jw=Math.PI*2;function VG(e){return e*Math.PI/180}const XG=e=>(e=e%jw,e<0&&(e+=jw),e);var KG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YG={exports:{}};(function(e,t){(function(n,r){r(e)})(KG,function(n){function r(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function i(y,v,b){if(!Array.isArray(y))throw new TypeError("First argument should be an array");if(y.forEach(function(P){if(!Array.isArray(P)||P.some(function(I){return typeof I!="number"})||P.length!==y[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),y=y.filter(function(P,I){return I===0||!P.every(function(N,j){return N===y[I-1][j]})}),y.length<2)return[];var C=y.length,M=w(y[1],y[0]),T=w(y[C-2],y[C-1]);return o(y,M,T,v,b)}function o(y,v,b,C,M){var T=20,P,I,N,j,D,H,V,G,q,se,Z,L,K;if(y.length===2)return L=x.vectorLen(x.subtract(y[0],y[1]))/3,P=[y[0],x.addArrays(y[0],x.mulItems(v,L)),x.addArrays(y[1],x.mulItems(b,L)),y[1]],[P];I=h(y);var R=s(y,I,I,v,b,M);if(P=R[0],j=R[1],H=R[2],j===0||j<C)return[P];if(j<C*C)for(N=I,D=j,V=H,K=0;K<T;K++){N=u(P,y,N);var le=s(y,I,N,v,b,M);if(P=le[0],j=le[1],H=le[2],j<C)return[P];if(H===V){var he=j/D;if(he>.9999&&he<1.0001)break}D=j,V=H}if(Z=[],G=x.subtract(y[H-1],y[H+1]),G.every(function(Be){return Be===0})){G=x.subtract(y[H-1],y[H]);var ne=[-G[1],G[0]];G[0]=ne[0],G[1]=ne[1]}return q=x.normalize(G),se=x.mulItems(q,-1),Z=Z.concat(o(y.slice(0,H+1),v,q,C,M)),Z=Z.concat(o(y.slice(H),se,b,C,M)),Z}function s(y,v,b,C,M,T){var P,I,N;P=a(y,b,C,M);var j=f(y,P,v);return I=j[0],N=j[1],T&&T({bez:P,points:y,params:v,maxErr:I,maxPoint:N}),[P,I,N]}function a(y,v,b,C){var M,T,P,I,N,j,D,H,V,G,q,se,Z,L,K,R,le,he=y[0],ne=y[y.length-1];for(M=[he,null,null,ne],T=x.zeros_Xx2x2(v.length),Z=0,L=v.length;Z<L;Z++)R=v[Z],le=1-R,P=T[Z],P[0]=x.mulItems(b,3*R*(le*le)),P[1]=x.mulItems(C,3*le*(R*R));for(I=[[0,0],[0,0]],N=[0,0],Z=0,L=y.length;Z<L;Z++)R=v[Z],P=T[Z],I[0][0]+=x.dot(P[0],P[0]),I[0][1]+=x.dot(P[0],P[1]),I[1][0]+=x.dot(P[0],P[1]),I[1][1]+=x.dot(P[1],P[1]),K=x.subtract(y[Z],_.q([he,he,ne,ne],R)),N[0]+=x.dot(P[0],K),N[1]+=x.dot(P[1],K);return j=I[0][0]*I[1][1]-I[1][0]*I[0][1],D=I[0][0]*N[1]-I[1][0]*N[0],H=N[0]*I[1][1]-N[1]*I[0][1],V=j===0?0:H/j,G=j===0?0:D/j,se=x.vectorLen(x.subtract(he,ne)),q=1e-6*se,V<q||G<q?(M[1]=x.addArrays(he,x.mulItems(b,se/3)),M[2]=x.addArrays(ne,x.mulItems(C,se/3))):(M[1]=x.addArrays(he,x.mulItems(b,V)),M[2]=x.addArrays(ne,x.mulItems(C,G))),M}function u(y,v,b){return b.map(function(C,M){return c(y,v[M],C)})}function c(y,v,b){var C=x.subtract(_.q(y,b),v),M=_.qprime(y,b),T=x.mulMatrix(C,M),P=x.sum(x.squareItems(M))+2*x.mulMatrix(C,_.qprimeprime(y,b));return P===0?b:b-T/P}function h(y){var v=[],b,C,M;return y.forEach(function(T,P){b=P?C+x.vectorLen(x.subtract(T,M)):0,v.push(b),C=b,M=T}),v=v.map(function(T){return T/C}),v}function f(y,v,b){var C,M,T,P,I,N,j,D;M=0,T=Math.floor(y.length/2);var H=p(v,10);for(I=0,N=y.length;I<N;I++)j=y[I],D=m(v,b[I],H,10),P=x.subtract(_.q(v,D),j),C=P[0]*P[0]+P[1]*P[1],C>M&&(M=C,T=I);return[M,T]}var p=function(y,v){for(var b,C=[0],M=y[0],T=0,P=1;P<=v;P++)b=_.q(y,P/v),T+=x.vectorLen(x.subtract(b,M)),C.push(T),M=b;return C=C.map(function(I){return I/T}),C};function m(y,v,b,C){if(v<0)return 0;if(v>1)return 1;for(var M,T,P,I,N,j=1;j<=C;j++)if(v<=b[j]){I=(j-1)/C,P=j/C,T=b[j-1],M=b[j],N=(v-T)/(M-T)*(P-I)+I;break}return N}function w(y,v){return x.normalize(x.subtract(y,v))}var x=function(){function y(){r(this,y)}return y.zeros_Xx2x2=function(v){for(var b=[];v--;)b.push([0,0]);return b},y.mulItems=function(v,b){return v.map(function(C){return C*b})},y.mulMatrix=function(v,b){return v.reduce(function(C,M,T){return C+M*b[T]},0)},y.subtract=function(v,b){return v.map(function(C,M){return C-b[M]})},y.addArrays=function(v,b){return v.map(function(C,M){return C+b[M]})},y.addItems=function(v,b){return v.map(function(C){return C+b})},y.sum=function(v){return v.reduce(function(b,C){return b+C})},y.dot=function(v,b){return y.mulMatrix(v,b)},y.vectorLen=function(v){return Math.hypot.apply(Math,v)},y.divItems=function(v,b){return v.map(function(C){return C/b})},y.squareItems=function(v){return v.map(function(b){return b*b})},y.normalize=function(v){return this.divItems(v,this.vectorLen(v))},y}(),_=function(){function y(){r(this,y)}return y.q=function(v,b){var C=1-b,M=x.mulItems(v[0],C*C*C),T=x.mulItems(v[1],3*C*C*b),P=x.mulItems(v[2],3*C*b*b),I=x.mulItems(v[3],b*b*b);return x.addArrays(x.addArrays(M,T),x.addArrays(P,I))},y.qprime=function(v,b){var C=1-b,M=x.mulItems(x.subtract(v[1],v[0]),3*C*C),T=x.mulItems(x.subtract(v[2],v[1]),6*C*b),P=x.mulItems(x.subtract(v[3],v[2]),3*b*b);return x.addArrays(x.addArrays(M,T),P)},y.qprimeprime=function(v,b){return x.addArrays(x.mulItems(x.addArrays(x.subtract(v[2],x.mulItems(v[1],2)),v[0]),6*(1-b)),x.mulItems(x.addArrays(x.subtract(v[3],x.mulItems(v[2],2)),v[1]),6*b))},y}();n.exports=i,n.exports.fitCubic=o,n.exports.createTangent=w})})(YG);const q_=e=>{const{value:t,parser:n,prefix:r,onChange:i,onKeyDown:o}=e,s=A.useRef(null),a=A.useRef(!1);return A.useEffect(()=>{s.current&&(s.current.value=String(t))},[t]),S.jsxs("div",{className:go("suika-custom-ruler-input-box",e.classNames),children:[r&&S.jsx("div",{className:"suika-custom-input-prefix",children:r}),S.jsx("input",{ref:s,className:"custom-rule-input",defaultValue:t,onMouseUp:u=>{const c=u.currentTarget;a.current||c.select(),a.current=!0},onKeyDown:u=>{o==null||o(u),u.key==="Enter"&&!u.nativeEvent.isComposing&&u.currentTarget.blur()},onBlur:u=>{a.current=!1;const c=window.getSelection();if(c&&c.removeAllRanges(),s.current){const h=s.current.value.trim(),f=n(h,t);f!==!1?(u.target.value=String(f),i(f)):u.target.value=String(t)}}})]})},ZG=e=>!Number.isNaN(Number(e)),vv=e=>{const{value:t,min:n=-1/0,max:r=1/0,onChange:i,prefix:o,suffixValue:s="",classNames:a,onIncrement:u,onDecrement:c}=e,h=A.useRef(null);return A.useEffect(()=>{h.current&&(h.current.value=String(t))},[t]),S.jsx(q_,{prefix:o,parser:f=>{f=f.trim(),s&&f.endsWith(s)&&(f=f.slice(0,-s.length));let p=uP(f);return!Number.isNaN(p)&&p!==t?(p=Math.max(n,p),p=Math.min(r,p),String(p)):!1},value:ZG(String(t))?t+s:t,classNames:a,onChange:f=>i(Number(f)),onKeyDown:f=>{f.key==="ArrowUp"?(f.preventDefault(),u==null||u()):f.key==="ArrowDown"&&(f.preventDefault(),c==null||c())}})},yv=e=>{const t=typeof e.value=="number"?Number((e.value*100).toFixed(2)):e.value,n=o=>e.onChange(o/100),r=e.min===void 0?void 0:e.min*100,i=e.max===void 0?void 0:e.max*100;return S.jsx(vv,{value:t,min:r,max:i,suffixValue:"%",onChange:n,prefix:e.prefix,classNames:e.classNames,onIncrement:e.onIncrement,onDecrement:e.onDecrement})},qG=()=>{const e=A.useContext(yr),n=Qi().formatMessage({id:"mixed"}),[r,i]=A.useState([]);A.useEffect(()=>{if(e){const a=()=>{const u=e.selectedElements.getItems(),c=new Map;for(const h of u){const f=h.getInfoPanelAttrs();for(const p of f){p.uiType==="number"&&(p.value=ym(p.value,2));const m=p.label;c.has(m)?c.get(m).value!==p.value&&(c.get(m).value=n):c.set(m,p)}}i(Array.from(c.values()))};return a(),e.sceneGraph.on("render",a),()=>{e.sceneGraph.off("render",a)}}},[e,n]);const o=(a,u,c=!1)=>{if(!e)return!1;const h=e.selectedElements.getItems(),f={editor:e,graphicsArr:h,val:u,isDelta:c};a==="x"?wn.setX(f):a==="y"?wn.setY(f):a==="width"?wn.setWidth(f):a==="height"?wn.setHeight(f):a==="rotation"?wn.setRotation({editor:e,graphicsArr:h,rotation:XG(VG(u)),isDelta:c}):a==="cornerRadius"?wn.setCornerRadius(f):a==="count"?wn.setCount({editor:e,graphicsArr:h,val:Math.round(u),isDelta:c}):a==="starInnerScale"&&wn.setStarInnerScale(f),e.render()},s=a=>({onChange:u=>{o(a,u)},onIncrement:()=>{o(a,a==="starInnerScale"?.01:1,!0)},onDecrement:()=>{o(a,a==="starInnerScale"?-.01:-1,!0)}});return S.jsxs($u,{children:[S.jsx("div",{className:"element-info-attrs-row",children:r.slice(0,2).map(a=>A.createElement(Mc,{...a,key:a.key,...s(a.key)}))}),S.jsx("div",{className:"element-info-attrs-row",children:r.slice(2,4).map(a=>A.createElement(Mc,{...a,key:a.key,...s(a.key)}))}),S.jsx("div",{className:"element-info-attrs-row",children:r.slice(4,6).map(a=>A.createElement(Mc,{...a,key:a.key,...s(a.key)}))}),r.length>6&&S.jsx("div",{className:"element-info-attrs-row",children:r.slice(6,8).map(a=>A.createElement(Mc,{...a,key:a.key,...s(a.key)}))})]})},Mc=e=>e.uiType==="percent"?S.jsx(yv,{prefix:S.jsx("span",{className:"suika-info-attrs-label",children:e.label}),value:e.value,min:e.min,max:e.max,onChange:e.onChange,onIncrement:e.onIncrement,onDecrement:e.onDecrement}):S.jsx(vv,{prefix:S.jsx("span",{className:"suika-info-attrs-label",children:e.label}),value:e.value,min:e.min,max:e.max,onChange:e.onChange,suffixValue:e.suffixValue,onIncrement:e.onIncrement,onDecrement:e.onDecrement}),QG=({value:e,onChange:t})=>{const n=A.useRef(null);return W3(()=>{const r=document.createElement("input");r.type="file",r.accept="image/*",r.onchange=i=>{var a;const o=(a=i.target.files)==null?void 0:a[0];if(!o)return;const s=new FileReader;s.onload=u=>{var h;const c=(h=u.target)==null?void 0:h.result;setTimeout(()=>{t(c)})},s.readAsDataURL(o)},n.current=r}),S.jsx("div",{className:"suika-image-picker",children:S.jsxs("div",{className:"suika-img-content",children:[S.jsx("img",{className:"suika-img-preview",src:e||OC}),S.jsx("div",{className:"suika-img-choose-btn-wrapper",children:S.jsx("button",{className:"suika-img-choose-btn",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},children:S.jsx(lt,{id:"uploadFile"})})})]})})};var Sr={},Wu={},JG=Fs,eW=Li,tW=wo,nW="[object String]";function rW(e){return typeof e=="string"||!eW(e)&&tW(e)&&JG(e)==nW}var iW=rW;function oW(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(n(o[u],u,o)===!1)break}return t}}var sW=oW,aW=sW,lW=aW(),uW=lW,cW=uW,hW=Gu;function dW(e,t){return e&&cW(e,t,hW)}var Q_=dW;function fW(e){return e}var J_=fW,pW=J_;function gW(e){return typeof e=="function"?e:pW}var mW=gW,vW=Q_,yW=mW;function xW(e,t){return e&&vW(e,yW(t))}var xv=xW,wW=i_,bW=wW(Object.getPrototypeOf,Object),wv=bW,SW=Fs,EW=wv,CW=wo,_W="[object Object]",$W=Function.prototype,TW=Object.prototype,e$=$W.toString,kW=TW.hasOwnProperty,MW=e$.call(Object);function PW(e){if(!CW(e)||SW(e)!=_W)return!1;var t=EW(e);if(t===null)return!0;var n=kW.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&e$.call(n)==MW}var AW=PW;function IW(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var t$=IW,jW=Qm,OW=l_,RW=1,LW=2;function DW(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var u=a[0],c=e[u],h=a[1];if(s&&a[2]){if(c===void 0&&!(u in e))return!1}else{var f=new jW;if(r)var p=r(c,h,u,e,t,f);if(!(p===void 0?OW(h,c,RW|LW,r,f):p))return!1}}return!0}var NW=DW,BW=rs;function HW(e){return e===e&&!BW(e)}var n$=HW,FW=n$,zW=Gu;function GW(e){for(var t=zW(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,FW(i)]}return t}var WW=GW;function UW(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var r$=UW,VW=NW,XW=WW,KW=r$;function YW(e){var t=XW(e);return t.length==1&&t[0][2]?KW(t[0][0],t[0][1]):function(n){return n===e||VW(n,e,t)}}var ZW=YW,qW=Li,QW=ef,JW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eU=/^\w*$/;function tU(e,t){if(qW(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||QW(e)?!0:eU.test(e)||!JW.test(e)||t!=null&&e in Object(t)}var bv=tU,i$=qm,nU="Expected a function";function Sv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nU);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Sv.Cache||i$),n}Sv.Cache=i$;var rU=Sv,iU=rU,oU=500;function sU(e){var t=iU(e,function(r){return n.size===oU&&n.clear(),r}),n=t.cache;return t}var aU=sU,lU=aU,uU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cU=/\\(\\)?/g,hU=lU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uU,function(n,r,i,o){t.push(i?o.replace(cU,"$1"):r||n)}),t}),dU=hU,Ow=zu,fU=t$,pU=Li,gU=ef,mU=1/0,Rw=Ow?Ow.prototype:void 0,Lw=Rw?Rw.toString:void 0;function o$(e){if(typeof e=="string")return e;if(pU(e))return fU(e,o$)+"";if(gU(e))return Lw?Lw.call(e):"";var t=e+"";return t=="0"&&1/e==-mU?"-0":t}var vU=o$,yU=vU;function xU(e){return e==null?"":yU(e)}var wU=xU,bU=Li,SU=bv,EU=dU,CU=wU;function _U(e,t){return bU(e)?e:SU(e,t)?[e]:EU(CU(e))}var s$=_U,$U=ef,TU=1/0;function kU(e){if(typeof e=="string"||$U(e))return e;var t=e+"";return t=="0"&&1/e==-TU?"-0":t}var mf=kU,MU=s$,PU=mf;function AU(e,t){t=MU(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[PU(t[n++])];return n&&n==r?e:void 0}var a$=AU,IU=a$;function jU(e,t,n){var r=e==null?void 0:IU(e,t);return r===void 0?n:r}var OU=jU;function RU(e,t){return e!=null&&t in Object(e)}var LU=RU,DU=s$,NU=e_,BU=Li,HU=t_,FU=tv,zU=mf;function GU(e,t,n){t=DU(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=zU(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&FU(i)&&HU(s,i)&&(BU(e)||NU(e)))}var WU=GU,UU=LU,VU=WU;function XU(e,t){return e!=null&&VU(e,t,UU)}var KU=XU,YU=l_,ZU=OU,qU=KU,QU=bv,JU=n$,eV=r$,tV=mf,nV=1,rV=2;function iV(e,t){return QU(e)&&JU(t)?eV(tV(e),t):function(n){var r=ZU(n,e);return r===void 0&&r===t?qU(n,e):YU(t,r,nV|rV)}}var oV=iV;function sV(e){return function(t){return t==null?void 0:t[e]}}var aV=sV,lV=a$;function uV(e){return function(t){return lV(t,e)}}var cV=uV,hV=aV,dV=cV,fV=bv,pV=mf;function gV(e){return fV(e)?hV(pV(e)):dV(e)}var mV=gV,vV=ZW,yV=oV,xV=J_,wV=Li,bV=mV;function SV(e){return typeof e=="function"?e:e==null?xV:typeof e=="object"?wV(e)?yV(e[0],e[1]):vV(e):bV(e)}var EV=SV,CV=af;function _V(e,t){return function(n,r){if(n==null)return n;if(!CV(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var $V=_V,TV=Q_,kV=$V,MV=kV(TV),PV=MV,AV=PV,IV=af;function jV(e,t){var n=-1,r=IV(e)?Array(e.length):[];return AV(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var OV=jV,RV=t$,LV=EV,DV=OV,NV=Li;function BV(e,t){var n=NV(e)?RV:DV;return n(e,LV(t))}var HV=BV;Object.defineProperty(Wu,"__esModule",{value:!0});Wu.flattenNames=void 0;var FV=iW,zV=vf(FV),GV=xv,WV=vf(GV),UV=AW,VV=vf(UV),XV=HV,KV=vf(XV);function vf(e){return e&&e.__esModule?e:{default:e}}var YV=Wu.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,KV.default)(t,function(r){Array.isArray(r)?e(r).map(function(i){return n.push(i)}):(0,VV.default)(r)?(0,WV.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,zV.default)(r)&&n.push(r)}),n};Wu.default=YV;var Uu={};function ZV(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var qV=ZV,QV=zs,JV=function(){try{var e=QV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eX=JV,Dw=eX;function tX(e,t,n){t=="__proto__"&&Dw?Dw(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var l$=tX,nX=l$,rX=Ym,iX=Object.prototype,oX=iX.hasOwnProperty;function sX(e,t,n){var r=e[t];(!(oX.call(e,t)&&rX(r,n))||n===void 0&&!(t in e))&&nX(e,t,n)}var u$=sX,aX=u$,lX=l$;function uX(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;u===void 0&&(u=e[a]),i?lX(n,a,u):aX(n,a,u)}return n}var yf=uX,cX=yf,hX=Gu;function dX(e,t){return e&&cX(t,hX(t),e)}var fX=dX;function pX(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var gX=pX,mX=rs,vX=iv,yX=gX,xX=Object.prototype,wX=xX.hasOwnProperty;function bX(e){if(!mX(e))return yX(e);var t=vX(e),n=[];for(var r in e)r=="constructor"&&(t||!wX.call(e,r))||n.push(r);return n}var SX=bX,EX=r_,CX=SX,_X=af;function $X(e){return _X(e)?EX(e,!0):CX(e)}var Ev=$X,TX=yf,kX=Ev;function MX(e,t){return e&&TX(t,kX(t),e)}var PX=MX,ad={exports:{}};ad.exports;(function(e,t){var n=Ri,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function u(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}e.exports=u})(ad,ad.exports);var AX=ad.exports;function IX(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var jX=IX,OX=yf,RX=Jm;function LX(e,t){return OX(e,RX(e),t)}var DX=LX,NX=Z3,BX=wv,HX=Jm,FX=Q3,zX=Object.getOwnPropertySymbols,GX=zX?function(e){for(var t=[];e;)NX(t,HX(e)),e=BX(e);return t}:FX,c$=GX,WX=yf,UX=c$;function VX(e,t){return WX(e,UX(e),t)}var XX=VX,KX=q3,YX=c$,ZX=Ev;function qX(e){return KX(e,ZX,YX)}var QX=qX,JX=Object.prototype,eK=JX.hasOwnProperty;function tK(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&eK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var nK=tK,Nw=Y3;function rK(e){var t=new e.constructor(e.byteLength);return new Nw(t).set(new Nw(e)),t}var Cv=rK,iK=Cv;function oK(e,t){var n=t?iK(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var sK=oK,aK=/\w*$/;function lK(e){var t=new e.constructor(e.source,aK.exec(e));return t.lastIndex=e.lastIndex,t}var uK=lK,Bw=zu,Hw=Bw?Bw.prototype:void 0,Fw=Hw?Hw.valueOf:void 0;function cK(e){return Fw?Object(Fw.call(e)):{}}var hK=cK,dK=Cv;function fK(e,t){var n=t?dK(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var pK=fK,gK=Cv,mK=sK,vK=uK,yK=hK,xK=pK,wK="[object Boolean]",bK="[object Date]",SK="[object Map]",EK="[object Number]",CK="[object RegExp]",_K="[object Set]",$K="[object String]",TK="[object Symbol]",kK="[object ArrayBuffer]",MK="[object DataView]",PK="[object Float32Array]",AK="[object Float64Array]",IK="[object Int8Array]",jK="[object Int16Array]",OK="[object Int32Array]",RK="[object Uint8Array]",LK="[object Uint8ClampedArray]",DK="[object Uint16Array]",NK="[object Uint32Array]";function BK(e,t,n){var r=e.constructor;switch(t){case kK:return gK(e);case wK:case bK:return new r(+e);case MK:return mK(e,n);case PK:case AK:case IK:case jK:case OK:case RK:case LK:case DK:case NK:return xK(e,n);case SK:return new r;case EK:case $K:return new r(e);case CK:return vK(e);case _K:return new r;case TK:return yK(e)}}var HK=BK,FK=rs,zw=Object.create,zK=function(){function e(){}return function(t){if(!FK(t))return{};if(zw)return zw(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),GK=zK,WK=GK,UK=wv,VK=iv;function XK(e){return typeof e.constructor=="function"&&!VK(e)?WK(UK(e)):{}}var KK=XK,YK=lf,ZK=wo,qK="[object Map]";function QK(e){return ZK(e)&&YK(e)==qK}var JK=QK,eY=JK,tY=nv,Gw=rv,Ww=Gw&&Gw.isMap,nY=Ww?tY(Ww):eY,rY=nY,iY=lf,oY=wo,sY="[object Set]";function aY(e){return oY(e)&&iY(e)==sY}var lY=aY,uY=lY,cY=nv,Uw=rv,Vw=Uw&&Uw.isSet,hY=Vw?cY(Vw):uY,dY=hY,fY=Qm,pY=qV,gY=u$,mY=fX,vY=PX,yY=AX,xY=jX,wY=DX,bY=XX,SY=o_,EY=QX,CY=lf,_Y=nK,$Y=HK,TY=KK,kY=Li,MY=ev,PY=rY,AY=rs,IY=dY,jY=Gu,OY=Ev,RY=1,LY=2,DY=4,h$="[object Arguments]",NY="[object Array]",BY="[object Boolean]",HY="[object Date]",FY="[object Error]",d$="[object Function]",zY="[object GeneratorFunction]",GY="[object Map]",WY="[object Number]",f$="[object Object]",UY="[object RegExp]",VY="[object Set]",XY="[object String]",KY="[object Symbol]",YY="[object WeakMap]",ZY="[object ArrayBuffer]",qY="[object DataView]",QY="[object Float32Array]",JY="[object Float64Array]",eZ="[object Int8Array]",tZ="[object Int16Array]",nZ="[object Int32Array]",rZ="[object Uint8Array]",iZ="[object Uint8ClampedArray]",oZ="[object Uint16Array]",sZ="[object Uint32Array]",ze={};ze[h$]=ze[NY]=ze[ZY]=ze[qY]=ze[BY]=ze[HY]=ze[QY]=ze[JY]=ze[eZ]=ze[tZ]=ze[nZ]=ze[GY]=ze[WY]=ze[f$]=ze[UY]=ze[VY]=ze[XY]=ze[KY]=ze[rZ]=ze[iZ]=ze[oZ]=ze[sZ]=!0;ze[FY]=ze[d$]=ze[YY]=!1;function Qc(e,t,n,r,i,o){var s,a=t&RY,u=t&LY,c=t&DY;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!AY(e))return e;var h=kY(e);if(h){if(s=_Y(e),!a)return xY(e,s)}else{var f=CY(e),p=f==d$||f==zY;if(MY(e))return yY(e,a);if(f==f$||f==h$||p&&!i){if(s=u||p?{}:TY(e),!a)return u?bY(e,vY(s,e)):wY(e,mY(s,e))}else{if(!ze[f])return i?e:{};s=$Y(e,f,a)}}o||(o=new fY);var m=o.get(e);if(m)return m;o.set(e,s),IY(e)?e.forEach(function(_){s.add(Qc(_,t,n,_,e,o))}):PY(e)&&e.forEach(function(_,y){s.set(y,Qc(_,t,n,y,e,o))});var w=c?u?EY:SY:u?OY:jY,x=h?void 0:w(e);return pY(x||e,function(_,y){x&&(y=_,_=e[y]),gY(s,y,Qc(_,t,n,y,e,o))}),s}var aZ=Qc,lZ=aZ,uZ=1,cZ=4;function hZ(e){return lZ(e,uZ|cZ)}var dZ=hZ;Object.defineProperty(Uu,"__esModule",{value:!0});Uu.mergeClasses=void 0;var fZ=xv,pZ=p$(fZ),gZ=dZ,mZ=p$(gZ),vZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p$(e){return e&&e.__esModule?e:{default:e}}var yZ=Uu.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,mZ.default)(t.default)||{};return n.map(function(i){var o=t[i];return o&&(0,pZ.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=vZ({},r[a],o[a])}),i}),r};Uu.default=yZ;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.autoprefix=void 0;var xZ=xv,Xw=bZ(xZ),wZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function bZ(e){return e&&e.__esModule?e:{default:e}}var SZ={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},EZ=Vu.autoprefix=function(t){var n={};return(0,Xw.default)(t,function(r,i){var o={};(0,Xw.default)(r,function(s,a){var u=SZ[a];u?o=wZ({},o,u(s)):o[a]=s}),n[i]=o}),n};Vu.default=EZ;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.hover=void 0;var CZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_Z=A,_p=$Z(_Z);function $Z(e){return e&&e.__esModule?e:{default:e}}function TZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MZ=Xu.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){kZ(i,r);function i(){var o,s,a,u;TZ(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return u=(s=(a=Kw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return _p.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},_p.default.createElement(t,CZ({},a.props,a.state)))},s),Kw(a,u)}return i}(_p.default.Component)};Xu.default=MZ;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.active=void 0;var PZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AZ=A,$p=IZ(AZ);function IZ(e){return e&&e.__esModule?e:{default:e}}function jZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function OZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var RZ=Ku.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){OZ(i,r);function i(){var o,s,a,u;jZ(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return u=(s=(a=Yw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return $p.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},$p.default.createElement(t,PZ({},a.props,a.state)))},s),Yw(a,u)}return i}($p.default.Component)};Ku.default=RZ;var _v={};Object.defineProperty(_v,"__esModule",{value:!0});var LZ=function(t,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return t===0&&i("first-child"),t===n-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),r};_v.default=LZ;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.ReactCSS=Sr.loop=Sr.handleActive=$v=Sr.handleHover=Sr.hover=void 0;var DZ=Wu,NZ=dl(DZ),BZ=Uu,HZ=dl(BZ),FZ=Vu,zZ=dl(FZ),GZ=Xu,g$=dl(GZ),WZ=Ku,UZ=dl(WZ),VZ=_v,XZ=dl(VZ);function dl(e){return e&&e.__esModule?e:{default:e}}Sr.hover=g$.default;var $v=Sr.handleHover=g$.default;Sr.handleActive=UZ.default;Sr.loop=XZ.default;var KZ=Sr.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,NZ.default)(r),s=(0,HZ.default)(t,o);return(0,zZ.default)(s)},me=Sr.default=KZ,YZ=function(t,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=u-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>s?m=1:m=Math.round(h*100/s)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},Tp={},ZZ=function(t,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=t,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},qZ=function(t,n,r,i){var o=t+"-"+n+"-"+r+(i?"-server":"");if(Tp[o])return Tp[o];var s=ZZ(t,n,r,i);return Tp[o]=s,s},Zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl=function(t){var n=t.white,r=t.grey,i=t.size,o=t.renderers,s=t.borderRadius,a=t.boxShadow,u=t.children,c=me({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+qZ(n,r,i,o.canvas)+") center left"}}});return A.isValidElement(u)?k.cloneElement(u,Zw({},u.props,{style:Zw({},u.props.style,c.grid)})):k.createElement("div",{style:c.grid})};fl.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var QZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JZ=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tv=function(e){tq(t,e);function t(){var n,r,i,o;eq(this,t);for(var s=arguments.length,a=Array(s),u=0;u<s;u++)a[u]=arguments[u];return o=(r=(i=qw(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=YZ(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),qw(i,o)}return JZ(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=me({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:QZ({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return k.createElement("div",{style:o.alpha},k.createElement("div",{style:o.checkboard},k.createElement(fl,{renderers:this.props.renderers})),k.createElement("div",{style:o.gradient}),k.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("div",{style:o.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:o.slider}))))}}]),t}(A.PureComponent||A.Component),nq=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oq(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aq=1,m$=38,lq=40,uq=[m$,lq],cq=function(t){return uq.indexOf(t)>-1},hq=function(t){return Number(String(t).replace(/%/g,""))},dq=1,$e=function(e){sq(t,e);function t(n){iq(this,t);var r=oq(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=hq(i.target.value);if(!isNaN(o)&&cq(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===m$?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+dq++,r}return nq(t,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return rq({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||aq}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=me({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return k.createElement("div",{style:i.wrap},k.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?k.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(A.PureComponent||A.Component),fq=function(t,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,u=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),h=u-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>s)f=0;else{var p=-(h*100/s)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>o)m=359;else{var w=c*100/o;m=360*w/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},pq=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pl=function(e){mq(t,e);function t(){var n,r,i,o;gq(this,t);for(var s=arguments.length,a=Array(s),u=0;u<s;u++)a[u]=arguments[u];return o=(r=(i=Qw(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=fq(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),Qw(i,o)}return pq(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=me({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return k.createElement("div",{style:s.hue},k.createElement("div",{className:"hue-"+o,style:s.container,ref:function(u){return r.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),k.createElement("div",{style:s.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:s.slider}))))}}]),t}(A.PureComponent||A.Component),v$={exports:{}},vq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yq=vq,xq=yq;function y$(){}function x$(){}x$.resetWarningCache=y$;var wq=function(){function e(r,i,o,s,a,u){if(u!==xq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:x$,resetWarningCache:y$};return n.PropTypes=n,n};v$.exports=wq();var bq=v$.exports;const Y=pd(bq);function Sq(){this.__data__=[],this.size=0}function Yu(e,t){return e===t||e!==e&&t!==t}function xf(e,t){for(var n=e.length;n--;)if(Yu(e[n][0],t))return n;return-1}var Eq=Array.prototype,Cq=Eq.splice;function _q(e){var t=this.__data__,n=xf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Cq.call(t,n,1),--this.size,!0}function $q(e){var t=this.__data__,n=xf(t,e);return n<0?void 0:t[n][1]}function Tq(e){return xf(this.__data__,e)>-1}function kq(e,t){var n=this.__data__,r=xf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function bo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bo.prototype.clear=Sq;bo.prototype.delete=_q;bo.prototype.get=$q;bo.prototype.has=Tq;bo.prototype.set=kq;function Mq(){this.__data__=new bo,this.size=0}function Pq(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Aq(e){return this.__data__.get(e)}function Iq(e){return this.__data__.has(e)}var w$=typeof global=="object"&&global&&global.Object===Object&&global,jq=typeof self=="object"&&self&&self.Object===Object&&self,Di=w$||jq||Function("return this")(),qo=Di.Symbol,b$=Object.prototype,Oq=b$.hasOwnProperty,Rq=b$.toString,$l=qo?qo.toStringTag:void 0;function Lq(e){var t=Oq.call(e,$l),n=e[$l];try{e[$l]=void 0;var r=!0}catch{}var i=Rq.call(e);return r&&(t?e[$l]=n:delete e[$l]),i}var Dq=Object.prototype,Nq=Dq.toString;function Bq(e){return Nq.call(e)}var Hq="[object Null]",Fq="[object Undefined]",Jw=qo?qo.toStringTag:void 0;function Gs(e){return e==null?e===void 0?Fq:Hq:Jw&&Jw in Object(e)?Lq(e):Bq(e)}function Tr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zq="[object AsyncFunction]",Gq="[object Function]",Wq="[object GeneratorFunction]",Uq="[object Proxy]";function kv(e){if(!Tr(e))return!1;var t=Gs(e);return t==Gq||t==Wq||t==zq||t==Uq}var kp=Di["__core-js_shared__"],eb=function(){var e=/[^.]+$/.exec(kp&&kp.keys&&kp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vq(e){return!!eb&&eb in e}var Xq=Function.prototype,Kq=Xq.toString;function Ws(e){if(e!=null){try{return Kq.call(e)}catch{}try{return e+""}catch{}}return""}var Yq=/[\\^$.*+?()[\]{}|]/g,Zq=/^\[object .+?Constructor\]$/,qq=Function.prototype,Qq=Object.prototype,Jq=qq.toString,eQ=Qq.hasOwnProperty,tQ=RegExp("^"+Jq.call(eQ).replace(Yq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nQ(e){if(!Tr(e)||Vq(e))return!1;var t=kv(e)?tQ:Zq;return t.test(Ws(e))}function rQ(e,t){return e==null?void 0:e[t]}function Us(e,t){var n=rQ(e,t);return nQ(n)?n:void 0}var Tu=Us(Di,"Map"),ku=Us(Object,"create");function iQ(){this.__data__=ku?ku(null):{},this.size=0}function oQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sQ="__lodash_hash_undefined__",aQ=Object.prototype,lQ=aQ.hasOwnProperty;function uQ(e){var t=this.__data__;if(ku){var n=t[e];return n===sQ?void 0:n}return lQ.call(t,e)?t[e]:void 0}var cQ=Object.prototype,hQ=cQ.hasOwnProperty;function dQ(e){var t=this.__data__;return ku?t[e]!==void 0:hQ.call(t,e)}var fQ="__lodash_hash_undefined__";function pQ(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ku&&t===void 0?fQ:t,this}function Ls(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ls.prototype.clear=iQ;Ls.prototype.delete=oQ;Ls.prototype.get=uQ;Ls.prototype.has=dQ;Ls.prototype.set=pQ;function gQ(){this.size=0,this.__data__={hash:new Ls,map:new(Tu||bo),string:new Ls}}function mQ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wf(e,t){var n=e.__data__;return mQ(t)?n[typeof t=="string"?"string":"hash"]:n.map}function vQ(e){var t=wf(this,e).delete(e);return this.size-=t?1:0,t}function yQ(e){return wf(this,e).get(e)}function xQ(e){return wf(this,e).has(e)}function wQ(e,t){var n=wf(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function So(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}So.prototype.clear=gQ;So.prototype.delete=vQ;So.prototype.get=yQ;So.prototype.has=xQ;So.prototype.set=wQ;var bQ=200;function SQ(e,t){var n=this.__data__;if(n instanceof bo){var r=n.__data__;if(!Tu||r.length<bQ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new So(r)}return n.set(e,t),this.size=n.size,this}function Yi(e){var t=this.__data__=new bo(e);this.size=t.size}Yi.prototype.clear=Mq;Yi.prototype.delete=Pq;Yi.prototype.get=Aq;Yi.prototype.has=Iq;Yi.prototype.set=SQ;var ld=function(){try{var e=Us(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Mv(e,t,n){t=="__proto__"&&ld?ld(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function c0(e,t,n){(n!==void 0&&!Yu(e[t],n)||n===void 0&&!(t in e))&&Mv(e,t,n)}function EQ(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(n(o[u],u,o)===!1)break}return t}}var S$=EQ(),E$=typeof cr=="object"&&cr&&!cr.nodeType&&cr,tb=E$&&typeof hr=="object"&&hr&&!hr.nodeType&&hr,CQ=tb&&tb.exports===E$,nb=CQ?Di.Buffer:void 0,rb=nb?nb.allocUnsafe:void 0;function _Q(e,t){if(t)return e.slice();var n=e.length,r=rb?rb(n):new e.constructor(n);return e.copy(r),r}var ud=Di.Uint8Array;function $Q(e){var t=new e.constructor(e.byteLength);return new ud(t).set(new ud(e)),t}function TQ(e,t){var n=t?$Q(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function kQ(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var ib=Object.create,MQ=function(){function e(){}return function(t){if(!Tr(t))return{};if(ib)return ib(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function C$(e,t){return function(n){return e(t(n))}}var PQ=C$(Object.getPrototypeOf,Object);const _$=PQ;var AQ=Object.prototype;function Pv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||AQ;return e===n}function IQ(e){return typeof e.constructor=="function"&&!Pv(e)?MQ(_$(e)):{}}function Qo(e){return e!=null&&typeof e=="object"}var jQ="[object Arguments]";function ob(e){return Qo(e)&&Gs(e)==jQ}var $$=Object.prototype,OQ=$$.hasOwnProperty,RQ=$$.propertyIsEnumerable,LQ=ob(function(){return arguments}())?ob:function(e){return Qo(e)&&OQ.call(e,"callee")&&!RQ.call(e,"callee")};const cd=LQ;var pr=Array.isArray,DQ=9007199254740991;function Av(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=DQ}function gl(e){return e!=null&&Av(e.length)&&!kv(e)}function NQ(e){return Qo(e)&&gl(e)}function BQ(){return!1}var T$=typeof cr=="object"&&cr&&!cr.nodeType&&cr,sb=T$&&typeof hr=="object"&&hr&&!hr.nodeType&&hr,HQ=sb&&sb.exports===T$,ab=HQ?Di.Buffer:void 0,FQ=ab?ab.isBuffer:void 0,hd=FQ||BQ,zQ="[object Object]",GQ=Function.prototype,WQ=Object.prototype,k$=GQ.toString,UQ=WQ.hasOwnProperty,VQ=k$.call(Object);function XQ(e){if(!Qo(e)||Gs(e)!=zQ)return!1;var t=_$(e);if(t===null)return!0;var n=UQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&k$.call(n)==VQ}var KQ="[object Arguments]",YQ="[object Array]",ZQ="[object Boolean]",qQ="[object Date]",QQ="[object Error]",JQ="[object Function]",eJ="[object Map]",tJ="[object Number]",nJ="[object Object]",rJ="[object RegExp]",iJ="[object Set]",oJ="[object String]",sJ="[object WeakMap]",aJ="[object ArrayBuffer]",lJ="[object DataView]",uJ="[object Float32Array]",cJ="[object Float64Array]",hJ="[object Int8Array]",dJ="[object Int16Array]",fJ="[object Int32Array]",pJ="[object Uint8Array]",gJ="[object Uint8ClampedArray]",mJ="[object Uint16Array]",vJ="[object Uint32Array]",Ve={};Ve[uJ]=Ve[cJ]=Ve[hJ]=Ve[dJ]=Ve[fJ]=Ve[pJ]=Ve[gJ]=Ve[mJ]=Ve[vJ]=!0;Ve[KQ]=Ve[YQ]=Ve[aJ]=Ve[ZQ]=Ve[lJ]=Ve[qQ]=Ve[QQ]=Ve[JQ]=Ve[eJ]=Ve[tJ]=Ve[nJ]=Ve[rJ]=Ve[iJ]=Ve[oJ]=Ve[sJ]=!1;function yJ(e){return Qo(e)&&Av(e.length)&&!!Ve[Gs(e)]}function xJ(e){return function(t){return e(t)}}var M$=typeof cr=="object"&&cr&&!cr.nodeType&&cr,Ql=M$&&typeof hr=="object"&&hr&&!hr.nodeType&&hr,wJ=Ql&&Ql.exports===M$,Mp=wJ&&w$.process,lb=function(){try{var e=Ql&&Ql.require&&Ql.require("util").types;return e||Mp&&Mp.binding&&Mp.binding("util")}catch{}}(),ub=lb&&lb.isTypedArray,Iv=ub?xJ(ub):yJ;function h0(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var bJ=Object.prototype,SJ=bJ.hasOwnProperty;function EJ(e,t,n){var r=e[t];(!(SJ.call(e,t)&&Yu(r,n))||n===void 0&&!(t in e))&&Mv(e,t,n)}function CJ(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;u===void 0&&(u=e[a]),i?Mv(n,a,u):EJ(n,a,u)}return n}function _J(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var $J=9007199254740991,TJ=/^(?:0|[1-9]\d*)$/;function jv(e,t){var n=typeof e;return t=t??$J,!!t&&(n=="number"||n!="symbol"&&TJ.test(e))&&e>-1&&e%1==0&&e<t}var kJ=Object.prototype,MJ=kJ.hasOwnProperty;function P$(e,t){var n=pr(e),r=!n&&cd(e),i=!n&&!r&&hd(e),o=!n&&!r&&!i&&Iv(e),s=n||r||i||o,a=s?_J(e.length,String):[],u=a.length;for(var c in e)(t||MJ.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||jv(c,u)))&&a.push(c);return a}function PJ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var AJ=Object.prototype,IJ=AJ.hasOwnProperty;function jJ(e){if(!Tr(e))return PJ(e);var t=Pv(e),n=[];for(var r in e)r=="constructor"&&(t||!IJ.call(e,r))||n.push(r);return n}function A$(e){return gl(e)?P$(e,!0):jJ(e)}function OJ(e){return CJ(e,A$(e))}function RJ(e,t,n,r,i,o,s){var a=h0(e,n),u=h0(t,n),c=s.get(u);if(c){c0(e,n,c);return}var h=o?o(a,u,n+"",e,t,s):void 0,f=h===void 0;if(f){var p=pr(u),m=!p&&hd(u),w=!p&&!m&&Iv(u);h=u,p||m||w?pr(a)?h=a:NQ(a)?h=kQ(a):m?(f=!1,h=_Q(u,!0)):w?(f=!1,h=TQ(u,!0)):h=[]:XQ(u)||cd(u)?(h=a,cd(a)?h=OJ(a):(!Tr(a)||kv(a))&&(h=IQ(u))):f=!1}f&&(s.set(u,h),i(h,u,r,o,s),s.delete(u)),c0(e,n,h)}function I$(e,t,n,r,i){e!==t&&S$(t,function(o,s){if(i||(i=new Yi),Tr(o))RJ(e,t,s,n,I$,r,i);else{var a=r?r(h0(e,s),o,s+"",e,t,i):void 0;a===void 0&&(a=o),c0(e,s,a)}},A$)}function bf(e){return e}function LJ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var cb=Math.max;function DJ(e,t,n){return t=cb(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=cb(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),LJ(e,this,a)}}function NJ(e){return function(){return e}}var BJ=ld?function(e,t){return ld(e,"toString",{configurable:!0,enumerable:!1,value:NJ(t),writable:!0})}:bf;const HJ=BJ;var FJ=800,zJ=16,GJ=Date.now;function WJ(e){var t=0,n=0;return function(){var r=GJ(),i=zJ-(r-n);if(n=r,i>0){if(++t>=FJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UJ=WJ(HJ);function VJ(e,t){return UJ(DJ(e,t,bf),e+"")}function XJ(e,t,n){if(!Tr(n))return!1;var r=typeof t;return(r=="number"?gl(n)&&jv(t,n.length):r=="string"&&t in n)?Yu(n[t],e):!1}function KJ(e){return VJ(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&XJ(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}var nr=KJ(function(e,t,n){I$(e,t,n)}),Zu=function(t){var n=t.zDepth,r=t.radius,i=t.background,o=t.children,s=t.styles,a=s===void 0?{}:s,u=me(nr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return k.createElement("div",{style:u.wrap},k.createElement("div",{style:u.bg}),k.createElement("div",{style:u.content},o))};Zu.propTypes={background:Y.string,zDepth:Y.oneOf([0,1,2,3,4,5]),radius:Y.number,styles:Y.object};Zu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Pp=function(){return Di.Date.now()},YJ=/\s/;function ZJ(e){for(var t=e.length;t--&&YJ.test(e.charAt(t)););return t}var qJ=/^\s+/;function QJ(e){return e&&e.slice(0,ZJ(e)+1).replace(qJ,"")}var JJ="[object Symbol]";function Sf(e){return typeof e=="symbol"||Qo(e)&&Gs(e)==JJ}var hb=NaN,eee=/^[-+]0x[0-9a-f]+$/i,tee=/^0b[01]+$/i,nee=/^0o[0-7]+$/i,ree=parseInt;function db(e){if(typeof e=="number")return e;if(Sf(e))return hb;if(Tr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QJ(e);var n=tee.test(e);return n||nee.test(e)?ree(e.slice(2),n?2:8):eee.test(e)?hb:+e}var iee="Expected a function",oee=Math.max,see=Math.min;function j$(e,t,n){var r,i,o,s,a,u,c=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(iee);t=db(t)||0,Tr(n)&&(h=!!n.leading,f="maxWait"in n,o=f?oee(db(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function m(T){var P=r,I=i;return r=i=void 0,c=T,s=e.apply(I,P),s}function w(T){return c=T,a=setTimeout(y,t),h?m(T):s}function x(T){var P=T-u,I=T-c,N=t-P;return f?see(N,o-I):N}function _(T){var P=T-u,I=T-c;return u===void 0||P>=t||P<0||f&&I>=o}function y(){var T=Pp();if(_(T))return v(T);a=setTimeout(y,x(T))}function v(T){return a=void 0,p&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function C(){return a===void 0?s:v(Pp())}function M(){var T=Pp(),P=_(T);if(r=arguments,i=this,u=T,P){if(a===void 0)return w(u);if(f)return clearTimeout(a),a=setTimeout(y,t),m(u)}return a===void 0&&(a=setTimeout(y,t)),s}return M.cancel=b,M.flush=C,M}var aee="Expected a function";function lee(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(aee);return Tr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),j$(e,t,{leading:r,maxWait:t,trailing:i})}var uee=function(t,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,u=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),h=u-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),h<0?h=0:h>s&&(h=s);var f=c/o,p=1-h/s;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},cee=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function hee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ef=function(e){fee(t,e);function t(n){hee(this,t);var r=dee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,uee(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=lee(function(i,o,s){i(o,s)},50),r}return cee(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,u=i.pointer,c=i.circle,h=me({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:u,circle:c}},{custom:!!this.props.style});return k.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),k.createElement("div",{style:h.white,className:"saturation-white"},k.createElement("div",{style:h.black,className:"saturation-black"}),k.createElement("div",{style:h.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:h.circle}))))}}]),t}(A.PureComponent||A.Component);function pee(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var gee=C$(Object.keys,Object),mee=Object.prototype,vee=mee.hasOwnProperty;function yee(e){if(!Pv(e))return gee(e);var t=[];for(var n in Object(e))vee.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ov(e){return gl(e)?P$(e):yee(e)}function xee(e,t){return e&&S$(e,t,Ov)}function wee(e,t){return function(n,r){if(n==null)return n;if(!gl(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var bee=wee(xee);const O$=bee;function See(e){return typeof e=="function"?e:bf}function Eee(e,t){var n=pr(e)?pee:O$;return n(e,See(t))}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}var Cee=/^\s+/,_ee=/\s+$/;function oe(e,t){if(e=e||"",t=t||{},e instanceof oe)return e;if(!(this instanceof oe))return new oe(e,t);var n=$ee(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}oe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,s,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(t){return this._a=R$(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=pb(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=pb(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=fb(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=fb(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return gb(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Pee(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ze(this._r,255)*100)+"%",g:Math.round(Ze(this._g,255)*100)+"%",b:Math.round(Ze(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ze(this._r,255)*100)+"%, "+Math.round(Ze(this._g,255)*100)+"%, "+Math.round(Ze(this._b,255)*100)+"%)":"rgba("+Math.round(Ze(this._r,255)*100)+"%, "+Math.round(Ze(this._g,255)*100)+"%, "+Math.round(Ze(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:zee[gb(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+mb(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=oe(t);r="#"+mb(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return oe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Oee,arguments)},brighten:function(){return this._applyModification(Ree,arguments)},darken:function(){return this._applyModification(Lee,arguments)},desaturate:function(){return this._applyModification(Aee,arguments)},saturate:function(){return this._applyModification(Iee,arguments)},greyscale:function(){return this._applyModification(jee,arguments)},spin:function(){return this._applyModification(Dee,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Hee,arguments)},complement:function(){return this._applyCombination(Nee,arguments)},monochromatic:function(){return this._applyCombination(Fee,arguments)},splitcomplement:function(){return this._applyCombination(Bee,arguments)},triad:function(){return this._applyCombination(vb,[3])},tetrad:function(){return this._applyCombination(vb,[4])}};oe.fromRatio=function(e,t){if(dd(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Ll(e[r]));e=n}return oe(e,t)};function $ee(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=Vee(e)),dd(e)=="object"&&(Ji(e.r)&&Ji(e.g)&&Ji(e.b)?(t=Tee(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ji(e.h)&&Ji(e.s)&&Ji(e.v)?(r=Ll(e.s),i=Ll(e.v),t=Mee(e.h,r,i),s=!0,a="hsv"):Ji(e.h)&&Ji(e.s)&&Ji(e.l)&&(r=Ll(e.s),o=Ll(e.l),t=kee(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=R$(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Tee(e,t,n){return{r:Ze(e,255)*255,g:Ze(t,255)*255,b:Ze(n,255)*255}}function fb(e,t,n){e=Ze(e,255),t=Ze(t,255),n=Ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var u=r-i;switch(s=a>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s,l:a}}function kee(e,t,n){var r,i,o;e=Ze(e,360),t=Ze(t,100),n=Ze(n,100);function s(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;r=s(u,a,e+1/3),i=s(u,a,e),o=s(u,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function pb(e,t,n){e=Ze(e,255),t=Ze(t,255),n=Ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=r,u=r-i;if(s=r===0?0:u/r,r==i)o=0;else{switch(r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s,v:a}}function Mee(e,t,n){e=Ze(e,360)*6,t=Ze(t,100),n=Ze(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),u=r%6,c=[n,s,o,o,a,n][u],h=[a,n,n,s,o,o][u],f=[o,o,a,n,n,s][u];return{r:c*255,g:h*255,b:f*255}}function gb(e,t,n,r){var i=[_i(Math.round(e).toString(16)),_i(Math.round(t).toString(16)),_i(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pee(e,t,n,r,i){var o=[_i(Math.round(e).toString(16)),_i(Math.round(t).toString(16)),_i(Math.round(n).toString(16)),_i(L$(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function mb(e,t,n,r){var i=[_i(L$(r)),_i(Math.round(e).toString(16)),_i(Math.round(t).toString(16)),_i(Math.round(n).toString(16))];return i.join("")}oe.equals=function(e,t){return!e||!t?!1:oe(e).toRgbString()==oe(t).toRgbString()};oe.random=function(){return oe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Aee(e,t){t=t===0?0:t||10;var n=oe(e).toHsl();return n.s-=t/100,n.s=Cf(n.s),oe(n)}function Iee(e,t){t=t===0?0:t||10;var n=oe(e).toHsl();return n.s+=t/100,n.s=Cf(n.s),oe(n)}function jee(e){return oe(e).desaturate(100)}function Oee(e,t){t=t===0?0:t||10;var n=oe(e).toHsl();return n.l+=t/100,n.l=Cf(n.l),oe(n)}function Ree(e,t){t=t===0?0:t||10;var n=oe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),oe(n)}function Lee(e,t){t=t===0?0:t||10;var n=oe(e).toHsl();return n.l-=t/100,n.l=Cf(n.l),oe(n)}function Dee(e,t){var n=oe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,oe(n)}function Nee(e){var t=oe(e).toHsl();return t.h=(t.h+180)%360,oe(t)}function vb(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=oe(e).toHsl(),r=[oe(e)],i=360/t,o=1;o<t;o++)r.push(oe({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Bee(e){var t=oe(e).toHsl(),n=t.h;return[oe(e),oe({h:(n+72)%360,s:t.s,l:t.l}),oe({h:(n+216)%360,s:t.s,l:t.l})]}function Hee(e,t,n){t=t||6,n=n||30;var r=oe(e).toHsl(),i=360/n,o=[oe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(oe(r));return o}function Fee(e,t){t=t||6;for(var n=oe(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(oe({h:r,s:i,v:o})),o=(o+a)%1;return s}oe.mix=function(e,t,n){n=n===0?0:n||50;var r=oe(e).toRgb(),i=oe(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return oe(s)};oe.readability=function(e,t){var n=oe(e),r=oe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};oe.isReadable=function(e,t,n){var r=oe.readability(e,t),i,o;switch(o=!1,i=Xee(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};oe.mostReadable=function(e,t,n){var r=null,i=0,o,s,a,u;n=n||{},s=n.includeFallbackColors,a=n.level,u=n.size;for(var c=0;c<t.length;c++)o=oe.readability(e,t[c]),o>i&&(i=o,r=oe(t[c]));return oe.isReadable(e,r,{level:a,size:u})||!s?r:(n.includeFallbackColors=!1,oe.mostReadable(e,["#fff","#000"],n))};var d0=oe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},zee=oe.hexNames=Gee(d0);function Gee(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function R$(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ze(e,t){Wee(e)&&(e="100%");var n=Uee(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Cf(e){return Math.min(1,Math.max(0,e))}function ir(e){return parseInt(e,16)}function Wee(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Uee(e){return typeof e=="string"&&e.indexOf("%")!=-1}function _i(e){return e.length==1?"0"+e:""+e}function Ll(e){return e<=1&&(e=e*100+"%"),e}function L$(e){return Math.round(parseFloat(e)*255).toString(16)}function yb(e){return ir(e)/255}var yi=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ji(e){return!!yi.CSS_UNIT.exec(e)}function Vee(e){e=e.replace(Cee,"").replace(_ee,"").toLowerCase();var t=!1;if(d0[e])e=d0[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=yi.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=yi.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=yi.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=yi.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=yi.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=yi.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=yi.hex8.exec(e))?{r:ir(n[1]),g:ir(n[2]),b:ir(n[3]),a:yb(n[4]),format:t?"name":"hex8"}:(n=yi.hex6.exec(e))?{r:ir(n[1]),g:ir(n[2]),b:ir(n[3]),format:t?"name":"hex"}:(n=yi.hex4.exec(e))?{r:ir(n[1]+""+n[1]),g:ir(n[2]+""+n[2]),b:ir(n[3]+""+n[3]),a:yb(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=yi.hex3.exec(e))?{r:ir(n[1]+""+n[1]),g:ir(n[2]+""+n[2]),b:ir(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Xee(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var xb=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return Eee(n,function(o){if(t[o]&&(r+=1,isNaN(t[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(t[o])&&(i+=1)}}),r===i?t:!1},Dl=function(t,n){var r=t.hex?oe(t.hex):oe(t),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var u=a==="000000"&&s.a===0;return{hsl:i,hex:u?"transparent":"#"+a,rgb:s,hsv:o,oldHue:t.h||n||i.h,source:t.source}},is=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&oe(t).isValid()},Rv=function(t){if(!t)return"#fff";var n=Dl(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Ap=function(t,n){var r=t.replace("°","");return oe(n+" ("+r+")")._ok},Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kee=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rr=function(t){var n=function(r){qee(i,r);function i(o){Yee(this,i);var s=Zee(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,u){var c=xb(a);if(c){var h=Dl(a,a.h||s.state.oldHue);s.setState(h),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,h,u),s.props.onChange&&s.props.onChange(h,u)}},s.handleSwatchHover=function(a,u){var c=xb(a);if(c){var h=Dl(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(h,u)}},s.state=Tl({},Dl(o.color,0)),s.debounce=j$(function(a,u,c){a(u,c)},100),s}return Kee(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),k.createElement(t,Tl({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Tl({},Dl(s.color,a.oldHue))}}]),i}(A.PureComponent||A.Component);return n.propTypes=Tl({},t.propTypes),n.defaultProps=Tl({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Qee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jee=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tte(i,r);function i(){var o,s,a,u;ete(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return u=(s=(a=wb(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),wb(a,u)}return Jee(i,[{key:"render",value:function(){return k.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},k.createElement(t,Qee({},this.props,this.state)))}}]),i}(k.Component)},bb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rte=13,ite=function(t){var n=t.color,r=t.style,i=t.onClick,o=i===void 0?function(){}:i,s=t.onHover,a=t.title,u=a===void 0?n:a,c=t.children,h=t.focus,f=t.focusStyle,p=f===void 0?{}:f,m=n==="transparent",w=me({default:{swatch:bb({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),x=function(C){return o(n,C)},_=function(C){return C.keyCode===rte&&o(n,C)},y=function(C){return s(n,C)},v={};return s&&(v.onMouseOver=y),k.createElement("div",bb({style:w.swatch,onClick:x,title:u,tabIndex:0,onKeyDown:_},v),c,m&&k.createElement(fl,{borderRadius:w.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Vs=nte(ite);var ote=function(t){var n=t.direction,r=me({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return k.createElement("div",{style:r.picker})},ste=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D$=function(t){var n=t.rgb,r=t.hsl,i=t.width,o=t.height,s=t.onChange,a=t.direction,u=t.style,c=t.renderers,h=t.pointer,f=t.className,p=f===void 0?"":f,m=me({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:u}}});return k.createElement("div",{style:m.picker,className:"alpha-picker "+p},k.createElement(Tv,ste({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:s,direction:a})))};D$.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:ote};rr(D$);function N$(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ate="__lodash_hash_undefined__";function lte(e){return this.__data__.set(e,ate),this}function ute(e){return this.__data__.has(e)}function fd(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new So;++t<n;)this.add(e[t])}fd.prototype.add=fd.prototype.push=lte;fd.prototype.has=ute;function cte(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function hte(e,t){return e.has(t)}var dte=1,fte=2;function B$(e,t,n,r,i,o){var s=n&dte,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var f=-1,p=!0,m=n&fte?new fd:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var w=e[f],x=t[f];if(r)var _=s?r(x,w,f,t,e,o):r(w,x,f,e,t,o);if(_!==void 0){if(_)continue;p=!1;break}if(m){if(!cte(t,function(y,v){if(!hte(m,v)&&(w===y||i(w,y,n,r,o)))return m.push(v)})){p=!1;break}}else if(!(w===x||i(w,x,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}function pte(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function gte(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var mte=1,vte=2,yte="[object Boolean]",xte="[object Date]",wte="[object Error]",bte="[object Map]",Ste="[object Number]",Ete="[object RegExp]",Cte="[object Set]",_te="[object String]",$te="[object Symbol]",Tte="[object ArrayBuffer]",kte="[object DataView]",Sb=qo?qo.prototype:void 0,Ip=Sb?Sb.valueOf:void 0;function Mte(e,t,n,r,i,o,s){switch(n){case kte:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tte:return!(e.byteLength!=t.byteLength||!o(new ud(e),new ud(t)));case yte:case xte:case Ste:return Yu(+e,+t);case wte:return e.name==t.name&&e.message==t.message;case Ete:case _te:return e==t+"";case bte:var a=pte;case Cte:var u=r&mte;if(a||(a=gte),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=vte,s.set(e,t);var h=B$(a(e),a(t),r,i,o,s);return s.delete(e),h;case $te:if(Ip)return Ip.call(e)==Ip.call(t)}return!1}function Pte(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ate(e,t,n){var r=t(e);return pr(e)?r:Pte(r,n(e))}function Ite(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function jte(){return[]}var Ote=Object.prototype,Rte=Ote.propertyIsEnumerable,Eb=Object.getOwnPropertySymbols,Lte=Eb?function(e){return e==null?[]:(e=Object(e),Ite(Eb(e),function(t){return Rte.call(e,t)}))}:jte;const Dte=Lte;function Cb(e){return Ate(e,Ov,Dte)}var Nte=1,Bte=Object.prototype,Hte=Bte.hasOwnProperty;function Fte(e,t,n,r,i,o){var s=n&Nte,a=Cb(e),u=a.length,c=Cb(t),h=c.length;if(u!=h&&!s)return!1;for(var f=u;f--;){var p=a[f];if(!(s?p in t:Hte.call(t,p)))return!1}var m=o.get(e),w=o.get(t);if(m&&w)return m==t&&w==e;var x=!0;o.set(e,t),o.set(t,e);for(var _=s;++f<u;){p=a[f];var y=e[p],v=t[p];if(r)var b=s?r(v,y,p,t,e,o):r(y,v,p,e,t,o);if(!(b===void 0?y===v||i(y,v,n,r,o):b)){x=!1;break}_||(_=p=="constructor")}if(x&&!_){var C=e.constructor,M=t.constructor;C!=M&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(x=!1)}return o.delete(e),o.delete(t),x}var f0=Us(Di,"DataView"),p0=Us(Di,"Promise"),g0=Us(Di,"Set"),m0=Us(Di,"WeakMap"),_b="[object Map]",zte="[object Object]",$b="[object Promise]",Tb="[object Set]",kb="[object WeakMap]",Mb="[object DataView]",Gte=Ws(f0),Wte=Ws(Tu),Ute=Ws(p0),Vte=Ws(g0),Xte=Ws(m0),hs=Gs;(f0&&hs(new f0(new ArrayBuffer(1)))!=Mb||Tu&&hs(new Tu)!=_b||p0&&hs(p0.resolve())!=$b||g0&&hs(new g0)!=Tb||m0&&hs(new m0)!=kb)&&(hs=function(e){var t=Gs(e),n=t==zte?e.constructor:void 0,r=n?Ws(n):"";if(r)switch(r){case Gte:return Mb;case Wte:return _b;case Ute:return $b;case Vte:return Tb;case Xte:return kb}return t});const Pb=hs;var Kte=1,Ab="[object Arguments]",Ib="[object Array]",Pc="[object Object]",Yte=Object.prototype,jb=Yte.hasOwnProperty;function Zte(e,t,n,r,i,o){var s=pr(e),a=pr(t),u=s?Ib:Pb(e),c=a?Ib:Pb(t);u=u==Ab?Pc:u,c=c==Ab?Pc:c;var h=u==Pc,f=c==Pc,p=u==c;if(p&&hd(e)){if(!hd(t))return!1;s=!0,h=!1}if(p&&!h)return o||(o=new Yi),s||Iv(e)?B$(e,t,n,r,i,o):Mte(e,t,u,n,r,i,o);if(!(n&Kte)){var m=h&&jb.call(e,"__wrapped__"),w=f&&jb.call(t,"__wrapped__");if(m||w){var x=m?e.value():e,_=w?t.value():t;return o||(o=new Yi),i(x,_,n,r,o)}}return p?(o||(o=new Yi),Fte(e,t,n,r,i,o)):!1}function Lv(e,t,n,r,i){return e===t?!0:e==null||t==null||!Qo(e)&&!Qo(t)?e!==e&&t!==t:Zte(e,t,n,r,Lv,i)}var qte=1,Qte=2;function Jte(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var u=a[0],c=e[u],h=a[1];if(s&&a[2]){if(c===void 0&&!(u in e))return!1}else{var f=new Yi;if(r)var p=r(c,h,u,e,t,f);if(!(p===void 0?Lv(h,c,qte|Qte,r,f):p))return!1}}return!0}function H$(e){return e===e&&!Tr(e)}function ene(e){for(var t=Ov(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,H$(i)]}return t}function F$(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function tne(e){var t=ene(e);return t.length==1&&t[0][2]?F$(t[0][0],t[0][1]):function(n){return n===e||Jte(n,e,t)}}var nne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rne=/^\w*$/;function Dv(e,t){if(pr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Sf(e)?!0:rne.test(e)||!nne.test(e)||t!=null&&e in Object(t)}var ine="Expected a function";function Nv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ine);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Nv.Cache||So),n}Nv.Cache=So;var one=500;function sne(e){var t=Nv(e,function(r){return n.size===one&&n.clear(),r}),n=t.cache;return t}var ane=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lne=/\\(\\)?/g,une=sne(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ane,function(n,r,i,o){t.push(i?o.replace(lne,"$1"):r||n)}),t}),cne=1/0,Ob=qo?qo.prototype:void 0,Rb=Ob?Ob.toString:void 0;function z$(e){if(typeof e=="string")return e;if(pr(e))return N$(e,z$)+"";if(Sf(e))return Rb?Rb.call(e):"";var t=e+"";return t=="0"&&1/e==-cne?"-0":t}function hne(e){return e==null?"":z$(e)}function G$(e,t){return pr(e)?e:Dv(e,t)?[e]:une(hne(e))}var dne=1/0;function _f(e){if(typeof e=="string"||Sf(e))return e;var t=e+"";return t=="0"&&1/e==-dne?"-0":t}function W$(e,t){t=G$(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[_f(t[n++])];return n&&n==r?e:void 0}function fne(e,t,n){var r=e==null?void 0:W$(e,t);return r===void 0?n:r}function pne(e,t){return e!=null&&t in Object(e)}function gne(e,t,n){t=G$(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=_f(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Av(i)&&jv(s,i)&&(pr(e)||cd(e)))}function mne(e,t){return e!=null&&gne(e,t,pne)}var vne=1,yne=2;function xne(e,t){return Dv(e)&&H$(t)?F$(_f(e),t):function(n){var r=fne(n,e);return r===void 0&&r===t?mne(n,e):Lv(t,r,vne|yne)}}function wne(e){return function(t){return t==null?void 0:t[e]}}function bne(e){return function(t){return W$(t,e)}}function Sne(e){return Dv(e)?wne(_f(e)):bne(e)}function Ene(e){return typeof e=="function"?e:e==null?bf:typeof e=="object"?pr(e)?xne(e[0],e[1]):tne(e):Sne(e)}function Cne(e,t){var n=-1,r=gl(e)?Array(e.length):[];return O$(e,function(i,o,s){r[++n]=t(i,o,s)}),r}function Xs(e,t){var n=pr(e)?N$:Cne;return n(e,Ene(t))}var _ne=function(t){var n=t.colors,r=t.onClick,i=t.onSwatchHover,o=me({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return k.createElement("div",{style:o.swatches},Xs(n,function(s){return k.createElement(Vs,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),k.createElement("div",{style:o.clear}))},Bv=function(t){var n=t.onChange,r=t.onSwatchHover,i=t.hex,o=t.colors,s=t.width,a=t.triangle,u=t.styles,c=u===void 0?{}:u,h=t.className,f=h===void 0?"":h,p=i==="transparent",m=function(_,y){is(_)&&n({hex:_,source:"hex"},y)},w=me(nr({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Rv(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return k.createElement("div",{style:w.card,className:"block-picker "+f},k.createElement("div",{style:w.triangle}),k.createElement("div",{style:w.head},p&&k.createElement(fl,{borderRadius:"6px 6px 0 0"}),k.createElement("div",{style:w.label},i)),k.createElement("div",{style:w.body},k.createElement(_ne,{colors:o,onClick:m,onSwatchHover:r}),k.createElement($e,{style:{input:w.input},value:i,onChange:m})))};Bv.propTypes={width:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.string),triangle:Y.oneOf(["top","hide"]),styles:Y.object};Bv.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};rr(Bv);var Ys={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Zs={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},qs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Qs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Js={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},ea={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},ta={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},na={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ra={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Nl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ia={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},oa={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},sa={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},aa={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},la={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ua={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},ca={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ha={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},U$=function(t){var n=t.color,r=t.onClick,i=t.onSwatchHover,o=t.hover,s=t.active,a=t.circleSize,u=t.circleSpacing,c=me({default:{swatch:{width:a,height:a,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return k.createElement("div",{style:c.swatch},k.createElement(Vs,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};U$.defaultProps={circleSize:28,circleSpacing:14};const $ne=$v(U$);var Hv=function(t){var n=t.width,r=t.onChange,i=t.onSwatchHover,o=t.colors,s=t.hex,a=t.circleSize,u=t.styles,c=u===void 0?{}:u,h=t.circleSpacing,f=t.className,p=f===void 0?"":f,m=me(nr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),w=function(_,y){return r({hex:_,source:"hex"},y)};return k.createElement("div",{style:m.card,className:"circle-picker "+p},Xs(o,function(x){return k.createElement($ne,{key:x,color:x,onClick:w,onSwatchHover:i,active:s===x.toLowerCase(),circleSize:a,circleSpacing:h})}))};Hv.propTypes={width:Y.oneOfType([Y.string,Y.number]),circleSize:Y.number,circleSpacing:Y.number,styles:Y.object};Hv.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ys[500],Zs[500],qs[500],Qs[500],Js[500],ea[500],ta[500],na[500],ra[500],Nl[500],ia[500],oa[500],sa[500],aa[500],la[500],ua[500],ca[500],ha[500]],styles:{}};rr(Hv);function Lb(e){return e===void 0}var V$={};Object.defineProperty(V$,"__esModule",{value:!0});var Db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tne=A,Nb=kne(Tne);function kne(e){return e&&e.__esModule?e:{default:e}}function Mne(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Ac=24,Pne=V$.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,i=r===void 0?Ac:r,o=e.height,s=o===void 0?Ac:o,a=e.style,u=a===void 0?{}:a,c=Mne(e,["fill","width","height","style"]);return Nb.default.createElement("svg",Db({viewBox:"0 0 "+Ac+" "+Ac,style:Db({fill:n,width:i,height:s},u)},c),Nb.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Ane=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ine(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function One(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X$=function(e){One(t,e);function t(n){Ine(this,t);var r=jne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?is(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Lb(i.s)?r.props.hsl.s:i.s),l:Number(Lb(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Ane(t,[{key:"render",value:function(){var r=this,i=me({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=k.createElement("div",{style:i.fields,className:"flexbox-fix"},k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=k.createElement("div",{style:i.fields,className:"flexbox-fix"},k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),k.createElement("div",{style:i.alpha},k.createElement($e,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=k.createElement("div",{style:i.fields,className:"flexbox-fix"},k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),k.createElement("div",{style:i.field},k.createElement($e,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),k.createElement("div",{style:i.alpha},k.createElement($e,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),k.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,k.createElement("div",{style:i.toggle},k.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},k.createElement(Pne,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(k.Component);X$.defaultProps={view:"hex"};var Bb=function(){var t=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.createElement("div",{style:t.picker})},Rne=function(){var t=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return k.createElement("div",{style:t.picker})},Fv=function(t){var n=t.width,r=t.onChange,i=t.disableAlpha,o=t.rgb,s=t.hsl,a=t.hsv,u=t.hex,c=t.renderers,h=t.styles,f=h===void 0?{}:h,p=t.className,m=p===void 0?"":p,w=t.defaultView,x=me(nr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return k.createElement("div",{style:x.picker,className:"chrome-picker "+m},k.createElement("div",{style:x.saturation},k.createElement(Ef,{style:x.Saturation,hsl:s,hsv:a,pointer:Rne,onChange:r})),k.createElement("div",{style:x.body},k.createElement("div",{style:x.controls,className:"flexbox-fix"},k.createElement("div",{style:x.color},k.createElement("div",{style:x.swatch},k.createElement("div",{style:x.active}),k.createElement(fl,{renderers:c}))),k.createElement("div",{style:x.toggles},k.createElement("div",{style:x.hue},k.createElement(pl,{style:x.Hue,hsl:s,pointer:Bb,onChange:r})),k.createElement("div",{style:x.alpha},k.createElement(Tv,{style:x.Alpha,rgb:o,hsl:s,pointer:Bb,renderers:c,onChange:r})))),k.createElement(X$,{rgb:o,hsl:s,hex:u,view:w,onChange:r,disableAlpha:i})))};Fv.propTypes={width:Y.oneOfType([Y.string,Y.number]),disableAlpha:Y.bool,styles:Y.object,defaultView:Y.oneOf(["hex","rgb","hsl"])};Fv.defaultProps={width:225,disableAlpha:!1,styles:{}};rr(Fv);var Lne=function(t){var n=t.color,r=t.onClick,i=r===void 0?function(){}:r,o=t.onSwatchHover,s=t.active,a=me({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Rv(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return k.createElement(Vs,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},k.createElement("div",{style:a.dot}))},Dne=function(t){var n=t.hex,r=t.rgb,i=t.onChange,o=me({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(u,c){u.r||u.g||u.b?i({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):i({hex:u.hex,source:"hex"},c)};return k.createElement("div",{style:o.fields,className:"flexbox-fix"},k.createElement("div",{style:o.active}),k.createElement($e,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),k.createElement($e,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),k.createElement($e,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),k.createElement($e,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},zv=function(t){var n=t.onChange,r=t.onSwatchHover,i=t.colors,o=t.hex,s=t.rgb,a=t.styles,u=a===void 0?{}:a,c=t.className,h=c===void 0?"":c,f=me(nr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},u)),p=function(w,x){w.hex?is(w.hex)&&n({hex:w.hex,source:"hex"},x):n(w,x)};return k.createElement(Zu,{style:f.Compact,styles:u},k.createElement("div",{style:f.compact,className:"compact-picker "+h},k.createElement("div",null,Xs(i,function(m){return k.createElement(Lne,{key:m,color:m,active:m.toLowerCase()===o,onClick:p,onSwatchHover:r})}),k.createElement("div",{style:f.clear})),k.createElement(Dne,{hex:o,rgb:s,onChange:p})))};zv.propTypes={colors:Y.arrayOf(Y.string),styles:Y.object};zv.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};rr(zv);var Nne=function(t){var n=t.hover,r=t.color,i=t.onClick,o=t.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=me({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return k.createElement("div",{style:a.swatch},k.createElement(Vs,{color:r,onClick:i,onHover:o,focusStyle:s}))};const Bne=$v(Nne);var Gv=function(t){var n=t.width,r=t.colors,i=t.onChange,o=t.onSwatchHover,s=t.triangle,a=t.styles,u=a===void 0?{}:a,c=t.className,h=c===void 0?"":c,f=me(nr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),p=function(w,x){return i({hex:w,source:"hex"},x)};return k.createElement("div",{style:f.card,className:"github-picker "+h},k.createElement("div",{style:f.triangleShadow}),k.createElement("div",{style:f.triangle}),Xs(r,function(m){return k.createElement(Bne,{color:m,key:m,onClick:p,onSwatchHover:o})}))};Gv.propTypes={width:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.string),triangle:Y.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Y.object};Gv.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};rr(Gv);var Hne=function(t){var n=t.direction,r=me({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return k.createElement("div",{style:r.picker})},Fne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv=function(t){var n=t.width,r=t.height,i=t.onChange,o=t.hsl,s=t.direction,a=t.pointer,u=t.styles,c=u===void 0?{}:u,h=t.className,f=h===void 0?"":h,p=me(nr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(x){return i({a:1,h:x.h,l:.5,s:1})};return k.createElement("div",{style:p.picker,className:"hue-picker "+f},k.createElement(pl,Fne({},p.hue,{hsl:o,pointer:a,onChange:m,direction:s})))};Wv.propTypes={styles:Y.object};Wv.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Hne,styles:{}};rr(Wv);var zne=function(t){var n=t.onChange,r=t.hex,i=t.rgb,o=t.styles,s=o===void 0?{}:o,a=t.className,u=a===void 0?"":a,c=me(nr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),h=function(p,m){p.hex?is(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return k.createElement(Zu,{styles:s},k.createElement("div",{style:c.material,className:"material-picker "+u},k.createElement($e,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),k.createElement("div",{style:c.split,className:"flexbox-fix"},k.createElement("div",{style:c.third},k.createElement($e,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),k.createElement("div",{style:c.third},k.createElement($e,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),k.createElement("div",{style:c.third},k.createElement($e,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};rr(zne);var Gne=function(t){var n=t.onChange,r=t.rgb,i=t.hsv,o=t.hex,s=me({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,h){c["#"]?is(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return k.createElement("div",{style:s.fields},k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),k.createElement("div",{style:s.divider}),k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),k.createElement($e,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),k.createElement("div",{style:s.divider}),k.createElement($e,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),k.createElement("div",{style:s.fieldSymbols},k.createElement("div",{style:s.symbol},"°"),k.createElement("div",{style:s.symbol},"%"),k.createElement("div",{style:s.symbol},"%")))},Wne=function(t){var n=t.hsl,r=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return k.createElement("div",{style:r.picker})},Une=function(){var t=me({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return k.createElement("div",{style:t.pointer},k.createElement("div",{style:t.left},k.createElement("div",{style:t.leftInside})),k.createElement("div",{style:t.right},k.createElement("div",{style:t.rightInside})))},Hb=function(t){var n=t.onClick,r=t.label,i=t.children,o=t.active,s=me({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return k.createElement("div",{style:s.button,onClick:n},r||i)},Vne=function(t){var n=t.rgb,r=t.currentColor,i=me({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return k.createElement("div",null,k.createElement("div",{style:i.label},"new"),k.createElement("div",{style:i.swatches},k.createElement("div",{style:i.new}),k.createElement("div",{style:i.current})),k.createElement("div",{style:i.label},"current"))},Xne=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Zne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uv=function(e){Zne(t,e);function t(n){Kne(this,t);var r=Yne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:n.hex},r}return Xne(t,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,u=me(nr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return k.createElement("div",{style:u.picker,className:"photoshop-picker "+a},k.createElement("div",{style:u.head},this.props.header),k.createElement("div",{style:u.body,className:"flexbox-fix"},k.createElement("div",{style:u.saturation},k.createElement(Ef,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Wne,onChange:this.props.onChange})),k.createElement("div",{style:u.hue},k.createElement(pl,{direction:"vertical",hsl:this.props.hsl,pointer:Une,onChange:this.props.onChange})),k.createElement("div",{style:u.controls},k.createElement("div",{style:u.top,className:"flexbox-fix"},k.createElement("div",{style:u.previews},k.createElement(Vne,{rgb:this.props.rgb,currentColor:this.state.currentColor})),k.createElement("div",{style:u.actions},k.createElement(Hb,{label:"OK",onClick:this.props.onAccept,active:!0}),k.createElement(Hb,{label:"Cancel",onClick:this.props.onCancel}),k.createElement(Gne,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(k.Component);Uv.propTypes={header:Y.string,styles:Y.object};Uv.defaultProps={header:"Color Picker",styles:{}};rr(Uv);var qne=function(t){var n=t.onChange,r=t.rgb,i=t.hsl,o=t.hex,s=t.disableAlpha,a=me({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),u=function(h,f){h.hex?is(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return k.createElement("div",{style:a.fields,className:"flexbox-fix"},k.createElement("div",{style:a.double},k.createElement($e,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:u})),k.createElement("div",{style:a.single},k.createElement($e,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:u,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:a.single},k.createElement($e,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:u,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:a.single},k.createElement($e,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:u,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:a.alpha},k.createElement($e,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:u,dragLabel:"true",dragMax:"100"})))},Qne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K$=function(t){var n=t.colors,r=t.onClick,i=r===void 0?function(){}:r,o=t.onSwatchHover,s=me({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,h){i({hex:c,source:"hex"},h)};return k.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(u){var c=typeof u=="string"?{color:u}:u,h=""+c.color+(c.title||"");return k.createElement("div",{key:h,style:s.swatchWrap},k.createElement(Vs,Qne({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};K$.propTypes={colors:Y.arrayOf(Y.oneOfType([Y.string,Y.shape({color:Y.string,title:Y.string})])).isRequired};var Jne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv=function(t){var n=t.width,r=t.rgb,i=t.hex,o=t.hsv,s=t.hsl,a=t.onChange,u=t.onSwatchHover,c=t.disableAlpha,h=t.presetColors,f=t.renderers,p=t.styles,m=p===void 0?{}:p,w=t.className,x=w===void 0?"":w,_=me(nr({default:Jne({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return k.createElement("div",{style:_.picker,className:"sketch-picker "+x},k.createElement("div",{style:_.saturation},k.createElement(Ef,{style:_.Saturation,hsl:s,hsv:o,onChange:a})),k.createElement("div",{style:_.controls,className:"flexbox-fix"},k.createElement("div",{style:_.sliders},k.createElement("div",{style:_.hue},k.createElement(pl,{style:_.Hue,hsl:s,onChange:a})),k.createElement("div",{style:_.alpha},k.createElement(Tv,{style:_.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),k.createElement("div",{style:_.color},k.createElement(fl,null),k.createElement("div",{style:_.activeColor}))),k.createElement(qne,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),k.createElement(K$,{colors:h,onClick:a,onSwatchHover:u}))};Vv.propTypes={disableAlpha:Y.bool,width:Y.oneOfType([Y.string,Y.number]),styles:Y.object};Vv.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const ere=rr(Vv);var kl=function(t){var n=t.hsl,r=t.offset,i=t.onClick,o=i===void 0?function(){}:i,s=t.active,a=t.first,u=t.last,c=me({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:u}),h=function(p){return o({h:n.h,s:.5,l:r,source:"hsl"},p)};return k.createElement("div",{style:c.swatch,onClick:h})},tre=function(t){var n=t.onClick,r=t.hsl,i=me({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return k.createElement("div",{style:i.swatches},k.createElement("div",{style:i.swatch},k.createElement(kl,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),k.createElement("div",{style:i.swatch},k.createElement(kl,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),k.createElement("div",{style:i.swatch},k.createElement(kl,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),k.createElement("div",{style:i.swatch},k.createElement(kl,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),k.createElement("div",{style:i.swatch},k.createElement(kl,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),k.createElement("div",{style:i.clear}))},nre=function(){var t=me({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.createElement("div",{style:t.picker})},Xv=function(t){var n=t.hsl,r=t.onChange,i=t.pointer,o=t.styles,s=o===void 0?{}:o,a=t.className,u=a===void 0?"":a,c=me(nr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return k.createElement("div",{style:c.wrap||{},className:"slider-picker "+u},k.createElement("div",{style:c.hue},k.createElement(pl,{style:c.Hue,hsl:n,pointer:i,onChange:r})),k.createElement("div",{style:c.swatches},k.createElement(tre,{hsl:n,onClick:r})))};Xv.propTypes={styles:Y.object};Xv.defaultProps={pointer:nre,styles:{}};rr(Xv);var Y$={};Object.defineProperty(Y$,"__esModule",{value:!0});var Fb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rre=A,zb=ire(rre);function ire(e){return e&&e.__esModule?e:{default:e}}function ore(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Ic=24,sre=Y$.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,i=r===void 0?Ic:r,o=e.height,s=o===void 0?Ic:o,a=e.style,u=a===void 0?{}:a,c=ore(e,["fill","width","height","style"]);return zb.default.createElement("svg",Fb({viewBox:"0 0 "+Ic+" "+Ic,style:Fb({fill:n,width:i,height:s},u)},c),zb.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},are=function(t){var n=t.color,r=t.onClick,i=r===void 0?function(){}:r,o=t.onSwatchHover,s=t.first,a=t.last,u=t.active,c=me({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Rv(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:u,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return k.createElement(Vs,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},k.createElement("div",{style:c.check},k.createElement(sre,null)))},lre=function(t){var n=t.onClick,r=t.onSwatchHover,i=t.group,o=t.active,s=me({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return k.createElement("div",{style:s.group},Xs(i,function(a,u){return k.createElement(are,{key:a,color:a,active:a.toLowerCase()===o,first:u===0,last:u===i.length-1,onClick:n,onSwatchHover:r})}))},Kv=function(t){var n=t.width,r=t.height,i=t.onChange,o=t.onSwatchHover,s=t.colors,a=t.hex,u=t.styles,c=u===void 0?{}:u,h=t.className,f=h===void 0?"":h,p=me(nr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(x,_){return i({hex:x,source:"hex"},_)};return k.createElement("div",{style:p.picker,className:"swatches-picker "+f},k.createElement(Zu,null,k.createElement("div",{style:p.overflow},k.createElement("div",{style:p.body},Xs(s,function(w){return k.createElement(lre,{key:w.toString(),group:w,active:a,onClick:m,onSwatchHover:o})}),k.createElement("div",{style:p.clear})))))};Kv.propTypes={width:Y.oneOfType([Y.string,Y.number]),height:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.arrayOf(Y.string)),styles:Y.object};Kv.defaultProps={width:320,height:240,colors:[[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[qs[900],qs[700],qs[500],qs[300],qs[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[ea[900],ea[700],ea[500],ea[300],ea[100]],[ta[900],ta[700],ta[500],ta[300],ta[100]],[na[900],na[700],na[500],na[300],na[100]],[ra[900],ra[700],ra[500],ra[300],ra[100]],["#194D33",Nl[700],Nl[500],Nl[300],Nl[100]],[ia[900],ia[700],ia[500],ia[300],ia[100]],[oa[900],oa[700],oa[500],oa[300],oa[100]],[sa[900],sa[700],sa[500],sa[300],sa[100]],[aa[900],aa[700],aa[500],aa[300],aa[100]],[la[900],la[700],la[500],la[300],la[100]],[ua[900],ua[700],ua[500],ua[300],ua[100]],[ca[900],ca[700],ca[500],ca[300],ca[100]],[ha[900],ha[700],ha[500],ha[300],ha[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};rr(Kv);var Yv=function(t){var n=t.onChange,r=t.onSwatchHover,i=t.hex,o=t.colors,s=t.width,a=t.triangle,u=t.styles,c=u===void 0?{}:u,h=t.className,f=h===void 0?"":h,p=me(nr({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(x,_){is(x)&&n({hex:x,source:"hex"},_)};return k.createElement("div",{style:p.card,className:"twitter-picker "+f},k.createElement("div",{style:p.triangleShadow}),k.createElement("div",{style:p.triangle}),k.createElement("div",{style:p.body},Xs(o,function(w,x){return k.createElement(Vs,{key:x,color:w,hex:w,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+w}})}),k.createElement("div",{style:p.hash},"#"),k.createElement($e,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),k.createElement("div",{style:p.clear})))};Yv.propTypes={width:Y.oneOfType([Y.string,Y.number]),triangle:Y.oneOf(["hide","top-left","top-right"]),colors:Y.arrayOf(Y.string),styles:Y.object};Yv.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};rr(Yv);var Zv=function(t){var n=me({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return k.createElement("div",{style:n.picker})};Zv.propTypes={hsl:Y.shape({h:Y.number,s:Y.number,l:Y.number,a:Y.number})};Zv.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var qv=function(t){var n=me({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return k.createElement("div",{style:n.picker})};qv.propTypes={hsl:Y.shape({h:Y.number,s:Y.number,l:Y.number,a:Y.number})};qv.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var ure=function(t){var n=t.onChange,r=t.rgb,i=t.hsl,o=t.hex,s=t.hsv,a=function(m,w){if(m.hex)is(m.hex)&&n({hex:m.hex,source:"hex"},w);else if(m.rgb){var x=m.rgb.split(",");Ap(m.rgb,"rgb")&&n({r:x[0],g:x[1],b:x[2],a:1,source:"rgb"},w)}else if(m.hsv){var _=m.hsv.split(",");Ap(m.hsv,"hsv")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("°",""),_[1]==1?_[1]=.01:_[2]==1&&(_[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsv"},w))}else if(m.hsl){var y=m.hsl.split(",");Ap(m.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},w))}},u=me({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return k.createElement("div",{style:u.wrap,className:"flexbox-fix"},k.createElement("div",{style:u.fields},k.createElement("div",{style:u.double},k.createElement($e,{style:{input:u.input,label:u.label},label:"hex",value:o,onChange:a})),k.createElement("div",{style:u.column},k.createElement("div",{style:u.single},k.createElement($e,{style:{input:u.input2,label:u.label2},label:"rgb",value:c,onChange:a})),k.createElement("div",{style:u.single},k.createElement($e,{style:{input:u.input2,label:u.label2},label:"hsv",value:f,onChange:a})),k.createElement("div",{style:u.single},k.createElement($e,{style:{input:u.input2,label:u.label2},label:"hsl",value:h,onChange:a})))))},Qv=function(t){var n=t.width,r=t.onChange,i=t.rgb,o=t.hsl,s=t.hsv,a=t.hex,u=t.header,c=t.styles,h=c===void 0?{}:c,f=t.className,p=f===void 0?"":f,m=me(nr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return k.createElement("div",{style:m.picker,className:"google-picker "+p},k.createElement("div",{style:m.head},u),k.createElement("div",{style:m.swatch}),k.createElement("div",{style:m.saturation},k.createElement(Ef,{hsl:o,hsv:s,pointer:Zv,onChange:r})),k.createElement("div",{style:m.body},k.createElement("div",{style:m.controls,className:"flexbox-fix"},k.createElement("div",{style:m.hue},k.createElement(pl,{style:m.Hue,hsl:o,radius:"4px",pointer:qv,onChange:r}))),k.createElement(ure,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};Qv.propTypes={width:Y.oneOfType([Y.string,Y.number]),styles:Y.object,header:Y.string};Qv.defaultProps={width:652,styles:{},header:"Color picker"};rr(Qv);const cre=({color:e,onChange:t,onChangeComplete:n})=>{const r=i=>{t(i)};return S.jsx("div",{children:S.jsx(ere,{color:e,onChange:i=>{r({...i.rgb,a:i.rgb.a||1})},onChangeComplete:i=>{const o={...i.rgb,a:i.rgb.a||1};r(o),n(o)}})})},Gb={[J.Solid]:"paintType.solid",[J.Image]:"paintType.image"},hre=({paint:e,onChange:t,onChangeComplete:n,onClose:r})=>{const i=Qi(),o=[{value:J.Solid,label:i.formatMessage({id:Gb[J.Solid]})},{value:J.Image,label:i.formatMessage({id:Gb[J.Image]})}];return S.jsxs("div",{className:"suika-paint-picker",children:[S.jsxs("div",{className:"paint-picker-header",children:[S.jsx(HG,{value:e.type,options:o,onSelect:s=>t(y6[s])}),S.jsx("div",{className:"suika-close-btn",onClick:()=>{r&&r()},children:S.jsx(fR,{})})]}),e.type===J.Solid&&S.jsx(cre,{color:e.attrs,onChange:s=>{t({type:J.Solid,attrs:s,visible:!0})},onChangeComplete:s=>{n({type:J.Solid,attrs:s,visible:!0})}}),e.type===J.Image&&S.jsx(QG,{value:e.attrs.src||"",onChange:s=>{n({type:J.Image,attrs:{src:s},visible:!0})}})]})},dre=({value:e,onChange:t,prefix:n,classNames:r})=>{const i=A.useRef(null);return A.useEffect(()=>{i.current&&(i.current.value=String(e))},[e]),S.jsx(q_,{prefix:n,classNames:r,parser:(o,s)=>(o=o.trim(),o=GE(o),!o||o===s?!1:o),value:e,onChange:o=>t(o)})},fre=(e,t=85)=>{const{r:n,g:r,b:i}=e;return Math.sqrt(Math.pow(n-255,2)+Math.pow(r-255,2)+Math.pow(i-255,2))<t},Z$=({title:e,paints:t,onChange:n,onChangeComplete:r,onDelete:i,onAdd:o,onToggleVisible:s,appendedContent:a})=>{const[u,c]=A.useState(-1),h=S.jsx(hre,{paint:t[u],onClose:()=>{c(-1)},onChange:f=>n(f,u),onChangeComplete:f=>r(f,u)});return t.length==0?S.jsx($u,{title:e,headerAction:S.jsx(_l,{onClick:()=>{o()},children:S.jsx(Px,{})}),children:S.jsx(S.Fragment,{})}):S.jsx(V_,{open:u>=0,onOpenChange:f=>{f||c(-1)},content:u>=0&&h,placement:"left-start",offset:2,children:S.jsx("div",{children:S.jsxs($u,{title:e,headerAction:S.jsx(_l,{onClick:o,children:S.jsx(Px,{})}),children:[iP(t,(f,p)=>{if(f.type===J.Solid)return S.jsxs("div",{className:"fill-item",children:[S.jsxs("div",{className:"fill-item-left",children:[S.jsx(dre,{prefix:S.jsx("div",{className:"color-block",style:{backgroundColor:oP(f.attrs),boxShadow:fre(f.attrs)?"0 0 0 1px rgba(0,0,0,0.1) inset":void 0},onMouseDown:()=>{c(p)}}),value:sP(f.attrs),classNames:[f.visible===!1?"disabled":""],onChange:m=>{const w=aP(m);if(w){const x={type:J.Solid,attrs:{...w,a:f.attrs.a},visible:!0};r(x,p)}}}),S.jsx(yv,{classNames:["paint-card-alpha-input",f.visible===!1?"disabled":""],value:f.attrs.a,min:0,max:1,onChange:m=>{r({...f,attrs:{...f.attrs,a:m}},p)}})]}),S.jsxs("div",{className:"suika-paint-card-actions",children:[S.jsx(_l,{onClick:()=>s(p),children:f.visible===!1?S.jsx(B3,{}):S.jsx(H3,{})}),S.jsx(_l,{onClick:()=>i(p),children:S.jsx(Ix,{})})]})]},p);if(f.type===J.Image)return S.jsxs("div",{className:"fill-item",children:[S.jsx("div",{className:"img-block",onClick:()=>{c(p)},children:S.jsx("img",{style:{backgroundImage:`url(${f.attrs.src})`,objectFit:"contain",width:"100%",height:"100%"},alt:"img",src:f.attrs.src||OC})}),S.jsx(_l,{onClick:()=>i(p),children:S.jsx(Ix,{})})]},p)}),a]})})})},pre=()=>{const e=A.useContext(yr),t=Qi(),[n,r]=A.useState([]),i=A.useRef([]),o=(h,f)=>{if(!e)return;const p=[...n];return p[f]=h,r(p),e.selectedElements.getItems().forEach(w=>{w.updateAttrs({fill:ln(p)})}),p},s=()=>{if(!e)return;const h=ln(e.setting.get(n.length?"addedPaint":"firstFill")),f=[...n,h];r(f);const p=e.selectedElements.getItems();p.forEach(m=>{m.updateAttrs({fill:ln(f)})}),c("Add Fill",p,f),e==null||e.render()},a=h=>{if(!e)return;const f=n.filter((m,w)=>w!==h);r(f);const p=e.selectedElements.getItems();p.forEach(m=>{m.updateAttrs({fill:ln(f)})}),c("Update Fill",p,f),e.render()},u=h=>{if(!e)return;const f=n.map((m,w)=>w===h?{...m,visible:!(m.visible??!0)}:m);r(f);const p=e.selectedElements.getItems();p.forEach(m=>{m.updateAttrs({fill:ln(f)})}),c("Update Fill",p,f),e.render()},c=(h,f,p)=>{e&&(e.commandManager.pushCommand(new Ai(h,f,{fill:p},f.map((m,w)=>({fill:ln(i.current[w])})))),i.current=f.map(m=>ln(m.attrs.fill??[])))};return A.useEffect(()=>{if(e){const h=p=>{i.current=p.map(m=>ln(m.attrs.fill??[]))},f=()=>{const p=e.selectedElements.getItems();if(p.length>0){let m=p[0].attrs.fill??[];for(let w=1,x=p.length;w<x;w++){const _=p[w].attrs.fill;if(!WE(m,_)){m=[];break}}r(m)}};return h(e.selectedElements.getItems()),f(),e.sceneGraph.on("render",f),e.selectedElements.on("itemsChange",h),()=>{e.sceneGraph.off("render",f),e.selectedElements.off("itemsChange",h)}}},[e]),S.jsx(Z$,{title:t.formatMessage({id:"fill"}),paints:n,onChange:(h,f)=>{e&&(o(h,f),e.render())},onChangeComplete:(h,f)=>{if(!e)return;const p=o(h,f);c("Update fill",e.selectedElements.getItems(),p),e.render()},onAdd:s,onDelete:a,onToggleVisible:u})},gre=()=>{const[e,t]=A.useState(1),n=Qi(),r=n.formatMessage({id:"mixed"}),i=A.useContext(yr);A.useEffect(()=>{if(!i)return;const s=()=>{if(!i)return;const a=i.selectedElements.getItems();if(!a.length)return;let u=a[0].getOpacity();for(let c=1;c<a.length;c++)if(u!==a[c].getOpacity()){u=r;break}t(u)};return s(),i.sceneGraph.on("render",s),()=>{i.sceneGraph.off("render",s)}},[i,r]);const o=s=>{if(!i)return;const a=i.selectedElements.getItems();if(!a.length)return;const u=new ut(i);for(const c of a)u.recordOld(c.attrs.id,{opacity:c.getOpacity()}),c.updateAttrs({opacity:s}),u.update(c.attrs.id,{opacity:s});u.commit("Update Opacity"),t(s)};return S.jsx($u,{title:n.formatMessage({id:"layer"}),children:S.jsx("div",{className:"suika-layer-info-card",children:S.jsx(yv,{value:e,min:0,max:1,onChange:o})})})},mre=()=>{const e=A.useContext(yr),t=Qi(),[n,r]=A.useState([]),[i,o]=A.useState(-1),s=A.useRef([]);A.useEffect(()=>{if(e){const m=x=>{s.current=x.map(_=>ln(_.attrs.stroke??[]))},w=()=>{const x=e.selectedElements.getItems();if(x.length>0){let _=x[0].attrs.stroke??[];for(let v=1,b=x.length;v<b;v++){const C=x[v].attrs.stroke;if(!WE(_,C)){_=[];break}}r(_);let y=x[0].attrs.strokeWidth??0;for(let v=1,b=x.length;v<b;v++){const C=x[v].attrs.strokeWidth??0;if(y!==C){y=-1;break}}o(y)}};return w(),m(e.selectedElements.getItems()),e.sceneGraph.on("render",w),e.selectedElements.on("itemsChange",m),()=>{e.sceneGraph.off("render",w),e.selectedElements.off("itemsChange",m)}}},[e]);const a=(m,w)=>{if(!e)return;const x=[...n];return x[w]=m,r(x),e.selectedElements.getItems().forEach(y=>{y.updateAttrs({stroke:ln(x)})}),x},u=()=>{if(!e)return;const m=ln(e.setting.get(n.length?"addedPaint":"firstStroke")),w=[...n,m];r(w);const x=e.selectedElements.getItems();x.forEach(_=>{_.updateAttrs({stroke:ln(w)})}),f("Add Stroke",x,w,!0),e.render()},c=m=>{if(!e)return;const w=n.filter((_,y)=>y!==m);r(w);const x=e.selectedElements.getItems();for(const _ of x)_.updateAttrs({stroke:ln(w)});f("Update Stroke",x,w),e.render()},h=m=>{if(!e)return;const w=n.map((_,y)=>y===m?{..._,visible:!(_.visible??!0)}:_);r(w);const x=e.selectedElements.getItems();x.forEach(_=>{_.updateAttrs({stroke:ln(w)})}),f("Update Stroke",x,w),e.render()},f=(m,w,x,_)=>{if(!e)return;const y=w.map((b,C)=>({stroke:ln(s.current[C])})),v=Sy(w,()=>({stroke:ln(x)}));if(_&&x.length===1){w.forEach((C,M)=>{y[M].strokeWidth=C.attrs.strokeWidth});const b=e.setting.get("strokeWidth");rP(w,(C,M)=>{C.updateAttrs({strokeWidth:b}),v[M].strokeWidth=b})}e.commandManager.pushCommand(new Ai(m,w,v,y)),s.current=w.map(b=>ln(b.attrs.stroke??[]))},p=m=>{if(!e)return;const w=e.selectedElements.getItems();e.commandManager.pushCommand(new Ai("update strokeWidth",w,{strokeWidth:m},Sy(w,x=>({strokeWidth:x.attrs.strokeWidth})))),w.forEach(x=>{x.updateAttrs({strokeWidth:m})}),o(m),e.render()};return S.jsx(Z$,{title:t.formatMessage({id:"stroke"}),paints:n,appendedContent:S.jsx("div",{style:{padding:"0 8px"},children:S.jsx(vv,{prefix:S.jsx("div",{style:{paddingLeft:"3px",color:"#b3b3b3",display:"flex"},children:S.jsx(gR,{})}),value:i,min:0,onChange:p})}),onChange:(m,w)=>{e&&(a(m,w),e.render())},onChangeComplete:(m,w)=>{if(!e)return;const x=a(m,w);f("Change Stroke",e.selectedElements.getItems(),x),e.render()},onAdd:u,onDelete:c,onToggleVisible:h})},vre=()=>{const e=A.useContext(yr),[t,n]=A.useState(1),[r,i]=A.useState(!1),[o,s]=A.useState(""),[a,u]=A.useState(null);return A.useEffect(()=>{if(!e)return;const c=p=>{i(p)},h=p=>{var m;s(((m=p==null?void 0:p.attrs)==null?void 0:m.objectName)??"")},f=p=>{n(p)};return n(e.zoomManager.getZoom()),e.selectedBox.on("hoverChange",c),e.selectedElements.on("hoverItemChange",h),e.mouseEventManager.on("cursorPosUpdate",u),e.zoomManager.on("zoomChange",f),()=>{e.selectedBox.off("hoverChange",c),e.selectedElements.off("hoverItemChange",h),e.zoomManager.off("zoomChange",f)}},[e]),S.jsxs("div",{style:{padding:8},children:[S.jsxs("div",{children:["zoom: ",t]}),S.jsxs("div",{children:["isSelectedBoxHover: ",r?"true":"false"]}),S.jsxs("div",{children:["hoveredGraphName: ",o]}),a&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:["X: ",a.x.toFixed(2)]}),S.jsxs("div",{children:["Y: ",a.y.toFixed(2)]})]})]})},yre=()=>{const e=A.useContext(yr),[t,n]=A.useState("Global"),r=localStorage.getItem("suika-debug-panel")==="true";return A.useEffect(()=>{if(e){const i=o=>{n(o.length?"SelectedElements":"Global")};return e.selectedElements.on("itemsChange",i),()=>{e.selectedElements.off("itemsChange",i)}}},[e]),S.jsxs("div",{className:"info-panel",onKeyDown:i=>i.stopPropagation(),children:[t==="SelectedElements"&&S.jsxs(S.Fragment,{children:[S.jsx(UG,{}),S.jsx(qG,{}),S.jsx(gre,{}),S.jsx(pre,{},"fill"),S.jsx(mre,{},"stroke")]}),t==="Global"&&S.jsx("div",{className:"empty-text",children:S.jsx(lt,{id:"noSelectedShapes"})}),r&&S.jsx(vre,{})]})},xre=k.memo(({content:e,enableStroke:t=!0,enableFill:n})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"12",height:"12",children:S.jsx("path",{d:e,fill:n?"currentColor":"none",strokeWidth:"1",stroke:t?"currentColor":"none"})})),q$=({name:e,children:t,active:n=!1,activeSecond:r=!1,id:i,type:o,activeIds:s=[],level:a=0,hlId:u,visible:c,visibleSecond:h=!0,lock:f,lockSecond:p=!1,toggleVisible:m,toggleLock:w,setHlId:x,setName:_,setSelectedGraph:y,getLayerIcon:v,zoomGraphicsToFit:b})=>{const C=a*16,[M,T]=A.useState(!1),P=A.useRef(null),[I,N]=A.useState(e);A.useEffect(()=>{N(e)},[e]);const j=()=>{T(!0),setTimeout(()=>{const L=P.current;L&&(L.value=e,L.select())},0)},D=L=>{L.key==="Enter"&&!L.nativeEvent.isComposing&&L.currentTarget.blur()},H=()=>{var K;const L=(K=P.current)==null?void 0:K.value;L&&_&&(_(i,L),N(L)),T(!1)},V=u===i,G=c&&h,q=f||p,[se,Z]=A.useState("");return N9(()=>{Z(v(i))},[v,i],{wait:300,leading:!0}),S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:go("sk-layer-item",{"sk-active":n,"sk-active-second":n?!1:r,"sk-hidden":!G,"sk-layer-highlight":V,"sk-editing":M}),onMouseDown:L=>{y&&y(i,L)},onMouseEnter:()=>{x&&x(i)},onMouseLeave:()=>{x&&x("")},children:[S.jsx("div",{style:{width:C,minWidth:C}}),S.jsx("div",{className:"sk-group-collapse-btn",children:t!=null&&t.length?S.jsx(xR,{}):void 0}),S.jsx("div",{className:"sk-layer-icon",onDoubleClick:()=>{b(i)},children:S.jsx(xre,{content:se,enableFill:["Text","Frame"].includes(o),enableStroke:!["Text","Frame"].includes(o)})}),!M&&S.jsx("span",{className:"sk-layout-name",onDoubleClick:j,children:I},"span"),M&&S.jsx("input",{ref:P,onMouseDown:L=>L.stopPropagation(),onKeyDown:D,onBlur:H}),S.jsxs("div",{className:go("sk-layer-item-actions",{"sk-action-visible":q||!G}),onMouseDown:L=>L.stopPropagation(),onDoubleClick:L=>L.stopPropagation(),children:[S.jsx("span",{className:"sk-action-btn",style:{visibility:q?"visible":void 0},onMouseDown:()=>{w(i)},children:f?S.jsx(mR,{}):p?S.jsx(Ax,{}):S.jsx(AR,{})}),S.jsx("span",{className:"sk-action-btn",style:{visibility:G?void 0:"visible"},onMouseDown:()=>{m&&m(i)},children:c?h?S.jsx(H3,{}):S.jsx(Ax,{}):S.jsx(B3,{})})]})]}),t&&S.jsx("div",{className:"layer-item-children",children:[...t].reverse().map(L=>S.jsx(q$,{id:L.id,type:L.type,name:L.name,active:s.includes(L.id),activeSecond:r||s.includes(L.id),level:a+1,children:L.children,activeIds:s,hlId:u,visible:L.visible,visibleSecond:G,lock:L.lock,lockSecond:q,setName:_,toggleVisible:m,toggleLock:w,setHlId:x,setSelectedGraph:y,getLayerIcon:v,zoomGraphicsToFit:b},L.id))})]})},wre=({treeData:e,activeIds:t=[],hlId:n,toggleVisible:r,toggleLock:i,setHlId:o,setName:s,setSelectedGraph:a,getLayerIcon:u,zoomGraphicsToFit:c})=>S.jsx("div",{children:[...e].reverse().map(h=>S.jsx(q$,{type:h.type,active:t.includes(h.id),activeSecond:t.includes(h.id),id:h.id,name:h.name,children:h.children,activeIds:t,hlId:n,visible:h.visible,lock:h.lock,toggleVisible:r,toggleLock:i,setHlId:o,setName:s,setSelectedGraph:a,getLayerIcon:u,zoomGraphicsToFit:c},h.id))}),bre=()=>{const e=A.useContext(yr),[t,n]=A.useState([]),[r,i]=A.useState(new Set),[o,s]=A.useState("");A.useEffect(()=>{var w;e&&(n(e.sceneGraph.toObjects()),e.sceneGraph.on("render",()=>{n(e.sceneGraph.toObjects()),i(e.selectedElements.getIdSet())}),s(((w=e.selectedElements.getHighlightedItem())==null?void 0:w.attrs.id)||""),e.selectedElements.on("highlightedItemChange",x=>{const _=x?x.attrs.id:"";s(_)}))},[e]);const a=(w,x)=>{e&&(x.ctrlKey||x.metaKey?e.selectedElements.toggleItemById(w,{disableParentAndChildCoexist:!0}):e.selectedElements.setItemsById(new Set([w])),e.render())},u=w=>{if(!e)return"";const x=e.doc.getGraphicsById(w);return x?x.getLayerIconPath():""},c=w=>{if(e){const x=e.doc.getGraphicsById(w);x&&(e.zoomManager.zoomToGraphics(x),e.render())}},h=w=>{if(e){const x=e.doc.getGraphicsById(w)??null;e.selectedElements.setHighlightedItem(x),e.render()}},f=(w,x)=>{if(e){const _=e.doc.getGraphicsById(w);_&&_.attrs.objectName!==x&&(wn.setGraphName(e,_,x),e.render())}},p=w=>{if(e){const x=e.doc.getGraphicsById(w);x&&(wn.toggleVisible(e,[x]),e.render())}},m=w=>{if(e){const x=e.doc.getGraphicsById(w);x&&(wn.toggleLock(e,[x]),e.render())}};return S.jsx("div",{className:"layer-panel",children:S.jsx(wre,{treeData:t,activeIds:Array.from(r),hlId:o,toggleVisible:p,toggleLock:m,setHlId:h,setName:f,setSelectedGraph:a,getLayerIcon:u,zoomGraphicsToFit:c})})},Wb=48,Ub=240*2,Vb="suika-user-preference",Xb=["enablePixelGrid","snapToGrid","enableRuler","keepToolSelectedAfterUse","invertZoomDirection","highlightLayersOnHover","flipObjectsWhileResizing","snapToObjects"],Sre=()=>{const e=A.useRef(null),[t,n]=A.useState(null);return A.useEffect(()=>{if(e.current){const r=localStorage.getItem(Vb),i=r?JSON.parse(r):void 0,o=new kO({containerElement:e.current,width:document.body.clientWidth-Ub,height:document.body.clientHeight-Wb,offsetY:48,offsetX:240,showPerfMonitor:!1,userPreference:i});o.setting.on("update",(a,u)=>{Xb.includes(u)&&localStorage.setItem(Vb,JSON.stringify(EI(a,Xb)))}),window.editor=o,new MO(o);const s=zI(()=>{o.viewportManager.setViewport({width:document.body.clientWidth-Ub,height:document.body.clientHeight-Wb}),o.render()},10,{leading:!1});return window.addEventListener("resize",s),n(o),()=>{o.destroy(),window.removeEventListener("resize",s),s.cancel()}}},[e]),S.jsx("div",{children:S.jsxs(yr.Provider,{value:t,children:[S.jsx(WG,{title:"suika"}),S.jsxs("div",{className:"body",children:[S.jsx(bre,{}),S.jsx("div",{ref:e,style:{position:"absolute",left:240,top:0}}),S.jsx(yre,{}),S.jsx(IO,{})]})]})})},Ere="Fill",Cre="Stroke",_re="Mixed",$re="No Selected Shapes",Tre="Upload File",kre="Group selection",Mre="Ungroup",Pre="Show/Hide",Are="Lock/Unlock",Ire="Preference",jre="Keep tool selected after use",Ore="Invert zoom direction",Rre="Highlight layers on hover",Lre="Flip objects while resizing",Dre="Snap to objects",Nre="Done",Bre="Layer",Hre={delete:"Delete",fill:Ere,stroke:Cre,mixed:_re,noSelectedShapes:$re,uploadFile:Tre,"tool.select":"Select","tool.frame":"Frame","tool.rectangle":"Rectangle","tool.ellipse":"Ellipse","tool.image":"Image","tool.pen":"Pen","tool.line":"Line","tool.polygon":"Polygon","tool.star":"Star","tool.text":"Text","tool.hand":"Hand","tool.pencil":"Pencil","command.copy":"Copy","command.copyAsSVG":"Copy as SVG","command.pasteHere":"Paste here","command.undo":"Undo","command.redo":"Redo","command.selectAll":"Select all","arrange.forward":"Forward","arrange.backward":"Backward","arrange.front":"Bring to Front","arrange.back":"Send to Back","zoom.zoomIn":"Zoom in","zoom.zoomOut":"Zoom out","zoom.zoomToFit":"Zoom to fit","zoom.zoomToSelection":"Zoom to selection","zoom.zoomTo50":"Zoom to 50%","zoom.zoomTo100":"Zoom to 100%","zoom.zoomTo200":"Zoom to 200%","setting.grid.pixelGrid":"Pixel grid","setting.grid.snapToPixelGrid":"Snap to pixel grid","setting.rulers":"rulers","paintType.solid":"Solid","paintType.image":"Image",group:kre,ungroup:Mre,showOrHide:Pre,lockOrUnlock:Are,"flip.horizontal":"Flip horizontal","flip.vertical":"Flip vertical","import.originFile":"Import local file","export.originFile":"Save local copy",preference:Ire,keepToolSelectedAfterUse:jre,invertZoomDirection:Ore,highlightLayersOnHover:Rre,flipObjectsWhileResizing:Lre,snapToObjects:Dre,done:Nre,layer:Bre},Fre="填充",zre="描边",Gre="多值",Wre="没有选中的图形",Ure="上传文件",Vre="创建编组",Xre="取消编组",Kre="显示/隐藏",Yre="锁定/解锁",Zre="偏好设置",qre="使用工具后保持选中状态",Qre="反转缩放方向",Jre="鼠标悬停时高亮图层",eie="缩放时对图形进行翻转",tie="吸附到对象",nie="完成",rie="图层",iie={delete:"删除",fill:Fre,stroke:zre,mixed:Gre,noSelectedShapes:Wre,uploadFile:Ure,"tool.select":"选择","tool.frame":"画板","tool.rectangle":"矩形","tool.ellipse":"圆","tool.image":"图片","tool.pen":"钢笔","tool.line":"直线","tool.polygon":"多边形","tool.star":"星形","tool.text":"文字","tool.hand":"拖拽画布","tool.pencil":"铅笔","command.copy":"复制","command.copyAsSVG":"复制 SVG 代码","command.pasteHere":"粘贴到此处","command.undo":"撤销","command.redo":"重做","command.selectAll":"全选","arrange.forward":"上移一层","arrange.backward":"下移一层","arrange.front":"移到顶部","arrange.back":"移到底部","zoom.zoomIn":"放大","zoom.zoomOut":"缩小","zoom.zoomToFit":"适应画布","zoom.zoomToSelection":"适应选中图形","zoom.zoomTo50":"50%","zoom.zoomTo100":"100%","zoom.zoomTo200":"200%","setting.grid.pixelGrid":"显示像素网格","setting.grid.snapToPixelGrid":"对齐像素网格","setting.rulers":"显示标尺","paintType.solid":"纯色","paintType.image":"图片",group:Vre,ungroup:Xre,showOrHide:Kre,lockOrUnlock:Yre,"flip.horizontal":"水平翻转","flip.vertical":"垂直翻转","import.originFile":"从本地导入","export.originFile":"导出到本地",preference:Zre,keepToolSelectedAfterUse:qre,invertZoomDirection:Qre,highlightLayersOnHover:Jre,flipObjectsWhileResizing:eie,snapToObjects:tie,done:nie,layer:rie},oie=Hre,sie=iie,aie={zh:sie,en:oie},lie=()=>(localStorage.getItem("suika-locale")||navigator.language).startsWith("zh")?"zh":"en";function uie(){const[e,t]=A.useState(lie());return A.useEffect(()=>{const n=r=>{t(r)};return Zh.on("localeChange",n),()=>{Zh.off("localeChange",n)}}),S.jsx(QM,{locale:e,messages:aie[e],children:S.jsx("div",{className:"suika",children:S.jsx(Sre,{})})})}const cie=jp.createRoot(document.getElementById("root"));cie.render(S.jsx(k.StrictMode,{children:S.jsx(uie,{})}))});export default hie();
