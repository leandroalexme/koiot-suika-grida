var _I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var y0e=_I((Tr,Ar)=>{function kI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j_={exports:{}},jp={},D_={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=Symbol.for("react.element"),$I=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),MI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),II=Symbol.for("react.context"),OI=Symbol.for("react.forward_ref"),RI=Symbol.for("react.suspense"),jI=Symbol.for("react.memo"),DI=Symbol.for("react.lazy"),Kx=Symbol.iterator;function LI(t){return t===null||typeof t!="object"?null:(t=Kx&&t[Kx]||t["@@iterator"],typeof t=="function"?t:null)}var L_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N_=Object.assign,B_={};function cc(t,e,n){this.props=t,this.context=e,this.refs=B_,this.updater=n||L_}cc.prototype.isReactComponent={};cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F_(){}F_.prototype=cc.prototype;function D1(t,e,n){this.props=t,this.context=e,this.refs=B_,this.updater=n||L_}var L1=D1.prototype=new F_;L1.constructor=D1;N_(L1,cc.prototype);L1.isPureReactComponent=!0;var Yx=Array.isArray,H_=Object.prototype.hasOwnProperty,N1={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function U_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)H_.call(e,r)&&!z_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gh,type:t,key:o,ref:s,props:i,_owner:N1.current}}function NI(t,e){return{$$typeof:gh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function B1(t){return typeof t=="object"&&t!==null&&t.$$typeof===gh}function BI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zx=/\/+/g;function c0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BI(""+t.key):e.toString(36)}function Td(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gh:case $I:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+c0(s,0):r,Yx(i)?(n="",t!=null&&(n=t.replace(Zx,"$&/")+"/"),Td(i,e,n,"",function(u){return u})):i!=null&&(B1(i)&&(i=NI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Yx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+c0(o,a);s+=Td(o,e,n,l,i)}else if(l=LI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+c0(o,a++),s+=Td(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Uh(t,e,n){if(t==null)return t;var r=[],i=0;return Td(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Ad={transition:null},HI={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:N1};_e.Children={map:Uh,forEach:function(t,e,n){Uh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!B1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=cc;_e.Fragment=TI;_e.Profiler=MI;_e.PureComponent=D1;_e.StrictMode=AI;_e.Suspense=RI;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=N1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H_.call(e,l)&&!z_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gh,type:t.type,key:i,ref:o,props:r,_owner:s}};_e.createContext=function(t){return t={$$typeof:II,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PI,_context:t},t.Consumer=t};_e.createElement=U_;_e.createFactory=function(t){var e=U_.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:OI,render:t}};_e.isValidElement=B1;_e.lazy=function(t){return{$$typeof:DI,_payload:{_status:-1,_result:t},_init:FI}};_e.memo=function(t,e){return{$$typeof:jI,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return Nn.current.useCallback(t,e)};_e.useContext=function(t){return Nn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Nn.current.useEffect(t,e)};_e.useId=function(){return Nn.current.useId()};_e.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Nn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};_e.useRef=function(t){return Nn.current.useRef(t)};_e.useState=function(t){return Nn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Nn.current.useTransition()};_e.version="18.2.0";D_.exports=_e;var P=D_.exports;const T=Rp(P),G_=kI({__proto__:null,default:T},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI=P,UI=Symbol.for("react.element"),GI=Symbol.for("react.fragment"),VI=Object.prototype.hasOwnProperty,WI=zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XI={key:!0,ref:!0,__self:!0,__source:!0};function V_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)VI.call(e,r)&&!XI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UI,type:t,key:o,ref:s,props:i,_owner:WI.current}}jp.Fragment=GI;jp.jsx=V_;jp.jsxs=V_;j_.exports=jp;var S=j_.exports,Pm={},W_={exports:{}},jr={},X_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,Y){var j=D.length;D.push(Y);e:for(;0<j;){var ce=j-1>>>1,de=D[ce];if(0<i(de,Y))D[ce]=Y,D[j]=de,j=ce;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Y=D[0],j=D.pop();if(j!==Y){D[0]=j;e:for(var ce=0,de=D.length,re=de>>>1;ce<re;){var Ve=2*(ce+1)-1,K=D[Ve],bt=Ve+1,kn=D[bt];if(0>i(K,j))bt<de&&0>i(kn,K)?(D[ce]=kn,D[bt]=j,ce=bt):(D[ce]=K,D[Ve]=j,ce=Ve);else if(bt<de&&0>i(kn,j))D[ce]=kn,D[bt]=j,ce=bt;else break e}}return Y}function i(D,Y){var j=D.sortIndex-Y.sortIndex;return j!==0?j:D.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,d=null,p=3,g=!1,y=!1,m=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=D)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function E(D){if(m=!1,b(D),!y)if(n(l)!==null)y=!0,ae(A);else{var Y=n(u);Y!==null&&q(E,Y.startTime-D)}}function A(D,Y){y=!1,m&&(m=!1,x(I),I=-1),g=!0;var j=p;try{for(b(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||D&&!L());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,p=d.priorityLevel;var de=ce(d.expirationTime<=Y);Y=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),b(Y)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var Ve=n(u);Ve!==null&&q(E,Ve.startTime-Y),re=!1}return re}finally{d=null,p=j,g=!1}}var $=!1,M=null,I=-1,N=5,O=-1;function L(){return!(t.unstable_now()-O<N)}function F(){if(M!==null){var D=t.unstable_now();O=D;var Y=!0;try{Y=M(!0,D)}finally{Y?X():($=!1,M=null)}}else $=!1}var X;if(typeof v=="function")X=function(){v(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=F,X=function(){Q.postMessage(null)}}else X=function(){C(F,0)};function ae(D){M=D,$||($=!0,X())}function q(D,Y){I=C(function(){D(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ae(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var j=p;p=Y;try{return D()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return Y()}finally{p=j}},t.unstable_scheduleCallback=function(D,Y,j){var ce=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ce+j:ce):j=ce,D){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=j+de,D={id:h++,callback:Y,priorityLevel:D,startTime:j,expirationTime:de,sortIndex:-1},j>ce?(D.sortIndex=j,e(u,D),n(l)===null&&D===n(u)&&(m?(x(I),I=-1):m=!0,q(E,j-ce))):(D.sortIndex=de,e(l,D),y||g||(y=!0,ae(A))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var Y=p;return function(){var j=p;p=Y;try{return D.apply(this,arguments)}finally{p=j}}}})(K_);X_.exports=K_;var KI=X_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=P,Or=KI;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,$u={};function Da(t,e){Ul(t,e),Ul(t+"Capture",e)}function Ul(t,e){for($u[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,YI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qx={},Qx={};function ZI(t){return Im.call(Qx,t)?!0:Im.call(qx,t)?!1:YI.test(t)?Qx[t]=!0:(qx[t]=!0,!1)}function qI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QI(t,e,n,r){if(e===null||typeof e>"u"||qI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var F1=/[\-:]([a-z])/g;function H1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(F1,H1);_n[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(F1,H1);_n[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(F1,H1);_n[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function z1(t,e,n,r){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QI(e,n,i,r)&&(n=null),r||i===null?ZI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qo=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),pl=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),Rm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),J_=Symbol.for("react.offscreen"),Jx=Symbol.iterator;function Nc(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,u0;function Qc(t){if(u0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);u0=e&&e[1]||""}return`
`+u0+t}var h0=!1;function d0(t,e){if(!t||h0)return"";h0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{h0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qc(t):""}function JI(t){switch(t.tag){case 5:return Qc(t.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return t=d0(t.type,!1),t;case 11:return t=d0(t.type.render,!1),t;case 1:return t=d0(t.type,!0),t;default:return""}}function Dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gl:return"Fragment";case pl:return"Portal";case Om:return"Profiler";case U1:return"StrictMode";case Rm:return"Suspense";case jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q_:return(t.displayName||"Context")+".Consumer";case q_:return(t._context.displayName||"Context")+".Provider";case G1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V1:return e=t.displayName||null,e!==null?e:Dm(t.type)||"Memo";case hs:e=t._payload,t=t._init;try{return Dm(t(e))}catch{}}return null}function eO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(e);case 8:return e===U1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tO(t){var e=ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=tO(t))}function tk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ek(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nk(t,e){e=e.checked,e!=null&&z1(t,"checked",e,!1)}function Nm(t,e){nk(t,e);var n=Os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bm(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bm(t,e,n){(e!=="number"||of(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jc=Array.isArray;function Tl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Jc(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Os(n)}}function rk(t,e){var n=Os(e.value),r=Os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wh,ok=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wh=Wh||document.createElement("div"),Wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nO=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(t){nO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lu[e]=lu[t]})});function sk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lu.hasOwnProperty(t)&&lu[t]?(""+e).trim():e+"px"}function ak(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rO=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(t,e){if(e){if(rO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function W1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Al=null,Ml=null;function ib(t){if(t=vh(t)){if(typeof Vm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Fp(e),Vm(t.stateNode,t.type,e))}}function lk(t){Al?Ml?Ml.push(t):Ml=[t]:Al=t}function ck(){if(Al){var t=Al,e=Ml;if(Ml=Al=null,ib(t),e)for(t=0;t<e.length;t++)ib(e[t])}}function uk(t,e){return t(e)}function hk(){}var f0=!1;function dk(t,e,n){if(f0)return t(e,n);f0=!0;try{return uk(t,e,n)}finally{f0=!1,(Al!==null||Ml!==null)&&(hk(),ck())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Fp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Wm=!1;if(Vo)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{Wm=!1}function iO(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var cu=!1,sf=null,af=!1,Xm=null,oO={onError:function(t){cu=!0,sf=t}};function sO(t,e,n,r,i,o,s,a,l){cu=!1,sf=null,iO.apply(oO,arguments)}function aO(t,e,n,r,i,o,s,a,l){if(sO.apply(this,arguments),cu){if(cu){var u=sf;cu=!1,sf=null}else throw Error(V(198));af||(af=!0,Xm=u)}}function La(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ob(t){if(La(t)!==t)throw Error(V(188))}function lO(t){var e=t.alternate;if(!e){if(e=La(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ob(i),t;if(o===r)return ob(i),e;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function pk(t){return t=lO(t),t!==null?gk(t):null}function gk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gk(t);if(e!==null)return e;t=t.sibling}return null}var mk=Or.unstable_scheduleCallback,sb=Or.unstable_cancelCallback,cO=Or.unstable_shouldYield,uO=Or.unstable_requestPaint,kt=Or.unstable_now,hO=Or.unstable_getCurrentPriorityLevel,X1=Or.unstable_ImmediatePriority,yk=Or.unstable_UserBlockingPriority,lf=Or.unstable_NormalPriority,dO=Or.unstable_LowPriority,vk=Or.unstable_IdlePriority,Dp=null,bo=null;function fO(t){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(Dp,t,void 0,(t.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:mO,pO=Math.log,gO=Math.LN2;function mO(t){return t>>>=0,t===0?32:31-(pO(t)/gO|0)|0}var Xh=64,Kh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=eu(a):(o&=s,o!==0&&(r=eu(o)))}else s=n&~i,s!==0?r=eu(s):o!==0&&(r=eu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xi(e),i=1<<n,r|=t[n],e&=~i;return r}function yO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yO(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wk(){var t=Xh;return Xh<<=1,!(Xh&4194240)&&(Xh=64),t}function p0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xi(e),t[e]=n}function wO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function K1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bk,Y1,Sk,Ck,Ek,Ym=!1,Yh=[],bs=null,Ss=null,Cs=null,Mu=new Map,Pu=new Map,ps=[],xO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ab(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function Fc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vh(e),e!==null&&Y1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bO(t,e,n,r,i){switch(e){case"focusin":return bs=Fc(bs,t,e,n,r,i),!0;case"dragenter":return Ss=Fc(Ss,t,e,n,r,i),!0;case"mouseover":return Cs=Fc(Cs,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mu.set(o,Fc(Mu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pu.set(o,Fc(Pu.get(o)||null,t,e,n,r,i)),!0}return!1}function _k(t){var e=ia(t.target);if(e!==null){var n=La(e);if(n!==null){if(e=n.tag,e===13){if(e=fk(n),e!==null){t.blockedOn=e,Ek(t.priority,function(){Sk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gm=r,n.target.dispatchEvent(r),Gm=null}else return e=vh(n),e!==null&&Y1(e),t.blockedOn=n,!1;e.shift()}return!0}function lb(t,e,n){Md(t)&&n.delete(e)}function SO(){Ym=!1,bs!==null&&Md(bs)&&(bs=null),Ss!==null&&Md(Ss)&&(Ss=null),Cs!==null&&Md(Cs)&&(Cs=null),Mu.forEach(lb),Pu.forEach(lb)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,SO)))}function Iu(t){function e(i){return Hc(i,t)}if(0<Yh.length){Hc(Yh[0],t);for(var n=1;n<Yh.length;n++){var r=Yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&Hc(bs,t),Ss!==null&&Hc(Ss,t),Cs!==null&&Hc(Cs,t),Mu.forEach(e),Pu.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)_k(n),n.blockedOn===null&&ps.shift()}var Pl=Qo.ReactCurrentBatchConfig,uf=!0;function CO(t,e,n,r){var i=Ue,o=Pl.transition;Pl.transition=null;try{Ue=1,Z1(t,e,n,r)}finally{Ue=i,Pl.transition=o}}function EO(t,e,n,r){var i=Ue,o=Pl.transition;Pl.transition=null;try{Ue=4,Z1(t,e,n,r)}finally{Ue=i,Pl.transition=o}}function Z1(t,e,n,r){if(uf){var i=Zm(t,e,n,r);if(i===null)E0(t,e,r,hf,n),ab(t,r);else if(bO(i,t,e,n,r))r.stopPropagation();else if(ab(t,r),e&4&&-1<xO.indexOf(t)){for(;i!==null;){var o=vh(i);if(o!==null&&bk(o),o=Zm(t,e,n,r),o===null&&E0(t,e,r,hf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else E0(t,e,r,null,n)}}var hf=null;function Zm(t,e,n,r){if(hf=null,t=W1(r),t=ia(t),t!==null)if(e=La(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function kk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hO()){case X1:return 1;case yk:return 4;case lf:case dO:return 16;case vk:return 536870912;default:return 16}default:return 16}}var ys=null,q1=null,Pd=null;function $k(){if(Pd)return Pd;var t,e=q1,n=e.length,r,i="value"in ys?ys.value:ys.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pd=i.slice(t,1<r?1-r:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zh(){return!0}function cb(){return!1}function Dr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zh:cb,this.isPropagationStopped=cb,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q1=Dr(uc),yh=xt({},uc,{view:0,detail:0}),_O=Dr(yh),g0,m0,zc,Lp=xt({},yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zc&&(zc&&t.type==="mousemove"?(g0=t.screenX-zc.screenX,m0=t.screenY-zc.screenY):m0=g0=0,zc=t),g0)},movementY:function(t){return"movementY"in t?t.movementY:m0}}),ub=Dr(Lp),kO=xt({},Lp,{dataTransfer:0}),$O=Dr(kO),TO=xt({},yh,{relatedTarget:0}),y0=Dr(TO),AO=xt({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),MO=Dr(AO),PO=xt({},uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IO=Dr(PO),OO=xt({},uc,{data:0}),hb=Dr(OO),RO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DO[t])?!!e[t]:!1}function J1(){return LO}var NO=xt({},yh,{key:function(t){if(t.key){var e=RO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J1,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BO=Dr(NO),FO=xt({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=Dr(FO),HO=xt({},yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J1}),zO=Dr(HO),UO=xt({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=Dr(UO),VO=xt({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=Dr(VO),XO=[9,13,27,32],ev=Vo&&"CompositionEvent"in window,uu=null;Vo&&"documentMode"in document&&(uu=document.documentMode);var KO=Vo&&"TextEvent"in window&&!uu,Tk=Vo&&(!ev||uu&&8<uu&&11>=uu),fb=" ",pb=!1;function Ak(t,e){switch(t){case"keyup":return XO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ml=!1;function YO(t,e){switch(t){case"compositionend":return Mk(e);case"keypress":return e.which!==32?null:(pb=!0,fb);case"textInput":return t=e.data,t===fb&&pb?null:t;default:return null}}function ZO(t,e){if(ml)return t==="compositionend"||!ev&&Ak(t,e)?(t=$k(),Pd=q1=ys=null,ml=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var qO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qO[t.type]:e==="textarea"}function Pk(t,e,n,r){lk(r),e=df(e,"onChange"),0<e.length&&(n=new Q1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hu=null,Ou=null;function QO(t){zk(t,0)}function Np(t){var e=wl(t);if(tk(e))return t}function JO(t,e){if(t==="change")return e}var Ik=!1;if(Vo){var v0;if(Vo){var w0="oninput"in document;if(!w0){var mb=document.createElement("div");mb.setAttribute("oninput","return;"),w0=typeof mb.oninput=="function"}v0=w0}else v0=!1;Ik=v0&&(!document.documentMode||9<document.documentMode)}function yb(){hu&&(hu.detachEvent("onpropertychange",Ok),Ou=hu=null)}function Ok(t){if(t.propertyName==="value"&&Np(Ou)){var e=[];Pk(e,Ou,t,W1(t)),dk(QO,e)}}function eR(t,e,n){t==="focusin"?(yb(),hu=e,Ou=n,hu.attachEvent("onpropertychange",Ok)):t==="focusout"&&yb()}function tR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Np(Ou)}function nR(t,e){if(t==="click")return Np(e)}function rR(t,e){if(t==="input"||t==="change")return Np(e)}function iR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eo=typeof Object.is=="function"?Object.is:iR;function Ru(t,e){if(eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Im.call(e,i)||!eo(t[i],e[i]))return!1}return!0}function vb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wb(t,e){var n=vb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vb(n)}}function Rk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jk(){for(var t=window,e=of();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=of(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oR(t){var e=jk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rk(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wb(n,o);var s=wb(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sR=Vo&&"documentMode"in document&&11>=document.documentMode,yl=null,qm=null,du=null,Qm=!1;function xb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||yl==null||yl!==of(r)||(r=yl,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),du&&Ru(du,r)||(du=r,r=df(qm,"onSelect"),0<r.length&&(e=new Q1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yl)))}function qh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vl={animationend:qh("Animation","AnimationEnd"),animationiteration:qh("Animation","AnimationIteration"),animationstart:qh("Animation","AnimationStart"),transitionend:qh("Transition","TransitionEnd")},x0={},Dk={};Vo&&(Dk=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Bp(t){if(x0[t])return x0[t];if(!vl[t])return t;var e=vl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dk)return x0[t]=e[n];return t}var Lk=Bp("animationend"),Nk=Bp("animationiteration"),Bk=Bp("animationstart"),Fk=Bp("transitionend"),Hk=new Map,bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){Hk.set(t,e),Da(e,[t])}for(var b0=0;b0<bb.length;b0++){var S0=bb[b0],aR=S0.toLowerCase(),lR=S0[0].toUpperCase()+S0.slice(1);Gs(aR,"on"+lR)}Gs(Lk,"onAnimationEnd");Gs(Nk,"onAnimationIteration");Gs(Bk,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Fk,"onTransitionEnd");Ul("onMouseEnter",["mouseout","mouseover"]);Ul("onMouseLeave",["mouseout","mouseover"]);Ul("onPointerEnter",["pointerout","pointerover"]);Ul("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function Sb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aO(r,e,void 0,t),t.currentTarget=null}function zk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Sb(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Sb(i,a,u),o=l}}}if(af)throw t=Xm,af=!1,Xm=null,t}function qe(t,e){var n=e[ry];n===void 0&&(n=e[ry]=new Set);var r=t+"__bubble";n.has(r)||(Uk(e,t,2,!1),n.add(r))}function C0(t,e,n){var r=0;e&&(r|=4),Uk(n,t,r,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function ju(t){if(!t[Qh]){t[Qh]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||C0(n,!1,t),C0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,C0("selectionchange",!1,e))}}function Uk(t,e,n,r){switch(kk(e)){case 1:var i=CO;break;case 4:i=EO;break;default:i=Z1}n=i.bind(null,e,n,t),i=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ia(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}dk(function(){var u=o,h=W1(n),d=[];e:{var p=Hk.get(t);if(p!==void 0){var g=Q1,y=t;switch(t){case"keypress":if(Id(n)===0)break e;case"keydown":case"keyup":g=BO;break;case"focusin":y="focus",g=y0;break;case"focusout":y="blur",g=y0;break;case"beforeblur":case"afterblur":g=y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zO;break;case Lk:case Nk:case Bk:g=MO;break;case Fk:g=GO;break;case"scroll":g=_O;break;case"wheel":g=WO;break;case"copy":case"cut":case"paste":g=IO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=db}var m=(e&4)!==0,C=!m&&t==="scroll",x=m?p!==null?p+"Capture":null:p;m=[];for(var v=u,b;v!==null;){b=v;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,x!==null&&(E=Au(v,x),E!=null&&m.push(Du(v,E,b)))),C)break;v=v.return}0<m.length&&(p=new g(p,y,null,n,h),d.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Gm&&(y=n.relatedTarget||n.fromElement)&&(ia(y)||y[Wo]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?ia(y):null,y!==null&&(C=La(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(m=ub,E="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=db,E="onPointerLeave",x="onPointerEnter",v="pointer"),C=g==null?p:wl(g),b=y==null?p:wl(y),p=new m(E,v+"leave",g,n,h),p.target=C,p.relatedTarget=b,E=null,ia(h)===u&&(m=new m(x,v+"enter",y,n,h),m.target=b,m.relatedTarget=C,E=m),C=E,g&&y)t:{for(m=g,x=y,v=0,b=m;b;b=Ya(b))v++;for(b=0,E=x;E;E=Ya(E))b++;for(;0<v-b;)m=Ya(m),v--;for(;0<b-v;)x=Ya(x),b--;for(;v--;){if(m===x||x!==null&&m===x.alternate)break t;m=Ya(m),x=Ya(x)}m=null}else m=null;g!==null&&Cb(d,p,g,m,!1),y!==null&&C!==null&&Cb(d,C,y,m,!0)}}e:{if(p=u?wl(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=JO;else if(gb(p))if(Ik)A=rR;else{A=tR;var $=eR}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=nR);if(A&&(A=A(t,u))){Pk(d,A,n,h);break e}$&&$(t,p,u),t==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&Bm(p,"number",p.value)}switch($=u?wl(u):window,t){case"focusin":(gb($)||$.contentEditable==="true")&&(yl=$,qm=u,du=null);break;case"focusout":du=qm=yl=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,xb(d,n,h);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":xb(d,n,h)}var M;if(ev)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ml?Ak(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Tk&&n.locale!=="ko"&&(ml||I!=="onCompositionStart"?I==="onCompositionEnd"&&ml&&(M=$k()):(ys=h,q1="value"in ys?ys.value:ys.textContent,ml=!0)),$=df(u,I),0<$.length&&(I=new hb(I,t,null,n,h),d.push({event:I,listeners:$}),M?I.data=M:(M=Mk(n),M!==null&&(I.data=M)))),(M=KO?YO(t,n):ZO(t,n))&&(u=df(u,"onBeforeInput"),0<u.length&&(h=new hb("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=M))}zk(d,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Au(t,n),o!=null&&r.unshift(Du(t,o,i)),o=Au(t,e),o!=null&&r.push(Du(t,o,i))),t=t.return}return r}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cb(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Au(n,o),l!=null&&s.unshift(Du(n,l,a))):i||(l=Au(n,o),l!=null&&s.push(Du(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function Eb(t){return(typeof t=="string"?t:""+t).replace(uR,`
`).replace(hR,"")}function Jh(t,e,n){if(e=Eb(e),Eb(t)!==e&&n)throw Error(V(425))}function ff(){}var Jm=null,ey=null;function ty(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(t){return _b.resolve(null).then(t).catch(pR)}:ny;function pR(t){setTimeout(function(){throw t})}function _0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hc=Math.random().toString(36).slice(2),vo="__reactFiber$"+hc,Lu="__reactProps$"+hc,Wo="__reactContainer$"+hc,ry="__reactEvents$"+hc,gR="__reactListeners$"+hc,mR="__reactHandles$"+hc;function ia(t){var e=t[vo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wo]||n[vo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kb(t);t!==null;){if(n=t[vo])return n;t=kb(t)}return e}t=n,n=t.parentNode}return null}function vh(t){return t=t[vo]||t[Wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Fp(t){return t[Lu]||null}var iy=[],xl=-1;function Vs(t){return{current:t}}function nt(t){0>xl||(t.current=iy[xl],iy[xl]=null,xl--)}function Ze(t,e){xl++,iy[xl]=t.current,t.current=e}var Rs={},In=Vs(Rs),fr=Vs(!1),ma=Rs;function Gl(t,e){var n=t.type.contextTypes;if(!n)return Rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function pf(){nt(fr),nt(In)}function $b(t,e,n){if(In.current!==Rs)throw Error(V(168));Ze(In,e),Ze(fr,n)}function Gk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,eO(t)||"Unknown",i));return xt({},n,r)}function gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,ma=In.current,Ze(In,t),Ze(fr,fr.current),!0}function Tb(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=Gk(t,e,ma),r.__reactInternalMemoizedMergedChildContext=t,nt(fr),nt(In),Ze(In,t)):nt(fr),Ze(fr,n)}var Lo=null,Hp=!1,k0=!1;function Vk(t){Lo===null?Lo=[t]:Lo.push(t)}function yR(t){Hp=!0,Vk(t)}function Ws(){if(!k0&&Lo!==null){k0=!0;var t=0,e=Ue;try{var n=Lo;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lo=null,Hp=!1}catch(i){throw Lo!==null&&(Lo=Lo.slice(t+1)),mk(X1,Ws),i}finally{Ue=e,k0=!1}}return null}var bl=[],Sl=0,mf=null,yf=0,Nr=[],Br=0,ya=null,Bo=1,Fo="";function ea(t,e){bl[Sl++]=yf,bl[Sl++]=mf,mf=t,yf=e}function Wk(t,e,n){Nr[Br++]=Bo,Nr[Br++]=Fo,Nr[Br++]=ya,ya=t;var r=Bo;t=Fo;var i=32-Xi(r)-1;r&=~(1<<i),n+=1;var o=32-Xi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bo=1<<32-Xi(e)+i|n<<i|r,Fo=o+t}else Bo=1<<o|n<<i|r,Fo=t}function nv(t){t.return!==null&&(ea(t,1),Wk(t,1,0))}function rv(t){for(;t===mf;)mf=bl[--Sl],bl[Sl]=null,yf=bl[--Sl],bl[Sl]=null;for(;t===ya;)ya=Nr[--Br],Nr[Br]=null,Fo=Nr[--Br],Nr[Br]=null,Bo=Nr[--Br],Nr[Br]=null}var Mr=null,Er=null,it=!1,zi=null;function Xk(t,e){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ab(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mr=t,Er=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mr=t,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ya!==null?{id:Bo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mr=t,Er=null,!0):!1;default:return!1}}function oy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sy(t){if(it){var e=Er;if(e){var n=e;if(!Ab(t,e)){if(oy(t))throw Error(V(418));e=Es(n.nextSibling);var r=Mr;e&&Ab(t,e)?Xk(r,n):(t.flags=t.flags&-4097|2,it=!1,Mr=t)}}else{if(oy(t))throw Error(V(418));t.flags=t.flags&-4097|2,it=!1,Mr=t}}}function Mb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mr=t}function ed(t){if(t!==Mr)return!1;if(!it)return Mb(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ty(t.type,t.memoizedProps)),e&&(e=Er)){if(oy(t))throw Kk(),Error(V(418));for(;e;)Xk(t,e),e=Es(e.nextSibling)}if(Mb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Er=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Er=null}}else Er=Mr?Es(t.stateNode.nextSibling):null;return!0}function Kk(){for(var t=Er;t;)t=Es(t.nextSibling)}function Vl(){Er=Mr=null,it=!1}function iv(t){zi===null?zi=[t]:zi.push(t)}var vR=Qo.ReactCurrentBatchConfig;function Fi(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vf=Vs(null),wf=null,Cl=null,ov=null;function sv(){ov=Cl=wf=null}function av(t){var e=vf.current;nt(vf),t._currentValue=e}function ay(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Il(t,e){wf=t,ov=Cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:e,next:null},Cl===null){if(wf===null)throw Error(V(308));Cl=t,wf.dependencies={lanes:0,firstContext:t}}else Cl=Cl.next=t;return e}var oa=null;function lv(t){oa===null?oa=[t]:oa.push(t)}function Yk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xo(t,r)}function Xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xo(t,n)}return i=r.interleaved,i===null?(e.next=e,lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xo(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K1(t,n)}}function Pb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;ds=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,h=u=l=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(p=e,g=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=xt({},d,p);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wa|=s,t.lanes=s,t.memoizedState=d}}function Ib(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var qk=new Y_.Component().refs;function ly(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zp={isMounted:function(t){return(t=t._reactInternals)?La(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=$s(t),o=Uo(r,i);o.payload=e,n!=null&&(o.callback=n),e=_s(t,o,i),e!==null&&(Ki(e,t,i,r),Od(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=$s(t),o=Uo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_s(t,o,i),e!==null&&(Ki(e,t,i,r),Od(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dn(),r=$s(t),i=Uo(n,r);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,r),e!==null&&(Ki(e,t,r,n),Od(e,t,r))}};function Ob(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,o):!0}function Qk(t,e,n){var r=!1,i=Rs,o=e.contextType;return typeof o=="object"&&o!==null?o=Wr(o):(i=pr(e)?ma:In.current,r=e.contextTypes,o=(r=r!=null)?Gl(t,i):Rs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function cy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=qk,cv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wr(o):(o=pr(e)?ma:In.current,i.context=Gl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ly(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zp.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===qk&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jb(t){var e=t._init;return e(t._payload)}function Jk(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Ts(x,v),x.index=0,x.sibling=null,x}function o(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,b,E){return v===null||v.tag!==6?(v=O0(b,x.mode,E),v.return=x,v):(v=i(v,b),v.return=x,v)}function l(x,v,b,E){var A=b.type;return A===gl?h(x,v,b.props.children,E,b.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===hs&&jb(A)===v.type)?(E=i(v,b.props),E.ref=Uc(x,v,b),E.return=x,E):(E=Bd(b.type,b.key,b.props,null,x.mode,E),E.ref=Uc(x,v,b),E.return=x,E)}function u(x,v,b,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=R0(b,x.mode,E),v.return=x,v):(v=i(v,b.children||[]),v.return=x,v)}function h(x,v,b,E,A){return v===null||v.tag!==7?(v=ha(b,x.mode,E,A),v.return=x,v):(v=i(v,b),v.return=x,v)}function d(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=O0(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gh:return b=Bd(v.type,v.key,v.props,null,x.mode,b),b.ref=Uc(x,null,v),b.return=x,b;case pl:return v=R0(v,x.mode,b),v.return=x,v;case hs:var E=v._init;return d(x,E(v._payload),b)}if(Jc(v)||Nc(v))return v=ha(v,x.mode,b,null),v.return=x,v;td(x,v)}return null}function p(x,v,b,E){var A=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:a(x,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gh:return b.key===A?l(x,v,b,E):null;case pl:return b.key===A?u(x,v,b,E):null;case hs:return A=b._init,p(x,v,A(b._payload),E)}if(Jc(b)||Nc(b))return A!==null?null:h(x,v,b,E,null);td(x,b)}return null}function g(x,v,b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(b)||null,a(v,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gh:return x=x.get(E.key===null?b:E.key)||null,l(v,x,E,A);case pl:return x=x.get(E.key===null?b:E.key)||null,u(v,x,E,A);case hs:var $=E._init;return g(x,v,b,$(E._payload),A)}if(Jc(E)||Nc(E))return x=x.get(b)||null,h(v,x,E,A,null);td(v,E)}return null}function y(x,v,b,E){for(var A=null,$=null,M=v,I=v=0,N=null;M!==null&&I<b.length;I++){M.index>I?(N=M,M=null):N=M.sibling;var O=p(x,M,b[I],E);if(O===null){M===null&&(M=N);break}t&&M&&O.alternate===null&&e(x,M),v=o(O,v,I),$===null?A=O:$.sibling=O,$=O,M=N}if(I===b.length)return n(x,M),it&&ea(x,I),A;if(M===null){for(;I<b.length;I++)M=d(x,b[I],E),M!==null&&(v=o(M,v,I),$===null?A=M:$.sibling=M,$=M);return it&&ea(x,I),A}for(M=r(x,M);I<b.length;I++)N=g(M,x,I,b[I],E),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?I:N.key),v=o(N,v,I),$===null?A=N:$.sibling=N,$=N);return t&&M.forEach(function(L){return e(x,L)}),it&&ea(x,I),A}function m(x,v,b,E){var A=Nc(b);if(typeof A!="function")throw Error(V(150));if(b=A.call(b),b==null)throw Error(V(151));for(var $=A=null,M=v,I=v=0,N=null,O=b.next();M!==null&&!O.done;I++,O=b.next()){M.index>I?(N=M,M=null):N=M.sibling;var L=p(x,M,O.value,E);if(L===null){M===null&&(M=N);break}t&&M&&L.alternate===null&&e(x,M),v=o(L,v,I),$===null?A=L:$.sibling=L,$=L,M=N}if(O.done)return n(x,M),it&&ea(x,I),A;if(M===null){for(;!O.done;I++,O=b.next())O=d(x,O.value,E),O!==null&&(v=o(O,v,I),$===null?A=O:$.sibling=O,$=O);return it&&ea(x,I),A}for(M=r(x,M);!O.done;I++,O=b.next())O=g(M,x,I,O.value,E),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?I:O.key),v=o(O,v,I),$===null?A=O:$.sibling=O,$=O);return t&&M.forEach(function(F){return e(x,F)}),it&&ea(x,I),A}function C(x,v,b,E){if(typeof b=="object"&&b!==null&&b.type===gl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gh:e:{for(var A=b.key,$=v;$!==null;){if($.key===A){if(A=b.type,A===gl){if($.tag===7){n(x,$.sibling),v=i($,b.props.children),v.return=x,x=v;break e}}else if($.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===hs&&jb(A)===$.type){n(x,$.sibling),v=i($,b.props),v.ref=Uc(x,$,b),v.return=x,x=v;break e}n(x,$);break}else e(x,$);$=$.sibling}b.type===gl?(v=ha(b.props.children,x.mode,E,b.key),v.return=x,x=v):(E=Bd(b.type,b.key,b.props,null,x.mode,E),E.ref=Uc(x,v,b),E.return=x,x=E)}return s(x);case pl:e:{for($=b.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=i(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=R0(b,x.mode,E),v.return=x,x=v}return s(x);case hs:return $=b._init,C(x,v,$(b._payload),E)}if(Jc(b))return y(x,v,b,E);if(Nc(b))return m(x,v,b,E);td(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,b),v.return=x,x=v):(n(x,v),v=O0(b,x.mode,E),v.return=x,x=v),s(x)):n(x,v)}return C}var Wl=Jk(!0),e3=Jk(!1),wh={},So=Vs(wh),Nu=Vs(wh),Bu=Vs(wh);function sa(t){if(t===wh)throw Error(V(174));return t}function uv(t,e){switch(Ze(Bu,e),Ze(Nu,t),Ze(So,wh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hm(e,t)}nt(So),Ze(So,e)}function Xl(){nt(So),nt(Nu),nt(Bu)}function t3(t){sa(Bu.current);var e=sa(So.current),n=Hm(e,t.type);e!==n&&(Ze(Nu,t),Ze(So,n))}function hv(t){Nu.current===t&&(nt(So),nt(Nu))}var yt=Vs(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $0=[];function dv(){for(var t=0;t<$0.length;t++)$0[t]._workInProgressVersionPrimary=null;$0.length=0}var Rd=Qo.ReactCurrentDispatcher,T0=Qo.ReactCurrentBatchConfig,va=0,wt=null,Bt=null,Wt=null,Sf=!1,fu=!1,Fu=0,wR=0;function $n(){throw Error(V(321))}function fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!eo(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,i,o){if(va=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rd.current=t===null||t.memoizedState===null?CR:ER,t=n(r,i),fu){o=0;do{if(fu=!1,Fu=0,25<=o)throw Error(V(301));o+=1,Wt=Bt=null,e.updateQueue=null,Rd.current=_R,t=n(r,i)}while(fu)}if(Rd.current=Cf,e=Bt!==null&&Bt.next!==null,va=0,Wt=Bt=wt=null,Sf=!1,e)throw Error(V(300));return t}function gv(){var t=Fu!==0;return Fu=0,t}function go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Xr(){if(Bt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Wt===null?wt.memoizedState:Wt.next;if(e!==null)Wt=e,Bt=t;else{if(t===null)throw Error(V(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Hu(t,e){return typeof e=="function"?e(t):e}function A0(t){var e=Xr(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=Bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((va&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,wt.lanes|=h,wa|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,eo(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,wa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function M0(t){var e=Xr(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);eo(o,e.memoizedState)||(dr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function n3(){}function r3(t,e){var n=wt,r=Xr(),i=e(),o=!eo(r.memoizedState,i);if(o&&(r.memoizedState=i,dr=!0),r=r.queue,mv(s3.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,zu(9,o3.bind(null,n,r,i,e),void 0,null),Zt===null)throw Error(V(349));va&30||i3(n,e,i)}return i}function i3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o3(t,e,n,r){e.value=n,e.getSnapshot=r,a3(e)&&l3(t)}function s3(t,e,n){return n(function(){a3(e)&&l3(t)})}function a3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eo(t,n)}catch{return!0}}function l3(t){var e=Xo(t,1);e!==null&&Ki(e,t,1,-1)}function Db(t){var e=go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:t},e.queue=t,t=t.dispatch=SR.bind(null,wt,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c3(){return Xr().memoizedState}function jd(t,e,n,r){var i=go();wt.flags|=t,i.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Up(t,e,n,r){var i=Xr();r=r===void 0?null:r;var o=void 0;if(Bt!==null){var s=Bt.memoizedState;if(o=s.destroy,r!==null&&fv(r,s.deps)){i.memoizedState=zu(e,n,o,r);return}}wt.flags|=t,i.memoizedState=zu(1|e,n,o,r)}function Lb(t,e){return jd(8390656,8,t,e)}function mv(t,e){return Up(2048,8,t,e)}function u3(t,e){return Up(4,2,t,e)}function h3(t,e){return Up(4,4,t,e)}function d3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f3(t,e,n){return n=n!=null?n.concat([t]):null,Up(4,4,d3.bind(null,e,t),n)}function yv(){}function p3(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g3(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m3(t,e,n){return va&21?(eo(n,e)||(n=wk(),wt.lanes|=n,wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function xR(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=T0.transition;T0.transition={};try{t(!1),e()}finally{Ue=n,T0.transition=r}}function y3(){return Xr().memoizedState}function bR(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v3(t))w3(e,n);else if(n=Yk(t,e,n,r),n!==null){var i=Dn();Ki(n,t,r,i),x3(n,e,r)}}function SR(t,e,n){var r=$s(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v3(t))w3(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,eo(a,s)){var l=e.interleaved;l===null?(i.next=i,lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Yk(t,e,i,r),n!==null&&(i=Dn(),Ki(n,t,r,i),x3(n,e,r))}}function v3(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function w3(t,e){fu=Sf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K1(t,n)}}var Cf={readContext:Wr,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},CR={readContext:Wr,useCallback:function(t,e){return go().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:Lb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,d3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bR.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=go();return t={current:t},e.memoizedState=t},useState:Db,useDebugValue:yv,useDeferredValue:function(t){return go().memoizedState=t},useTransition:function(){var t=Db(!1),e=t[0];return t=xR.bind(null,t[1]),go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=go();if(it){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Zt===null)throw Error(V(349));va&30||i3(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Lb(s3.bind(null,r,o,t),[t]),r.flags|=2048,zu(9,o3.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=go(),e=Zt.identifierPrefix;if(it){var n=Fo,r=Bo;n=(r&~(1<<32-Xi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ER={readContext:Wr,useCallback:p3,useContext:Wr,useEffect:mv,useImperativeHandle:f3,useInsertionEffect:u3,useLayoutEffect:h3,useMemo:g3,useReducer:A0,useRef:c3,useState:function(){return A0(Hu)},useDebugValue:yv,useDeferredValue:function(t){var e=Xr();return m3(e,Bt.memoizedState,t)},useTransition:function(){var t=A0(Hu)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:n3,useSyncExternalStore:r3,useId:y3,unstable_isNewReconciler:!1},_R={readContext:Wr,useCallback:p3,useContext:Wr,useEffect:mv,useImperativeHandle:f3,useInsertionEffect:u3,useLayoutEffect:h3,useMemo:g3,useReducer:M0,useRef:c3,useState:function(){return M0(Hu)},useDebugValue:yv,useDeferredValue:function(t){var e=Xr();return Bt===null?e.memoizedState=t:m3(e,Bt.memoizedState,t)},useTransition:function(){var t=M0(Hu)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:n3,useSyncExternalStore:r3,useId:y3,unstable_isNewReconciler:!1};function Kl(t,e){try{var n="",r=e;do n+=JI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function P0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kR=typeof WeakMap=="function"?WeakMap:Map;function b3(t,e,n){n=Uo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_f||(_f=!0,xy=r),uy(t,e)},n}function S3(t,e,n){n=Uo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uy(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Nb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FR.bind(null,t,e,n),e.then(t,t))}function Bb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Uo(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var $R=Qo.ReactCurrentOwner,dr=!1;function Rn(t,e,n,r){e.child=t===null?e3(e,null,n,r):Wl(e,t.child,n,r)}function Hb(t,e,n,r,i){n=n.render;var o=e.ref;return Il(e,i),r=pv(t,e,n,r,o,i),n=gv(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(it&&n&&nv(e),e.flags|=1,Rn(t,e,r,i),e.child)}function zb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_v(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,C3(t,e,o,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(s,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=Ts(o,r),t.ref=e.ref,t.return=e,e.child=t}function C3(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ru(o,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return hy(t,e,n,r,i)}function E3(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(_l,Cr),Cr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(_l,Cr),Cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(_l,Cr),Cr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(_l,Cr),Cr|=r;return Rn(t,e,i,n),e.child}function _3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hy(t,e,n,r,i){var o=pr(n)?ma:In.current;return o=Gl(e,o),Il(e,i),n=pv(t,e,n,r,o,i),r=gv(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(it&&r&&nv(e),e.flags|=1,Rn(t,e,n,i),e.child)}function Ub(t,e,n,r,i){if(pr(n)){var o=!0;gf(e)}else o=!1;if(Il(e,i),e.stateNode===null)Dd(t,e),Qk(e,n,r),cy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=pr(n)?ma:In.current,u=Gl(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Rb(e,s,r,u),ds=!1;var p=e.memoizedState;s.state=p,xf(e,r,s,i),l=e.memoizedState,a!==r||p!==l||fr.current||ds?(typeof h=="function"&&(ly(e,n,h,r),l=e.memoizedState),(a=ds||Ob(e,n,a,r,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Zk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fi(e.type,a),s.props=u,d=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=pr(n)?ma:In.current,l=Gl(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Rb(e,s,r,l),ds=!1,p=e.memoizedState,s.state=p,xf(e,r,s,i);var y=e.memoizedState;a!==d||p!==y||fr.current||ds?(typeof g=="function"&&(ly(e,n,g,r),y=e.memoizedState),(u=ds||Ob(e,n,u,r,p,y,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return dy(t,e,n,r,o,i)}function dy(t,e,n,r,i,o){_3(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Tb(e,n,!1),Ko(t,e,o);r=e.stateNode,$R.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Wl(e,t.child,null,o),e.child=Wl(e,null,a,o)):Rn(t,e,a,o),e.memoizedState=r.state,i&&Tb(e,n,!0),e.child}function k3(t){var e=t.stateNode;e.pendingContext?$b(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$b(t,e.context,!1),uv(t,e.containerInfo)}function Gb(t,e,n,r,i){return Vl(),iv(i),e.flags|=256,Rn(t,e,n,r),e.child}var fy={dehydrated:null,treeContext:null,retryLane:0};function py(t){return{baseLanes:t,cachePool:null,transitions:null}}function $3(t,e,n){var r=e.pendingProps,i=yt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(yt,i&1),t===null)return sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Wp(s,r,0,null),t=ha(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=py(n),e.memoizedState=fy,t):vv(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return TR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ts(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ts(a,o):(o=ha(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?py(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=fy,r}return o=t.child,t=o.sibling,r=Ts(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&iv(r),Wl(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=P0(Error(V(422))),nd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Wp({mode:"visible",children:r.children},i,0,null),o=ha(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Wl(e,t.child,null,s),e.child.memoizedState=py(s),e.memoizedState=fy,o);if(!(e.mode&1))return nd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(V(419)),r=P0(o,r,void 0),nd(t,e,s,r)}if(a=(s&t.childLanes)!==0,dr||a){if(r=Zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xo(t,i),Ki(r,t,i,-1))}return Ev(),r=P0(Error(V(421))),nd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Er=Es(i.nextSibling),Mr=e,it=!0,zi=null,t!==null&&(Nr[Br++]=Bo,Nr[Br++]=Fo,Nr[Br++]=ya,Bo=t.id,Fo=t.overflow,ya=e),e=vv(e,r.children),e.flags|=4096,e)}function Vb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ay(t.return,e,n)}function I0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function T3(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vb(t,n,e);else if(t.tag===19)Vb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),I0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}I0(e,!0,n,null,o);break;case"together":I0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AR(t,e,n){switch(e.tag){case 3:k3(e),Vl();break;case 5:t3(e);break;case 1:pr(e.type)&&gf(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(vf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?$3(t,e,n):(Ze(yt,yt.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);Ze(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,E3(t,e,n)}return Ko(t,e,n)}var A3,gy,M3,P3;A3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gy=function(){};M3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sa(So.current);var o=null;switch(n){case"input":i=Lm(t,i),r=Lm(t,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}zm(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($u.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($u.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};P3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gc(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MR(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return pr(e.type)&&pf(),Tn(e),null;case 3:return r=e.stateNode,Xl(),nt(fr),nt(In),dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zi!==null&&(Cy(zi),zi=null))),gy(t,e),Tn(e),null;case 5:hv(e);var i=sa(Bu.current);if(n=e.type,t!==null&&e.stateNode!=null)M3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Tn(e),null}if(t=sa(So.current),ed(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vo]=e,r[Lu]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)qe(tu[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":eb(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":nb(r,o),qe("invalid",r)}zm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Jh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Jh(r.textContent,a,t),i=["children",""+a]):$u.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qe("scroll",r)}switch(n){case"input":Vh(r),tb(r,o,!0);break;case"textarea":Vh(r),rb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ik(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[vo]=e,t[Lu]=r,A3(t,e,!1,!1),e.stateNode=t;e:{switch(s=Um(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)qe(tu[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":eb(t,r),i=Lm(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":nb(t,r),i=Fm(t,r),qe("invalid",t);break;default:i=r}zm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ak(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ok(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tu(t,l):typeof l=="number"&&Tu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($u.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qe("scroll",t):l!=null&&z1(t,o,l,s))}switch(n){case"input":Vh(t),tb(t,r,!1);break;case"textarea":Vh(t),rb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Os(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Tl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)P3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=sa(Bu.current),sa(So.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[vo]=e,(o=r.nodeValue!==n)&&(t=Mr,t!==null))switch(t.tag){case 3:Jh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vo]=e,e.stateNode=r}return Tn(e),null;case 13:if(nt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Er!==null&&e.mode&1&&!(e.flags&128))Kk(),Vl(),e.flags|=98560,o=!1;else if(o=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(V(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[vo]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),o=!1}else zi!==null&&(Cy(zi),zi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ft===0&&(Ft=3):Ev())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return Xl(),gy(t,e),t===null&&ju(e.stateNode.containerInfo),Tn(e),null;case 10:return av(e.type._context),Tn(e),null;case 17:return pr(e.type)&&pf(),Tn(e),null;case 19:if(nt(yt),o=e.memoizedState,o===null)return Tn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Gc(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bf(t),s!==null){for(e.flags|=128,Gc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(yt,yt.current&1|2),e.child}t=t.sibling}o.tail!==null&&kt()>Yl&&(e.flags|=128,r=!0,Gc(o,!1),e.lanes=4194304)}else{if(!r)if(t=bf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!it)return Tn(e),null}else 2*kt()-o.renderingStartTime>Yl&&n!==1073741824&&(e.flags|=128,r=!0,Gc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kt(),e.sibling=null,n=yt.current,Ze(yt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return Cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cr&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function PR(t,e){switch(rv(e),e.tag){case 1:return pr(e.type)&&pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xl(),nt(fr),nt(In),dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hv(e),null;case 13:if(nt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(yt),null;case 4:return Xl(),null;case 10:return av(e.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var rd=!1,Pn=!1,IR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function El(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function my(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var Wb=!1;function OR(t,e){if(Jm=uf,t=jk(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=s),p===o&&++h===r&&(l=s),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ey={focusedElem:t,selectionRange:n},uf=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,C=y.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Fi(e.type,m),C);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(E){Ct(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return y=Wb,Wb=!1,y}function pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&my(e,n,o)}i=i.next}while(i!==r)}}function Gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function I3(t){var e=t.alternate;e!==null&&(t.alternate=null,I3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vo],delete e[Lu],delete e[ry],delete e[gR],delete e[mR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O3(t){return t.tag===5||t.tag===3||t.tag===4}function Xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(vy(t,e,n),t=t.sibling;t!==null;)vy(t,e,n),t=t.sibling}function wy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wy(t,e,n),t=t.sibling;t!==null;)wy(t,e,n),t=t.sibling}var bn=null,Hi=!1;function ls(t,e,n){for(n=n.child;n!==null;)R3(t,e,n),n=n.sibling}function R3(t,e,n){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(Dp,n)}catch{}switch(n.tag){case 5:Pn||El(n,e);case 6:var r=bn,i=Hi;bn=null,ls(t,e,n),bn=r,Hi=i,bn!==null&&(Hi?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(Hi?(t=bn,n=n.stateNode,t.nodeType===8?_0(t.parentNode,n):t.nodeType===1&&_0(t,n),Iu(t)):_0(bn,n.stateNode));break;case 4:r=bn,i=Hi,bn=n.stateNode.containerInfo,Hi=!0,ls(t,e,n),bn=r,Hi=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&my(n,e,s),i=i.next}while(i!==r)}ls(t,e,n);break;case 1:if(!Pn&&(El(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ct(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,ls(t,e,n),Pn=r):ls(t,e,n);break;default:ls(t,e,n)}}function Kb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IR),e.forEach(function(r){var i=zR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:bn=a.stateNode,Hi=!1;break e;case 3:bn=a.stateNode.containerInfo,Hi=!0;break e;case 4:bn=a.stateNode.containerInfo,Hi=!0;break e}a=a.return}if(bn===null)throw Error(V(160));R3(o,s,i),bn=null,Hi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j3(e,t),e=e.sibling}function j3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),uo(t),r&4){try{pu(3,t,t.return),Gp(3,t)}catch(m){Ct(t,t.return,m)}try{pu(5,t,t.return)}catch(m){Ct(t,t.return,m)}}break;case 1:Ni(e,t),uo(t),r&512&&n!==null&&El(n,n.return);break;case 5:if(Ni(e,t),uo(t),r&512&&n!==null&&El(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(m){Ct(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&nk(i,o),Um(a,s);var u=Um(a,o);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];h==="style"?ak(i,d):h==="dangerouslySetInnerHTML"?ok(i,d):h==="children"?Tu(i,d):z1(i,h,d,u)}switch(a){case"input":Nm(i,o);break;case"textarea":rk(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Tl(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Tl(i,!!o.multiple,o.defaultValue,!0):Tl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Lu]=o}catch(m){Ct(t,t.return,m)}}break;case 6:if(Ni(e,t),uo(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Ct(t,t.return,m)}}break;case 3:if(Ni(e,t),uo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(m){Ct(t,t.return,m)}break;case 4:Ni(e,t),uo(t);break;case 13:Ni(e,t),uo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bv=kt())),r&4&&Kb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(u=Pn)||h,Ni(e,t),Pn=u):Ni(e,t),uo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(d=ne=h;ne!==null;){switch(p=ne,g=p.child,p.tag){case 0:case 11:case 14:case 15:pu(4,p,p.return);break;case 1:El(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Ct(r,n,m)}}break;case 5:El(p,p.return);break;case 22:if(p.memoizedState!==null){Zb(d);continue}}g!==null?(g.return=p,ne=g):Zb(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sk("display",s))}catch(m){Ct(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Ct(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ni(e,t),uo(t),r&4&&Kb(t);break;case 21:break;default:Ni(e,t),uo(t)}}function uo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O3(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var o=Xb(t);wy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Xb(t);vy(t,a,s);break;default:throw Error(V(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RR(t,e,n){ne=t,D3(t)}function D3(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=rd;var u=Pn;if(rd=s,(Pn=l)&&!u)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?qb(i):l!==null?(l.return=s,ne=l):qb(i);for(;o!==null;)ne=o,D3(o),o=o.sibling;ne=i,rd=a,Pn=u}Yb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):Yb(t)}}function Yb(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Gp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ib(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ib(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Iu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Pn||e.flags&512&&yy(e)}catch(p){Ct(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Zb(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function qb(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gp(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ct(e,i,l)}}var o=e.return;try{yy(e)}catch(l){Ct(e,o,l)}break;case 5:var s=e.return;try{yy(e)}catch(l){Ct(e,s,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var jR=Math.ceil,Ef=Qo.ReactCurrentDispatcher,wv=Qo.ReactCurrentOwner,Vr=Qo.ReactCurrentBatchConfig,Oe=0,Zt=null,Nt=null,Cn=0,Cr=0,_l=Vs(0),Ft=0,Uu=null,wa=0,Vp=0,xv=0,gu=null,ur=null,bv=0,Yl=1/0,Do=null,_f=!1,xy=null,ks=null,id=!1,vs=null,kf=0,mu=0,by=null,Ld=-1,Nd=0;function Dn(){return Oe&6?kt():Ld!==-1?Ld:Ld=kt()}function $s(t){return t.mode&1?Oe&2&&Cn!==0?Cn&-Cn:vR.transition!==null?(Nd===0&&(Nd=wk()),Nd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:kk(t.type)),t):1}function Ki(t,e,n,r){if(50<mu)throw mu=0,by=null,Error(V(185));mh(t,n,r),(!(Oe&2)||t!==Zt)&&(t===Zt&&(!(Oe&2)&&(Vp|=n),Ft===4&&gs(t,Cn)),gr(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Yl=kt()+500,Hp&&Ws()))}function gr(t,e){var n=t.callbackNode;vO(t,e);var r=cf(t,t===Zt?Cn:0);if(r===0)n!==null&&sb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sb(n),e===1)t.tag===0?yR(Qb.bind(null,t)):Vk(Qb.bind(null,t)),fR(function(){!(Oe&6)&&Ws()}),n=null;else{switch(xk(r)){case 1:n=X1;break;case 4:n=yk;break;case 16:n=lf;break;case 536870912:n=vk;break;default:n=lf}n=G3(n,L3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L3(t,e){if(Ld=-1,Nd=0,Oe&6)throw Error(V(327));var n=t.callbackNode;if(Ol()&&t.callbackNode!==n)return null;var r=cf(t,t===Zt?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$f(t,r);else{e=r;var i=Oe;Oe|=2;var o=B3();(Zt!==t||Cn!==e)&&(Do=null,Yl=kt()+500,ua(t,e));do try{NR();break}catch(a){N3(t,a)}while(!0);sv(),Ef.current=o,Oe=i,Nt!==null?e=0:(Zt=null,Cn=0,e=Ft)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=Sy(t,i))),e===1)throw n=Uu,ua(t,0),gs(t,r),gr(t,kt()),n;if(e===6)gs(t,r);else{if(i=t.current.alternate,!(r&30)&&!DR(i)&&(e=$f(t,r),e===2&&(o=Km(t),o!==0&&(r=o,e=Sy(t,o))),e===1))throw n=Uu,ua(t,0),gs(t,r),gr(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ta(t,ur,Do);break;case 3:if(gs(t,r),(r&130023424)===r&&(e=bv+500-kt(),10<e)){if(cf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ny(ta.bind(null,t,ur,Do),e);break}ta(t,ur,Do);break;case 4:if(gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jR(r/1960))-r,10<r){t.timeoutHandle=ny(ta.bind(null,t,ur,Do),r);break}ta(t,ur,Do);break;case 5:ta(t,ur,Do);break;default:throw Error(V(329))}}}return gr(t,kt()),t.callbackNode===n?L3.bind(null,t):null}function Sy(t,e){var n=gu;return t.current.memoizedState.isDehydrated&&(ua(t,e).flags|=256),t=$f(t,e),t!==2&&(e=ur,ur=n,e!==null&&Cy(e)),t}function Cy(t){ur===null?ur=t:ur.push.apply(ur,t)}function DR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!eo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~xv,e&=~Vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xi(e),r=1<<n;t[n]=-1,e&=~r}}function Qb(t){if(Oe&6)throw Error(V(327));Ol();var e=cf(t,0);if(!(e&1))return gr(t,kt()),null;var n=$f(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Sy(t,r))}if(n===1)throw n=Uu,ua(t,0),gs(t,e),gr(t,kt()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ta(t,ur,Do),gr(t,kt()),null}function Sv(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Yl=kt()+500,Hp&&Ws())}}function xa(t){vs!==null&&vs.tag===0&&!(Oe&6)&&Ol();var e=Oe;Oe|=1;var n=Vr.transition,r=Ue;try{if(Vr.transition=null,Ue=1,t)return t()}finally{Ue=r,Vr.transition=n,Oe=e,!(Oe&6)&&Ws()}}function Cv(){Cr=_l.current,nt(_l)}function ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dR(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:Xl(),nt(fr),nt(In),dv();break;case 5:hv(r);break;case 4:Xl();break;case 13:nt(yt);break;case 19:nt(yt);break;case 10:av(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(Zt=t,Nt=t=Ts(t.current,null),Cn=Cr=e,Ft=0,Uu=null,xv=Vp=wa=0,ur=gu=null,oa!==null){for(e=0;e<oa.length;e++)if(n=oa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}oa=null}return t}function N3(t,e){do{var n=Nt;try{if(sv(),Rd.current=Cf,Sf){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sf=!1}if(va=0,Wt=Bt=wt=null,fu=!1,Fu=0,wv.current=null,n===null||n.return===null){Ft=1,Uu=e,Nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Bb(s);if(g!==null){g.flags&=-257,Fb(g,s,a,o,e),g.mode&1&&Nb(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){Nb(o,u,e),Ev();break e}l=Error(V(426))}}else if(it&&a.mode&1){var C=Bb(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Fb(C,s,a,o,e),iv(Kl(l,a));break e}}o=l=Kl(l,a),Ft!==4&&(Ft=2),gu===null?gu=[o]:gu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=b3(o,l,e);Pb(o,x);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=S3(o,a,e);Pb(o,E);break e}}o=o.return}while(o!==null)}H3(n)}catch(A){e=A,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function B3(){var t=Ef.current;return Ef.current=Cf,t===null?Cf:t}function Ev(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Zt===null||!(wa&268435455)&&!(Vp&268435455)||gs(Zt,Cn)}function $f(t,e){var n=Oe;Oe|=2;var r=B3();(Zt!==t||Cn!==e)&&(Do=null,ua(t,e));do try{LR();break}catch(i){N3(t,i)}while(!0);if(sv(),Oe=n,Ef.current=r,Nt!==null)throw Error(V(261));return Zt=null,Cn=0,Ft}function LR(){for(;Nt!==null;)F3(Nt)}function NR(){for(;Nt!==null&&!cO();)F3(Nt)}function F3(t){var e=U3(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,e===null?H3(t):Nt=e,wv.current=null}function H3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PR(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Nt=null;return}}else if(n=MR(n,e,Cr),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ft===0&&(Ft=5)}function ta(t,e,n){var r=Ue,i=Vr.transition;try{Vr.transition=null,Ue=1,BR(t,e,n,r)}finally{Vr.transition=i,Ue=r}return null}function BR(t,e,n,r){do Ol();while(vs!==null);if(Oe&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wO(t,o),t===Zt&&(Nt=Zt=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,G3(lf,function(){return Ol(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vr.transition,Vr.transition=null;var s=Ue;Ue=1;var a=Oe;Oe|=4,wv.current=null,OR(t,n),j3(n,t),oR(ey),uf=!!Jm,ey=Jm=null,t.current=n,RR(n),uO(),Oe=a,Ue=s,Vr.transition=o}else t.current=n;if(id&&(id=!1,vs=t,kf=i),o=t.pendingLanes,o===0&&(ks=null),fO(n.stateNode),gr(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_f)throw _f=!1,t=xy,xy=null,t;return kf&1&&t.tag!==0&&Ol(),o=t.pendingLanes,o&1?t===by?mu++:(mu=0,by=t):mu=0,Ws(),null}function Ol(){if(vs!==null){var t=xk(kf),e=Vr.transition,n=Ue;try{if(Vr.transition=null,Ue=16>t?16:t,vs===null)var r=!1;else{if(t=vs,vs=null,kf=0,Oe&6)throw Error(V(331));var i=Oe;for(Oe|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:pu(8,h,o)}var d=h.child;if(d!==null)d.return=h,ne=d;else for(;ne!==null;){h=ne;var p=h.sibling,g=h.return;if(I3(h),h===u){ne=null;break}if(p!==null){p.return=g,ne=p;break}ne=g}}}var y=o.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var C=m.sibling;m.sibling=null,m=C}while(m!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ne=x;break e}ne=o.return}}var v=t.current;for(ne=v;ne!==null;){s=ne;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ne=b;else e:for(s=v;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gp(9,a)}}catch(A){Ct(a,a.return,A)}if(a===s){ne=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ne=E;break e}ne=a.return}}if(Oe=i,Ws(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(Dp,t)}catch{}r=!0}return r}finally{Ue=n,Vr.transition=e}}return!1}function Jb(t,e,n){e=Kl(n,e),e=b3(t,e,1),t=_s(t,e,1),e=Dn(),t!==null&&(mh(t,1,e),gr(t,e))}function Ct(t,e,n){if(t.tag===3)Jb(t,t,n);else for(;e!==null;){if(e.tag===3){Jb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Kl(n,t),t=S3(e,t,1),e=_s(e,t,1),t=Dn(),e!==null&&(mh(e,1,t),gr(e,t));break}}e=e.return}}function FR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dn(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(Cn&n)===n&&(Ft===4||Ft===3&&(Cn&130023424)===Cn&&500>kt()-bv?ua(t,0):xv|=n),gr(t,e)}function z3(t,e){e===0&&(t.mode&1?(e=Kh,Kh<<=1,!(Kh&130023424)&&(Kh=4194304)):e=1);var n=Dn();t=Xo(t,e),t!==null&&(mh(t,e,n),gr(t,n))}function HR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z3(t,n)}function zR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),z3(t,n)}var U3;U3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,AR(t,e,n);dr=!!(t.flags&131072)}else dr=!1,it&&e.flags&1048576&&Wk(e,yf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=Gl(e,In.current);Il(e,n),i=pv(null,e,r,t,i,n);var o=gv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(o=!0,gf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(e),i.updater=zp,e.stateNode=i,i._reactInternals=e,cy(e,r,t,n),e=dy(null,e,r,!0,o,n)):(e.tag=0,it&&o&&nv(e),Rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GR(r),t=Fi(r,t),i){case 0:e=hy(null,e,r,t,n);break e;case 1:e=Ub(null,e,r,t,n);break e;case 11:e=Hb(null,e,r,t,n);break e;case 14:e=zb(null,e,r,Fi(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Ub(t,e,r,i,n);case 3:e:{if(k3(e),t===null)throw Error(V(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Zk(t,e),xf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Kl(Error(V(423)),e),e=Gb(t,e,r,n,i);break e}else if(r!==i){i=Kl(Error(V(424)),e),e=Gb(t,e,r,n,i);break e}else for(Er=Es(e.stateNode.containerInfo.firstChild),Mr=e,it=!0,zi=null,n=e3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vl(),r===i){e=Ko(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return t3(e),t===null&&sy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ty(r,i)?s=null:o!==null&&ty(r,o)&&(e.flags|=32),_3(t,e),Rn(t,e,s,n),e.child;case 6:return t===null&&sy(e),null;case 13:return $3(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wl(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Hb(t,e,r,i,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ze(vf,r._currentValue),r._currentValue=s,o!==null)if(eo(o.value,s)){if(o.children===i.children&&!fr.current){e=Ko(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Uo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ay(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(V(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ay(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Il(e,n),i=Wr(i),r=r(i),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,i=Fi(r,e.pendingProps),i=Fi(r.type,i),zb(t,e,r,i,n);case 15:return C3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Dd(t,e),e.tag=1,pr(r)?(t=!0,gf(e)):t=!1,Il(e,n),Qk(e,r,i),cy(e,r,i,n),dy(null,e,r,!0,t,n);case 19:return T3(t,e,n);case 22:return E3(t,e,n)}throw Error(V(156,e.tag))};function G3(t,e){return mk(t,e)}function UR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,n,r){return new UR(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GR(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G1)return 11;if(t===V1)return 14}return 2}function Ts(t,e){var n=t.alternate;return n===null?(n=Gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_v(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case gl:return ha(n.children,i,o,e);case U1:s=8,i|=8;break;case Om:return t=Gr(12,n,e,i|2),t.elementType=Om,t.lanes=o,t;case Rm:return t=Gr(13,n,e,i),t.elementType=Rm,t.lanes=o,t;case jm:return t=Gr(19,n,e,i),t.elementType=jm,t.lanes=o,t;case J_:return Wp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q_:s=10;break e;case Q_:s=9;break e;case G1:s=11;break e;case V1:s=14;break e;case hs:s=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Gr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ha(t,e,n,r){return t=Gr(7,t,r,e),t.lanes=n,t}function Wp(t,e,n,r){return t=Gr(22,t,r,e),t.elementType=J_,t.lanes=n,t.stateNode={isHidden:!1},t}function O0(t,e,n){return t=Gr(6,t,null,e),t.lanes=n,t}function R0(t,e,n){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p0(0),this.expirationTimes=p0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,i,o,s,a,l){return t=new VR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(o),t}function WR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function V3(t){if(!t)return Rs;t=t._reactInternals;e:{if(La(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(pr(n))return Gk(t,n,e)}return e}function W3(t,e,n,r,i,o,s,a,l){return t=kv(n,r,!0,t,i,o,s,a,l),t.context=V3(null),n=t.current,r=Dn(),i=$s(n),o=Uo(r,i),o.callback=e??null,_s(n,o,i),t.current.lanes=i,mh(t,i,r),gr(t,r),t}function Xp(t,e,n,r){var i=e.current,o=Dn(),s=$s(i);return n=V3(n),e.context===null?e.context=n:e.pendingContext=n,e=Uo(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(i,e,s),t!==null&&(Ki(t,i,s,o),Od(t,i,s)),s}function Tf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function e2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $v(t,e){e2(t,e),(t=t.alternate)&&e2(t,e)}function XR(){return null}var X3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}Kp.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Xp(t,e,null,null)};Kp.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xa(function(){Xp(null,t,null,null)}),e[Wo]=null}};function Kp(t){this._internalRoot=t}Kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ck();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&_k(t)}};function Av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t2(){}function KR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Tf(s);o.call(u)}}var s=W3(e,r,t,0,null,!1,!1,"",t2);return t._reactRootContainer=s,t[Wo]=s.current,ju(t.nodeType===8?t.parentNode:t),xa(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Tf(l);a.call(u)}}var l=kv(t,0,!1,null,null,!1,!1,"",t2);return t._reactRootContainer=l,t[Wo]=l.current,ju(t.nodeType===8?t.parentNode:t),xa(function(){Xp(e,l,n,r)}),l}function Zp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Tf(s);a.call(l)}}Xp(e,s,t,i)}else s=KR(n,e,t,i,r);return Tf(s)}bk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(K1(e,n|1),gr(e,kt()),!(Oe&6)&&(Yl=kt()+500,Ws()))}break;case 13:xa(function(){var r=Xo(t,1);if(r!==null){var i=Dn();Ki(r,t,1,i)}}),$v(t,1)}};Y1=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var n=Dn();Ki(e,t,134217728,n)}$v(t,134217728)}};Sk=function(t){if(t.tag===13){var e=$s(t),n=Xo(t,e);if(n!==null){var r=Dn();Ki(n,t,e,r)}$v(t,e)}};Ck=function(){return Ue};Ek=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Vm=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fp(r);if(!i)throw Error(V(90));tk(r),Nm(r,i)}}}break;case"textarea":rk(t,n);break;case"select":e=n.value,e!=null&&Tl(t,!!n.multiple,e,!1)}};uk=Sv;hk=xa;var YR={usingClientEntryPoint:!1,Events:[vh,wl,Fp,lk,ck,Sv]},Vc={findFiberByHostInstance:ia,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZR={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pk(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||XR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Dp=od.inject(ZR),bo=od}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;jr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(e))throw Error(V(200));return WR(t,e,null,n)};jr.createRoot=function(t,e){if(!Av(t))throw Error(V(299));var n=!1,r="",i=X3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,i),t[Wo]=e.current,ju(t.nodeType===8?t.parentNode:t),new Tv(e)};jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=pk(e),t=t===null?null:t.stateNode,t};jr.flushSync=function(t){return xa(t)};jr.hydrate=function(t,e,n){if(!Yp(e))throw Error(V(200));return Zp(null,t,e,!0,n)};jr.hydrateRoot=function(t,e,n){if(!Av(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=X3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=W3(e,null,t,1,n??null,i,!1,o,s),t[Wo]=e.current,ju(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kp(e)};jr.render=function(t,e,n){if(!Yp(e))throw Error(V(200));return Zp(null,t,e,!1,n)};jr.unmountComponentAtNode=function(t){if(!Yp(t))throw Error(V(40));return t._reactRootContainer?(xa(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[Wo]=null})}),!0):!1};jr.unstable_batchedUpdates=Sv;jr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yp(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Zp(t,e,n,!1,r)};jr.version="18.2.0-next-9e3b772b8-20220608";function K3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K3)}catch(t){console.error(t)}}K3(),W_.exports=jr;var qp=W_.exports,n2=qp;Pm.createRoot=n2.createRoot,Pm.hydrateRoot=n2.hydrateRoot;var Ey=function(t,e){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ey(t,e)};function Yr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ey(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var oe=function(){return oe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},oe.apply(this,arguments)};function Zl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y3(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ui(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Z3={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=typeof Symbol=="function"&&Symbol.for,Mv=Qt?Symbol.for("react.element"):60103,Pv=Qt?Symbol.for("react.portal"):60106,Qp=Qt?Symbol.for("react.fragment"):60107,Jp=Qt?Symbol.for("react.strict_mode"):60108,eg=Qt?Symbol.for("react.profiler"):60114,tg=Qt?Symbol.for("react.provider"):60109,ng=Qt?Symbol.for("react.context"):60110,Iv=Qt?Symbol.for("react.async_mode"):60111,rg=Qt?Symbol.for("react.concurrent_mode"):60111,ig=Qt?Symbol.for("react.forward_ref"):60112,og=Qt?Symbol.for("react.suspense"):60113,qR=Qt?Symbol.for("react.suspense_list"):60120,sg=Qt?Symbol.for("react.memo"):60115,ag=Qt?Symbol.for("react.lazy"):60116,QR=Qt?Symbol.for("react.block"):60121,JR=Qt?Symbol.for("react.fundamental"):60117,e4=Qt?Symbol.for("react.responder"):60118,t4=Qt?Symbol.for("react.scope"):60119;function Lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mv:switch(t=t.type,t){case Iv:case rg:case Qp:case eg:case Jp:case og:return t;default:switch(t=t&&t.$$typeof,t){case ng:case ig:case ag:case sg:case tg:return t;default:return e}}case Pv:return e}}}function q3(t){return Lr(t)===rg}Ge.AsyncMode=Iv;Ge.ConcurrentMode=rg;Ge.ContextConsumer=ng;Ge.ContextProvider=tg;Ge.Element=Mv;Ge.ForwardRef=ig;Ge.Fragment=Qp;Ge.Lazy=ag;Ge.Memo=sg;Ge.Portal=Pv;Ge.Profiler=eg;Ge.StrictMode=Jp;Ge.Suspense=og;Ge.isAsyncMode=function(t){return q3(t)||Lr(t)===Iv};Ge.isConcurrentMode=q3;Ge.isContextConsumer=function(t){return Lr(t)===ng};Ge.isContextProvider=function(t){return Lr(t)===tg};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mv};Ge.isForwardRef=function(t){return Lr(t)===ig};Ge.isFragment=function(t){return Lr(t)===Qp};Ge.isLazy=function(t){return Lr(t)===ag};Ge.isMemo=function(t){return Lr(t)===sg};Ge.isPortal=function(t){return Lr(t)===Pv};Ge.isProfiler=function(t){return Lr(t)===eg};Ge.isStrictMode=function(t){return Lr(t)===Jp};Ge.isSuspense=function(t){return Lr(t)===og};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qp||t===rg||t===eg||t===Jp||t===og||t===qR||typeof t=="object"&&t!==null&&(t.$$typeof===ag||t.$$typeof===sg||t.$$typeof===tg||t.$$typeof===ng||t.$$typeof===ig||t.$$typeof===JR||t.$$typeof===e4||t.$$typeof===t4||t.$$typeof===QR)};Ge.typeOf=Lr;Z3.exports=Ge;var n4=Z3.exports,Q3=n4,r4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J3={};J3[Q3.ForwardRef]=r4;J3[Q3.Memo]=i4;function e$(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}var Ae;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Ae||(Ae={}));var et;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(et||(et={}));var ql;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(ql||(ql={}));function r2(t){return t.type===et.literal}function o4(t){return t.type===et.argument}function t$(t){return t.type===et.number}function n$(t){return t.type===et.date}function r$(t){return t.type===et.time}function i$(t){return t.type===et.select}function o$(t){return t.type===et.plural}function s4(t){return t.type===et.pound}function s$(t){return t.type===et.tag}function a$(t){return!!(t&&typeof t=="object"&&t.type===ql.number)}function _y(t){return!!(t&&typeof t=="object"&&t.type===ql.dateTime)}var l$=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,a4=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function l4(t){var e={};return t.replace(a4,function(n){var r=n.length;switch(n[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var c4=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function u4(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(c4).filter(function(p){return p.length>0}),n=[],r=0,i=e;r<i.length;r++){var o=i[r],s=o.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var a=s[0],l=s.slice(1),u=0,h=l;u<h.length;u++){var d=h[u];if(d.length===0)throw new Error("Invalid number skeleton")}n.push({stem:a,options:l})}return n}function h4(t){return t.replace(/^(.*?)-/,"")}var i2=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,c$=/^(@+)?(\+|#+)?[rs]?$/g,d4=/(\*)(0+)|(#+)(0+)|(0+)/g,u$=/^(0+)$/;function o2(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(c$,function(n,r,i){return typeof i!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):i==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),e}function h$(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function f4(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!u$.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function s2(t){var e={},n=h$(t);return n||e}function p4(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=h4(i.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=oe(oe(oe({},e),{notation:"scientific"}),i.options.reduce(function(l,u){return oe(oe({},l),s2(u))},{}));continue;case"engineering":e=oe(oe(oe({},e),{notation:"engineering"}),i.options.reduce(function(l,u){return oe(oe({},l),s2(u))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(d4,function(l,u,h,d,p,g){if(u)e.minimumIntegerDigits=h.length;else{if(d&&p)throw new Error("We currently do not support maximum integer digits");if(g)throw new Error("We currently do not support exact integer digits")}return""});continue}if(u$.test(i.stem)){e.minimumIntegerDigits=i.stem.length;continue}if(i2.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(i2,function(l,u,h,d,p,g){return h==="*"?e.minimumFractionDigits=u.length:d&&d[0]==="#"?e.maximumFractionDigits=d.length:p&&g?(e.minimumFractionDigits=p.length,e.maximumFractionDigits=p.length+g.length):(e.minimumFractionDigits=u.length,e.maximumFractionDigits=u.length),""});var o=i.options[0];o==="w"?e=oe(oe({},e),{trailingZeroDisplay:"stripIfInteger"}):o&&(e=oe(oe({},e),o2(o)));continue}if(c$.test(i.stem)){e=oe(oe({},e),o2(i.stem));continue}var s=h$(i.stem);s&&(e=oe(oe({},e),s));var a=f4(i.stem);a&&(e=oe(oe({},e),a))}return e}var sd={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function g4(t,e){for(var n="",r=0;r<t.length;r++){var i=t.charAt(r);if(i==="j"){for(var o=0;r+1<t.length&&t.charAt(r+1)===i;)o++,r++;var s=1+(o&1),a=o<2?1:3+(o>>1),l="a",u=m4(e);for((u=="H"||u=="k")&&(a=0);a-- >0;)n+=l;for(;s-- >0;)n=u+n}else i==="J"?n+="H":n+=i}return n}function m4(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,r;n!=="root"&&(r=t.maximize().region);var i=sd[r||""]||sd[n||""]||sd["".concat(n,"-001")]||sd["001"];return i[0]}var j0,y4=new RegExp("^".concat(l$.source,"*")),v4=new RegExp("".concat(l$.source,"*$"));function Ie(t,e){return{start:t,end:e}}var w4=!!String.prototype.startsWith,x4=!!String.fromCodePoint,b4=!!Object.fromEntries,S4=!!String.prototype.codePointAt,C4=!!String.prototype.trimStart,E4=!!String.prototype.trimEnd,_4=!!Number.isSafeInteger,k4=_4?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},ky=!0;try{var $4=f$("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ky=((j0=$4.exec("a"))===null||j0===void 0?void 0:j0[0])==="a"}catch{ky=!1}var a2=w4?function(e,n,r){return e.startsWith(n,r)}:function(e,n,r){return e.slice(r,r+n.length)===n},$y=x4?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=e.length,o=0,s;i>o;){if(s=e[o++],s>1114111)throw RangeError(s+" is not a valid code point");r+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return r},l2=b4?Object.fromEntries:function(e){for(var n={},r=0,i=e;r<i.length;r++){var o=i[r],s=o[0],a=o[1];n[s]=a}return n},d$=S4?function(e,n){return e.codePointAt(n)}:function(e,n){var r=e.length;if(!(n<0||n>=r)){var i=e.charCodeAt(n),o;return i<55296||i>56319||n+1===r||(o=e.charCodeAt(n+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},T4=C4?function(e){return e.trimStart()}:function(e){return e.replace(y4,"")},A4=E4?function(e){return e.trimEnd()}:function(e){return e.replace(v4,"")};function f$(t,e){return new RegExp(t,e)}var Ty;if(ky){var c2=f$("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Ty=function(e,n){var r;c2.lastIndex=n;var i=c2.exec(e);return(r=i[1])!==null&&r!==void 0?r:""}}else Ty=function(e,n){for(var r=[];;){var i=d$(e,n);if(i===void 0||p$(i)||O4(i))break;r.push(i),n+=i>=65536?2:1}return $y.apply(void 0,r)};var M4=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,r){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var s=this.parseArgument(e,r);if(s.err)return s;i.push(s.val)}else{if(o===125&&e>0)break;if(o===35&&(n==="plural"||n==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:et.pound,location:Ie(a,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(Ae.UNMATCHED_CLOSING_TAG,Ie(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&Ay(this.peek()||0)){var s=this.parseTag(e,n);if(s.err)return s;i.push(s.val)}else{var s=this.parseLiteral(e,n);if(s.err)return s;i.push(s.val)}}}return{val:i,err:null}},t.prototype.parseTag=function(e,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:et.literal,value:"<".concat(i,"/>"),location:Ie(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,n,!0);if(o.err)return o;var s=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ay(this.char()))return this.error(Ae.INVALID_TAG,Ie(a,this.clonePosition()));var l=this.clonePosition(),u=this.parseTagName();return i!==u?this.error(Ae.UNMATCHED_CLOSING_TAG,Ie(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:et.tag,value:i,children:s,location:Ie(r,this.clonePosition())},err:null}:this.error(Ae.INVALID_TAG,Ie(a,this.clonePosition())))}else return this.error(Ae.UNCLOSED_TAG,Ie(r,this.clonePosition()))}else return this.error(Ae.INVALID_TAG,Ie(r,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&I4(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var r=this.clonePosition(),i="";;){var o=this.tryParseQuote(n);if(o){i+=o;continue}var s=this.tryParseUnquoted(e,n);if(s){i+=s;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var l=Ie(r,this.clonePosition());return{val:{type:et.literal,value:i,location:l},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!P4(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return $y.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&e>0?null:(this.bump(),$y(r))},t.prototype.parseArgument=function(e,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ae.EXPECT_ARGUMENT_CLOSING_BRACE,Ie(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Ae.EMPTY_ARGUMENT,Ie(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Ae.MALFORMED_ARGUMENT,Ie(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ae.EXPECT_ARGUMENT_CLOSING_BRACE,Ie(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:et.argument,value:i,location:Ie(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ae.EXPECT_ARGUMENT_CLOSING_BRACE,Ie(r,this.clonePosition())):this.parseArgumentOptions(e,n,i,r);default:return this.error(Ae.MALFORMED_ARGUMENT,Ie(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),r=Ty(this.message,n),i=n+r.length;this.bumpTo(i);var o=this.clonePosition(),s=Ie(e,o);return{value:r,location:s}},t.prototype.parseArgumentOptions=function(e,n,r,i){var o,s=this.clonePosition(),a=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(a){case"":return this.error(Ae.EXPECT_ARGUMENT_TYPE,Ie(s,l));case"number":case"date":case"time":{this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition(),d=this.parseSimpleArgStyleIfPossible();if(d.err)return d;var p=A4(d.val);if(p.length===0)return this.error(Ae.EXPECT_ARGUMENT_STYLE,Ie(this.clonePosition(),this.clonePosition()));var g=Ie(h,this.clonePosition());u={style:p,styleLocation:g}}var y=this.tryParseArgumentClose(i);if(y.err)return y;var m=Ie(i,this.clonePosition());if(u&&a2(u==null?void 0:u.style,"::",0)){var C=T4(u.style.slice(2));if(a==="number"){var d=this.parseNumberSkeletonFromString(C,u.styleLocation);return d.err?d:{val:{type:et.number,value:r,location:m,style:d.val},err:null}}else{if(C.length===0)return this.error(Ae.EXPECT_DATE_TIME_SKELETON,m);var x=C;this.locale&&(x=g4(C,this.locale));var p={type:ql.dateTime,pattern:x,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?l4(x):{}},v=a==="date"?et.date:et.time;return{val:{type:v,value:r,location:m,style:p},err:null}}}return{val:{type:a==="number"?et.number:a==="date"?et.date:et.time,value:r,location:m,style:(o=u==null?void 0:u.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var b=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ae.EXPECT_SELECT_ARGUMENT_OPTIONS,Ie(b,oe({},b)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),A=0;if(a!=="select"&&E.value==="offset"){if(!this.bumpIf(":"))return this.error(Ae.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ie(this.clonePosition(),this.clonePosition()));this.bumpSpace();var d=this.tryParseDecimalInteger(Ae.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ae.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(d.err)return d;this.bumpSpace(),E=this.parseIdentifierIfPossible(),A=d.val}var $=this.tryParsePluralOrSelectOptions(e,a,n,E);if($.err)return $;var y=this.tryParseArgumentClose(i);if(y.err)return y;var M=Ie(i,this.clonePosition());return a==="select"?{val:{type:et.select,value:r,options:l2($.val),location:M},err:null}:{val:{type:et.plural,value:r,options:l2($.val),offset:A,pluralType:a==="plural"?"cardinal":"ordinal",location:M},err:null}}default:return this.error(Ae.INVALID_ARGUMENT_TYPE,Ie(s,l))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(Ae.EXPECT_ARGUMENT_CLOSING_BRACE,Ie(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ae.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ie(i,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var r=[];try{r=u4(e)}catch{return this.error(Ae.INVALID_NUMBER_SKELETON,n)}return{val:{type:ql.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?p4(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,r,i){for(var o,s=!1,a=[],l=new Set,u=i.value,h=i.location;;){if(u.length===0){var d=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var p=this.tryParseDecimalInteger(Ae.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ae.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;h=Ie(d,this.clonePosition()),u=this.message.slice(d.offset,this.offset())}else break}if(l.has(u))return this.error(n==="select"?Ae.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ae.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,h);u==="other"&&(s=!0),this.bumpSpace();var g=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?Ae.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ae.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ie(this.clonePosition(),this.clonePosition()));var y=this.parseMessage(e+1,n,r);if(y.err)return y;var m=this.tryParseArgumentClose(g);if(m.err)return m;a.push([u,{value:y.val,location:Ie(g,this.clonePosition())}]),l.add(u),this.bumpSpace(),o=this.parseIdentifierIfPossible(),u=o.value,h=o.location}return a.length===0?this.error(n==="select"?Ae.EXPECT_SELECT_ARGUMENT_SELECTOR:Ae.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ie(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Ae.MISSING_OTHER_CLAUSE,Ie(this.clonePosition(),this.clonePosition())):{val:a,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,s=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)o=!0,s=s*10+(a-48),this.bump();else break}var l=Ie(i,this.clonePosition());return o?(s*=r,k4(s)?{val:s,err:null}:this.error(n,l)):this.error(e,l)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=d$(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(a2(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),r=this.message.indexOf(e,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&p$(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(e>=65536?2:1));return r??null},t}();function Ay(t){return t>=97&&t<=122||t>=65&&t<=90}function P4(t){return Ay(t)||t===47}function I4(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function p$(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function O4(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function My(t){t.forEach(function(e){if(delete e.location,i$(e)||o$(e))for(var n in e.options)delete e.options[n].location,My(e.options[n].value);else t$(e)&&a$(e.style)||(n$(e)||r$(e))&&_y(e.style)?delete e.style.location:s$(e)&&My(e.children)})}function R4(t,e){e===void 0&&(e={}),e=oe({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new M4(t,e).parse();if(n.err){var r=SyntaxError(Ae[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return e!=null&&e.captureLocation||My(n.val),n.val}function mo(t,e){var n=e&&e.cache?e.cache:F4,r=e&&e.serializer?e.serializer:B4,i=e&&e.strategy?e.strategy:D4;return i(t,{cache:n,serializer:r})}function j4(t){return t==null||typeof t=="number"||typeof t=="boolean"}function g$(t,e,n,r){var i=j4(r)?r:n(r),o=e.get(i);return typeof o>"u"&&(o=t.call(this,r),e.set(i,o)),o}function m$(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return typeof o>"u"&&(o=t.apply(this,r),e.set(i,o)),o}function Ov(t,e,n,r,i){return n.bind(e,t,r,i)}function D4(t,e){var n=t.length===1?g$:m$;return Ov(t,this,n,e.cache.create(),e.serializer)}function L4(t,e){return Ov(t,this,m$,e.cache.create(),e.serializer)}function N4(t,e){return Ov(t,this,g$,e.cache.create(),e.serializer)}var B4=function(){return JSON.stringify(arguments)};function Rv(){this.cache=Object.create(null)}Rv.prototype.get=function(t){return this.cache[t]};Rv.prototype.set=function(t,e){this.cache[t]=e};var F4={create:function(){return new Rv}},yo={variadic:L4,monadic:N4},$o;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})($o||($o={}));var Xs=function(t){Yr(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.code=r,o.originalMessage=i,o}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),u2=function(t){Yr(e,t);function e(n,r,i,o){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),$o.INVALID_VALUE,o)||this}return e}(Xs),H4=function(t){Yr(e,t);function e(n,r,i){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),$o.INVALID_VALUE,i)||this}return e}(Xs),z4=function(t){Yr(e,t);function e(n,r){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),$o.MISSING_VALUE,r)||this}return e}(Xs),On;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(On||(On={}));function U4(t){return t.length<2?t:t.reduce(function(e,n){var r=e[e.length-1];return!r||r.type!==On.literal||n.type!==On.literal?e.push(n):r.value+=n.value,e},[])}function y$(t){return typeof t=="function"}function Fd(t,e,n,r,i,o,s){if(t.length===1&&r2(t[0]))return[{type:On.literal,value:t[0].value}];for(var a=[],l=0,u=t;l<u.length;l++){var h=u[l];if(r2(h)){a.push({type:On.literal,value:h.value});continue}if(s4(h)){typeof o=="number"&&a.push({type:On.literal,value:n.getNumberFormat(e).format(o)});continue}var d=h.value;if(!(i&&d in i))throw new z4(d,s);var p=i[d];if(o4(h)){(!p||typeof p=="string"||typeof p=="number")&&(p=typeof p=="string"||typeof p=="number"?String(p):""),a.push({type:typeof p=="string"?On.literal:On.object,value:p});continue}if(n$(h)){var g=typeof h.style=="string"?r.date[h.style]:_y(h.style)?h.style.parsedOptions:void 0;a.push({type:On.literal,value:n.getDateTimeFormat(e,g).format(p)});continue}if(r$(h)){var g=typeof h.style=="string"?r.time[h.style]:_y(h.style)?h.style.parsedOptions:r.time.medium;a.push({type:On.literal,value:n.getDateTimeFormat(e,g).format(p)});continue}if(t$(h)){var g=typeof h.style=="string"?r.number[h.style]:a$(h.style)?h.style.parsedOptions:void 0;g&&g.scale&&(p=p*(g.scale||1)),a.push({type:On.literal,value:n.getNumberFormat(e,g).format(p)});continue}if(s$(h)){var y=h.children,m=h.value,C=i[m];if(!y$(C))throw new H4(m,"function",s);var x=Fd(y,e,n,r,i,o),v=C(x.map(function(A){return A.value}));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map(function(A){return{type:typeof A=="string"?On.literal:On.object,value:A}}))}if(i$(h)){var b=h.options[p]||h.options.other;if(!b)throw new u2(h.value,p,Object.keys(h.options),s);a.push.apply(a,Fd(b.value,e,n,r,i));continue}if(o$(h)){var b=h.options["=".concat(p)];if(!b){if(!Intl.PluralRules)throw new Xs(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,$o.MISSING_INTL_API,s);var E=n.getPluralRules(e,{type:h.pluralType}).select(p-(h.offset||0));b=h.options[E]||h.options.other}if(!b)throw new u2(h.value,p,Object.keys(h.options),s);a.push.apply(a,Fd(b.value,e,n,r,i,p-(h.offset||0)));continue}}return U4(a)}function G4(t,e){return e?oe(oe(oe({},t||{}),e||{}),Object.keys(t).reduce(function(n,r){return n[r]=oe(oe({},t[r]),e[r]||{}),n},{})):t}function V4(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]=G4(t[r],e[r]),n},oe({},t)):t}function D0(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function W4(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:mo(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,Ui([void 0],n,!1)))},{cache:D0(t.number),strategy:yo.variadic}),getDateTimeFormat:mo(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,Ui([void 0],n,!1)))},{cache:D0(t.dateTime),strategy:yo.variadic}),getPluralRules:mo(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,Ui([void 0],n,!1)))},{cache:D0(t.pluralRules),strategy:yo.variadic})}}var v$=function(){function t(e,n,r,i){n===void 0&&(n=t.defaultLocale);var o=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(l){var u=o.formatToParts(l);if(u.length===1)return u[0].value;var h=u.reduce(function(d,p){return!d.length||p.type!==On.literal||typeof d[d.length-1]!="string"?d.push(p.value):d[d.length-1]+=p.value,d},[]);return h.length<=1?h[0]||"":h},this.formatToParts=function(l){return Fd(o.ast,o.locales,o.formatters,o.formats,l,void 0,o.message)},this.resolvedOptions=function(){var l;return{locale:((l=o.resolvedLocale)===null||l===void 0?void 0:l.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=i||{};s.formatters;var a=Zl(s,["formatters"]);this.ast=t.__parse(e,oe(oe({},a),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=V4(t.formats,r),this.formatters=i&&i.formatters||W4(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=R4,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),ba;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(ba||(ba={}));var xh=function(t){Yr(e,t);function e(n,r,i){var o=this,s=i?i instanceof Error?i:new Error(String(i)):void 0;return o=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,o.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(o,e),o}return e}(Error),X4=function(t){Yr(e,t);function e(n,r){return t.call(this,ba.UNSUPPORTED_FORMATTER,n,r)||this}return e}(xh),K4=function(t){Yr(e,t);function e(n,r){return t.call(this,ba.INVALID_CONFIG,n,r)||this}return e}(xh),h2=function(t){Yr(e,t);function e(n,r){return t.call(this,ba.MISSING_DATA,n,r)||this}return e}(xh),Zr=function(t){Yr(e,t);function e(n,r,i){var o=t.call(this,ba.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(r,`
`),i)||this;return o.locale=r,o}return e}(xh),L0=function(t){Yr(e,t);function e(n,r,i,o){var s=t.call(this,"".concat(n,`
MessageID: `).concat(i==null?void 0:i.id,`
Default Message: `).concat(i==null?void 0:i.defaultMessage,`
Description: `).concat(i==null?void 0:i.description,`
`),r,o)||this;return s.descriptor=i,s.locale=r,s}return e}(Zr),Y4=function(t){Yr(e,t);function e(n,r){var i=t.call(this,ba.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(r,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(o){var s;return(s=o.value)!==null&&s!==void 0?s:JSON.stringify(o)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=n,i}return e}(xh);function Na(t,e,n){return n===void 0&&(n={}),e.reduce(function(r,i){return i in t?r[i]=t[i]:i in n&&(r[i]=n[i]),r},{})}var Z4=function(t){},q4=function(t){},w$={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:Z4,onWarn:q4};function x$(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function qs(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Q4(t){t===void 0&&(t=x$());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=mo(function(){for(var a,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new((a=Intl.DateTimeFormat).bind.apply(a,Ui([void 0],l,!1)))},{cache:qs(t.dateTime),strategy:yo.variadic}),o=mo(function(){for(var a,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new((a=Intl.NumberFormat).bind.apply(a,Ui([void 0],l,!1)))},{cache:qs(t.number),strategy:yo.variadic}),s=mo(function(){for(var a,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new((a=Intl.PluralRules).bind.apply(a,Ui([void 0],l,!1)))},{cache:qs(t.pluralRules),strategy:yo.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:mo(function(a,l,u,h){return new v$(a,l,u,oe({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:s}},h||{}))},{cache:qs(t.message),strategy:yo.variadic}),getRelativeTimeFormat:mo(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(e.bind.apply(e,Ui([void 0],a,!1)))},{cache:qs(t.relativeTime),strategy:yo.variadic}),getPluralRules:s,getListFormat:mo(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(n.bind.apply(n,Ui([void 0],a,!1)))},{cache:qs(t.list),strategy:yo.variadic}),getDisplayNames:mo(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(r.bind.apply(r,Ui([void 0],a,!1)))},{cache:qs(t.displayNames),strategy:yo.variadic})}}function jv(t,e,n,r){var i=t&&t[e],o;if(i&&(o=i[n]),o)return o;r(new X4("No ".concat(e," format named: ").concat(n)))}function ad(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=oe({timeZone:e},t[r]),n},{})}function d2(t,e){var n=Object.keys(oe(oe({},t),e));return n.reduce(function(r,i){return r[i]=oe(oe({},t[i]||{}),e[i]||{}),r},{})}function f2(t,e){if(!e)return t;var n=v$.formats;return oe(oe(oe({},n),t),{date:d2(ad(n.date,e),ad(t.date||{},e)),time:d2(ad(n.time,e),ad(t.time||{},e))})}var Py=function(t,e,n,r,i){var o=t.locale,s=t.formats,a=t.messages,l=t.defaultLocale,u=t.defaultFormats,h=t.fallbackOnEmptyString,d=t.onError,p=t.timeZone,g=t.defaultRichTextElements;n===void 0&&(n={id:""});var y=n.id,m=n.defaultMessage;e$(!!y,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var C=String(y),x=a&&Object.prototype.hasOwnProperty.call(a,C)&&a[C];if(Array.isArray(x)&&x.length===1&&x[0].type===et.literal)return x[0].value;if(!r&&x&&typeof x=="string"&&!g)return x.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=oe(oe({},g),r||{}),s=f2(s,p),u=f2(u,p),!x){if(h===!1&&x==="")return x;if((!m||o&&o.toLowerCase()!==l.toLowerCase())&&d(new Y4(n,o)),m)try{var v=e.getMessageFormat(m,l,u,i);return v.format(r)}catch(b){return d(new L0('Error formatting default message for: "'.concat(C,'", rendering default message verbatim'),o,n,b)),typeof m=="string"?m:C}return C}try{var v=e.getMessageFormat(x,o,s,oe({formatters:e},i||{}));return v.format(r)}catch(b){d(new L0('Error formatting message: "'.concat(C,'", using ').concat(m?"default message":"id"," as fallback."),o,n,b))}if(m)try{var v=e.getMessageFormat(m,l,u,i);return v.format(r)}catch(b){d(new L0('Error formatting the default message for: "'.concat(C,'", rendering message verbatim'),o,n,b))}return typeof x=="string"?x:typeof m=="string"?m:C},b$=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function lg(t,e,n,r){var i=t.locale,o=t.formats,s=t.onError,a=t.timeZone;r===void 0&&(r={});var l=r.format,u=oe(oe({},a&&{timeZone:a}),l&&jv(o,e,l,s)),h=Na(r,b$,u);return e==="time"&&!h.hour&&!h.minute&&!h.second&&!h.timeStyle&&!h.dateStyle&&(h=oe(oe({},h),{hour:"numeric",minute:"numeric"})),n(i,h)}function J4(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return lg(t,"date",e,s).format(a)}catch(l){t.onError(new Zr("Error formatting date.",t.locale,l))}return String(a)}function e8(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return lg(t,"time",e,s).format(a)}catch(l){t.onError(new Zr("Error formatting time.",t.locale,l))}return String(a)}function t8(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=n[2],a=s===void 0?{}:s,l=t.timeZone,u=t.locale,h=t.onError,d=Na(a,b$,l?{timeZone:l}:{});try{return e(u,d).formatRange(i,o)}catch(p){h(new Zr("Error formatting date time range.",t.locale,p))}return String(i)}function n8(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return lg(t,"date",e,s).formatToParts(a)}catch(l){t.onError(new Zr("Error formatting date.",t.locale,l))}return[]}function r8(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,a=typeof i=="string"?new Date(i||0):i;try{return lg(t,"time",e,s).formatToParts(a)}catch(l){t.onError(new Zr("Error formatting time.",t.locale,l))}return[]}var i8=["style","type","fallback","languageDisplay"];function o8(t,e,n,r){var i=t.locale,o=t.onError,s=Intl.DisplayNames;s||o(new Xs(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,$o.MISSING_INTL_API));var a=Na(r,i8);try{return e(i,a).of(n)}catch(l){o(new Zr("Error formatting display name.",i,l))}}var s8=["type","style"],p2=Date.now();function a8(t){return"".concat(p2,"_").concat(t,"_").concat(p2)}function l8(t,e,n,r){r===void 0&&(r={});var i=S$(t,e,n,r).reduce(function(o,s){var a=s.value;return typeof a!="string"?o.push(a):typeof o[o.length-1]=="string"?o[o.length-1]+=a:o.push(a),o},[]);return i.length===1?i[0]:i.length===0?"":i}function S$(t,e,n,r){var i=t.locale,o=t.onError;r===void 0&&(r={});var s=Intl.ListFormat;s||o(new Xs(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,$o.MISSING_INTL_API));var a=Na(r,s8);try{var l={},u=n.map(function(h,d){if(typeof h=="object"){var p=a8(d);return l[p]=h,p}return String(h)});return e(i,a).formatToParts(u).map(function(h){return h.type==="literal"?h:oe(oe({},h),{value:l[h.value]||h.value})})}catch(h){o(new Zr("Error formatting list.",i,h))}return n}var c8=["type"];function u8(t,e,n,r){var i=t.locale,o=t.onError;r===void 0&&(r={}),Intl.PluralRules||o(new Xs(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,$o.MISSING_INTL_API));var s=Na(r,c8);try{return e(i,s).select(n)}catch(a){o(new Zr("Error formatting plural.",i,a))}return"other"}var h8=["numeric","style"];function d8(t,e,n){var r=t.locale,i=t.formats,o=t.onError;n===void 0&&(n={});var s=n.format,a=!!s&&jv(i,"relative",s,o)||{},l=Na(n,h8,a);return e(r,l)}function f8(t,e,n,r,i){i===void 0&&(i={}),r||(r="second");var o=Intl.RelativeTimeFormat;o||t.onError(new Xs(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,$o.MISSING_INTL_API));try{return d8(t,e,i).format(n,r)}catch(s){t.onError(new Zr("Error formatting relative time.",t.locale,s))}return String(n)}var p8=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function C$(t,e,n){var r=t.locale,i=t.formats,o=t.onError;n===void 0&&(n={});var s=n.format,a=s&&jv(i,"number",s,o)||{},l=Na(n,p8,a);return e(r,l)}function g8(t,e,n,r){r===void 0&&(r={});try{return C$(t,e,r).format(n)}catch(i){t.onError(new Zr("Error formatting number.",t.locale,i))}return String(n)}function m8(t,e,n,r){r===void 0&&(r={});try{return C$(t,e,r).formatToParts(n)}catch(i){t.onError(new Zr("Error formatting number.",t.locale,i))}return[]}function y8(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function v8(t){t.onWarn&&t.defaultRichTextElements&&y8(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function w8(t,e){var n=Q4(e),r=oe(oe({},w$),t),i=r.locale,o=r.defaultLocale,s=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&s?s(new h2('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&s&&s(new h2('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new K4('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),v8(r),oe(oe({},r),{formatters:n,formatNumber:g8.bind(null,r,n.getNumberFormat),formatNumberToParts:m8.bind(null,r,n.getNumberFormat),formatRelativeTime:f8.bind(null,r,n.getRelativeTimeFormat),formatDate:J4.bind(null,r,n.getDateTimeFormat),formatDateToParts:n8.bind(null,r,n.getDateTimeFormat),formatTime:e8.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:t8.bind(null,r,n.getDateTimeFormat),formatTimeToParts:r8.bind(null,r,n.getDateTimeFormat),formatPlural:u8.bind(null,r,n.getPluralRules),formatMessage:Py.bind(null,r,n),$t:Py.bind(null,r,n),formatList:l8.bind(null,r,n.getListFormat),formatListToParts:S$.bind(null,r,n.getListFormat),formatDisplayName:o8.bind(null,r,n.getDisplayNames)})}function E$(t){e$(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var _$=oe(oe({},w$),{textComponent:P.Fragment});function x8(t){return function(e){return t(P.Children.toArray(e))}}function Iy(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var s=n[o];if(t[s]!==e[s]||!Object.prototype.hasOwnProperty.call(e,s))return!1}return!0}var Dv=typeof window<"u"?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=P.createContext(null)):P.createContext(null);Dv.Consumer;var b8=Dv.Provider,S8=b8,C8=Dv;function Oo(){var t=P.useContext(C8);return E$(t),t}var Oy;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Oy||(Oy={}));var Ry;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Ry||(Ry={}));function k$(t){var e=function(n){var r=Oo(),i=n.value,o=n.children,s=Zl(n,["value","children"]),a=typeof i=="string"?new Date(i||0):i,l=t==="formatDate"?r.formatDateToParts(a,s):r.formatTimeToParts(a,s);return o(l)};return e.displayName=Ry[t],e}function bh(t){var e=function(n){var r=Oo(),i=n.value,o=n.children,s=Zl(n,["value","children"]),a=r[t](i,s);if(typeof o=="function")return o(a);var l=r.textComponent||P.Fragment;return P.createElement(l,null,a)};return e.displayName=Oy[t],e}function N0(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function $$(t){return t&&Object.keys(t).reduce(function(e,n){var r=t[n];return e[n]=y$(r)?x8(r):r,e},{})}var g2=function(t,e,n,r){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var s=$$(r),a=Py.apply(void 0,Ui([t,e,n,s],i,!1));return Array.isArray(a)?P.Children.toArray(a):a},m2=function(t,e){var n=t.defaultRichTextElements,r=Zl(t,["defaultRichTextElements"]),i=$$(n),o=w8(oe(oe(oe({},_$),r),{defaultRichTextElements:i}),e),s={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i};return oe(oe({},o),{formatMessage:g2.bind(null,s,o.formatters),$t:g2.bind(null,s,o.formatters)})},E8=function(t){Yr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=x$(),n.state={cache:n.cache,intl:m2(N0(n.props),n.cache),prevConfig:N0(n.props)},n}return e.getDerivedStateFromProps=function(n,r){var i=r.prevConfig,o=r.cache,s=N0(n);return Iy(i,s)?null:{intl:m2(s,o),prevConfig:s}},e.prototype.render=function(){return E$(this.state.intl),P.createElement(S8,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=_$,e}(P.PureComponent);const _8=E8;function k8(t,e){var n=t.values,r=Zl(t,["values"]),i=e.values,o=Zl(e,["values"]);return Iy(i,n)&&Iy(r,o)}function T$(t){var e=Oo(),n=e.formatMessage,r=e.textComponent,i=r===void 0?P.Fragment:r,o=t.id,s=t.description,a=t.defaultMessage,l=t.values,u=t.children,h=t.tagName,d=h===void 0?i:h,p=t.ignoreTag,g={id:o,description:s,defaultMessage:a},y=n(g,l,{ignoreTag:p});return typeof u=="function"?u(Array.isArray(y)?y:[y]):d?P.createElement(d,null,P.Children.toArray(y)):P.createElement(P.Fragment,null,y)}T$.displayName="FormattedMessage";var A$=P.memo(T$,k8);A$.displayName="MemoizedFormattedMessage";const gt=A$;bh("formatDate");bh("formatTime");bh("formatNumber");bh("formatList");bh("formatDisplayName");k$("formatDate");k$("formatTime");var $8=Object.defineProperty,T8=(t,e,n)=>e in t?$8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A8=(t,e,n)=>(T8(t,typeof e!="symbol"?e+"":e,n),n);const M8=(t,e)=>{for(let n=0,r=t.length;n<r;n++)e(t[n],n)},y2=(t,e)=>{const n=[];for(let r=0,i=t.length;r<i;r++)n.push(e(t[r],r));return n},P8=(t,e)=>{const n=[];for(let r=t.length-1;r>=0;r--)n.push(e(t[r],r));return n},I8=({r:t,g:e,b:n,a:r})=>`rgba(${t},${e},${n},${r})`,M$=t=>{t=t.toUpperCase();const e=t.match(/[0-9A-F]{1,6}/);return e?(t=e[0],t.length===6?t:((t.length===4||t.length===5)&&(t=t.slice(0,3)),t.length===3?t.split("").map(n=>n+n).join(""):t.padEnd(6,t))):""},O8=t=>{const{r:e,g:n,b:r}=t;return(e<<16|n<<8|r).toString(16).toUpperCase().padStart(6,"0")},R8=t=>{if(t=M$(t),!t)return null;const e=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),r=parseInt(t.slice(4,6),16);return{r:e,g:n,b:r}},j8=[];for(let t=0;t<256;++t)j8.push((t+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Lv=(t,e=2)=>Number(t.toFixed(e)),D8=(t,e=2)=>{if(!t)return NaN;const n=Number(t);return Number.isNaN(n)?NaN:Lv(n,e)},St=()=>navigator.platform.toLowerCase().includes("win")||navigator.userAgent.includes("Windows");let P$=class{constructor(){A8(this,"eventMap",{})}on(e,n){return this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push(n),this}emit(e,...n){const r=this.eventMap[e];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(e,n){return this.eventMap[e]&&(this.eventMap[e]=this.eventMap[e].filter(r=>r!==n)),this}};var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={exports:{}};Af.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",m="[object Promise]",C="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",E="[object WeakMap]",A="[object ArrayBuffer]",$="[object DataView]",M="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",X="[object Uint8ClampedArray]",G="[object Uint16Array]",Q="[object Uint32Array]",ae=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,D=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,j={};j[o]=j[s]=j[A]=j[$]=j[a]=j[l]=j[M]=j[I]=j[N]=j[O]=j[L]=j[p]=j[g]=j[y]=j[C]=j[x]=j[v]=j[b]=j[F]=j[X]=j[G]=j[Q]=!0,j[u]=j[h]=j[E]=!1;var ce=typeof ot=="object"&&ot&&ot.Object===Object&&ot,de=typeof self=="object"&&self&&self.Object===Object&&self,re=ce||de||Function("return this")(),Ve=e&&!e.nodeType&&e,K=Ve&&!0&&t&&!t.nodeType&&t,bt=K&&K.exports===Ve;function kn(c,f){return c.set(f[0],f[1]),c}function ke(c,f){return c.add(f),c}function Hn(c,f){for(var w=-1,_=c?c.length:0;++w<_&&f(c[w],w,c)!==!1;);return c}function zn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Jt(c,f,w,_){var B=-1,R=c?c.length:0;for(_&&R&&(w=c[++B]);++B<R;)w=f(w,c[B],B,c);return w}function en(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Un(c,f){return c==null?void 0:c[f]}function tn(c){var f=!1;if(c!=null&&typeof c.toString!="function")try{f=!!(c+"")}catch{}return f}function Gn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function nn(c,f){return function(w){return c(f(w))}}function Vn(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var qr=Array.prototype,Qr=Function.prototype,$t=Object.prototype,rn=re["__core-js_shared__"],Wn=function(){var c=/[^.]+$/.exec(rn&&rn.keys&&rn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Xn=Qr.toString,Re=$t.hasOwnProperty,Tt=$t.toString,Jr=RegExp("^"+Xn.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=bt?re.Buffer:void 0,At=re.Symbol,on=re.Uint8Array,Se=nn(Object.getPrototypeOf,Object),Kn=Object.create,Yn=$t.propertyIsEnumerable,ei=qr.splice,sn=Object.getOwnPropertySymbols,Mt=lt?lt.isBuffer:void 0,Zn=nn(Object.keys,Object),Pt=Te(re,"DataView"),ct=Te(re,"Map"),$e=Te(re,"Promise"),It=Te(re,"Set"),an=Te(re,"WeakMap"),ut=Te(Object,"create"),ln=me(Pt),ht=me(ct),cn=me($e),un=me(It),hn=me(an),We=At?At.prototype:void 0,qn=We?We.valueOf:void 0;function Ne(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ti(){this.__data__=ut?ut(null):{}}function ni(c){return this.has(c)&&delete this.__data__[c]}function ri(c){var f=this.__data__;if(ut){var w=f[c];return w===r?void 0:w}return Re.call(f,c)?f[c]:void 0}function Qn(c){var f=this.__data__;return ut?f[c]!==void 0:Re.call(f,c)}function dn(c,f){var w=this.__data__;return w[c]=ut&&f===void 0?r:f,this}Ne.prototype.clear=ti,Ne.prototype.delete=ni,Ne.prototype.get=ri,Ne.prototype.has=Qn,Ne.prototype.set=dn;function ue(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=[]}function oi(c){var f=this.__data__,w=Rt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ei.call(f,w,1),!0}function si(c){var f=this.__data__,w=Rt(f,c);return w<0?void 0:f[w][1]}function ai(c){return Rt(this.__data__,c)>-1}function li(c,f){var w=this.__data__,_=Rt(w,c);return _<0?w.push([c,f]):w[_][1]=f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__={hash:new Ne,map:new(ct||ue),string:new Ne}}function ui(c){return ft(this,c).delete(c)}function hi(c){return ft(this,c).get(c)}function di(c){return ft(this,c).has(c)}function fi(c,f){return ft(this,c).set(c,f),this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){this.__data__=new ue(c)}function pi(){this.__data__=new ue}function gi(c){return this.__data__.delete(c)}function mi(c){return this.__data__.get(c)}function yi(c){return this.__data__.has(c)}function vi(c,f){var w=this.__data__;if(w instanceof ue){var _=w.__data__;if(!ct||_.length<n-1)return _.push([c,f]),this;w=this.__data__=new fe(_)}return w.set(c,f),this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c,f){var w=mn(c)||Dt(c)?en(c.length,String):[],_=w.length,B=!!_;for(var R in c)(f||Re.call(c,R))&&!(B&&(R=="length"||Ii(R,_)))&&w.push(R);return w}function Jn(c,f,w){var _=c[f];(!(Re.call(c,f)&&ir(_,w))||w===void 0&&!(f in c))&&(c[f]=w)}function Rt(c,f){for(var w=c.length;w--;)if(ir(c[w][0],f))return w;return-1}function je(c,f){return c&&gn(f,vn(f),c)}function fn(c,f,w,_,B,R,z){var U;if(_&&(U=R?_(c,B,R,z):_(c)),U!==void 0)return U;if(!Le(c))return c;var ie=mn(c);if(ie){if(U=Mi(c),!f)return $i(c,U)}else{var W=Fe(c),pe=W==h||W==d;if(or(c))return jt(c,f);if(W==y||W==o||pe&&!R){if(tn(c))return R?c:{};if(U=De(pe?{}:c),!f)return Ti(c,je(U,c))}else{if(!j[W])return R?c:{};U=Pi(c,W,fn,f)}}z||(z=new ve);var we=z.get(c);if(we)return we;if(z.set(c,U),!ie)var le=w?Ai(c):vn(c);return Hn(le||c,function(ge,he){le&&(he=ge,ge=c[he]),Jn(U,he,fn(ge,f,w,_,he,c,z))}),U}function wi(c){return Le(c)?Kn(c):{}}function xi(c,f,w){var _=f(c);return mn(c)?_:zn(_,w(c))}function bi(c){return Tt.call(c)}function Si(c){if(!Le(c)||Ri(c))return!1;var f=yn(c)||tn(c)?Jr:D;return f.test(me(c))}function Ci(c){if(!nr(c))return Zn(c);var f=[];for(var w in Object(c))Re.call(c,w)&&w!="constructor"&&f.push(w);return f}function jt(c,f){if(f)return c.slice();var w=new c.constructor(c.length);return c.copy(w),w}function pn(c){var f=new c.constructor(c.byteLength);return new on(f).set(new on(c)),f}function dt(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.byteLength)}function er(c,f,w){var _=f?w(Gn(c),!0):Gn(c);return Jt(_,kn,new c.constructor)}function tr(c){var f=new c.constructor(c.source,q.exec(c));return f.lastIndex=c.lastIndex,f}function Ei(c,f,w){var _=f?w(Vn(c),!0):Vn(c);return Jt(_,ke,new c.constructor)}function _i(c){return qn?Object(qn.call(c)):{}}function ki(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.length)}function $i(c,f){var w=-1,_=c.length;for(f||(f=Array(_));++w<_;)f[w]=c[w];return f}function gn(c,f,w,_){w||(w={});for(var B=-1,R=f.length;++B<R;){var z=f[B],U=_?_(w[z],c[z],z,w,c):void 0;Jn(w,z,U===void 0?c[z]:U)}return w}function Ti(c,f){return gn(c,Be(c),f)}function Ai(c){return xi(c,vn,Be)}function ft(c,f){var w=c.__data__;return Oi(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Te(c,f){var w=Un(c,f);return Si(w)?w:void 0}var Be=sn?nn(sn,Object):Di,Fe=bi;(Pt&&Fe(new Pt(new ArrayBuffer(1)))!=$||ct&&Fe(new ct)!=p||$e&&Fe($e.resolve())!=m||It&&Fe(new It)!=x||an&&Fe(new an)!=E)&&(Fe=function(c){var f=Tt.call(c),w=f==y?c.constructor:void 0,_=w?me(w):void 0;if(_)switch(_){case ln:return $;case ht:return p;case cn:return m;case un:return x;case hn:return E}return f});function Mi(c){var f=c.length,w=c.constructor(f);return f&&typeof c[0]=="string"&&Re.call(c,"index")&&(w.index=c.index,w.input=c.input),w}function De(c){return typeof c.constructor=="function"&&!nr(c)?wi(Se(c)):{}}function Pi(c,f,w,_){var B=c.constructor;switch(f){case A:return pn(c);case a:case l:return new B(+c);case $:return dt(c,_);case M:case I:case N:case O:case L:case F:case X:case G:case Q:return ki(c,_);case p:return er(c,_,w);case g:case v:return new B(c);case C:return tr(c);case x:return Ei(c,_,w);case b:return _i(c)}}function Ii(c,f){return f=f??i,!!f&&(typeof c=="number"||Y.test(c))&&c>-1&&c%1==0&&c<f}function Oi(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Ri(c){return!!Wn&&Wn in c}function nr(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||$t;return c===w}function me(c){if(c!=null){try{return Xn.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c){return fn(c,!0,!0)}function ir(c,f){return c===f||c!==c&&f!==f}function Dt(c){return ji(c)&&Re.call(c,"callee")&&(!Yn.call(c,"callee")||Tt.call(c)==o)}var mn=Array.isArray;function Lt(c){return c!=null&&sr(c.length)&&!yn(c)}function ji(c){return ar(c)&&Lt(c)}var or=Mt||Li;function yn(c){var f=Le(c)?Tt.call(c):"";return f==h||f==d}function sr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}function Le(c){var f=typeof c;return!!c&&(f=="object"||f=="function")}function ar(c){return!!c&&typeof c=="object"}function vn(c){return Lt(c)?Ot(c):Ci(c)}function Di(){return[]}function Li(){return!1}t.exports=rr})(Af,Af.exports);var L8=Af.exports;const Sn=cg(L8);var N8=typeof ot=="object"&&ot&&ot.Object===Object&&ot,B8=typeof self=="object"&&self&&self.Object===Object&&self;N8||B8||Function("return this")();var Mf={exports:{}};Mf.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",m="[object Map]",C="[object Number]",x="[object Null]",v="[object Object]",b="[object Promise]",E="[object Proxy]",A="[object RegExp]",$="[object Set]",M="[object String]",I="[object Symbol]",N="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",F="[object DataView]",X="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",ae="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",Y="[object Uint8ClampedArray]",j="[object Uint16Array]",ce="[object Uint32Array]",de=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,Ve=/^(?:0|[1-9]\d*)$/,K={};K[X]=K[G]=K[Q]=K[ae]=K[q]=K[D]=K[Y]=K[j]=K[ce]=!0,K[a]=K[l]=K[L]=K[h]=K[F]=K[d]=K[p]=K[g]=K[m]=K[C]=K[v]=K[A]=K[$]=K[M]=K[O]=!1;var bt=typeof ot=="object"&&ot&&ot.Object===Object&&ot,kn=typeof self=="object"&&self&&self.Object===Object&&self,ke=bt||kn||Function("return this")(),Hn=e&&!e.nodeType&&e,zn=Hn&&!0&&t&&!t.nodeType&&t,Jt=zn&&zn.exports===Hn,en=Jt&&bt.process,Un=function(){try{return en&&en.binding&&en.binding("util")}catch{}}(),tn=Un&&Un.isTypedArray;function Gn(c,f){for(var w=-1,_=c==null?0:c.length,B=0,R=[];++w<_;){var z=c[w];f(z,w,c)&&(R[B++]=z)}return R}function nn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Vn(c,f){for(var w=-1,_=c==null?0:c.length;++w<_;)if(f(c[w],w,c))return!0;return!1}function qr(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Qr(c){return function(f){return c(f)}}function $t(c,f){return c.has(f)}function rn(c,f){return c==null?void 0:c[f]}function Wn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function Xn(c,f){return function(w){return c(f(w))}}function Re(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var Tt=Array.prototype,Jr=Function.prototype,lt=Object.prototype,At=ke["__core-js_shared__"],on=Jr.toString,Se=lt.hasOwnProperty,Kn=function(){var c=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Yn=lt.toString,ei=RegExp("^"+on.call(Se).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=Jt?ke.Buffer:void 0,Mt=ke.Symbol,Zn=ke.Uint8Array,Pt=lt.propertyIsEnumerable,ct=Tt.splice,$e=Mt?Mt.toStringTag:void 0,It=Object.getOwnPropertySymbols,an=sn?sn.isBuffer:void 0,ut=Xn(Object.keys,Object),ln=Be(ke,"DataView"),ht=Be(ke,"Map"),cn=Be(ke,"Promise"),un=Be(ke,"Set"),hn=Be(ke,"WeakMap"),We=Be(Object,"create"),qn=me(ln),Ne=me(ht),ti=me(cn),ni=me(un),ri=me(hn),Qn=Mt?Mt.prototype:void 0,dn=Qn?Qn.valueOf:void 0;function ue(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=We?We(null):{},this.size=0}function oi(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function si(c){var f=this.__data__;if(We){var w=f[c];return w===r?void 0:w}return Se.call(f,c)?f[c]:void 0}function ai(c){var f=this.__data__;return We?f[c]!==void 0:Se.call(f,c)}function li(c,f){var w=this.__data__;return this.size+=this.has(c)?0:1,w[c]=We&&f===void 0?r:f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__=[],this.size=0}function ui(c){var f=this.__data__,w=jt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ct.call(f,w,1),--this.size,!0}function hi(c){var f=this.__data__,w=jt(f,c);return w<0?void 0:f[w][1]}function di(c){return jt(this.__data__,c)>-1}function fi(c,f){var w=this.__data__,_=jt(w,c);return _<0?(++this.size,w.push([c,f])):w[_][1]=f,this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function pi(){this.size=0,this.__data__={hash:new ue,map:new(ht||fe),string:new ue}}function gi(c){var f=Te(this,c).delete(c);return this.size-=f?1:0,f}function mi(c){return Te(this,c).get(c)}function yi(c){return Te(this,c).has(c)}function vi(c,f){var w=Te(this,c),_=w.size;return w.set(c,f),this.size+=w.size==_?0:1,this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c){var f=-1,w=c==null?0:c.length;for(this.__data__=new ve;++f<w;)this.add(c[f])}function Jn(c){return this.__data__.set(c,r),this}function Rt(c){return this.__data__.has(c)}Ot.prototype.add=Ot.prototype.push=Jn,Ot.prototype.has=Rt;function je(c){var f=this.__data__=new fe(c);this.size=f.size}function fn(){this.__data__=new fe,this.size=0}function wi(c){var f=this.__data__,w=f.delete(c);return this.size=f.size,w}function xi(c){return this.__data__.get(c)}function bi(c){return this.__data__.has(c)}function Si(c,f){var w=this.__data__;if(w instanceof fe){var _=w.__data__;if(!ht||_.length<n-1)return _.push([c,f]),this.size=++w.size,this;w=this.__data__=new ve(_)}return w.set(c,f),this.size=w.size,this}je.prototype.clear=fn,je.prototype.delete=wi,je.prototype.get=xi,je.prototype.has=bi,je.prototype.set=Si;function Ci(c,f){var w=Dt(c),_=!w&&ir(c),B=!w&&!_&&Lt(c),R=!w&&!_&&!B&&ar(c),z=w||_||B||R,U=z?qr(c.length,String):[],ie=U.length;for(var W in c)(f||Se.call(c,W))&&!(z&&(W=="length"||B&&(W=="offset"||W=="parent")||R&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Pi(W,ie)))&&U.push(W);return U}function jt(c,f){for(var w=c.length;w--;)if(rr(c[w][0],f))return w;return-1}function pn(c,f,w){var _=f(c);return Dt(c)?_:nn(_,w(c))}function dt(c){return c==null?c===void 0?N:x:$e&&$e in Object(c)?Fe(c):nr(c)}function er(c){return Le(c)&&dt(c)==a}function tr(c,f,w,_,B){return c===f?!0:c==null||f==null||!Le(c)&&!Le(f)?c!==c&&f!==f:Ei(c,f,w,_,tr,B)}function Ei(c,f,w,_,B,R){var z=Dt(c),U=Dt(f),ie=z?l:De(c),W=U?l:De(f);ie=ie==a?v:ie,W=W==a?v:W;var pe=ie==v,we=W==v,le=ie==W;if(le&&Lt(c)){if(!Lt(f))return!1;z=!0,pe=!1}if(le&&!pe)return R||(R=new je),z||ar(c)?gn(c,f,w,_,B,R):Ti(c,f,ie,w,_,B,R);if(!(w&i)){var ge=pe&&Se.call(c,"__wrapped__"),he=we&&Se.call(f,"__wrapped__");if(ge||he){var Xe=ge?c.value():c,He=he?f.value():f;return R||(R=new je),B(Xe,He,w,_,R)}}return le?(R||(R=new je),Ai(c,f,w,_,B,R)):!1}function _i(c){if(!sr(c)||Oi(c))return!1;var f=or(c)?ei:re;return f.test(me(c))}function ki(c){return Le(c)&&yn(c.length)&&!!K[dt(c)]}function $i(c){if(!Ri(c))return ut(c);var f=[];for(var w in Object(c))Se.call(c,w)&&w!="constructor"&&f.push(w);return f}function gn(c,f,w,_,B,R){var z=w&i,U=c.length,ie=f.length;if(U!=ie&&!(z&&ie>U))return!1;var W=R.get(c);if(W&&R.get(f))return W==f;var pe=-1,we=!0,le=w&o?new Ot:void 0;for(R.set(c,f),R.set(f,c);++pe<U;){var ge=c[pe],he=f[pe];if(_)var Xe=z?_(he,ge,pe,f,c,R):_(ge,he,pe,c,f,R);if(Xe!==void 0){if(Xe)continue;we=!1;break}if(le){if(!Vn(f,function(He,pt){if(!$t(le,pt)&&(ge===He||B(ge,He,w,_,R)))return le.push(pt)})){we=!1;break}}else if(!(ge===he||B(ge,he,w,_,R))){we=!1;break}}return R.delete(c),R.delete(f),we}function Ti(c,f,w,_,B,R,z){switch(w){case F:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case L:return!(c.byteLength!=f.byteLength||!R(new Zn(c),new Zn(f)));case h:case d:case C:return rr(+c,+f);case p:return c.name==f.name&&c.message==f.message;case A:case M:return c==f+"";case m:var U=Wn;case $:var ie=_&i;if(U||(U=Re),c.size!=f.size&&!ie)return!1;var W=z.get(c);if(W)return W==f;_|=o,z.set(c,f);var pe=gn(U(c),U(f),_,B,R,z);return z.delete(c),pe;case I:if(dn)return dn.call(c)==dn.call(f)}return!1}function Ai(c,f,w,_,B,R){var z=w&i,U=ft(c),ie=U.length,W=ft(f),pe=W.length;if(ie!=pe&&!z)return!1;for(var we=ie;we--;){var le=U[we];if(!(z?le in f:Se.call(f,le)))return!1}var ge=R.get(c);if(ge&&R.get(f))return ge==f;var he=!0;R.set(c,f),R.set(f,c);for(var Xe=z;++we<ie;){le=U[we];var He=c[le],pt=f[le];if(_)var as=z?_(pt,He,le,f,c,R):_(He,pt,le,c,f,R);if(!(as===void 0?He===pt||B(He,pt,w,_,R):as)){he=!1;break}Xe||(Xe=le=="constructor")}if(he&&!Xe){var lr=c.constructor,cr=f.constructor;lr!=cr&&"constructor"in c&&"constructor"in f&&!(typeof lr=="function"&&lr instanceof lr&&typeof cr=="function"&&cr instanceof cr)&&(he=!1)}return R.delete(c),R.delete(f),he}function ft(c){return pn(c,vn,Mi)}function Te(c,f){var w=c.__data__;return Ii(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Be(c,f){var w=rn(c,f);return _i(w)?w:void 0}function Fe(c){var f=Se.call(c,$e),w=c[$e];try{c[$e]=void 0;var _=!0}catch{}var B=Yn.call(c);return _&&(f?c[$e]=w:delete c[$e]),B}var Mi=It?function(c){return c==null?[]:(c=Object(c),Gn(It(c),function(f){return Pt.call(c,f)}))}:Di,De=dt;(ln&&De(new ln(new ArrayBuffer(1)))!=F||ht&&De(new ht)!=m||cn&&De(cn.resolve())!=b||un&&De(new un)!=$||hn&&De(new hn)!=O)&&(De=function(c){var f=dt(c),w=f==v?c.constructor:void 0,_=w?me(w):"";if(_)switch(_){case qn:return F;case Ne:return m;case ti:return b;case ni:return $;case ri:return O}return f});function Pi(c,f){return f=f??s,!!f&&(typeof c=="number"||Ve.test(c))&&c>-1&&c%1==0&&c<f}function Ii(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Oi(c){return!!Kn&&Kn in c}function Ri(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||lt;return c===w}function nr(c){return Yn.call(c)}function me(c){if(c!=null){try{return on.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c,f){return c===f||c!==c&&f!==f}var ir=er(function(){return arguments}())?er:function(c){return Le(c)&&Se.call(c,"callee")&&!Pt.call(c,"callee")},Dt=Array.isArray;function mn(c){return c!=null&&yn(c.length)&&!or(c)}var Lt=an||Li;function ji(c,f){return tr(c,f)}function or(c){if(!sr(c))return!1;var f=dt(c);return f==g||f==y||f==u||f==E}function yn(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function sr(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function Le(c){return c!=null&&typeof c=="object"}var ar=tn?Qr(tn):ki;function vn(c){return mn(c)?Ci(c):$i(c)}function Di(){return[]}function Li(){return!1}t.exports=ji})(Mf,Mf.exports);var F8=Mf.exports;const Nv=cg(F8);var H8=200,Bv="__lodash_hash_undefined__",z8=1/0,I$=9007199254740991,U8="[object Arguments]",G8="[object Function]",V8="[object GeneratorFunction]",W8="[object Symbol]",X8=/[\\^$.*+?()[\]{}|]/g,K8=/^\[object .+?Constructor\]$/,Y8=/^(?:0|[1-9]\d*)$/,Z8=typeof ot=="object"&&ot&&ot.Object===Object&&ot,q8=typeof self=="object"&&self&&self.Object===Object&&self,Fv=Z8||q8||Function("return this")();function Q8(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function J8(t,e){var n=t?t.length:0;return!!n&&nj(t,e,0)>-1}function ej(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function O$(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Hv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function tj(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function nj(t,e,n){if(e!==e)return tj(t,rj,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function rj(t){return t!==t}function ij(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function oj(t){return function(e){return t(e)}}function sj(t,e){return t.has(e)}function aj(t,e){return t==null?void 0:t[e]}function lj(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function R$(t,e){return function(n){return t(e(n))}}var cj=Array.prototype,uj=Function.prototype,ug=Object.prototype,B0=Fv["__core-js_shared__"],v2=function(){var t=/[^.]+$/.exec(B0&&B0.keys&&B0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),j$=uj.toString,dc=ug.hasOwnProperty,zv=ug.toString,hj=RegExp("^"+j$.call(dc).replace(X8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w2=Fv.Symbol,dj=R$(Object.getPrototypeOf,Object),fj=ug.propertyIsEnumerable,pj=cj.splice,x2=w2?w2.isConcatSpreadable:void 0,jy=Object.getOwnPropertySymbols,b2=Math.max,gj=L$(Fv,"Map"),Gu=L$(Object,"create");function Sa(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mj(){this.__data__=Gu?Gu(null):{}}function yj(t){return this.has(t)&&delete this.__data__[t]}function vj(t){var e=this.__data__;if(Gu){var n=e[t];return n===Bv?void 0:n}return dc.call(e,t)?e[t]:void 0}function wj(t){var e=this.__data__;return Gu?e[t]!==void 0:dc.call(e,t)}function xj(t,e){var n=this.__data__;return n[t]=Gu&&e===void 0?Bv:e,this}Sa.prototype.clear=mj;Sa.prototype.delete=yj;Sa.prototype.get=vj;Sa.prototype.has=wj;Sa.prototype.set=xj;function fc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bj(){this.__data__=[]}function Sj(t){var e=this.__data__,n=hg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():pj.call(e,n,1),!0}function Cj(t){var e=this.__data__,n=hg(e,t);return n<0?void 0:e[n][1]}function Ej(t){return hg(this.__data__,t)>-1}function _j(t,e){var n=this.__data__,r=hg(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}fc.prototype.clear=bj;fc.prototype.delete=Sj;fc.prototype.get=Cj;fc.prototype.has=Ej;fc.prototype.set=_j;function pc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kj(){this.__data__={hash:new Sa,map:new(gj||fc),string:new Sa}}function $j(t){return dg(this,t).delete(t)}function Tj(t){return dg(this,t).get(t)}function Aj(t){return dg(this,t).has(t)}function Mj(t,e){return dg(this,t).set(t,e),this}pc.prototype.clear=kj;pc.prototype.delete=$j;pc.prototype.get=Tj;pc.prototype.has=Aj;pc.prototype.set=Mj;function Pf(t){var e=-1,n=t?t.length:0;for(this.__data__=new pc;++e<n;)this.add(t[e])}function Pj(t){return this.__data__.set(t,Bv),this}function Ij(t){return this.__data__.has(t)}Pf.prototype.add=Pf.prototype.push=Pj;Pf.prototype.has=Ij;function Oj(t,e){var n=Uv(t)||N$(t)?ij(t.length,String):[],r=n.length,i=!!r;for(var o in t)(e||dc.call(t,o))&&!(i&&(o=="length"||Vj(o,r)))&&n.push(o);return n}function hg(t,e){for(var n=t.length;n--;)if(Qj(t[n][0],e))return n;return-1}function Rj(t,e,n,r){var i=-1,o=J8,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=O$(e,oj(n))),r?(o=ej,s=!1):e.length>=H8&&(o=sj,s=!1,e=new Pf(e));e:for(;++i<a;){var h=t[i],d=n?n(h):h;if(h=r||h!==0?h:0,s&&d===d){for(var p=u;p--;)if(e[p]===d)continue e;l.push(h)}else o(e,d,r)||l.push(h)}return l}function D$(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Gj),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?D$(a,e-1,n,r,i):Hv(i,a):r||(i[i.length]=a)}return i}function jj(t,e,n){var r=e(t);return Uv(t)?r:Hv(r,n(t))}function Dj(t){if(!Gv(t)||Xj(t))return!1;var e=F$(t)||lj(t)?hj:K8;return e.test(qj(t))}function Lj(t){if(!Gv(t))return Yj(t);var e=Kj(t),n=[];for(var r in t)r=="constructor"&&(e||!dc.call(t,r))||n.push(r);return n}function Nj(t,e){return t=Object(t),Bj(t,e,function(n,r){return r in t})}function Bj(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function Fj(t,e){return e=b2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=b2(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,Q8(t,this,s)}}function Hj(t){return jj(t,nD,Uj)}function dg(t,e){var n=t.__data__;return Wj(e)?n[typeof e=="string"?"string":"hash"]:n.map}function L$(t,e){var n=aj(t,e);return Dj(n)?n:void 0}var zj=jy?R$(jy,Object):z$,Uj=jy?function(t){for(var e=[];t;)Hv(e,zj(t)),t=dj(t);return e}:z$;function Gj(t){return Uv(t)||N$(t)||!!(x2&&t&&t[x2])}function Vj(t,e){return e=e??I$,!!e&&(typeof t=="number"||Y8.test(t))&&t>-1&&t%1==0&&t<e}function Wj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Xj(t){return!!v2&&v2 in t}function Kj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ug;return t===n}function Yj(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function Zj(t){if(typeof t=="string"||tD(t))return t;var e=t+"";return e=="0"&&1/t==-z8?"-0":e}function qj(t){if(t!=null){try{return j$.call(t)}catch{}try{return t+""}catch{}}return""}function Qj(t,e){return t===e||t!==t&&e!==e}function N$(t){return Jj(t)&&dc.call(t,"callee")&&(!fj.call(t,"callee")||zv.call(t)==U8)}var Uv=Array.isArray;function B$(t){return t!=null&&eD(t.length)&&!F$(t)}function Jj(t){return H$(t)&&B$(t)}function F$(t){var e=Gv(t)?zv.call(t):"";return e==G8||e==V8}function eD(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=I$}function Gv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function H$(t){return!!t&&typeof t=="object"}function tD(t){return typeof t=="symbol"||H$(t)&&zv.call(t)==W8}function nD(t){return B$(t)?Oj(t,!0):Lj(t)}Fj(function(t,e){return t==null?{}:(e=O$(D$(e,1),Zj),Nj(t,Rj(Hj(t),e)))});function z$(){return[]}var rD=1/0,iD=9007199254740991,oD="[object Arguments]",sD="[object Function]",aD="[object GeneratorFunction]",lD="[object Symbol]",cD=typeof ot=="object"&&ot&&ot.Object===Object&&ot,uD=typeof self=="object"&&self&&self.Object===Object&&self,hD=cD||uD||Function("return this")();function dD(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function fD(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function pD(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Vv=Object.prototype,gD=Vv.hasOwnProperty,Wv=Vv.toString,S2=hD.Symbol,mD=Vv.propertyIsEnumerable,C2=S2?S2.isConcatSpreadable:void 0,E2=Math.max;function U$(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=xD),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?U$(a,e-1,n,r,i):pD(i,a):r||(i[i.length]=a)}return i}function yD(t,e){return t=Object(t),vD(t,e,function(n,r){return r in t})}function vD(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function wD(t,e){return e=E2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=E2(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,dD(t,this,s)}}function xD(t){return CD(t)||SD(t)||!!(C2&&t&&t[C2])}function bD(t){if(typeof t=="string"||AD(t))return t;var e=t+"";return e=="0"&&1/t==-rD?"-0":e}function SD(t){return _D(t)&&gD.call(t,"callee")&&(!mD.call(t,"callee")||Wv.call(t)==oD)}var CD=Array.isArray;function ED(t){return t!=null&&$D(t.length)&&!kD(t)}function _D(t){return G$(t)&&ED(t)}function kD(t){var e=TD(t)?Wv.call(t):"";return e==sD||e==aD}function $D(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=iD}function TD(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function G$(t){return!!t&&typeof t=="object"}function AD(t){return typeof t=="symbol"||G$(t)&&Wv.call(t)==lD}var MD=wD(function(t,e){return t==null?{}:yD(t,fD(U$(e,1),bD))}),PD=MD;const ID=cg(PD);var V$="Expected a function",_2=NaN,OD="[object Symbol]",RD=/^\s+|\s+$/g,jD=/^[-+]0x[0-9a-f]+$/i,DD=/^0b[01]+$/i,LD=/^0o[0-7]+$/i,ND=parseInt,BD=typeof ot=="object"&&ot&&ot.Object===Object&&ot,FD=typeof self=="object"&&self&&self.Object===Object&&self,HD=BD||FD||Function("return this")(),zD=Object.prototype,UD=zD.toString,GD=Math.max,VD=Math.min,F0=function(){return HD.Date.now()};function WD(t,e,n){var r,i,o,s,a,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(V$);e=k2(e)||0,If(n)&&(h=!!n.leading,d="maxWait"in n,o=d?GD(k2(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g($){var M=r,I=i;return r=i=void 0,u=$,s=t.apply(I,M),s}function y($){return u=$,a=setTimeout(x,e),h?g($):s}function m($){var M=$-l,I=$-u,N=e-M;return d?VD(N,o-I):N}function C($){var M=$-l,I=$-u;return l===void 0||M>=e||M<0||d&&I>=o}function x(){var $=F0();if(C($))return v($);a=setTimeout(x,m($))}function v($){return a=void 0,p&&r?g($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?s:v(F0())}function A(){var $=F0(),M=C($);if(r=arguments,i=this,l=$,M){if(a===void 0)return y(l);if(d)return a=setTimeout(x,e),g(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=b,A.flush=E,A}function XD(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(V$);return If(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WD(t,e,{leading:r,maxWait:e,trailing:i})}function If(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function KD(t){return!!t&&typeof t=="object"}function YD(t){return typeof t=="symbol"||KD(t)&&UD.call(t)==OD}function k2(t){if(typeof t=="number")return t;if(YD(t))return _2;if(If(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=If(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(RD,"");var n=DD.test(t);return n||LD.test(t)?ND(t.slice(2),n?2:8):jD.test(t)?_2:+t}var ZD=XD;const W$=cg(ZD);var qD=Object.defineProperty,QD=(t,e,n)=>e in t?qD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e,n)=>(QD(t,typeof e!="symbol"?e+"":e,n),n);class Xv{constructor(e,n,r){this.desc=e,this.editor=n,this.elements=r}redo(){var e;for(const n of this.elements){n.setDeleted(!1);const r=n.getParent();r&&r.insertChild(n,(e=n.attrs.parentIndex)==null?void 0:e.position)}this.editor.selectedElements.setItems(this.elements)}undo(){this.elements.forEach(e=>{e.setDeleted(!0),e.removeFromParent()}),this.editor.selectedElements.clear()}}var JD=Object.defineProperty,e6=(t,e,n)=>e in t?JD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t6=(t,e,n)=>(e6(t,typeof e!="symbol"?e+"":e,n),n);const $2=(t,e)=>{for(let n=0,r=t.length;n<r;n++)e(t[n],n)},Qs=(t,e)=>{const n=[];for(let r=0,i=t.length;r<i;r++)n.push(e(t[r],r));return n},X$=(t,e,n)=>{const r=t[e];t[e]=t[n],t[n]=r},mr=({r:t,g:e,b:n,a:r})=>`rgba(${t},${e},${n},${r})`,n6=t=>{t=t.toUpperCase();const e=t.match(/[0-9A-F]{1,6}/);return e?(t=e[0],t.length===6?t:((t.length===4||t.length===5)&&(t=t.slice(0,3)),t.length===3?t.split("").map(n=>n+n).join(""):t.padEnd(6,t))):""},ld=t=>{const{r:e,g:n,b:r}=t;return(e<<16|n<<8|r).toString(16).toUpperCase().padStart(6,"0")},Kt=t=>{if(t=n6(t),!t)return null;const e=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),r=parseInt(t.slice(4,6),16),i=t.slice(6,8),o=i?parseInt(i,16)/255:1;return{r:e,g:n,b:r,a:o}};let cd;const r6=new Uint8Array(16);function i6(){if(!cd&&(cd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cd(r6)}const xn=[];for(let t=0;t<256;++t)xn.push((t+256).toString(16).slice(1));function o6(t,e=0){return(xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]).toLowerCase()}const s6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T2={randomUUID:s6};function a6(t,e,n){if(T2.randomUUID&&!e&&!t)return T2.randomUUID();t=t||{};const r=t.random||(t.rng||i6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return o6(r)}const Ca=()=>{},Vu=()=>a6(),l6=()=>{let t=0;return()=>{const e=String(t);return t++,e}},A2={maxIdxMap:new Map,gen(t){let e=this.maxIdxMap.get(t)??0;return e++,this.maxIdxMap.set(t,e),`${t} ${e}`},setMaxIdx(t){const e=t.match(/^(.*)\s+(\d+)$/);if(e){const[,n,r]=e,i=Number(r);this.maxIdxMap.set(n,Math.max(this.maxIdxMap.get(n)??0,i))}}},_t=(t,e)=>{const n=Math.floor(t/e),r=e*n,i=e*(n+1);return t-r<=i-t?r:i},K$=(t,e,n,r,i,o=!1)=>{let s=r+t/n,a=i+e/n;return o&&(s=Math.round(s),a=Math.round(a)),{x:s,y:a}},c6=(t,e,n,r,i)=>({x:(t-r)*n,y:(e-i)*n}),Of=t=>{const e=Math.floor(t),n=Math.ceil(t);return(t-e<n-t?e:n)+.5},u6=(t,e)=>{if(t.length!==e.length)return!1;const n=new Map;for(let r=0,i=t.length;r<i;r++)n.set(t[r],!0);for(let r=0,i=e.length;r<i;r++)if(!n.get(e[r]))return!1;return!0},M2=(t,e=2)=>Number(t.toFixed(e)),Dy=()=>window.devicePixelRatio||1,h6=(t,e,n,r)=>{if(t===0||e===0)return 1;const i=n/t,o=r/e;return Math.max(i,o)},P2=(t,e)=>{if(t.length===0)throw new Error("sortedArr can not be empty");if(t.length===1)return t[0];let n=0,r=t.length-1;for(;n<=r;){const i=Math.floor((n+r)/2);if(t[i]===e)return t[i];t[i]<e?n=i+1:r=i-1}return n>=t.length?t[r]:r<0?t[n]:Math.abs(t[r]-e)<=Math.abs(t[n]-e)?t[r]:t[n]},d6=()=>navigator.platform.toLowerCase().includes("win")||navigator.userAgent.includes("Windows"),f6=t=>typeof t=="string"?t.replace(/<|&|>/g,e=>({"<":"&lt;",">":"&gt;","&":"&amp;"})[e]):"",H0=t=>{let e=0;for(const n of t)e++;return e},ho=(t,e,n)=>{let r="",i=0;for(const o of t){if(n!==void 0&&i>=n)break;i>=e&&(r+=o),i++}return r};class Fn{constructor(){t6(this,"eventMap",{})}on(e,n){return this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push(n),this}emit(e,...n){const r=this.eventMap[e];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(e,n){return this.eventMap[e]&&(this.eventMap[e]=this.eventMap[e].filter(r=>r!==n)),this}}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rf={exports:{}};Rf.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",m="[object Promise]",C="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",E="[object WeakMap]",A="[object ArrayBuffer]",$="[object DataView]",M="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",X="[object Uint8ClampedArray]",G="[object Uint16Array]",Q="[object Uint32Array]",ae=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,D=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,j={};j[o]=j[s]=j[A]=j[$]=j[a]=j[l]=j[M]=j[I]=j[N]=j[O]=j[L]=j[p]=j[g]=j[y]=j[C]=j[x]=j[v]=j[b]=j[F]=j[X]=j[G]=j[Q]=!0,j[u]=j[h]=j[E]=!1;var ce=typeof st=="object"&&st&&st.Object===Object&&st,de=typeof self=="object"&&self&&self.Object===Object&&self,re=ce||de||Function("return this")(),Ve=e&&!e.nodeType&&e,K=Ve&&!0&&t&&!t.nodeType&&t,bt=K&&K.exports===Ve;function kn(c,f){return c.set(f[0],f[1]),c}function ke(c,f){return c.add(f),c}function Hn(c,f){for(var w=-1,_=c?c.length:0;++w<_&&f(c[w],w,c)!==!1;);return c}function zn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Jt(c,f,w,_){var B=-1,R=c?c.length:0;for(_&&R&&(w=c[++B]);++B<R;)w=f(w,c[B],B,c);return w}function en(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Un(c,f){return c==null?void 0:c[f]}function tn(c){var f=!1;if(c!=null&&typeof c.toString!="function")try{f=!!(c+"")}catch{}return f}function Gn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function nn(c,f){return function(w){return c(f(w))}}function Vn(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var qr=Array.prototype,Qr=Function.prototype,$t=Object.prototype,rn=re["__core-js_shared__"],Wn=function(){var c=/[^.]+$/.exec(rn&&rn.keys&&rn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Xn=Qr.toString,Re=$t.hasOwnProperty,Tt=$t.toString,Jr=RegExp("^"+Xn.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=bt?re.Buffer:void 0,At=re.Symbol,on=re.Uint8Array,Se=nn(Object.getPrototypeOf,Object),Kn=Object.create,Yn=$t.propertyIsEnumerable,ei=qr.splice,sn=Object.getOwnPropertySymbols,Mt=lt?lt.isBuffer:void 0,Zn=nn(Object.keys,Object),Pt=Te(re,"DataView"),ct=Te(re,"Map"),$e=Te(re,"Promise"),It=Te(re,"Set"),an=Te(re,"WeakMap"),ut=Te(Object,"create"),ln=me(Pt),ht=me(ct),cn=me($e),un=me(It),hn=me(an),We=At?At.prototype:void 0,qn=We?We.valueOf:void 0;function Ne(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ti(){this.__data__=ut?ut(null):{}}function ni(c){return this.has(c)&&delete this.__data__[c]}function ri(c){var f=this.__data__;if(ut){var w=f[c];return w===r?void 0:w}return Re.call(f,c)?f[c]:void 0}function Qn(c){var f=this.__data__;return ut?f[c]!==void 0:Re.call(f,c)}function dn(c,f){var w=this.__data__;return w[c]=ut&&f===void 0?r:f,this}Ne.prototype.clear=ti,Ne.prototype.delete=ni,Ne.prototype.get=ri,Ne.prototype.has=Qn,Ne.prototype.set=dn;function ue(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=[]}function oi(c){var f=this.__data__,w=Rt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ei.call(f,w,1),!0}function si(c){var f=this.__data__,w=Rt(f,c);return w<0?void 0:f[w][1]}function ai(c){return Rt(this.__data__,c)>-1}function li(c,f){var w=this.__data__,_=Rt(w,c);return _<0?w.push([c,f]):w[_][1]=f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__={hash:new Ne,map:new(ct||ue),string:new Ne}}function ui(c){return ft(this,c).delete(c)}function hi(c){return ft(this,c).get(c)}function di(c){return ft(this,c).has(c)}function fi(c,f){return ft(this,c).set(c,f),this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){this.__data__=new ue(c)}function pi(){this.__data__=new ue}function gi(c){return this.__data__.delete(c)}function mi(c){return this.__data__.get(c)}function yi(c){return this.__data__.has(c)}function vi(c,f){var w=this.__data__;if(w instanceof ue){var _=w.__data__;if(!ct||_.length<n-1)return _.push([c,f]),this;w=this.__data__=new fe(_)}return w.set(c,f),this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c,f){var w=mn(c)||Dt(c)?en(c.length,String):[],_=w.length,B=!!_;for(var R in c)(f||Re.call(c,R))&&!(B&&(R=="length"||Ii(R,_)))&&w.push(R);return w}function Jn(c,f,w){var _=c[f];(!(Re.call(c,f)&&ir(_,w))||w===void 0&&!(f in c))&&(c[f]=w)}function Rt(c,f){for(var w=c.length;w--;)if(ir(c[w][0],f))return w;return-1}function je(c,f){return c&&gn(f,vn(f),c)}function fn(c,f,w,_,B,R,z){var U;if(_&&(U=R?_(c,B,R,z):_(c)),U!==void 0)return U;if(!Le(c))return c;var ie=mn(c);if(ie){if(U=Mi(c),!f)return $i(c,U)}else{var W=Fe(c),pe=W==h||W==d;if(or(c))return jt(c,f);if(W==y||W==o||pe&&!R){if(tn(c))return R?c:{};if(U=De(pe?{}:c),!f)return Ti(c,je(U,c))}else{if(!j[W])return R?c:{};U=Pi(c,W,fn,f)}}z||(z=new ve);var we=z.get(c);if(we)return we;if(z.set(c,U),!ie)var le=w?Ai(c):vn(c);return Hn(le||c,function(ge,he){le&&(he=ge,ge=c[he]),Jn(U,he,fn(ge,f,w,_,he,c,z))}),U}function wi(c){return Le(c)?Kn(c):{}}function xi(c,f,w){var _=f(c);return mn(c)?_:zn(_,w(c))}function bi(c){return Tt.call(c)}function Si(c){if(!Le(c)||Ri(c))return!1;var f=yn(c)||tn(c)?Jr:D;return f.test(me(c))}function Ci(c){if(!nr(c))return Zn(c);var f=[];for(var w in Object(c))Re.call(c,w)&&w!="constructor"&&f.push(w);return f}function jt(c,f){if(f)return c.slice();var w=new c.constructor(c.length);return c.copy(w),w}function pn(c){var f=new c.constructor(c.byteLength);return new on(f).set(new on(c)),f}function dt(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.byteLength)}function er(c,f,w){var _=f?w(Gn(c),!0):Gn(c);return Jt(_,kn,new c.constructor)}function tr(c){var f=new c.constructor(c.source,q.exec(c));return f.lastIndex=c.lastIndex,f}function Ei(c,f,w){var _=f?w(Vn(c),!0):Vn(c);return Jt(_,ke,new c.constructor)}function _i(c){return qn?Object(qn.call(c)):{}}function ki(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.length)}function $i(c,f){var w=-1,_=c.length;for(f||(f=Array(_));++w<_;)f[w]=c[w];return f}function gn(c,f,w,_){w||(w={});for(var B=-1,R=f.length;++B<R;){var z=f[B],U=_?_(w[z],c[z],z,w,c):void 0;Jn(w,z,U===void 0?c[z]:U)}return w}function Ti(c,f){return gn(c,Be(c),f)}function Ai(c){return xi(c,vn,Be)}function ft(c,f){var w=c.__data__;return Oi(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Te(c,f){var w=Un(c,f);return Si(w)?w:void 0}var Be=sn?nn(sn,Object):Di,Fe=bi;(Pt&&Fe(new Pt(new ArrayBuffer(1)))!=$||ct&&Fe(new ct)!=p||$e&&Fe($e.resolve())!=m||It&&Fe(new It)!=x||an&&Fe(new an)!=E)&&(Fe=function(c){var f=Tt.call(c),w=f==y?c.constructor:void 0,_=w?me(w):void 0;if(_)switch(_){case ln:return $;case ht:return p;case cn:return m;case un:return x;case hn:return E}return f});function Mi(c){var f=c.length,w=c.constructor(f);return f&&typeof c[0]=="string"&&Re.call(c,"index")&&(w.index=c.index,w.input=c.input),w}function De(c){return typeof c.constructor=="function"&&!nr(c)?wi(Se(c)):{}}function Pi(c,f,w,_){var B=c.constructor;switch(f){case A:return pn(c);case a:case l:return new B(+c);case $:return dt(c,_);case M:case I:case N:case O:case L:case F:case X:case G:case Q:return ki(c,_);case p:return er(c,_,w);case g:case v:return new B(c);case C:return tr(c);case x:return Ei(c,_,w);case b:return _i(c)}}function Ii(c,f){return f=f??i,!!f&&(typeof c=="number"||Y.test(c))&&c>-1&&c%1==0&&c<f}function Oi(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Ri(c){return!!Wn&&Wn in c}function nr(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||$t;return c===w}function me(c){if(c!=null){try{return Xn.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c){return fn(c,!0,!0)}function ir(c,f){return c===f||c!==c&&f!==f}function Dt(c){return ji(c)&&Re.call(c,"callee")&&(!Yn.call(c,"callee")||Tt.call(c)==o)}var mn=Array.isArray;function Lt(c){return c!=null&&sr(c.length)&&!yn(c)}function ji(c){return ar(c)&&Lt(c)}var or=Mt||Li;function yn(c){var f=Le(c)?Tt.call(c):"";return f==h||f==d}function sr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}function Le(c){var f=typeof c;return!!c&&(f=="object"||f=="function")}function ar(c){return!!c&&typeof c=="object"}function vn(c){return Lt(c)?Ot(c):Ci(c)}function Di(){return[]}function Li(){return!1}t.exports=rr})(Rf,Rf.exports);var p6=Rf.exports;const J=gc(p6);var g6="Expected a function",I2=NaN,m6="[object Symbol]",y6=/^\s+|\s+$/g,v6=/^[-+]0x[0-9a-f]+$/i,w6=/^0b[01]+$/i,x6=/^0o[0-7]+$/i,b6=parseInt,S6=typeof st=="object"&&st&&st.Object===Object&&st,C6=typeof self=="object"&&self&&self.Object===Object&&self,E6=S6||C6||Function("return this")(),_6=Object.prototype,k6=_6.toString,$6=Math.max,T6=Math.min,z0=function(){return E6.Date.now()};function A6(t,e,n){var r,i,o,s,a,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(g6);e=O2(e)||0,Ly(n)&&(h=!!n.leading,d="maxWait"in n,o=d?$6(O2(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g($){var M=r,I=i;return r=i=void 0,u=$,s=t.apply(I,M),s}function y($){return u=$,a=setTimeout(x,e),h?g($):s}function m($){var M=$-l,I=$-u,N=e-M;return d?T6(N,o-I):N}function C($){var M=$-l,I=$-u;return l===void 0||M>=e||M<0||d&&I>=o}function x(){var $=z0();if(C($))return v($);a=setTimeout(x,m($))}function v($){return a=void 0,p&&r?g($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?s:v(z0())}function A(){var $=z0(),M=C($);if(r=arguments,i=this,l=$,M){if(a===void 0)return y(l);if(d)return a=setTimeout(x,e),g(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=b,A.flush=E,A}function Ly(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function M6(t){return!!t&&typeof t=="object"}function P6(t){return typeof t=="symbol"||M6(t)&&k6.call(t)==m6}function O2(t){if(typeof t=="number")return t;if(P6(t))return I2;if(Ly(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ly(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(y6,"");var n=w6.test(t);return n||x6.test(t)?b6(t.slice(2),n?2:8):v6.test(t)?I2:+t}var I6=A6;const O6=gc(I6);var jf={exports:{}};jf.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",m="[object Map]",C="[object Number]",x="[object Null]",v="[object Object]",b="[object Promise]",E="[object Proxy]",A="[object RegExp]",$="[object Set]",M="[object String]",I="[object Symbol]",N="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",F="[object DataView]",X="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",ae="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",Y="[object Uint8ClampedArray]",j="[object Uint16Array]",ce="[object Uint32Array]",de=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,Ve=/^(?:0|[1-9]\d*)$/,K={};K[X]=K[G]=K[Q]=K[ae]=K[q]=K[D]=K[Y]=K[j]=K[ce]=!0,K[a]=K[l]=K[L]=K[h]=K[F]=K[d]=K[p]=K[g]=K[m]=K[C]=K[v]=K[A]=K[$]=K[M]=K[O]=!1;var bt=typeof st=="object"&&st&&st.Object===Object&&st,kn=typeof self=="object"&&self&&self.Object===Object&&self,ke=bt||kn||Function("return this")(),Hn=e&&!e.nodeType&&e,zn=Hn&&!0&&t&&!t.nodeType&&t,Jt=zn&&zn.exports===Hn,en=Jt&&bt.process,Un=function(){try{return en&&en.binding&&en.binding("util")}catch{}}(),tn=Un&&Un.isTypedArray;function Gn(c,f){for(var w=-1,_=c==null?0:c.length,B=0,R=[];++w<_;){var z=c[w];f(z,w,c)&&(R[B++]=z)}return R}function nn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Vn(c,f){for(var w=-1,_=c==null?0:c.length;++w<_;)if(f(c[w],w,c))return!0;return!1}function qr(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Qr(c){return function(f){return c(f)}}function $t(c,f){return c.has(f)}function rn(c,f){return c==null?void 0:c[f]}function Wn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function Xn(c,f){return function(w){return c(f(w))}}function Re(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var Tt=Array.prototype,Jr=Function.prototype,lt=Object.prototype,At=ke["__core-js_shared__"],on=Jr.toString,Se=lt.hasOwnProperty,Kn=function(){var c=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Yn=lt.toString,ei=RegExp("^"+on.call(Se).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=Jt?ke.Buffer:void 0,Mt=ke.Symbol,Zn=ke.Uint8Array,Pt=lt.propertyIsEnumerable,ct=Tt.splice,$e=Mt?Mt.toStringTag:void 0,It=Object.getOwnPropertySymbols,an=sn?sn.isBuffer:void 0,ut=Xn(Object.keys,Object),ln=Be(ke,"DataView"),ht=Be(ke,"Map"),cn=Be(ke,"Promise"),un=Be(ke,"Set"),hn=Be(ke,"WeakMap"),We=Be(Object,"create"),qn=me(ln),Ne=me(ht),ti=me(cn),ni=me(un),ri=me(hn),Qn=Mt?Mt.prototype:void 0,dn=Qn?Qn.valueOf:void 0;function ue(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=We?We(null):{},this.size=0}function oi(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function si(c){var f=this.__data__;if(We){var w=f[c];return w===r?void 0:w}return Se.call(f,c)?f[c]:void 0}function ai(c){var f=this.__data__;return We?f[c]!==void 0:Se.call(f,c)}function li(c,f){var w=this.__data__;return this.size+=this.has(c)?0:1,w[c]=We&&f===void 0?r:f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__=[],this.size=0}function ui(c){var f=this.__data__,w=jt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ct.call(f,w,1),--this.size,!0}function hi(c){var f=this.__data__,w=jt(f,c);return w<0?void 0:f[w][1]}function di(c){return jt(this.__data__,c)>-1}function fi(c,f){var w=this.__data__,_=jt(w,c);return _<0?(++this.size,w.push([c,f])):w[_][1]=f,this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function pi(){this.size=0,this.__data__={hash:new ue,map:new(ht||fe),string:new ue}}function gi(c){var f=Te(this,c).delete(c);return this.size-=f?1:0,f}function mi(c){return Te(this,c).get(c)}function yi(c){return Te(this,c).has(c)}function vi(c,f){var w=Te(this,c),_=w.size;return w.set(c,f),this.size+=w.size==_?0:1,this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c){var f=-1,w=c==null?0:c.length;for(this.__data__=new ve;++f<w;)this.add(c[f])}function Jn(c){return this.__data__.set(c,r),this}function Rt(c){return this.__data__.has(c)}Ot.prototype.add=Ot.prototype.push=Jn,Ot.prototype.has=Rt;function je(c){var f=this.__data__=new fe(c);this.size=f.size}function fn(){this.__data__=new fe,this.size=0}function wi(c){var f=this.__data__,w=f.delete(c);return this.size=f.size,w}function xi(c){return this.__data__.get(c)}function bi(c){return this.__data__.has(c)}function Si(c,f){var w=this.__data__;if(w instanceof fe){var _=w.__data__;if(!ht||_.length<n-1)return _.push([c,f]),this.size=++w.size,this;w=this.__data__=new ve(_)}return w.set(c,f),this.size=w.size,this}je.prototype.clear=fn,je.prototype.delete=wi,je.prototype.get=xi,je.prototype.has=bi,je.prototype.set=Si;function Ci(c,f){var w=Dt(c),_=!w&&ir(c),B=!w&&!_&&Lt(c),R=!w&&!_&&!B&&ar(c),z=w||_||B||R,U=z?qr(c.length,String):[],ie=U.length;for(var W in c)(f||Se.call(c,W))&&!(z&&(W=="length"||B&&(W=="offset"||W=="parent")||R&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Pi(W,ie)))&&U.push(W);return U}function jt(c,f){for(var w=c.length;w--;)if(rr(c[w][0],f))return w;return-1}function pn(c,f,w){var _=f(c);return Dt(c)?_:nn(_,w(c))}function dt(c){return c==null?c===void 0?N:x:$e&&$e in Object(c)?Fe(c):nr(c)}function er(c){return Le(c)&&dt(c)==a}function tr(c,f,w,_,B){return c===f?!0:c==null||f==null||!Le(c)&&!Le(f)?c!==c&&f!==f:Ei(c,f,w,_,tr,B)}function Ei(c,f,w,_,B,R){var z=Dt(c),U=Dt(f),ie=z?l:De(c),W=U?l:De(f);ie=ie==a?v:ie,W=W==a?v:W;var pe=ie==v,we=W==v,le=ie==W;if(le&&Lt(c)){if(!Lt(f))return!1;z=!0,pe=!1}if(le&&!pe)return R||(R=new je),z||ar(c)?gn(c,f,w,_,B,R):Ti(c,f,ie,w,_,B,R);if(!(w&i)){var ge=pe&&Se.call(c,"__wrapped__"),he=we&&Se.call(f,"__wrapped__");if(ge||he){var Xe=ge?c.value():c,He=he?f.value():f;return R||(R=new je),B(Xe,He,w,_,R)}}return le?(R||(R=new je),Ai(c,f,w,_,B,R)):!1}function _i(c){if(!sr(c)||Oi(c))return!1;var f=or(c)?ei:re;return f.test(me(c))}function ki(c){return Le(c)&&yn(c.length)&&!!K[dt(c)]}function $i(c){if(!Ri(c))return ut(c);var f=[];for(var w in Object(c))Se.call(c,w)&&w!="constructor"&&f.push(w);return f}function gn(c,f,w,_,B,R){var z=w&i,U=c.length,ie=f.length;if(U!=ie&&!(z&&ie>U))return!1;var W=R.get(c);if(W&&R.get(f))return W==f;var pe=-1,we=!0,le=w&o?new Ot:void 0;for(R.set(c,f),R.set(f,c);++pe<U;){var ge=c[pe],he=f[pe];if(_)var Xe=z?_(he,ge,pe,f,c,R):_(ge,he,pe,c,f,R);if(Xe!==void 0){if(Xe)continue;we=!1;break}if(le){if(!Vn(f,function(He,pt){if(!$t(le,pt)&&(ge===He||B(ge,He,w,_,R)))return le.push(pt)})){we=!1;break}}else if(!(ge===he||B(ge,he,w,_,R))){we=!1;break}}return R.delete(c),R.delete(f),we}function Ti(c,f,w,_,B,R,z){switch(w){case F:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case L:return!(c.byteLength!=f.byteLength||!R(new Zn(c),new Zn(f)));case h:case d:case C:return rr(+c,+f);case p:return c.name==f.name&&c.message==f.message;case A:case M:return c==f+"";case m:var U=Wn;case $:var ie=_&i;if(U||(U=Re),c.size!=f.size&&!ie)return!1;var W=z.get(c);if(W)return W==f;_|=o,z.set(c,f);var pe=gn(U(c),U(f),_,B,R,z);return z.delete(c),pe;case I:if(dn)return dn.call(c)==dn.call(f)}return!1}function Ai(c,f,w,_,B,R){var z=w&i,U=ft(c),ie=U.length,W=ft(f),pe=W.length;if(ie!=pe&&!z)return!1;for(var we=ie;we--;){var le=U[we];if(!(z?le in f:Se.call(f,le)))return!1}var ge=R.get(c);if(ge&&R.get(f))return ge==f;var he=!0;R.set(c,f),R.set(f,c);for(var Xe=z;++we<ie;){le=U[we];var He=c[le],pt=f[le];if(_)var as=z?_(pt,He,le,f,c,R):_(He,pt,le,c,f,R);if(!(as===void 0?He===pt||B(He,pt,w,_,R):as)){he=!1;break}Xe||(Xe=le=="constructor")}if(he&&!Xe){var lr=c.constructor,cr=f.constructor;lr!=cr&&"constructor"in c&&"constructor"in f&&!(typeof lr=="function"&&lr instanceof lr&&typeof cr=="function"&&cr instanceof cr)&&(he=!1)}return R.delete(c),R.delete(f),he}function ft(c){return pn(c,vn,Mi)}function Te(c,f){var w=c.__data__;return Ii(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Be(c,f){var w=rn(c,f);return _i(w)?w:void 0}function Fe(c){var f=Se.call(c,$e),w=c[$e];try{c[$e]=void 0;var _=!0}catch{}var B=Yn.call(c);return _&&(f?c[$e]=w:delete c[$e]),B}var Mi=It?function(c){return c==null?[]:(c=Object(c),Gn(It(c),function(f){return Pt.call(c,f)}))}:Di,De=dt;(ln&&De(new ln(new ArrayBuffer(1)))!=F||ht&&De(new ht)!=m||cn&&De(cn.resolve())!=b||un&&De(new un)!=$||hn&&De(new hn)!=O)&&(De=function(c){var f=dt(c),w=f==v?c.constructor:void 0,_=w?me(w):"";if(_)switch(_){case qn:return F;case Ne:return m;case ti:return b;case ni:return $;case ri:return O}return f});function Pi(c,f){return f=f??s,!!f&&(typeof c=="number"||Ve.test(c))&&c>-1&&c%1==0&&c<f}function Ii(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Oi(c){return!!Kn&&Kn in c}function Ri(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||lt;return c===w}function nr(c){return Yn.call(c)}function me(c){if(c!=null){try{return on.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c,f){return c===f||c!==c&&f!==f}var ir=er(function(){return arguments}())?er:function(c){return Le(c)&&Se.call(c,"callee")&&!Pt.call(c,"callee")},Dt=Array.isArray;function mn(c){return c!=null&&yn(c.length)&&!or(c)}var Lt=an||Li;function ji(c,f){return tr(c,f)}function or(c){if(!sr(c))return!1;var f=dt(c);return f==g||f==y||f==u||f==E}function yn(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function sr(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function Le(c){return c!=null&&typeof c=="object"}var ar=tn?Qr(tn):ki;function vn(c){return mn(c)?Ci(c):$i(c)}function Di(){return[]}function Li(){return!1}t.exports=ji})(jf,jf.exports);var R6=jf.exports;const Sh=gc(R6);var j6=200,Kv="__lodash_hash_undefined__",D6=1/0,Y$=9007199254740991,L6="[object Arguments]",N6="[object Function]",B6="[object GeneratorFunction]",F6="[object Symbol]",H6=/[\\^$.*+?()[\]{}|]/g,z6=/^\[object .+?Constructor\]$/,U6=/^(?:0|[1-9]\d*)$/,G6=typeof st=="object"&&st&&st.Object===Object&&st,V6=typeof self=="object"&&self&&self.Object===Object&&self,Yv=G6||V6||Function("return this")();function W6(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function X6(t,e){var n=t?t.length:0;return!!n&&Z6(t,e,0)>-1}function K6(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function Z$(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Zv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Y6(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Z6(t,e,n){if(e!==e)return Y6(t,q6,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function q6(t){return t!==t}function Q6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function J6(t){return function(e){return t(e)}}function eL(t,e){return t.has(e)}function tL(t,e){return t==null?void 0:t[e]}function nL(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function q$(t,e){return function(n){return t(e(n))}}var rL=Array.prototype,iL=Function.prototype,fg=Object.prototype,U0=Yv["__core-js_shared__"],R2=function(){var t=/[^.]+$/.exec(U0&&U0.keys&&U0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q$=iL.toString,mc=fg.hasOwnProperty,qv=fg.toString,oL=RegExp("^"+Q$.call(mc).replace(H6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j2=Yv.Symbol,sL=q$(Object.getPrototypeOf,Object),aL=fg.propertyIsEnumerable,lL=rL.splice,D2=j2?j2.isConcatSpreadable:void 0,Ny=Object.getOwnPropertySymbols,L2=Math.max,cL=eT(Yv,"Map"),Wu=eT(Object,"create");function Ea(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function uL(){this.__data__=Wu?Wu(null):{}}function hL(t){return this.has(t)&&delete this.__data__[t]}function dL(t){var e=this.__data__;if(Wu){var n=e[t];return n===Kv?void 0:n}return mc.call(e,t)?e[t]:void 0}function fL(t){var e=this.__data__;return Wu?e[t]!==void 0:mc.call(e,t)}function pL(t,e){var n=this.__data__;return n[t]=Wu&&e===void 0?Kv:e,this}Ea.prototype.clear=uL;Ea.prototype.delete=hL;Ea.prototype.get=dL;Ea.prototype.has=fL;Ea.prototype.set=pL;function yc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gL(){this.__data__=[]}function mL(t){var e=this.__data__,n=pg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():lL.call(e,n,1),!0}function yL(t){var e=this.__data__,n=pg(e,t);return n<0?void 0:e[n][1]}function vL(t){return pg(this.__data__,t)>-1}function wL(t,e){var n=this.__data__,r=pg(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}yc.prototype.clear=gL;yc.prototype.delete=mL;yc.prototype.get=yL;yc.prototype.has=vL;yc.prototype.set=wL;function vc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xL(){this.__data__={hash:new Ea,map:new(cL||yc),string:new Ea}}function bL(t){return gg(this,t).delete(t)}function SL(t){return gg(this,t).get(t)}function CL(t){return gg(this,t).has(t)}function EL(t,e){return gg(this,t).set(t,e),this}vc.prototype.clear=xL;vc.prototype.delete=bL;vc.prototype.get=SL;vc.prototype.has=CL;vc.prototype.set=EL;function Df(t){var e=-1,n=t?t.length:0;for(this.__data__=new vc;++e<n;)this.add(t[e])}function _L(t){return this.__data__.set(t,Kv),this}function kL(t){return this.__data__.has(t)}Df.prototype.add=Df.prototype.push=_L;Df.prototype.has=kL;function $L(t,e){var n=Qv(t)||tT(t)?Q6(t.length,String):[],r=n.length,i=!!r;for(var o in t)(e||mc.call(t,o))&&!(i&&(o=="length"||BL(o,r)))&&n.push(o);return n}function pg(t,e){for(var n=t.length;n--;)if(WL(t[n][0],e))return n;return-1}function TL(t,e,n,r){var i=-1,o=X6,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=Z$(e,J6(n))),r?(o=K6,s=!1):e.length>=j6&&(o=eL,s=!1,e=new Df(e));e:for(;++i<a;){var h=t[i],d=n?n(h):h;if(h=r||h!==0?h:0,s&&d===d){for(var p=u;p--;)if(e[p]===d)continue e;l.push(h)}else o(e,d,r)||l.push(h)}return l}function J$(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=NL),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?J$(a,e-1,n,r,i):Zv(i,a):r||(i[i.length]=a)}return i}function AL(t,e,n){var r=e(t);return Qv(t)?r:Zv(r,n(t))}function ML(t){if(!Jv(t)||HL(t))return!1;var e=rT(t)||nL(t)?oL:z6;return e.test(VL(t))}function PL(t){if(!Jv(t))return UL(t);var e=zL(t),n=[];for(var r in t)r=="constructor"&&(e||!mc.call(t,r))||n.push(r);return n}function IL(t,e){return t=Object(t),OL(t,e,function(n,r){return r in t})}function OL(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function RL(t,e){return e=L2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=L2(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,W6(t,this,s)}}function jL(t){return AL(t,ZL,LL)}function gg(t,e){var n=t.__data__;return FL(e)?n[typeof e=="string"?"string":"hash"]:n.map}function eT(t,e){var n=tL(t,e);return ML(n)?n:void 0}var DL=Ny?q$(Ny,Object):oT,LL=Ny?function(t){for(var e=[];t;)Zv(e,DL(t)),t=sL(t);return e}:oT;function NL(t){return Qv(t)||tT(t)||!!(D2&&t&&t[D2])}function BL(t,e){return e=e??Y$,!!e&&(typeof t=="number"||U6.test(t))&&t>-1&&t%1==0&&t<e}function FL(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function HL(t){return!!R2&&R2 in t}function zL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fg;return t===n}function UL(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function GL(t){if(typeof t=="string"||YL(t))return t;var e=t+"";return e=="0"&&1/t==-D6?"-0":e}function VL(t){if(t!=null){try{return Q$.call(t)}catch{}try{return t+""}catch{}}return""}function WL(t,e){return t===e||t!==t&&e!==e}function tT(t){return XL(t)&&mc.call(t,"callee")&&(!aL.call(t,"callee")||qv.call(t)==L6)}var Qv=Array.isArray;function nT(t){return t!=null&&KL(t.length)&&!rT(t)}function XL(t){return iT(t)&&nT(t)}function rT(t){var e=Jv(t)?qv.call(t):"";return e==N6||e==B6}function KL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Y$}function Jv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function iT(t){return!!t&&typeof t=="object"}function YL(t){return typeof t=="symbol"||iT(t)&&qv.call(t)==F6}function ZL(t){return nT(t)?$L(t,!0):PL(t)}var qL=RL(function(t,e){return t==null?{}:(e=Z$(J$(e,1),GL),IL(t,TL(jL(t),e)))});function oT(){return[]}var QL=qL;const JL=gc(QL);var e7=1/0,t7=9007199254740991,n7="[object Arguments]",r7="[object Function]",i7="[object GeneratorFunction]",o7="[object Symbol]",s7=typeof st=="object"&&st&&st.Object===Object&&st,a7=typeof self=="object"&&self&&self.Object===Object&&self,l7=s7||a7||Function("return this")();function c7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u7(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function h7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ew=Object.prototype,d7=ew.hasOwnProperty,tw=ew.toString,N2=l7.Symbol,f7=ew.propertyIsEnumerable,B2=N2?N2.isConcatSpreadable:void 0,F2=Math.max;function sT(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=y7),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?sT(a,e-1,n,r,i):h7(i,a):r||(i[i.length]=a)}return i}function p7(t,e){return t=Object(t),g7(t,e,function(n,r){return r in t})}function g7(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function m7(t,e){return e=F2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=F2(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,c7(t,this,s)}}function y7(t){return x7(t)||w7(t)||!!(B2&&t&&t[B2])}function v7(t){if(typeof t=="string"||k7(t))return t;var e=t+"";return e=="0"&&1/t==-e7?"-0":e}function w7(t){return S7(t)&&d7.call(t,"callee")&&(!f7.call(t,"callee")||tw.call(t)==n7)}var x7=Array.isArray;function b7(t){return t!=null&&E7(t.length)&&!C7(t)}function S7(t){return aT(t)&&b7(t)}function C7(t){var e=_7(t)?tw.call(t):"";return e==r7||e==i7}function E7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t7}function _7(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function aT(t){return!!t&&typeof t=="object"}function k7(t){return typeof t=="symbol"||aT(t)&&tw.call(t)==o7}var $7=m7(function(t,e){return t==null?{}:p7(t,u7(sT(e,1),v7))}),T7=$7;const lT=gc(T7);var cT="Expected a function",H2=NaN,A7="[object Symbol]",M7=/^\s+|\s+$/g,P7=/^[-+]0x[0-9a-f]+$/i,I7=/^0b[01]+$/i,O7=/^0o[0-7]+$/i,R7=parseInt,j7=typeof st=="object"&&st&&st.Object===Object&&st,D7=typeof self=="object"&&self&&self.Object===Object&&self,L7=j7||D7||Function("return this")(),N7=Object.prototype,B7=N7.toString,F7=Math.max,H7=Math.min,G0=function(){return L7.Date.now()};function z7(t,e,n){var r,i,o,s,a,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(cT);e=z2(e)||0,Lf(n)&&(h=!!n.leading,d="maxWait"in n,o=d?F7(z2(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g($){var M=r,I=i;return r=i=void 0,u=$,s=t.apply(I,M),s}function y($){return u=$,a=setTimeout(x,e),h?g($):s}function m($){var M=$-l,I=$-u,N=e-M;return d?H7(N,o-I):N}function C($){var M=$-l,I=$-u;return l===void 0||M>=e||M<0||d&&I>=o}function x(){var $=G0();if(C($))return v($);a=setTimeout(x,m($))}function v($){return a=void 0,p&&r?g($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?s:v(G0())}function A(){var $=G0(),M=C($);if(r=arguments,i=this,l=$,M){if(a===void 0)return y(l);if(d)return a=setTimeout(x,e),g(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=b,A.flush=E,A}function U7(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cT);return Lf(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),z7(t,e,{leading:r,maxWait:e,trailing:i})}function Lf(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function G7(t){return!!t&&typeof t=="object"}function V7(t){return typeof t=="symbol"||G7(t)&&B7.call(t)==A7}function z2(t){if(typeof t=="number")return t;if(V7(t))return H2;if(Lf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Lf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(M7,"");var n=I7.test(t);return n||O7.test(t)?R7(t.slice(2),n?2:8):P7.test(t)?H2:+t}var W7=U7;const nw=gc(W7);let X7=class{constructor(e){k(this,"redoStack",[]),k(this,"undoStack",[]),k(this,"isEnableRedoUndo",!0),k(this,"emitter",new Fn),k(this,"isBatching",!1),this.editor=e}redo(){var e,n;if(this.isEnableRedoUndo&&this.redoStack.length>0){const r=this.redoStack.pop(),i=r.isBatched,o=[r];if(i){for(;this.redoStack.length>0&&this.redoStack.at(-1).isBatched;){const s=this.redoStack.pop();o.push(s)}console.log("------- [redo] batched start -----")}for(const s of o){const a=s.command;console.log(`%c Redo %c [${a.desc}]`,"background: #f04; color: #ee0",""),this.undoStack.push(s),(n=(e=s.hooks)==null?void 0:e.beforeRedo)==null||n.call(e),a.redo()}i&&console.log("------- [redo] batched end -----"),this.editor.render(),this.emitStatusChange()}}undo(){var e,n;if(this.isEnableRedoUndo&&this.undoStack.length>0){const r=this.undoStack.pop(),i=r.isBatched,o=[r];if(i){for(;this.undoStack.length>0&&this.undoStack.at(-1).isBatched;){const s=this.undoStack.pop();o.push(s)}console.log("------- [undo] batched start -----")}for(const s of o){const a=s.command;console.log(`%c Undo %c [${a.desc}]`,"background: #40f; color: #eee",""),this.redoStack.push(s),(n=(e=s.hooks)==null?void 0:e.beforeUndo)==null||n.call(e),a.undo()}i&&console.log("------- [undo] batched end -----"),this.editor.render(),this.emitStatusChange()}}enableRedoUndo(){this.isEnableRedoUndo=!0}disableRedoUndo(){this.isEnableRedoUndo=!1}batchCommandStart(){this.isBatching=!0}batchCommandEnd(){this.isBatching=!1}pushCommand(e,n){this.emitter.emit("beforeExecCmd"),console.log(`%c Exec %c [${e.desc}]`,"background: #222; color: #bada55","");const r={command:e};this.isBatching&&(r.isBatched=!0),n&&(r.hooks=n),this.undoStack.push(r),this.redoStack=[],this.emitStatusChange()}emitStatusChange(){this.emitter.emit("change",{canRedo:this.redoStack.length>0,canUndo:this.undoStack.length>0})}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}clearRecords(){this.redoStack=[],this.undoStack=[],this.emitStatusChange()}};class to{constructor(e,n,r,i){if(this.desc=e,this.elements=n,this.attrs=r,this.prevAttrs=i,n.length!==i.length)throw new Error(`elements  preAttrs  ${n.length} ${i.length}`)}redo(){var e;const{elements:n,attrs:r}=this;for(let i=0,o=this.elements.length;i<o;i++){const s=Array.isArray(r)?r[i]:J(r),a=n[i];if(s.parentIndex&&a.removeFromParent(),a.updateAttrs(s),s.parentIndex){const l=a.getParent();l&&l.insertChild(a,(e=a.attrs.parentIndex)==null?void 0:e.position)}}}undo(){var e;const{elements:n,prevAttrs:r}=this;for(let i=0,o=this.elements.length;i<o;i++){const s=n[i],a=r[i];if(n[i].updateAttrs(r[i]),"parentIndex"in a&&a.parentIndex===void 0)s.removeFromParent();else if(a.parentIndex){const l=s.getParent();l&&l.insertChild(s,(e=s.attrs.parentIndex)==null?void 0:e.position)}}}}k(to,"type","SetElementsAttrs");let mg=class{constructor(e,n,r,i,o=new Set,s=new Set){this.desc=e,this.editor=n,this.originAttrsMap=r,this.updatedAttrsMap=i,this.removedIds=o,this.newIds=s,r.size!==i.size&&(console.warn(`originAttrsMap  updatedAttrsMap  ${r.size} ${i.size}`),console.log("origin:",r),console.log("update:",i))}redo(){var e;const n=this.updatedAttrsMap,r=this.editor.doc;for(const[i,o]of n){const s=r.getGraphicsById(i);if(!s){console.warn(`graphics ${i} is lost.`);return}o.parentIndex&&s.removeFromParent(),s.updateAttrs(o),o.parentIndex&&s.insertAtParent(s.attrs.parentIndex.position)}for(const i of this.removedIds){const o=r.getGraphicsById(i);o&&(o.setDeleted(!0),o.removeFromParent())}for(const i of this.newIds){const o=r.getGraphicsById(i);if(o){o.setDeleted(!1);const s=(e=o.attrs.parentIndex)==null?void 0:e.position;s?o.insertAtParent(s):console.error("position lost")}}}undo(){var e;const n=this.originAttrsMap,r=this.editor.doc;for(const[i,o]of n){const s=r.getGraphicsById(i);if(!s){console.warn(`graphics ${i} is lost.`);return}o.parentIndex&&s.removeFromParent(),s.updateAttrs(o),o.parentIndex&&s.insertAtParent(s.attrs.parentIndex.position)}for(const i of this.removedIds){const o=r.getGraphicsById(i);if(o){o.setDeleted(!1);const s=(e=o.attrs.parentIndex)==null?void 0:e.position;s?o.insertAtParent(s):console.error("position lost")}}for(const i of this.newIds){const o=r.getGraphicsById(i);o&&(o.setDeleted(!0),o.removeFromParent())}this.newIds.size!==0&&this.editor.selectedElements.clear()}};k(mg,"type","UpdateGraphicsAttrs");var K7=Object.defineProperty,Y7=(t,e,n)=>e in t?K7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gi=(t,e,n)=>(Y7(t,typeof e!="symbol"?e+"":e,n),n);let te=class uT{constructor(e=1,n=0,r=0,i=1,o=0,s=0){Gi(this,"a"),Gi(this,"b"),Gi(this,"c"),Gi(this,"d"),Gi(this,"tx"),Gi(this,"ty"),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s}set(e,n,r,i,o,s){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s,this}getArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}apply(e){const n=e.x,r=e.y;return{x:this.a*n+this.c*r+this.tx,y:this.b*n+this.d*r+this.ty}}applyInverse(e){const n=this.a,r=this.b,i=this.c,o=this.d,s=this.tx,a=this.ty,l=1/(n*o+i*-r),u=e.x,h=e.y;return{x:o*l*u+-i*l*h+(a*i-s*o)*l,y:n*l*h+-r*l*u+(-a*n+s*r)*l}}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=o*n-this.d*r,this.d=o*r+this.d*n,this.tx=s*n-this.ty*r,this.ty=s*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,o=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*o,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*o,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}appendFrom(e,n){const r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,l=e.ty,u=n.a,h=n.b,d=n.c,p=n.d;return this.a=r*u+i*d,this.b=r*h+i*p,this.c=o*u+s*d,this.d=o*h+s*p,this.tx=a*u+l*d+n.tx,this.ty=a*h+l*p+n.ty,this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,o=this.tx,s=e*i-n*r;return this.a=i/s,this.b=-n/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(e*this.ty-n*o)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new uT;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}};const By=Math.PI*2;function Xu(t){return t*180/Math.PI}const hT=t=>(t=t%By,t<0&&(t+=By),t),Fy=t=>(t=t%360,t<0&&(t+=360),t),Z7=(t,e)=>{const n=t.x*e.x+t.y*e.y,r=Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(e.x*e.x+e.y*e.y);let i=n/r;return i>1?i=1:i<-1&&(i=-1),Math.acos(i)},no=(t,e,n)=>{const r=t.x*e.x+t.y*e.y,i=Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(e.x*e.x+e.y*e.y);let o=r/i;o>1?o=1:o<-1&&(o=-1);let s=Math.acos(o);const a=t.x*e.y-t.y*e.x;return(n?a>0:a<0)&&(s=By-s),s},Ql=(t,e={x:0,y:-1})=>{const n=new te(t[0],t[1],t[2],t[3],0,0).apply(e);return no(e,n)},dT=t=>t[0]*t[3]-t[1]*t[2]<0,Hy=(t,e)=>({x:(t.x+e.x)/2,y:(t.y+e.y)/2}),wo=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Ho=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ud=t=>t.x===0&&t.y===0,q7=1e-10,rw=(t,e,n=q7)=>Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n,Et=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),Nf=(t,e,n)=>t*(1-n)+e*n,fs=(t,e,n)=>({x:Nf(t.x,e.x,n),y:Nf(t.y,e.y,n)}),nu=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return{x:t.x/e,y:t.y/e}},Q7=(t,e,n)=>{const r=Ho(t[1],t[0]),i={x:-r.y,y:r.x},o=nu(i),s={x:e.x+o.x*n,y:e.y+o.y*n},a={x:e.x-o.x*n,y:e.y-o.y*n};return[s,a]},hd=(t,e)=>{if(t.length===4){const[n,r,i,o]=t,s=e*e,a=1-e,l=a*a,u=l*a,h=3*e*l,d=3*s*a,p=s*e;return{x:u*n.x+h*r.x+d*i.x+p*o.x,y:u*n.y+h*r.y+d*i.y+p*o.y}}for(;t.length>1;){const n=[];for(let r=0,i=t.length-1;r<i;r++)n.push(fs(t[r],t[r+1],e));t=n}return t[0]},J7=(t,e,n)=>{const r=t.point,i=e.point,o=wo(t.point,t.out),s=wo(e.point,e.in),a=fs(r,o,n),l=fs(o,s,n),u=fs(s,i,n),h=fs(a,l,n),d=fs(l,u,n),p=fs(h,d,n);return[{point:t.point,in:t.in,out:Ho(a,t.point)},{point:p,in:Ho(h,p),out:Ho(d,p)},{point:e.point,in:Ho(u,e.point),out:e.out}]},zy=()=>[1,0,0,1,0,0],hr=(t,e)=>{const n=t[0],r=t[1],i=t[2],o=t[3];return[e[0]*n+e[1]*i,e[0]*r+e[1]*o,e[2]*n+e[3]*i,e[2]*r+e[3]*o,e[4]*n+e[5]*i+t[4],e[4]*r+e[5]*o+t[5]]},da=(t,e)=>({x:e.x*t[0]+e.y*t[2]+t[4],y:e.x*t[1]+e.y*t[3]+t[5]}),iw=(t,e)=>da(Vi(t),e),Vi=t=>{const e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=e*i-n*r;return[i/s,-n/s,-r/s,e/s,(r*t[5]-i*o)/s,-(e*t[5]-n*o)/s]},e9=(t,e,n,r,i)=>{if(!n)return{x:t,y:e};const o=Math.cos(n),s=Math.sin(n);return{x:(t-r)*o-(e-i)*s+r,y:(t-r)*s+(e-i)*o+i}},U2=.5522847498307936,ow=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}),sw=(t,e,n=0)=>(e.transform&&(t=new te(...e.transform).applyInverse(t)),t.x>=-n&&t.y>=-n&&t.x<=e.width+n&&t.y<=e.height+n),G2=(t,e,n,r=0)=>{const i=e.x-r,o=e.y-r,s=e.width+r*2,a=e.height+r*2;return t.x>=i&&t.y>=o&&t.x<=i+s&&t.y<=o+a?t.x<=i+n[0]&&t.y<=o+n[0]?(t.x-i-n[0])**2+(t.y-o-n[0])**2<=n[0]**2:t.x>=i+s-n[1]&&t.y<=o+n[1]?(t.x-i-s+n[1])**2+(t.y-o-n[1])**2<=n[1]**2:t.x>=i+s-n[2]&&t.y>=o+a-n[2]?(t.x-i-s+n[2])**2+(t.y-o-a+n[2])**2<=n[2]**2:t.x<=i+n[3]&&t.y>=o+a-n[3]?(t.x-i-n[3])**2+(t.y-o-a+n[3])**2<=n[3]**2:!0:!1},Ba=({x:t,y:e,width:n,height:r})=>{const i=t+n,o=e+r;return ow({x:t,y:e},{x:i,y:o})},t9=(t,e)=>t.x<=e.x+e.width&&t.x+t.width>=e.x&&t.y<=e.y+e.height&&t.y+t.height>=e.y,Uy=(t,e)=>{typeof e=="number"&&(e=[e,e,e,e]);const{x:n,y:r,width:i,height:o}=t;return{x:n-e[3],y:r-e[0],width:i+e[1]+e[3],height:o+e[0]+e[2]}},n9=t=>{const{x:e,y:n,width:r,height:i}=t,o=r/2,s=i/2;return[{x:e+o,y:n},{x:e+r,y:n+s},{x:e+o,y:n+i},{x:e,y:n+s}]},r9=(t,e)=>{const{x:n,y:r}=t,i=e.x-t.x,o=e.y-t.y,s=hT(Math.atan2(o,i)),a=n+i/2,l=r+o/2,u=e9(n,r,-s,a,l);return{x:u.x,y:u.y,width:Math.sqrt(i*i+o*o),height:0,rotation:s}},As=(t,e)=>{const{x:n,y:r,width:i,height:o}=t;let s=[{x:n,y:r},{x:n+i,y:r},{x:n+i,y:r+o},{x:n,y:r+o}];if(e){const a=new te(...e);s=s.map(l=>{const u=a.apply(l);return{x:u.x,y:u.y}})}return s},fT=t=>{const e=new te(t.transform[0],t.transform[1],t.transform[2],t.transform[3],0,0),n=e.apply({x:t.width,y:0}),r=e.apply({x:0,y:t.height}),i={x:0,y:0};return{width:Et(n,i),height:Et(r,i)}},Hd=t=>{const e=fT(t),n=e.width?t.width/e.width:1,r=e.height?t.height/e.height:1,i=new te().scale(n,r),o=new te(...t.transform).append(i);return{width:e.width,height:e.height,transform:o.getArray()}},aw=t=>({minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height}),Yo=t=>({x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}),i9=(t,e=0)=>{const{minX:n,minY:r,maxX:i,maxY:o}=aw(t);if(e<=0)return[{type:"M",points:[{x:n,y:r}]},{type:"L",points:[{x:i,y:r}]},{type:"L",points:[{x:i,y:o}]},{type:"L",points:[{x:n,y:o}]},{type:"Z",points:[]}];const s=t.width/2,a=t.height/2,l=Math.min(e,s,a),u=l===s,h=l===a,d=l*U2,p=l*U2,g=[{type:"M",points:[{x:n,y:r+l}]},{type:"C",points:[{x:n,y:r+l-p},{x:n+l-d,y:r},{x:n+l,y:r}]}];return u||g.push({type:"L",points:[{x:i-l,y:r}]}),g.push({type:"C",points:[{x:i-l+d,y:r},{x:i,y:r+l-p},{x:i,y:r+l}]}),h||g.push({type:"L",points:[{x:i,y:o-l}]}),g.push({type:"C",points:[{x:i,y:o-l+p},{x:i-l+d,y:o},{x:i-l,y:o}]}),u||g.push({type:"L",points:[{x:n+l,y:o}]}),g.push({type:"C",points:[{x:n+l-d,y:o},{x:n,y:o-l+p},{x:n,y:o-l}]}),h||g.push({type:"L",points:[{x:n,y:r+l}]}),g.push({type:"Z",points:[]}),g},pT=(t,e,n=0)=>e.x>=t.minX-n&&e.y>=t.minY-n&&e.x<=t.maxX+n&&e.y<=t.maxY+n,Jo=t=>{if(t.length===0)throw new Error("the count of boxes can not be 0");let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of t)e=Math.min(e,o.minX),n=Math.min(n,o.minY),r=Math.max(r,o.maxX),i=Math.max(i,o.maxY);return{minX:e,minY:n,maxX:r,maxY:i}},Gy=(t,e)=>t.minX<=e.maxX&&t.maxX>=e.minX&&t.minY<=e.maxY&&t.maxY>=e.minY,V2=(t,e)=>t.minX<=e.minX&&t.minY<=e.minY&&t.maxX>=e.maxX&&t.maxY>=e.maxY,Ch=t=>{let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of t)e=Math.min(e,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{minX:e,minY:n,maxX:r,maxY:i}},yu=(t,e)=>{let n=0,r=0,i=t.width,o=t.height;e&&(n-=e,r-=e,i+=e*2,o+=e*2);const s=t.transform,a=As({x:n,y:r,width:i,height:o}).map(l=>da(s,l));return Ch(a)},o9=t=>{const e=.5522847498307936,{minX:n,minY:r,maxX:i,maxY:o}=aw(t),s=(n+i)/2,a=(r+o)/2,l=t.width/2,u=t.height/2,h=l*e,d=u*e;return[{type:"M",points:[{x:i,y:a}]},{type:"C",points:[{x:i,y:a+d},{x:s+h,y:o},{x:s,y:o}]},{type:"C",points:[{x:s-h,y:o},{x:n,y:a+d},{x:n,y:a}]},{type:"C",points:[{x:n,y:a-d},{x:s-h,y:r},{x:s,y:r}]},{type:"C",points:[{x:i,y:a-d},{x:s+h,y:r},{x:i,y:a}]},{type:"Z",points:[]}]},Vy=(t,e,n,r=!0)=>{if(t.x===e.x&&t.y===e.y)return{t:0,point:{x:t.x,y:t.y}};const i=e.x-t.x,o=e.y-t.y;let s=((n.x-t.x)*i+(n.y-t.y)*o)/(i*i+o*o);r||(s=Math.max(0,Math.min(1,s)));const a={x:t.x+s*i,y:t.y+s*o};return{t:s,point:a}},s9=(t,e,n=4)=>{let r={x:0,y:0},i=1/0;for(let o=1;o<=n;o++){const s=Math.PI/n*o,a={x:t.x+Math.cos(s),y:t.y+Math.sin(s)},{point:l}=Vy(t,a,e),u=Et(l,e);if(u===0)return l;u<i&&(i=u,r=l)}return r},a9=(t,e,n,r)=>{const{x:i,y:o}=t,{x:s,y:a}=e,{x:l,y:u}=n,{x:h,y:d}=r,p=a-o,g=i-s,y=i*a-s*o,m=d-u,C=l-h,x=l*d-h*u,v=p*C-g*m;if(Math.abs(v)<1e-9)return null;const b=(y*C-x*g)/v,E=(p*x-y*m)/v;return{x:b,y:E}};var l9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gT={exports:{}};(function(t,e){(function(n,r){r(t)})(l9,function(n){function r(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function i(x,v,b){if(!Array.isArray(x))throw new TypeError("First argument should be an array");if(x.forEach(function(M){if(!Array.isArray(M)||M.some(function(I){return typeof I!="number"})||M.length!==x[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),x=x.filter(function(M,I){return I===0||!M.every(function(N,O){return N===x[I-1][O]})}),x.length<2)return[];var E=x.length,A=y(x[1],x[0]),$=y(x[E-2],x[E-1]);return o(x,A,$,v,b)}function o(x,v,b,E,A){var $=20,M,I,N,O,L,F,X,G,Q,ae,q,D,Y;if(x.length===2)return D=m.vectorLen(m.subtract(x[0],x[1]))/3,M=[x[0],m.addArrays(x[0],m.mulItems(v,D)),m.addArrays(x[1],m.mulItems(b,D)),x[1]],[M];I=h(x);var j=s(x,I,I,v,b,A);if(M=j[0],O=j[1],F=j[2],O===0||O<E)return[M];if(O<E*E)for(N=I,L=O,X=F,Y=0;Y<$;Y++){N=l(M,x,N);var ce=s(x,I,N,v,b,A);if(M=ce[0],O=ce[1],F=ce[2],O<E)return[M];if(F===X){var de=O/L;if(de>.9999&&de<1.0001)break}L=O,X=F}if(q=[],G=m.subtract(x[F-1],x[F+1]),G.every(function(Ve){return Ve===0})){G=m.subtract(x[F-1],x[F]);var re=[-G[1],G[0]];G[0]=re[0],G[1]=re[1]}return Q=m.normalize(G),ae=m.mulItems(Q,-1),q=q.concat(o(x.slice(0,F+1),v,Q,E,A)),q=q.concat(o(x.slice(F),ae,b,E,A)),q}function s(x,v,b,E,A,$){var M,I,N;M=a(x,b,E,A);var O=d(x,M,v);return I=O[0],N=O[1],$&&$({bez:M,points:x,params:v,maxErr:I,maxPoint:N}),[M,I,N]}function a(x,v,b,E){var A,$,M,I,N,O,L,F,X,G,Q,ae,q,D,Y,j,ce,de=x[0],re=x[x.length-1];for(A=[de,null,null,re],$=m.zeros_Xx2x2(v.length),q=0,D=v.length;q<D;q++)j=v[q],ce=1-j,M=$[q],M[0]=m.mulItems(b,3*j*(ce*ce)),M[1]=m.mulItems(E,3*ce*(j*j));for(I=[[0,0],[0,0]],N=[0,0],q=0,D=x.length;q<D;q++)j=v[q],M=$[q],I[0][0]+=m.dot(M[0],M[0]),I[0][1]+=m.dot(M[0],M[1]),I[1][0]+=m.dot(M[0],M[1]),I[1][1]+=m.dot(M[1],M[1]),Y=m.subtract(x[q],C.q([de,de,re,re],j)),N[0]+=m.dot(M[0],Y),N[1]+=m.dot(M[1],Y);return O=I[0][0]*I[1][1]-I[1][0]*I[0][1],L=I[0][0]*N[1]-I[1][0]*N[0],F=N[0]*I[1][1]-N[1]*I[0][1],X=O===0?0:F/O,G=O===0?0:L/O,ae=m.vectorLen(m.subtract(de,re)),Q=1e-6*ae,X<Q||G<Q?(A[1]=m.addArrays(de,m.mulItems(b,ae/3)),A[2]=m.addArrays(re,m.mulItems(E,ae/3))):(A[1]=m.addArrays(de,m.mulItems(b,X)),A[2]=m.addArrays(re,m.mulItems(E,G))),A}function l(x,v,b){return b.map(function(E,A){return u(x,v[A],E)})}function u(x,v,b){var E=m.subtract(C.q(x,b),v),A=C.qprime(x,b),$=m.mulMatrix(E,A),M=m.sum(m.squareItems(A))+2*m.mulMatrix(E,C.qprimeprime(x,b));return M===0?b:b-$/M}function h(x){var v=[],b,E,A;return x.forEach(function($,M){b=M?E+m.vectorLen(m.subtract($,A)):0,v.push(b),E=b,A=$}),v=v.map(function($){return $/E}),v}function d(x,v,b){var E,A,$,M,I,N,O,L;A=0,$=Math.floor(x.length/2);var F=p(v,10);for(I=0,N=x.length;I<N;I++)O=x[I],L=g(v,b[I],F,10),M=m.subtract(C.q(v,L),O),E=M[0]*M[0]+M[1]*M[1],E>A&&(A=E,$=I);return[A,$]}var p=function(x,v){for(var b,E=[0],A=x[0],$=0,M=1;M<=v;M++)b=C.q(x,M/v),$+=m.vectorLen(m.subtract(b,A)),E.push($),A=b;return E=E.map(function(I){return I/$}),E};function g(x,v,b,E){if(v<0)return 0;if(v>1)return 1;for(var A,$,M,I,N,O=1;O<=E;O++)if(v<=b[O]){I=(O-1)/E,M=O/E,$=b[O-1],A=b[O],N=(v-$)/(A-$)*(M-I)+I;break}return N}function y(x,v){return m.normalize(m.subtract(x,v))}var m=function(){function x(){r(this,x)}return x.zeros_Xx2x2=function(v){for(var b=[];v--;)b.push([0,0]);return b},x.mulItems=function(v,b){return v.map(function(E){return E*b})},x.mulMatrix=function(v,b){return v.reduce(function(E,A,$){return E+A*b[$]},0)},x.subtract=function(v,b){return v.map(function(E,A){return E-b[A]})},x.addArrays=function(v,b){return v.map(function(E,A){return E+b[A]})},x.addItems=function(v,b){return v.map(function(E){return E+b})},x.sum=function(v){return v.reduce(function(b,E){return b+E})},x.dot=function(v,b){return x.mulMatrix(v,b)},x.vectorLen=function(v){return Math.hypot.apply(Math,v)},x.divItems=function(v,b){return v.map(function(E){return E/b})},x.squareItems=function(v){return v.map(function(b){return b*b})},x.normalize=function(v){return this.divItems(v,this.vectorLen(v))},x}(),C=function(){function x(){r(this,x)}return x.q=function(v,b){var E=1-b,A=m.mulItems(v[0],E*E*E),$=m.mulItems(v[1],3*E*E*b),M=m.mulItems(v[2],3*E*b*b),I=m.mulItems(v[3],b*b*b);return m.addArrays(m.addArrays(A,$),m.addArrays(M,I))},x.qprime=function(v,b){var E=1-b,A=m.mulItems(m.subtract(v[1],v[0]),3*E*E),$=m.mulItems(m.subtract(v[2],v[1]),6*E*b),M=m.mulItems(m.subtract(v[3],v[2]),3*b*b);return m.addArrays(m.addArrays(A,$),M)},x.qprimeprime=function(v,b){return m.addArrays(m.mulItems(m.addArrays(m.subtract(v[2],m.mulItems(v[1],2)),v[0]),6*(1-b)),m.mulItems(m.addArrays(m.subtract(v[3],m.mulItems(v[2],2)),v[1]),6*b))},x}();n.exports=i,n.exports.fitCubic=o,n.exports.createTangent=y})})(gT);var u9=gT.exports;const mT=c9(u9),h9=(t,e)=>{const n=mT(t.map(({point:i})=>[i.x,i.y]),e),r=[];for(let i=0,o=n.length;i<=o;i++){const s=n[i],a=n[i-1],l=s?{x:s[0][0],y:s[0][1]}:{x:a[3][0],y:a[3][1]},u=s?{x:s[1][0]-l.x,y:s[1][1]-l.y}:{x:0,y:0},h=a?{x:a[2][0]-l.x,y:a[2][1]-l.y}:{x:0,y:0};r.push({point:l,in:h,out:u})}return r},d9=(t,e,n)=>{const r=t.segs;if(!t.closed&&(e<0||e>=r.length-1))return r.splice(e,1),t;let i=e+1;t.closed&&(i%=r.length);const o=r[e],s=r[i],a=J7(o,s,n);return i===0?(t.segs.splice(e,1,a[0],a[1]),t.segs.splice(0,1,a[2])):t.segs.splice(e,2,...a),t},f9=(t,e)=>{const n=t.segs;if(n.length<=1)return t.segs=[],t;if(!t.closed&&(e<=0||e>=n.length-1))return n.splice(e,1),t;let r=e-1,i=e+1;t.closed&&(r%=n.length,i%=n.length);const o=n[e],s=n[r],a=n[i];if(ud(s.out)&&ud(a.in)&&ud(o.in)&&ud(o.out))return n.splice(e,1),t;const l=[s.point,wo(s.out,s.point),wo(o.in,o.point),o.point],u=[o.point,wo(o.out,o.point),wo(a.in,a.point),a.point],h=[hd(l,.3),hd(l,.6)],d=[hd(u,.3),hd(u,.6)],p=mT([s.point,...h,o.point,...d,a.point].map(({x:b,y:E})=>[b,E]),9999)[0],g=Ho({x:p[1][0],y:p[1][1]},s.point),y=Ho({x:p[2][0],y:p[2][1]},a.point);let m=nu(s.out);(Number.isNaN(m.x)||Number.isNaN(m.y))&&(m=nu(g));let C=nu(a.in);(Number.isNaN(C.x)||Number.isNaN(C.y))&&(C=nu(y));const x=Et({x:0,y:0},g),v=Et({x:0,y:0},y);return s.out={x:m.x*x,y:m.y*x},a.in={x:C.x*v,y:C.y*v},n.splice(e,1),t};class p9{constructor(e){Gi(this,"points"),Gi(this,"dpoints",[]),Gi(this,"_bbox",null),Gi(this,"lut",[]),this.points=e,this.dpoints[0]={x:3*(e[1].x-e[0].x),y:3*(e[1].y-e[0].y)},this.dpoints[1]={x:3*(e[2].x-e[1].x),y:3*(e[2].y-e[1].y)},this.dpoints[2]={x:3*(e[3].x-e[2].x),y:3*(e[3].y-e[2].y)}}compute(e){const n=e*e,r=1-e,i=r*r,o=i*r,s=3*e*i,a=3*n*r,l=n*e,[u,h,d,p]=this.points;return{x:o*u.x+s*h.x+a*d.x+l*p.x,y:o*u.y+s*h.y+a*d.y+l*p.y}}extrema(){const e=this.dpoints,n=[...W2(e[0].x,e[1].x,e[2].x),...W2(e[0].y,e[1].y,e[2].y)].filter(r=>r>=0&&r<=1);return Array.from(new Set(n))}getBbox(){if(!this._bbox){const e=this.extrema().map(n=>this.compute(n));this._bbox=Ch([...e,this.points[0],this.points[3]])}return this._bbox}hitTest(e,n){if(!pT(this.getBbox(),e,n))return!1;const r=this.getLookupTable();let i=Number.MAX_SAFE_INTEGER,o=-1;for(let h=0;h<r.length;h++){const d=r[h],p=Et(e,d.pt);if(p<=n)return!0;p<i&&(i=p,o=h)}const s=r[o].t,a=o>0?r[o-1].t:s,l=o<r.length-1?r[o+1].t:s,u=.001;for(let h=a;h<=l;h+=u){const d=this.compute(h);if(Et(e,d)<=n)return!0}return!1}getLookupTable(){if(this.lut.length===0)for(let e=0;e<=100;e++){const n=e/100,r=this.compute(n);this.lut[e]={t:n,pt:r}}return this.lut}project(e){const n=this.getLookupTable();let r=Number.MAX_SAFE_INTEGER,i=-1;for(let h=0;h<n.length;h++){const d=n[h],p=Et(e,d.pt);if(p<r&&(r=p,i=h,p===0))break}if(r===0){const h=this.compute(n[i].t);return{point:h,t:n[i].t,dist:Et(e,h)}}let o=n[i].t;const s=i>0?n[i-1].t:o,a=i<n.length-1?n[i+1].t:o,l=.001;for(let h=s;h<=a;h+=l){const d=this.compute(h),p=Et(e,d);if(p<r&&(r=p,o=h,p===0))break}o<0&&(o=0),o>1&&(o=1);const u=this.compute(o);return{point:u,t:o,dist:Et(e,u)}}toCommand(){const[e,n,r,i]=this.points;return e.x===n.x&&n.x===r.x&&r.x===i.x?[{type:"M",points:[e]},{type:"C",points:[n,r,i]}]:[{type:"M",points:[e]},{type:"C",points:[n,r,i]}]}}const W2=(t,e,n)=>{const r=t-2*e+n;if(r!==0){const i=e*e-t*n;if(i<0)return[];const o=Math.sqrt(i),s=t-e;return o===0?[(s-o)/r]:[(s-o)/r,(s+o)/r]}else return t!==e?[t/(t-e)/2]:[]};let X2=class Wy{constructor(e){Gi(this,"bezierLists");const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=i.segs;n[r]={isClosed:i.closed,curves:[]};for(let s=1;s<=o.length;s++){if(s===o.length&&!i.closed)continue;const a=o[s%o.length],l=o[s-1];n[r].curves.push(new p9([l.point,Wy.getHandleOut(l),Wy.getHandleIn(a),a.point]))}}this.bezierLists=n}static getHandleIn(e){return wo(e.point,e.in)}static getHandleOut(e){return wo(e.point,e.out)}getBbox(){let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const{curves:o}of this.bezierLists)for(const s of o){const a=s.getBbox();e=Math.min(e,a.minX),n=Math.min(n,a.minY),r=Math.max(r,a.maxX),i=Math.max(i,a.maxY)}return{minX:e,minY:n,maxX:r,maxY:i}}getBRect(){const e=this.getBbox();return e.minX===1/0?{x:0,y:0,width:100,height:100}:{x:e.minX,y:e.minY,width:e.maxX-e.minX,height:e.maxY-e.minY}}hitTest(e,n){for(const{curves:r}of this.bezierLists)for(const i of r)if(i.hitTest(e,n))return!0;return!1}project(e,n=1/0){const r={dist:n,point:{x:0,y:0},index:[-1,-1],t:-1};for(let i=0;i<this.bezierLists.length;i++){const{curves:o}=this.bezierLists[i];for(let s=0;s<o.length;s++){const a=o[s].project(e);if(a.dist<r.dist&&(r.dist=a.dist,r.point=a.point,r.index=[i,s],r.t=a.t),a.dist===0)break}}return r.index[0]===-1?null:r}toCommands(){const e=[];for(const{isClosed:n,curves:r}of this.bezierLists){for(let i=0;i<r.length;i++){const o=r[i].toCommand();i===0?e.push(...o):e.push(...o.slice(1))}n&&e.push({type:"Z",points:[]})}return e}};const _a=(t,e)=>t.map(n=>n.type+n.points.map(r=>K2(r.x,e)+" "+K2(r.y,e)).join(" ")).join(" "),K2=(t,e=2)=>Number(t.toFixed(e)),g9=({center:t,r:e,startAngle:n,endAngle:r,angleDir:i=!0})=>{i===!1&&([n,r]=[r,n]);const o=(r-n+Math.PI*2)%(Math.PI*2),s=o/2,a=4*(1-Math.cos(s))/(3*Math.sin(s)),l=new te().rotate(n).scale(e,e).translate(t.x,t.y);r-=n,n=0;const u=l.apply({x:1,y:0}),h=l.apply({x:1,y:a}),d=l.apply({x:Math.cos(o)+a*Math.sin(o),y:Math.sin(o)-a*Math.cos(o)}),p=l.apply({x:Math.cos(o),y:Math.sin(o)});return i?[u,h,d,p]:[p,d,h,u]},m9=(t,e)=>{const n=t.width/2,r=t.height/2,i=[{x:n,y:0}],o=Math.PI*2/e,s=new te().translate(-n,-r).rotate(o).translate(n,r);let a=i[0];for(let u=1;u<e;u++){const{x:h,y:d}=s.apply(a),p={x:h,y:d};i.push(p),a=p}const l=t.width/t.height;for(let u=1;u<e;u++){const h=i[u];h.x=Nf(n,h.x,l)}return i},y9=(t,e)=>{let n;for(let r=0;r<t.length;r++){const i=t[r],o=t[(r+1)%t.length],s={x:o.x-i.x,y:o.y-i.y},a={x:e.x-i.x,y:e.y-i.y},l=Math.sign(s.x*a.y-s.y*a.x);if(l!==0){if(n===void 0)n=l;else if(n!==l)return!1}}return!0},v9=(t,e)=>{let n=!1;for(let r=0;r<t.length;r++){let i=t[r],o=t[(r+1)%t.length];if(i.y>o.y&&([i,o]=[o,i]),i.y<=e.y&&o.y>e.y){const s=(e.x-i.x)*(o.y-i.y)-(o.x-i.x)*(e.y-i.y);if(s===0)return!0;s>0&&(n=!n)}}return n},yT=(t,e)=>{const n=[];for(let r=0;r<t.length;r++){const i=t[(r-1+t.length)%t.length],o=t[r],s=t[(r+1)%t.length],a=w9(Hy(i,o),o,Hy(o,s),e),l=x9([i,o],[o,s],a);if(r===0)n.push({type:"M",points:[l.start]});else{const h=n[n.length-1].points,d=h[h.length-1];rw(l.start,d)||n.push({type:"L",points:[l.start]})}const u=g9({center:l.center,r:a,startAngle:l.startAngle,endAngle:l.endAngle,angleDir:l.angleDir});n.push({type:"C",points:[u[1],u[2],u[3]]})}return n.push({type:"Z",points:[]}),n},w9=(t,e,n,r)=>{const i={x:e.x-t.x,y:e.y-t.y},o={x:e.x-n.x,y:e.y-n.y},s=Z7(i,o)/2,a=Math.tan(s)*Et(t,e),l=Math.tan(s)*Et(e,n);return Math.min(r,a,l)},x9=(t,e,n)=>{const r=t[0],i=t[1],o=e[0],s=e[1],a={x:r.x-i.x,y:r.y-i.y},l={x:s.x-o.x,y:s.y-o.y},u=a.x*l.y-l.x*a.y;if(u===0)return null;let h,d;u<0?(h={x:a.y,y:-a.x},d={x:-l.y,y:l.x}):(h={x:-a.y,y:a.x},d={x:l.y,y:-l.x});const p=n/Et(r,i),g={x:h.x*p,y:h.y*p},y=[{x:r.x+g.x,y:r.y+g.y},{x:i.x+g.x,y:i.y+g.y}],m=n/Et(o,s),C={x:d.x*m,y:d.y*m},x=[{x:o.x+C.x,y:o.y+C.y},{x:s.x+C.x,y:s.y+C.y}],v=a9(y[0],y[1],x[0],x[1]),{point:b}=Vy(r,i,v,!0),{point:E}=Vy(o,s,v,!0),A={x:1,y:0},$=no(A,{x:b.x-v.x,y:b.y-v.y}),M=no(A,{x:E.x-v.x,y:E.y-v.y});return{center:v,start:b,end:E,startAngle:$,endAngle:M,angleDir:u<0}},vT=(t,e,n,r={keepPolarSnap:!1,scaleFromCenter:!1})=>{if(!["se","ne","nw","sw"].includes(t))throw new Error(`invalid type "${t}"`);const i=t==="se"||t==="ne";let o={x:0,y:0};r.scaleFromCenter?o=new te(...n.transform).apply({x:n.width/2,y:n.height/2}):i?o={x:n.transform[4],y:n.transform[5]}:o=new te(...n.transform).apply({x:n.width,y:n.height}),r.keepPolarSnap&&(e=s9(o,e));let s=Et(e,o);if(r.scaleFromCenter&&(s*=2),i){const a={x:e.x-o.x,y:e.y-o.y},l=no({x:1,y:0},{x:e.x-o.x,y:e.y-o.y}),u=new te().rotate(l).translate(o.x,o.y);return r.scaleFromCenter&&u.translate(-a.x,-a.y),{width:s,height:0,transform:u.getArray()}}else{const a={x:o.x-e.x,y:o.y-e.y},l=no({x:1,y:0},a),u=new te().rotate(l),h=u.apply({x:s,y:n.height});return u.translate(o.x-h.x,o.y-h.y),r.scaleFromCenter&&u.translate(a.x,a.y),{width:s,height:0,transform:u.getArray()}}},dd=(t,e)=>({width:t*2,height:e*2}),b9={sw:{getLocalOrigin:t=>({x:t,y:0}),getNewSize:(t,e)=>({width:e.x-t.x,height:t.y-e.y}),isBaseWidthWhenKeepRatio:t=>t,getSizeWhenScaleFromCenter:dd},se:{getLocalOrigin:()=>({x:0,y:0}),getNewSize:(t,e)=>({width:t.x-e.x,height:t.y-e.y}),isBaseWidthWhenKeepRatio:t=>t,getSizeWhenScaleFromCenter:dd},nw:{getLocalOrigin:(t,e)=>({x:t,y:e}),getNewSize:(t,e)=>({width:e.x-t.x,height:e.y-t.y}),isBaseWidthWhenKeepRatio:t=>t,getSizeWhenScaleFromCenter:dd},ne:{getLocalOrigin:(t,e)=>({x:0,y:e}),getNewSize:(t,e)=>({width:t.x-e.x,height:e.y-t.y}),isBaseWidthWhenKeepRatio:t=>t,getSizeWhenScaleFromCenter:dd},n:{getLocalOrigin:(t,e)=>({x:t/2,y:e}),getNewSize:(t,e,n)=>({width:n.width,height:e.y-t.y}),isBaseWidthWhenKeepRatio:()=>!1,getSizeWhenScaleFromCenter:(t,e)=>({width:t,height:e*2})},s:{getLocalOrigin:t=>({x:t/2,y:0}),getNewSize:(t,e,n)=>({width:n.width,height:t.y-e.y}),isBaseWidthWhenKeepRatio:()=>!1,getSizeWhenScaleFromCenter:(t,e)=>({width:t,height:e*2})},e:{getLocalOrigin:(t,e)=>({x:0,y:e/2}),getNewSize:(t,e,n)=>({width:t.x-e.x,height:n.height}),isBaseWidthWhenKeepRatio:()=>!0,getSizeWhenScaleFromCenter:(t,e)=>({width:t*2,height:e})},w:{getLocalOrigin:(t,e)=>({x:t,y:e/2}),getNewSize:(t,e,n)=>({width:e.x-t.x,height:n.height}),isBaseWidthWhenKeepRatio:()=>!0,getSizeWhenScaleFromCenter:(t,e)=>({width:t*2,height:e})}},Bf=(t,e,n,r)=>{const i=b9[t];if(!i)throw new Error(`resize type ${t} is invalid`);const{keepRatio:o,scaleFromCenter:s,noChangeWidthAndHeight:a,flip:l=!0}=r??{},u=new te(...n.transform),h={width:0,height:0,transform:u.clone()},d=s?{x:n.width/2,y:n.height/2}:i.getLocalOrigin(n.width,n.height),p=u.applyInverse(e);let g=i.getNewSize(p,d,n);if(s&&(g=i.getSizeWhenScaleFromCenter(g.width,g.height)),o){const E=n.width/n.height,A=Math.abs(g.width/g.height)>E;i.isBaseWidthWhenKeepRatio(A)?g.height=Math.sign(g.height)*Math.abs(g.width)/E:g.width=Math.sign(g.width)*Math.abs(g.height)*E}const y=new te,m=Math.sign(g.width)||1,C=Math.sign(g.height)||1;a?(y.scale(g.width/n.width,g.height/n.height),h.width=n.width,h.height=n.height):(h.width=Math.abs(g.width),h.height=Math.abs(g.height),y.scale(m,C)),h.transform=h.transform.append(y);const x=h.transform.apply(s?{x:h.width/2,y:h.height/2}:i.getLocalOrigin(h.width,h.height)),v=u.apply(d),b={x:v.x-x.x,y:v.y-x.y};if(h.transform.prepend(new te().translate(b.x,b.y)),!l){const E=new te().translate(-h.width/2,-h.height/2).scale(m,C).translate(h.width/2,h.height/2);h.transform.append(E)}return{width:h.width,height:h.height,transform:h.transform.getArray()}},S9=(t,e,n)=>{const r=t.width/2,i=t.height/2,o=new Array(e*2);o[0]={x:r,y:0};const s=Math.PI*2/e,a=new te().translate(-r,-i).rotate(s).translate(r,i);let l=o[0];for(let d=1;d<e;d++){const{x:p,y:g}=a.apply(l),y={x:p,y:g};o[d*2]=y,l=y}const u=new te().translate(-r,-i).rotate(s/2).translate(r,i);l=fs({x:r,y:i},u.apply(o[0]),n),o[1]=l;for(let d=1;d<e;d++){const{x:p,y:g}=a.apply(l),y={x:p,y:g};o[d*2+1]=y,l=y}const h=t.width/t.height;for(let d=1;d<o.length;d++){const p=o[d];p.x=Nf(r,p.x,h)}return o};let fd=null;const wT=()=>fd||(fd=document.createElement("canvas").getContext("2d"),fd.fontKerning="none",fd),C9=(t,e)=>{const n=[],r={x:0,y:0},i=wT();i.font=`${e.fontSize}px ${e.fontFamily}`;for(const o of t){const s=i.measureText(o);n.push({position:{...r},width:s.width,height:s.fontBoundingBoxAscent+s.fontBoundingBoxDescent,fontBoundingBoxAscent:s.fontBoundingBoxAscent}),r.x+=s.width}return n.push({position:{...r},width:0,height:0,fontBoundingBoxAscent:0}),n},xT=(t,e)=>{const n=wT();n.font=`${e.fontSize}px ${e.fontFamily}`;const r=n.measureText(t);return{width:r.width,height:r.fontBoundingBoxAscent+r.fontBoundingBoxDescent,fontBoundingBoxAscent:r.fontBoundingBoxAscent}},Y2=Math.PI*2,To=Math.PI/2;var ee=(t=>(t.Solid="Solid",t.Image="Image",t))(ee||{});const E9={type:"Solid",attrs:{r:217,g:217,b:217,a:1},visible:!0},_9={type:"Image",attrs:{},visible:!0},k9={Solid:E9,Image:_9},bT=(()=>{const t=document.createElement("canvas");t.width=4,t.height=4;const e=t.getContext("2d");for(let n=0;n<t.width;n++)for(let r=0;r<t.height;r++){const i=(n+r)%2===0?"black":"white";e.fillStyle=i,e.fillRect(n,r,1,1)}return t})(),ST=bT.toDataURL(),Z2=t=>{if(!t||t.length===0)return!1;for(const e of t)if(e.visible!==!1&&(e.type==="Solid"&&e.attrs.a!==0||e.type==="Image"&&e.attrs.opacity!==0))return!0;return!1};var xe=(t=>(t.Graph="Graph",t.Rect="Rect",t.Ellipse="Ellipse",t.Text="Text",t.Line="Line",t.Path="Path",t.RegularPolygon="RegularPolygon",t.Star="Star",t.Frame="Frame",t.Canvas="Canvas",t.Document="Document",t))(xe||{}),tt=(t=>(t.Left="Left",t.HCenter="HCenter",t.Right="Right",t.Top="Top",t.VCenter="VCenter",t.Bottom="Bottom",t))(tt||{}),_r=(t=>(t.Front="Front",t.Back="Back",t.Forward="Forward",t.Backward="Backward",t))(_r||{});const CT="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function kl(t,e,n){const r=n[0];if(e!=null&&t>=e)throw new Error(t+" >= "+e);if(t.slice(-1)===r||e&&e.slice(-1)===r)throw new Error("trailing zero");if(e){let s=0;for(;(t[s]||r)===e[s];)s++;if(s>0)return e.slice(0,s)+kl(t.slice(s),e.slice(s),n)}const i=t?n.indexOf(t[0]):0,o=e!=null?n.indexOf(e[0]):n.length;if(o-i>1){const s=Math.round(.5*(i+o));return n[s]}else return e&&e.length>1?e.slice(0,1):n[i]+kl(t.slice(1),null,n)}function ET(t){if(t.length!==_T(t[0]))throw new Error("invalid integer part of order key: "+t)}function _T(t){if(t>="a"&&t<="z")return t.charCodeAt(0)-97+2;if(t>="A"&&t<="Z")return 90-t.charCodeAt(0)+2;throw new Error("invalid order key head: "+t)}function ru(t){const e=_T(t[0]);if(e>t.length)throw new Error("invalid order key: "+t);return t.slice(0,e)}function q2(t,e){if(t==="A"+e[0].repeat(26))throw new Error("invalid order key: "+t);const n=ru(t);if(t.slice(n.length).slice(-1)===e[0])throw new Error("invalid order key: "+t)}function Q2(t,e){ET(t);const[n,...r]=t.split("");let i=!0;for(let o=r.length-1;i&&o>=0;o--){const s=e.indexOf(r[o])+1;s===e.length?r[o]=e[0]:(r[o]=e[s],i=!1)}if(i){if(n==="Z")return"a"+e[0];if(n==="z")return null;const o=String.fromCharCode(n.charCodeAt(0)+1);return o>"a"?r.push(e[0]):r.pop(),o+r.join("")}else return n+r.join("")}function $9(t,e){ET(t);const[n,...r]=t.split("");let i=!0;for(let o=r.length-1;i&&o>=0;o--){const s=e.indexOf(r[o])-1;s===-1?r[o]=e.slice(-1):(r[o]=e[s],i=!1)}if(i){if(n==="a")return"Z"+e.slice(-1);if(n==="A")return null;const o=String.fromCharCode(n.charCodeAt(0)-1);return o<"Z"?r.push(e.slice(-1)):r.pop(),o+r.join("")}else return n+r.join("")}function No(t,e,n=CT){if(t!=null&&q2(t,n),e!=null&&q2(e,n),t!=null&&e!=null&&t>=e)throw new Error(t+" >= "+e);if(t==null){if(e==null)return"a"+n[0];const l=ru(e),u=e.slice(l.length);if(l==="A"+n[0].repeat(26))return l+kl("",u,n);if(l<e)return l;const h=$9(l,n);if(h==null)throw new Error("cannot decrement any more");return h}if(e==null){const l=ru(t),u=t.slice(l.length);return Q2(l,n)??l+kl(u,null,n)}const r=ru(t),i=t.slice(r.length),o=ru(e),s=e.slice(o.length);if(r===o)return r+kl(i,s,n);const a=Q2(r,n);if(a==null)throw new Error("cannot increment any more");return a<e?a:r+kl(i,null,n)}function ka(t,e,n,r=CT){if(n===0)return[];if(n===1)return[No(t,e,r)];if(e==null){let s=No(t,e,r);const a=[s];for(let l=0;l<n-1;l++)s=No(s,e,r),a.push(s);return a}if(t==null){let s=No(t,e,r);const a=[s];for(let l=0;l<n-1;l++)s=No(t,s,r),a.push(s);return a.reverse(),a}const i=Math.floor(n/2),o=No(t,e,r);return[...ka(t,o,i,r),o,...ka(o,e,n-i-1,r)]}const J2=(t,e,n,r)=>{const i=[e-r/2,n-r/2],o=[e+r/2,n-r/2],s=[e-r/2,n+r/2],a=[e+r/2,n+r/2];Ff(t,i[0],i[1],a[0],a[1]),Ff(t,o[0],o[1],s[0],s[1])},Ff=(t,e,n,r,i)=>{t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.closePath(),t.stroke()},eS=(t,e,n,r)=>{t.translate(n,r),t.rotate(e),t.translate(-n,-r)},T9=(t,e,n,r,i,o)=>{t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.arcTo(e+r,n,e+r,n+o,o),t.lineTo(e+r,n+i-o),t.arcTo(e+r,n+i,e+r-o,n+i,o),t.lineTo(e+o,n+i),t.arcTo(e,n+i,e,n+i-o,o),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o),t.closePath()},es=(t,e)=>{const n=t.getChildren();let r=0;const i=new RegExp(`^${e}\\s+(\\d+)`);for(const o of n){const s=o.attrs.objectName.match(i);if(s){const a=parseInt(s[1]);a>r&&(r=a)}}return`${e} ${r+1}`},tS=t=>{t.sort(([n],[r])=>n-r);const e=[];for(const[n,r]of t){const i=e.at(-1);i&&i[1]>=n?i[1]=Math.max(r,i[1]):e.push([n,r])}return e},Ku=(t,e,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(!(n!=null&&n(i))&&Ln(i)&&!i.isGroup()&&i.hitTest(t))return Ku(t,i.getChildren(),n)||i}return null},nS=t=>({...t,midX:t.minX/2+t.maxX/2,midY:t.minY/2+t.maxY/2}),A9=t=>({x:t.minX/2+t.maxX/2,y:t.minY/2+t.maxY/2}),rS=t=>{const e=new Map;for(const n of t){const{x:r,y:i}=n;e.has(r)||e.set(r,[]),e.get(r).push(i)}return e},iS=t=>{const e=new Map;for(const n of t){const{x:r,y:i}=n;e.has(i)||e.set(i,[]),e.get(i).push(r)}return e},M9=t=>{const e=no({x:0,y:-1},{x:t.width,y:t.height}),{width:n,height:r}=t,i=e%To;if(i<Math.PI/8||i>Math.PI*3/8)Math.abs(n)>Math.abs(r)?t.height=0:t.width=0;else{const o=Math.min(Math.abs(n),Math.abs(r)),s=Math.max(Math.abs(n),Math.abs(r)),a=o+(s-o)/2;t.height=(Math.sign(r)||1)*a,t.width=(Math.sign(n)||1)*a}return t},js=t=>t.reduce((e,n)=>{const r=new Set;for(const i of n.getFrameParentIds()){if(e.has(i))break;r.add(i)}return r.size===0?e:(e.forEach(i=>{r.add(i)}),r)},new Set),yg=(t,e=!1)=>{const n=new Set;for(const r of t){if(n.has(r))return n;e&&n.add(r),Ln(r)&&yg(r.getChildren(),!0).forEach(i=>{n.add(i)})}return n},Yu=(t,e,n,r)=>{for(const i of e){const o=t.doc.getGraphicsById(i);o&&Ln(o)&&o.isGroup()&&!o.isEmpty()&&o.updateSizeByChildren(n,r)}},P9=t=>{let e;const n=function(...r){e===void 0&&(e=requestAnimationFrame(()=>{e=void 0,t(r)}))};return n.cancel=()=>{e!==void 0&&cancelAnimationFrame(e),e=void 0},n};class vt{constructor(e,n){k(this,"type",xe.Graph),k(this,"attrs"),k(this,"doc"),k(this,"_cacheBboxWithStroke",null),k(this,"_cacheBbox",null),k(this,"_cacheMinBbox",null),k(this,"noRender",!1),k(this,"_deleted",!1),k(this,"_sortDirty",!1),k(this,"noCollectUpdate"),k(this,"updatedKeys",new Set),k(this,"children",[]),k(this,"isContainer",!1);var r,i;this.doc=n.doc;const o=e.transform??zy(),s=n.advancedAttrs;s&&!e.transform&&(s.x!==void 0&&(o[4]=s.x),s.y!==void 0&&(o[5]=s.y)),this.attrs={...e},(r=this.attrs).id??(r.id=Vu()),this.attrs.transform=o,(i=this.attrs).strokeWidth??(i.strokeWidth=1),this.attrs.objectName?A2.setMaxIdx(e.objectName):this.attrs.objectName=A2.gen(this.attrs.type??""),this.noCollectUpdate=!!(n!=null&&n.noCollectUpdate)}getAttrs(){return J(this.attrs)}shouldUpdateBbox(e){return e.x!==void 0||e.y!==void 0||e.width!==void 0||e.height!==void 0||e.transform!==void 0||"strokeWidth"in e||"parentIndex"in e}clearBboxCache(){this._cacheBbox=null,this._cacheBboxWithStroke=null,this._cacheMinBbox=null}getUpdatedAttrs(){const e=lT(this.attrs,[...this.updatedKeys]);return this.updatedKeys.clear(),e}updateAttrs(e,n){if(this.shouldUpdateBbox(e)&&this.clearBboxCache(),"strokeWidth"in e&&e.strokeWidth===void 0&&(e.strokeWidth=1),!e.transform&&(e.x!==void 0||e.y!==void 0)){const r=J(this.attrs.transform);e.x&&(r[4]=e.x),e.y&&(r[5]=e.y),this.attrs.transform=r,this.updatedKeys.add("transform")}e.rotate!==void 0&&this.setRotate(e.rotate),e=JL(e,"x","y","rotate");for(const r in e)this.updatedKeys.add(r),this.attrs[r]=e[r];(!this.noCollectUpdate||this.attrs.parentIndex)&&this.doc.collectUpdatedGraphics(this.attrs.id)}cancelCollectUpdate(){this.noCollectUpdate=!0}getStrokeWidth(){var e;return(e=this.attrs.stroke)!=null&&e.length?this.attrs.strokeWidth??0:0}getBboxWithStroke(){if(this._cacheBboxWithStroke)return this._cacheBboxWithStroke;const e=yu({...this.getSize(),transform:this.getWorldTransform()},this.getStrokeWidth()/2);return this._cacheBboxWithStroke=e,e}getBbox(){return yu({...this.getSize(),transform:this.getWorldTransform()})}getLocalBbox(){if(this._cacheBbox)return this._cacheBbox;const e=yu({...this.getSize(),transform:this.attrs.transform});return this._cacheBbox=e,e}getMinBbox(){return this.getBbox()}getWorldBboxVerts(){const e={x:0,y:0,width:this.attrs.width,height:this.attrs.height};return As(e,this.getWorldTransform())}getLocalPosition(){return{x:this.attrs.transform[4],y:this.attrs.transform[5]}}getWorldPosition(){const e=this.getWorldTransform();return{x:e[4],y:e[5]}}getX(){return this.attrs.transform[4]}getY(){return this.attrs.transform[5]}getSize(){return{width:this.attrs.width,height:this.attrs.height}}getOpacity(){return this.attrs.opacity??1}getRect(){return{...this.getLocalPosition(),width:this.attrs.width,height:this.attrs.height}}getTransformedSize(){return fT(this.attrs)}getLocalCenter(){return new te(...this.attrs.transform).apply({x:this.attrs.width/2,y:this.attrs.height/2})}getWorldCenter(){return new te(...this.getWorldTransform()).apply({x:this.attrs.width/2,y:this.attrs.height/2})}isStrokeShouldRender(){return Z2(this.attrs.stroke)}isFillShouldRender(){return Z2(this.attrs.fill)}hitTest(e,n=0){return sw(e,{...this.getSize(),transform:this.getWorldTransform()},n+this.getStrokeWidth()/2)}getHitGraphics(e,n){const{tol:r=0}=n;return!this.isVisible()||this.isLock()||!this.isFillShouldRender()&&!this.isStrokeShouldRender()?null:this.hitTest(e,r)?this:null}hitTestChildren(e,n=0){if(!this.isContainer)return this.hitTest(e,n);if(!this.hitTest(e,n))return!1;const r=this.getChildren();for(let i=r.length-1;i>=0;i--)if(r[i].hitTest(e,n))return!0;return!1}intersectWithChildrenBox(e){if(!this.isContainer)return this.intersectWithBox(e);if(!this.intersectWithBox(e))return!1;const n=this.getChildren();for(const r of n)if(r.isVisible()&&r.intersectWithBox(e))return!0;return!1}strokeAABBIntersectWithBox(e){return Gy(e,this.getBboxWithStroke())}intersectWithBox(e){let n=!1;if(!Gy(e,this.getMinBbox()))n=!1;else{const r=this.getRotate();if(!r||r%To==0)n=!0;else{const[i,o,s,a]=As(Yo(e),Vi(this.getWorldTransform())),l=Math.min(i.x,o.x,s.x,a.x),u=Math.min(i.y,o.y,s.y,a.y),h=Math.max(i.x,o.x,s.x,a.x),d=Math.max(i.y,o.y,s.y,a.y),p={x:l,y:u,width:h-l,height:d-u};n=t9(p,{x:0,y:0,...this.getSize()})}}return n}containWithBox(e){const n=this.getMinBbox();return V2(e,n)||V2(n,e)}calcNewAttrsByControlHandle(e,n,r,i,o=!1,s=!1,a){const l=this.getParentWorldTransform();r={width:r.width,height:r.height,transform:i};const u=this.attrs.height===0?vT(e,n,r,{keepPolarSnap:o,scaleFromCenter:s}):Bf(e,n,r,{keepRatio:o,scaleFromCenter:s,flip:a});return u.transform=hr(Vi(l),u.transform),u}updateByControlHandle(e,n,r,i,o=!1,s=!1,a){const l=this.calcNewAttrsByControlHandle(e,n,r,i,o,s,a);this.updateAttrs(l,{finishRecomputed:!0})}shouldSkipDraw(e){return!!(!this.isVisible()||this.getOpacity()*(e.opacity??1)===0||e.viewportArea&&!this.strokeAABBIntersectWithBox(e.viewportArea))}draw(e){if(this.shouldSkipDraw(e))return;const{ctx:n}=e;n.save(),n.transform(...this.attrs.transform);for(const r of this.children)r.draw(e);n.restore()}drawOutline(e,n,r){const{width:i,height:o}=this.attrs;e.transform(...this.getWorldTransform()),e.strokeStyle=n,e.lineWidth=r,e.beginPath(),e.rect(0,0,i,o),e.stroke(),e.closePath()}fillImage(e,n,r,i=!0,o=0){const s=n.attrs.src,a=this.attrs.width,l=this.attrs.height,u=0,h=0;let d;if(e.imageSmoothingEnabled=i,s?(r.addImg(s),d=r.getImg(s)):(e.imageSmoothingEnabled=!1,d=bT),!d)return;const p=h6(d.width,d.height,a,l),g=d.width/2-a/p/2,y=d.height/2-l/p/2;o&&(e.save(),T9(e,u,h,a,l,o),e.clip()),e.drawImage(d,g,y,a/p,l/p,u,h,a,l),o&&e.restore()}static dMove(e,n,r){for(const i of e){const o=i.getWorldTransform();o[4]+=n,o[5]+=r,i.setWorldTransform(o)}}toJSON(){return{...this.attrs}}isVisible(){return this.attrs.visible??!0}isLock(){return this.attrs.lock??!1}isDeleted(){return this._deleted}setDeleted(e){this._deleted=e,this.doc.collectDeletedGraphics(this)}toObject(){return{type:this.type,id:this.attrs.id,name:this.attrs.objectName,visible:this.isVisible(),lock:this.isLock(),children:this.children.map(e=>e.toObject())}}getControlHandles(e,n){return[]}getRotate(){return Ql(this.getWorldTransform())}getRotateDegree(){return Xu(hT(this.getRotate()))}setRotate(e,n){const r=this.getRotate(),i=e-r;n??(n=this.getWorldCenter());const o=new te().translate(-n.x,-n.y).rotate(i).translate(n.x,n.y);this.prependWorldTransform(o.getArray())}prependWorldTransform(e){const n=this.getParentWorldTransform(),r=hr(e,hr(n,this.attrs.transform));this.updateAttrs(Hd({...this.getSize(),transform:hr(Vi(n),r)}))}dRotate(e,n,r){const i=new te().translate(-r.x,-r.y).rotate(e).translate(r.x,r.y).append(new te(...n)).getArray();this.setWorldTransform(i)}getInfoPanelAttrs(){const e=this.getTransformedSize(),n=this.getWorldPosition();return[{label:"X",key:"x",value:n.x,uiType:"number"},{label:"Y",key:"y",value:n.y,uiType:"number"},{label:"W",key:"width",value:e.width,uiType:"number"},{label:"H",key:"height",value:e.height,uiType:"number"},{label:"R",key:"rotation",value:this.getRotateDegree(),suffixValue:"",uiType:"number"}]}toSVGSegment(e){const n=this.getSVGTagHead(e);if(!n)return console.warn(`please implement getSVGTagHead method of "${this.type}" type`),"";const r=[],{fillPaints:i,strokePaints:o}=this.getFillAndStrokesToSVG();if(i.length<=1&&o.length<=1){const h=i[0];if(h){const p={};if(h.type===ee.Solid){p.fill="#"+ld(h.attrs);const g=h.attrs.a;g!==1&&(p["fill-opacity"]=g)}r.push(p)}const d=o[0];if(d){const p={};if(d.type===ee.Solid){p.stroke="#"+ld(d.attrs);const g=d.attrs.a;g!==1&&(p["stroke-opacity"]=g)}r.push(p)}}else{for(const h of i)if(h&&h.type===ee.Solid){const d={fill:"#"+ld(h.attrs)},p=h.attrs.a;p!==1&&(d["fill-opacity"]=p),r.push(d)}for(const h of o)if(h&&h.type===ee.Solid){const d={stroke:"#"+ld(h.attrs)},p=h.attrs.a;p!==1&&(d["stroke-opacity"]=p),r.push(d)}}const s=this.attrs.strokeWidth??0,a=s>1?` stroke-width="${s}"`:"";let l="";const u=this.getSVGTagTail();for(const h of r){let d="",p;for(p in h)d+=` ${p}="${h[p]}"`;l+=n+d+a+u}return l}getSVGTagHead(e){return""}getSVGTagTail(){return`/>
`}getFillAndStrokesToSVG(){return{fillPaints:this.attrs.fill??[],strokePaints:this.attrs.stroke??[]}}getLayerIconPath(){return"M0.5 0.5H11.5V11.5H0.5V0.5Z"}getWorldTransform(){const e=this.getParent();return e?hr(e.getWorldTransform(),this.attrs.transform):[...this.attrs.transform]}getChildren(){return this.isContainer?(this._sortDirty&&this.sortChildren(),[...this.children]):[]}getChildrenCount(){return this.children.length}setChildren(e){if(!this.isContainer)return;const n=ka(null,null,e.length);for(let r=0;r<e.length;r++)e[r].updateAttrs({parentIndex:{guid:this.attrs.id,position:n[r]}})}insertAtParent(e){const n=this.getParent();n&&n.insertChild(this,e)}insertChild(e,n){if(!this.isContainer){console.warn(`graphics "${this.type}" is not container`);return}if(this.children.some(i=>i.attrs.id===e.attrs.id)){n&&this.sortChildren();return}if(!n){const i=this.getMaxChildIndex();n=No(i,null)}e.removeFromParent();const r={guid:this.attrs.id,position:n};Sh(e.attrs.parentIndex,r)||e.updateAttrs({parentIndex:r}),this.children.push(e),n&&this.sortChildren()}removeChild(e){this.children=this.children.filter(n=>n.attrs.id!==e.attrs.id)}markSortDirty(){this._sortDirty=!0}sortChildren(){vt.sortGraphicsArray(this.children)}static sortGraphicsArray(e){return e.sort((n,r)=>{var i,o;return(((i=n.attrs.parentIndex)==null?void 0:i.position)??"")<(((o=r.attrs.parentIndex)==null?void 0:o.position)??"")?-1:1}),e}getParentId(){var e;return(e=this.attrs.parentIndex)==null?void 0:e.guid}getParent(){const e=this.getParentId();if(e)return this.doc.getGraphicsById(e)}getParentWorldTransform(){const e=this.getParent();return e?e.getWorldTransform():zy()}removeFromParent(){const e=this.getParent();e&&e.removeChild(this)}getMaxChildIndex(){if(this.children.length===0)return null;if(!this._sortDirty)return this.children.at(-1).getSortIndex()??null;let e=this.children[0].getSortIndex();for(let n=1;n<this.children.length;n++){const r=this.children[n].getSortIndex();r>e&&(e=r)}return e}getMinChildIndex(){if(this.children.length===0)return null;if(!this._sortDirty)return this.children.at(0).getSortIndex()??null;let e=this.children[0].getSortIndex();for(let n=1;n<this.children.length;n++){const r=this.children[n].getSortIndex();r<e&&(e=r)}return e}getSortIndex(){var e;return((e=this.attrs.parentIndex)==null?void 0:e.position)??""}getNextSibling(){const e=this.getParent();if(!e)return null;const n=e.getChildren(),r=n.findIndex(i=>i===this);return r==-1&&console.warn("index should not be -1!"),n[r+1]??null}getSortIndexPath(){const e=[];let n=this;for(;n;)e.push(n.getSortIndex()),n=n.getParent();return e.reverse(),e}static sortGraphics(e){const n=e.map(r=>({path:r.getSortIndexPath(),val:r}));return n.sort((r,i)=>{const o=Math.max(r.path.length,i.path.length);for(let s=0;s<o;s++){const a=r.path[s],l=i.path[s];if(a!==l)return a<l?-1:1}return r.path.length<i.path.length?-1:1}),n.map(r=>r.val)}containAncestor(e){let n=this;for(;n;){if(n.attrs.id===e)return!0;n=n.getParent()}return!1}forEachParent(e){let n=!1;const r=()=>{n=!0};let i=this.getParent();for(;i&&(e(i,r),!n);)i=i.getParent()}getParentIds(){const e=[];return this.forEachParent(n=>{e.push(n.attrs.id)}),e}getFrameParentIds(){const e=[];return this.forEachParent((n,r)=>{if(n.type===xe.Canvas){r();return}e.push(n.attrs.id)}),e}setWorldTransform(e){const n=this.getParentWorldTransform(),r=hr(Vi(n),e);this.updateAttrs({transform:r})}forEachVisibleChildNode(e){if(this.isVisible()){for(const n of this.children)n.forEachVisibleChildNode(e);e(this)}}}const Eh=t=>{const{originCtx:e,viewSize:n,draw:r}=t;e.save();const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const o=i.getContext("2d");return o.setTransform(e.getTransform()),r(o),e.resetTransform(),e.drawImage(i,0,0),e.restore(),i};class _h extends vt{constructor(e,n){super({...e,type:xe.Ellipse},n),k(this,"type",xe.Ellipse)}hitTest(e,n=0){const r=this.attrs,i=r.width/2,o=r.height/2,s=this.getStrokeWidth();n=n+s/2;const a=r.width/2+n,l=r.height/2+n,u=new te(...this.getWorldTransform()).applyInverse(e);return(u.x-i)**2/a**2+(u.y-o)**2/l**2<=1}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1),{ctx:r,imgManager:i,smooth:o}=e,s=this.attrs,a=s.width/2,l=s.height/2;r.save(),r.transform(...s.transform),n<1&&(r.globalAlpha=n);const u=h=>{h.beginPath(),h.ellipse(a,l,s.width/2,s.height/2,0,0,Y2);for(const d of s.fill??[])d.visible!==!1&&(d.type===ee.Solid?(h.fillStyle=mr(d.attrs),h.fill()):d.type===ee.Image&&(i?(h.clip(),this.fillImage(h,d,i,o)):console.warn("ImgManager is not provided")));if(s.strokeWidth){h.lineWidth=s.strokeWidth;for(const d of s.stroke??[])d.visible!==!1&&(d.type===ee.Solid?(h.strokeStyle=mr(d.attrs),h.stroke()):(d.type,ee.Image))}h.closePath()};n!==1?Eh({originCtx:r,viewSize:this.doc.getDeviceViewSize(),draw:u}):u(r),r.restore()}drawOutline(e,n,r){const{width:i,height:o}=this.attrs,s=i/2,a=o/2;e.transform(...this.getWorldTransform()),e.strokeStyle=n,e.lineWidth=r,e.beginPath(),e.ellipse(s,a,i/2,o/2,0,0,Y2),e.stroke(),e.closePath()}getSVGTagHead(e){const n=[...this.attrs.transform];e&&(n[4]+=e.x,n[5]+=e.y);const r=this.attrs.width/2,i=this.attrs.height/2;return this.attrs.width===this.attrs.height?`<circle cx="${r}" cy="${i}" r="${r}" transform="matrix(${n.join(" ")})"`:`<ellipse cx="${r}" cy="${i}" rx="${r}" ry="${i}" transform="matrix(${n.join(" ")})"`}getLayerIconPath(){const e=this.getBbox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=11/Math.max(n,r),o=new te().prepend(new te(...this.getWorldTransform())).translate(-e.minX-n/2,-e.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.attrs,a=o9({x:0,y:0,width:s.width,height:s.height});return a.forEach(l=>{l.points.forEach((u,h)=>{l.points[h]=o.apply(u)})}),_a(a,5)}}class kh extends vt{constructor(e,n){super({...e,type:xe.Frame},n),k(this,"type",xe.Frame),k(this,"isContainer",!0)}updateSizeByChildren(e,n){const r=Yo(Jo(this.children.filter(l=>l.isVisible()).map(l=>l.getLocalBbox())));if(r.x===0&&r.y===0&&r.width===this.attrs.width&&r.height===this.attrs.height)return;for(const l of this.children){const u=l.attrs.id;e.set(u,Object.assign({transform:[...l.attrs.transform]},e.get(u)??{}));const h=new te(...l.attrs.transform).translate(-r.x,-r.y);l.updateAttrs({transform:h.getArray()});const d=Object.assign(n.get(u)??{},{transform:[...l.attrs.transform]});n.set(u,d)}const i=new te().translate(r.x,r.y),o=new te(...this.attrs.transform).append(i),s=this.attrs.id;e.has(s)||e.set(s,{width:this.attrs.width,height:this.attrs.height,transform:[...this.attrs.transform]});const a={width:r.width,height:r.height,transform:o.getArray()};this.updateAttrs(a),n.set(s,a)}isEmpty(){return this.children.length===0}isFillShouldRender(){return!0}_realDraw(e,n){const r=this.attrs,{fill:i,strokeWidth:o,stroke:s,transform:a}=n||this.attrs,{ctx:l,imgManager:u,smooth:h}=e;l.save(),l.transform(...a);const d=e.opacity??1;d<1&&(l.globalAlpha=d),l.beginPath(),l.rect(0,0,r.width,r.height);for(const p of i??[])if(p.visible!==!1)switch(p.type){case ee.Solid:{l.fillStyle=mr(p.attrs),l.fill();break}case ee.Image:u?this.fillImage(l,p,u,h):console.warn("ImgManager is not provided")}if(o){l.lineWidth=o;for(const p of s??[])if(p.visible!==!1)switch(p.type){case ee.Solid:{l.strokeStyle=mr(p.attrs),l.stroke();break}case ee.Image:}}l.closePath(),l.restore()}isGroup(){return this.attrs.resizeToFit}drawText(e,n,r){if(!this.isVisible())return;const i=this.getRotate(),o=new te().translate(-n,-r).rotate(i).translate(n,r);e.save(),e.fillStyle="#acacac",e.font="11px sans-serif",e.transform(...o.getArray()),e.fillText(this.attrs.objectName,n,r),e.restore()}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1);e={...e,opacity:n},this.isGroup()||this._realDraw(e);const{ctx:r}=e;this.isGroup()||(r.save(),r.clip()),super.draw(e),this.isGroup()||r.restore()}hitTest(e,n=0){const r=new te(...this.getWorldTransform()).applyInverse(e);return pT({minX:0,minY:0,maxX:this.attrs.width,maxY:this.attrs.height},r,n+(this.attrs.strokeWidth??0)/2)}getHitGraphics(e,n){if(!this.isVisible()||this.isLock())return null;const{parentIdSet:r}=n,i=this.getChildren();if(this.isGroup()){for(let o=i.length-1;o>=0;o--){const s=i[o].getHitGraphics(e,n);if(s){const a=s.getParent();return a&&!r.has(a.attrs.id)?a:s}}if(this.isHitTitle(e,n))return this}else{if(i.length===0)return super.getHitGraphics(e,n);for(let o=i.length-1;o>=0;o--){const s=i[o].getHitGraphics(e,n);if(s)return s}if(this.isHitTitle(e,n))return this}return null}isHitTitle(e,n){const r=12/n.zoom,i=80/n.zoom,o=new te(...this.getWorldTransform()).append(new te().translate(0,-r)),s={width:i,height:r,transform:o.getArray()};return sw(e,s,n.tol)}getLayerIconPath(){return this.isGroup()?"M7 1H5V2H7V1ZM9.5 10H10V9.5H11V11H9.5V10ZM2 5V7H1V5H2ZM10 2.5V2H9.5V1H11V2.5H10ZM10 5V7H11V5H10ZM2 2.5V2H2.5V1H1V2.5H2ZM1 9.5H2V10H2.5V11H1V9.5ZM7 10H5V11H7V10Z":"M4 0.5V3H8V0.5H9V3H11.5V4H9V8H11.5V9H9V11.5H8V9H4V11.5H3V9H0.5V8H3V4H0.5V3H3V0.5H4ZM8 8V4H4V8H8Z"}}const Ln=t=>t instanceof kh;class lw extends vt{constructor(e,n){super({...e,height:0,type:xe.Line},n),k(this,"type",xe.Line)}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1),{ctx:r}=e,{width:i,transform:o,stroke:s,strokeWidth:a}=this.attrs;if(r.save(),r.transform(...o),n<1&&(r.globalAlpha=n),r.beginPath(),r.moveTo(0,0),r.lineTo(i,0),a){r.lineWidth=a;for(const l of s??[])switch(l.type){case ee.Solid:{r.strokeStyle=mr(l.attrs),r.stroke();break}case ee.Image:}r.closePath(),r.restore()}}drawOutline(e,n,r){e.transform(...this.getWorldTransform()),e.beginPath(),e.moveTo(0,0),e.lineTo(this.attrs.width,0),e.lineWidth=r,e.strokeStyle=n,e.stroke(),e.closePath()}getSVGTagHead(e){const n=[...this.attrs.transform];e&&(n[4]+=e.x,n[5]+=e.y);const r=this.getTransformedSize();return`<line x1="0" y1="0" x2="${r.width}" y2="${r.height}" transform="matrix(${n.join(" ")})"`}getFillAndStrokesToSVG(){return{fillPaints:[],strokePaints:this.attrs.stroke??[]}}getLayerIconPath(){const e=this.getWorldTransform();let n=[da(e,{x:0,y:0}),da(e,{x:this.attrs.width,y:0})];const r=Ch(n),i=r.maxX-r.minX,o=r.maxY-r.minY,s=11/Math.max(i,o),a=new te().translate(-r.minX-i/2,-r.minY-o/2).scale(s,s).translate(11/2,11/2);return n=n.map(l=>a.apply(l)),`M${n[0].x.toFixed(5)} ${n[0].y.toFixed(5)} L${n[1].x.toFixed(5)} ${n[1].y.toFixed(5)}`}}class Mn extends vt{constructor(e,n){super({...e,type:xe.Path},n),k(this,"type",xe.Path),k(this,"geoPath",null)}static computeRect(e){return new X2(e).getBRect()}static recomputeAttrs(e,n){const r=Mn.computeRect(e);for(const o of e)for(const s of o.segs)s.point={x:s.point.x-r.x,y:s.point.y-r.y};const i=new te(...n).apply(r);return{x:i.x,y:i.y,width:r.width,height:r.height,pathData:e}}checkAndFixUpdatedAttrs(e){("width"in e||"height"in e)&&"pathData"in e&&(delete e.width,delete e.height,console.warn("width or height and pathData cannot coexist when updating attribute, removed width and height"))}clearBboxCache(){super.clearBboxCache(),this.geoPath=null}getGeoPath(){return this.geoPath||(this.geoPath=new X2(this.attrs.pathData)),this.geoPath}updateAttrs(e,n){if(n!=null&&n.finishRecomputed){super.updateAttrs(e);return}e=J(e),this.checkAndFixUpdatedAttrs(e);const r=Object.keys(e);if(e.pathData){const i=e.transform??this.attrs.transform;this.attrs.pathData=e.pathData,e={...e,...Mn.recomputeAttrs(e.pathData,i)}}if(r.includes("width")||r.includes("height")){const i=this.recomputedPathData(e.width??this.attrs.width,e.height??this.attrs.height);this.attrs.pathData=i}super.updateAttrs(e)}calcNewAttrsByControlHandle(e,n,r,i,o,s,a){const l=this.getParentWorldTransform();r={width:r.width,height:r.height,transform:i};const u=this.attrs.height===0?vT(e,n,r,{keepPolarSnap:o,scaleFromCenter:s}):Bf(e,n,r,{keepRatio:o,scaleFromCenter:s,flip:a});u.transform=hr(Vi(l),u.transform);const h=u,d=this.recomputedPathData(u.width,u.height);return{...h,pathData:d}}recomputedPathData(e,n){const r=e/(this.attrs.width||1),i=n/(this.attrs.height||1),o=J(this.attrs.pathData);for(const s of o)for(const a of s.segs)a.point.x*=r,a.point.y*=i,a.in.x*=r,a.in.y*=i,a.out.x*=r,a.out.y*=i;return o}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1);this._realDraw({...e,opacity:n})}drawOutline(e,n,r){this._realDraw({ctx:e},{stroke:[{type:ee.Solid,attrs:Kt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(e,n){const{pathData:r}=this.attrs,i=(n==null?void 0:n.transform)??this.attrs.transform,{fill:o,strokeWidth:s,stroke:a}=n||this.attrs,{ctx:l,imgManager:u,smooth:h}=e;l.save(),l.transform(...i);const d=e.opacity??1;d<1&&(l.globalAlpha=d);const p=g=>{g.beginPath();for(const y of r){const m=y.segs[0];if(!m)continue;g.moveTo(m.point.x,m.point.y);const C=y.segs;for(let x=1;x<=C.length;x++){if(x===C.length&&!y.closed)continue;const v=C[x%C.length],b=C[x-1],E=v.point.x,A=v.point.y,$=Mn.getHandleOut(b),M=Mn.getHandleIn(v);!$&&!M?g.lineTo(E,A):g.bezierCurveTo($.x,$.y,M.x,M.y,E,A)}y.closed&&g.closePath()}for(const y of o??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{g.fillStyle=mr(y.attrs),g.fill();break}case ee.Image:u?(g.clip(),this.fillImage(g,y,u,h)):console.warn("ImgManager is not provided")}if(s){g.lineWidth=s;for(const y of a??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{g.strokeStyle=mr(y.attrs),g.stroke();break}case ee.Image:}}g.closePath()};d!==1?Eh({originCtx:l,viewSize:this.doc.getDeviceViewSize(),draw:p}):p(l),l.restore()}hitTest(e,n=0){var r;if(!super.hitTest(e,n))return!1;if((r=this.attrs.fill)!=null&&r.length)return!0;const i=new te(...this.getWorldTransform()).applyInverse(e);return this.getGeoPath().hitTest(i,n+this.getStrokeWidth()/2)}toJSON(){return{...super.toJSON(),pathData:this.attrs.pathData}}static getHandleIn(e){return wo(e.point,e.in)}static getHandleOut(e){return wo(e.point,e.out)}static getSeg(e,n,r){const i=e[n];return i?i.segs[r]??null:null}getLastSeg(e,n){const r=this.getSegCount(e)-1;return this.getSeg(e,r,n)}getSeg(e,n,r){let i=Mn.getSeg(this.attrs.pathData,e,n);if(i=J(i),i&&r!=null&&r.applyTransform){const o=new te(...this.getWorldTransform()),s=o.apply(i.point);i.point.x=s.x,i.point.y=s.y,o.tx=0,o.ty=0;const a=o.apply(i.in);i.in.x=a.x,i.in.y=a.y;const l=o.apply(i.out);i.out.x=l.x,i.out.y=l.y}return i}getClosestAnchor(e){const n=new te(...this.getWorldTransform()),r=n.applyInverse(e.point),i=this.attrs.pathData;let o=1/0,s=null,a=-1,l=-1;for(let u=0;u<i.length;u++){const h=i[u];for(let d=h.segs.length-1;d>=0;d--){const p=h.segs[d],g=Et(p.point,r);g<e.tol&&(o=g,s=p.point,a=d,l=u)}}return s?{pathItemIndex:l,segIndex:a,dist:o,point:n.apply(s)}:null}project(e,n=1/0){const r=this.getGeoPath(),i=new te(...this.getWorldTransform());e=i.applyInverse(e);const o=r.project(e,n);return o?{dist:o.dist,point:i.apply(o.point),pathItemIndex:o.index[0],segIndex:o.index[1],t:o.t}:null}setSeg(e,n,r){const i=this.attrs.pathData,o={...i[e]},s=this.getSeg(e,n);if(!s)throw new Error(`can not find pathIdx ${e} segIdx ${n}`);r=J(r);const a=this.getWorldTransform();if(r.point){const l=new te(...a).invert().apply(r.point);r.point.x=l.x,r.point.y=l.y}if(r.in||r.out){const l=new te(a[0],a[1],a[2],a[3],0,0).invert();if(r.in){const u=l.apply(r.in);r.in.x=u.x,r.in.y=u.y}if(r.out){const u=l.apply(r.out);r.out.x=u.x,r.out.y=u.y}}o.segs[n]={...s,...r},this.updateAttrs({pathData:i})}addSeg(e,n){const r=this.attrs.pathData,i=r[e];if(!i)throw new Error(`pathIdx ${e} is out of range`);const o=new te(...this.getWorldTransform()).invert().apply(n.point);i.segs.push({point:o,in:n.in,out:n.out}),this.updateAttrs({pathData:r})}addEmptyPath(){const e=this.attrs.pathData;e.push({segs:[],closed:!1}),this.updateAttrs({pathData:e})}setPathItemClosed(e,n){const r=this.attrs.pathData,i=r[e];if(!i)throw new Error(`pathIdx ${e} is out of range`);i.closed=n,this.updateAttrs({pathData:r})}checkPathItemClosed(e){const n=this.attrs.pathData[e];if(!n)throw new Error(`pathIdx ${e} is out of range`);return n.closed}getPathItemCount(){return this.attrs.pathData.length}hasPath(e){return!!this.attrs.pathData[e]}getSegCount(e){const n=this.attrs.pathData[e];return n?n.segs.length:0}deleteSegAndHeal(e,n){const r=J(this.attrs.pathData),i=r[e];if(!i)throw new Error(`can not find pathIdx ${e}`);f9(i,n),this.updateAttrs({pathData:r})}insertSeg(e,n,r){const i=J(this.attrs.pathData),o=i[e];if(!o)throw new Error(`can not find pathIdx ${e}`);d9(o,n,r),this.updateAttrs({pathData:i})}getSVGTagHead(e){const n=[...this.attrs.transform];e&&(n[4]+=e.x,n[5]+=e.y);let r="";for(const i of this.attrs.pathData){const o=i.segs[0];if(!o)continue;r+=`M${o.point.x} ${o.point.y}`;const s=i.segs;for(let a=1;a<=s.length;a++){if(a===s.length&&!i.closed)continue;const l=s[a%s.length],u=s[a-1],h=l.point.x,d=l.point.y,p=Mn.getHandleOut(u),g=Mn.getHandleIn(l);!p&&!g?r+=`L${h} ${d}`:r+=`C${p.x} ${p.y} ${g.x} ${g.y} ${h} ${d}`}i.closed&&(r+="Z")}return`<path d="${r}" transform="matrix(${n.join(" ")})"`}getLayerIconPath(){const e=this.getBbox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=11/Math.max(n,r),o=new te().prepend(new te(...this.getWorldTransform())).translate(-e.minX-n/2,-e.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.getGeoPath().toCommands();return s.forEach(a=>{a.points.forEach((l,u)=>{a.points[u]=o.apply(l)})}),_a(s,5)}}let Gt=class{constructor(e){k(this,"cx"),k(this,"cy"),k(this,"rotation"),k(this,"transform"),k(this,"type"),k(this,"graphics"),k(this,"padding"),k(this,"isTransformHandle"),k(this,"hitTest"),k(this,"getCursor"),this.cx=e.cx??0,this.cy=e.cy??0,e.rotation!==void 0&&(this.rotation=e.rotation),e.transform&&(this.transform=e.transform),this.type=e.type,this.padding=e.padding??0,this.graphics=e.graphics,this.getCursor=e.getCursor,e.hitTest&&(this.hitTest=e.hitTest),this.isTransformHandle=e.isTransformHandle??!1,this.graphics.cancelCollectUpdate()}};const cs=(t,e)=>{if(!e)return"default";if(e.height===0)return"move";if(t==="n"||t==="s"){const o=new te().rotate(To).prepend(new te(...e.transform)).rotate(To),s=Ql([o.a,o.b,o.c,o.d,o.tx,o.ty]);return{type:"resize",degree:Xu(s)}}const n=Ql(e.transform),r=dT(e.transform);let i=0;switch(t){case"se":case"nw":i=-45;break;case"ne":case"sw":i=45;break;case"e":case"w":i=90;break;default:console.warn("unknown type",t)}return{type:"resize",degree:Xu(n)+(r?-i:i)}},iu=(t,e)=>{if(!e)return"default";const n=Ql(e.transform),r=dT(e.transform);let i=0;return e.height===0?i={neRotation:90,seRotation:90,swRotation:270,nwRotation:270}[t]:i={neRotation:45,seRotation:135,swRotation:225,nwRotation:315}[t],{type:"rotation",degree:Fy(Xu(n)+(r?-i:i))}},I9=(t,e)=>{const n=()=>({width:t.size,height:t.size,fill:[{type:ee.Solid,attrs:Kt(t.fill)}],stroke:[{type:ee.Solid,attrs:Kt(t.stroke)}],strokeWidth:1}),r={doc:e,noCollectChange:!0},i=new Gt({graphics:new An({objectName:"nw",...n()},r),type:"nw",padding:3,getCursor:cs,isTransformHandle:!0}),o=new Gt({graphics:new An({objectName:"ne",...n()},r),type:"ne",padding:3,getCursor:cs,isTransformHandle:!0}),s=new Gt({graphics:new An({objectName:"se",...n()},r),type:"se",padding:3,getCursor:cs,isTransformHandle:!0}),a=new Gt({graphics:new An({objectName:"sw",...n()},r),type:"sw",padding:3,getCursor:cs,isTransformHandle:!0}),l=t.size*2.5,u=new Gt({graphics:new An({objectName:"nwRotation",...n(),width:l,height:l,visible:!1},r),type:"nwRotation",getCursor:iu,isTransformHandle:!0}),h=new Gt({graphics:new An({objectName:"neRotation",...n(),width:l,height:l,visible:!1},r),type:"neRotation",getCursor:iu,isTransformHandle:!0}),d=new Gt({graphics:new An({objectName:"seRotation",...n(),width:l,height:l,visible:!1},r),type:"seRotation",getCursor:iu,isTransformHandle:!0}),p=new Gt({graphics:new An({objectName:"swRotation",...n(),width:l,height:l,visible:!1},r),type:"swRotation",getCursor:iu,isTransformHandle:!0}),g=function(v,b,E){return!E||E.width===0||E.height===0?!1:this.graphics.hitTest(v,b)},y=new Gt({graphics:new An({objectName:"n",...n(),visible:!1},r),type:"n",hitTest:g,getCursor:cs,isTransformHandle:!0}),m=new Gt({graphics:new An({objectName:"e",...n(),visible:!1},r),type:"e",hitTest:g,getCursor:cs,isTransformHandle:!0}),C=new Gt({graphics:new An({objectName:"s",...n(),visible:!1},r),type:"s",hitTest:g,getCursor:cs,isTransformHandle:!0}),x=new Gt({graphics:new An({objectName:"w",...n(),visible:!1},r),type:"w",hitTest:g,getCursor:cs,isTransformHandle:!0});return new Map([["n",y],["e",m],["s",C],["w",x],["nwRotation",u],["neRotation",h],["seRotation",d],["swRotation",p],["nw",i],["ne",o],["se",s],["sw",a]])},kT=["n","e","s","w","nwRotation","neRotation","seRotation","swRotation","nw","ne","se","sw"];class O9{constructor(e){k(this,"transformHandles"),k(this,"customHandlesVisible",!1),k(this,"customHandles",[]),k(this,"selectedBoxRect",null),k(this,"enableTransformControl",!0),k(this,"onHoverItemChange",()=>{if(!this.editor.pathEditor.isActive()){const r=this.editor.selectedElements.getHoverItem(),i=this.editor.selectedElements.size()===1,o=i?this.editor.selectedElements.getItems()[0]:null,s=this.editor.selectedBox.isHover();if(i&&o&&(r===o||s)){const a=this.editor.zoomManager.getZoom();this.setCustomHandles(o.getControlHandles(a,!0))}else this.setCustomHandles([])}this.editor.render()}),this.editor=e;const n=e.setting;this.transformHandles=I9({size:n.get("handleSize"),fill:n.get("handleFill"),stroke:n.get("handleStroke"),strokeWidth:n.get("handleStrokeWidth")},e.doc)}bindEvents(){this.editor.selectedElements.on("hoverItemChange",this.onHoverItemChange),this.editor.selectedBox.on("hoverChange",this.onHoverItemChange),this.editor.zoomManager.on("zoomChange",this.onHoverItemChange),this.editor.commandManager.on("change",this.onHoverItemChange)}unbindEvents(){this.editor.selectedElements.off("hoverItemChange",this.onHoverItemChange),this.editor.selectedBox.off("hoverChange",this.onHoverItemChange),this.editor.zoomManager.off("zoomChange",this.onHoverItemChange),this.editor.commandManager.off("change",this.onHoverItemChange)}updateTransformHandles(e){const n=this.editor.zoomManager.getZoom(),r=this.editor.setting.get("handleSize"),i=this.editor.setting.get("handleStrokeWidth"),o=this.editor.setting.get("neswHandleWidth"),s={x:0,y:0,width:e.width,height:e.height},a=(()=>{const y=As(s,e.transform),m=r/2/n,C=As(Uy(s,m),e.transform),x=40,v=new Array(4).fill(0);e.width*n<x&&(v[1]=v[3]=o/2/n),e.height*n<x&&(v[0]=v[2]=o/2/n);const b=Uy(s,v),E=new te(...e.transform),A=n9(b).map($=>{const{x:M,y:I}=E.apply($);return{x:M,y:I}});return{nw:y[0],ne:y[1],se:y[2],sw:y[3],n:A[0],e:A[1],s:A[2],w:A[3],nwRotation:C[0],neRotation:C[1],seRotation:C[2],swRotation:C[3]}})();for(const y of kT){const m=a[y],C=this.transformHandles.get(y);if(!C){console.warn(`handle ${y} not found`);continue}C.cx=m.x,C.cy=m.y}const l=this.transformHandles.get("n"),u=this.transformHandles.get("s"),h=this.transformHandles.get("w"),d=this.transformHandles.get("e");l.graphics.attrs.width=u.graphics.attrs.width=e.width*n-r-i,h.graphics.attrs.height=d.graphics.attrs.height=e.height*n-r-i,l.graphics.attrs.height=u.graphics.attrs.height=h.graphics.attrs.width=d.graphics.attrs.width=o;const p=new te().rotate(To).prepend(new te(...e.transform)).rotate(To),g=Ql([p.a,p.b,p.c,p.d,p.tx,p.ty]);l.rotation=g,u.rotation=g}checkEnableRender(e){const n=As({x:0,y:0,width:e.width,height:e.height},e.transform).map(i=>this.editor.toViewportPt(i.x,i.y)),r=this.editor.setting.get("sizeIndicatorMinSize");return!(Et(n[0],n[1])<r&&Et(n[1],n[2])<r)}draw(e){if(this.selectedBoxRect=e,e){if(!this.checkEnableRender(e))return;this.updateTransformHandles(e)}const n=[];this.shouldRenderTransformControl()&&n.push(...Array.from(this.transformHandles.values())),this.customHandlesVisible&&n.push(...this.customHandles);const r=this.editor.ctx,i=e?Ql(e.transform):0;n.forEach(o=>{const s=o.graphics;if(s.type!==xe.Path){const{x:a,y:l}=this.editor.toViewportPt(o.cx,o.cy);s.updateAttrs({transform:[1,0,0,1,a-s.attrs.width/2,l-s.attrs.height/2]})}e&&o.isTransformHandle&&s.setRotate(i),o.rotation!==void 0&&s.setRotate(o.rotation),s.isVisible()&&(r.save(),s.draw({ctx:r}),r.restore())})}getHandleInfoByPoint(e){const n=[];if(this.shouldRenderTransformControl()&&n.push(...Array.from(this.transformHandles.values())),this.customHandlesVisible&&n.push(...this.customHandles),n.length===0)return null;const r=this.editor.toViewportPt(e.x,e.y),i=this.editor.selectedBox.getBox();for(let o=n.length-1;o>=0;o--){const s=n[o],a=s.type;if(!s){console.warn(`handle ${a} not found`);continue}if(s.hitTest?s.hitTest(r,s.padding,i):s.graphics.hitTest(r,s.padding))return{handleName:a,cursor:s.getCursor(a,i)}}return null}shouldRenderTransformControl(){return this.selectedBoxRect&&this.enableTransformControl}setCustomHandles(e){this.customHandles=e}getCustomHandlesIntersectedWithRect(e){const n=this.editor.toViewportPt(e.x,e.y),r=this.editor.toViewportPt(e.x+e.width,e.y+e.height),i={minX:n.x,minY:n.y,maxX:r.x,maxY:r.y};return this.customHandles.filter(o=>o.graphics.intersectWithBox(i))}clearCustomHandles(){this.customHandles=[]}hasCustomHandles(){return this.customHandles.length>0}showCustomHandles(){this.customHandlesVisible||(this.customHandlesVisible=!0,this.editor.render())}hideCustomHandles(){this.customHandlesVisible&&(this.customHandlesVisible=!1,this.editor.render())}}const oS=t=>kT.includes(t);class An extends vt{constructor(e,n){super({...e,type:xe.Rect},n),k(this,"type",xe.Rect)}getAttrs(){return J({...this.attrs,cornerRadius:this.attrs.cornerRadius??0})}toJSON(){return{...super.toJSON(),cornerRadius:this.attrs.cornerRadius}}getMaxCornerRadius(){return Math.min(this.attrs.width,this.attrs.height)/2}_realDraw(e,n){const{ctx:r,imgManager:i,smooth:o}=e,s=this.attrs,{fill:a,strokeWidth:l,stroke:u,transform:h}=n||this.attrs;r.save(),r.transform(...h);const d=g=>{g.beginPath(),s.cornerRadius?g.roundRect(0,0,s.width,s.height,s.cornerRadius):g.rect(0,0,s.width,s.height);for(const y of a??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{g.fillStyle=mr(y.attrs),g.fill();break}case ee.Image:if(i){const m=this.getMaxCornerRadius(),C=Math.min(s.cornerRadius??0,m);this.fillImage(g,y,i,o,C)}else console.warn("ImgManager is not provided")}if(l){g.lineWidth=l;for(const y of u??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{g.strokeStyle=mr(y.attrs),g.stroke();break}case ee.Image:}}g.closePath()},p=e.opacity??1;p<1&&(r.globalAlpha=p),p!==1?Eh({originCtx:r,viewSize:this.doc.getDeviceViewSize(),draw:d}):d(r),r.restore()}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1);this._realDraw({...e,opacity:n})}drawOutline(e,n,r){this._realDraw({ctx:e},{stroke:[{type:ee.Solid,attrs:Kt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}getRect(){return{...this.getLocalPosition(),width:this.attrs.width,height:this.attrs.height}}createCornerRadiusHandleGraph(){return new _h({objectName:"cornerRadius",width:8,height:8,fill:[{type:ee.Solid,attrs:Kt("#fff")}],stroke:[{type:ee.Solid,attrs:Kt("#1592fe")}],strokeWidth:1},{doc:this.doc})}hitTest(e,n=0){const r=new te(...this.getWorldTransform()).applyInverse(e),i=this.getMaxCornerRadius(),o=new Array(4).fill(Math.min(this.attrs.cornerRadius??0,i)),s=this.getStrokeWidth()/2,a={x:0,y:0,width:this.attrs.width,height:this.attrs.height},l=G2(r,a,o,n+s);return this.isFillShouldRender()?l:l?!G2(r,a,o.map(u=>Math.max(0,u-s)),-s-n):!1}getControlHandles(e,n){let r=0;n&&(r=14/e);const i=108,o=this.attrs;if(o.width*e<i||o.height*e<i)return[];const s=Math.min(o.width,o.height)/2,a=o.cornerRadius??0,l=[a,a,a,a],u=[],h={x:0,y:0,width:o.width,height:o.height},d=[{type:"nwCornerRadius",origin:{x:h.x,y:h.y},direction:{x:1,y:1},cornerRadius:l[0]},{type:"neCornerRadius",origin:{x:h.x+h.width,y:h.y},direction:{x:-1,y:1},cornerRadius:l[1]},{type:"seCornerRadius",origin:{x:h.x+h.width,y:h.y+h.height},direction:{x:-1,y:-1},cornerRadius:l[2]},{type:"swCornerRadius",origin:{x:h.x,y:h.y+h.height},direction:{x:1,y:-1},cornerRadius:l[3]}];for(let p=0;p<d.length;p++){const g=d[p];let y=g.cornerRadius;y<r?y=r:y>s&&(y=s);let m=g.origin.x+g.direction.x*y,C=g.origin.y+g.direction.y*y;const x=new te(...this.getWorldTransform()).apply({x:m,y:C});m=x.x,C=x.y;const v=new Gt({cx:m,cy:C,type:g.type,graphics:this.createCornerRadiusHandleGraph(),getCursor:()=>"default"});u.push(v)}return u}calcNewAttrsByControlHandle(e,n,r,i,o,s,a){const l={};if(e.endsWith("CornerRadius")){const u=this.attrs,h=new te(...i).applyInverse(n);let d={x:0,y:0},p={x:0,y:0};const g={x:0,y:0,width:u.width,height:u.height};switch(e){case"nwCornerRadius":{d={x:1,y:1},p={x:h.x-g.x,y:h.y-g.y};break}case"neCornerRadius":{d={x:-1,y:1},p={x:h.x-(g.x+g.width),y:h.y-g.y};break}case"seCornerRadius":{d={x:-1,y:-1},p={x:h.x-(g.x+g.width),y:h.y-(g.y+g.height)};break}case"swCornerRadius":{d={x:1,y:-1},p={x:h.x-g.x,y:h.y-(g.y+g.height)};break}}const y=(d.x*p.x+d.y*p.y)/Math.sqrt(d.x*d.x+d.y*d.y);l.cornerRadius=Math.min(this.getMaxCornerRadius(),Math.round(Math.max(y,0)*Math.cos(Math.PI/4)))}else Object.assign(l,super.calcNewAttrsByControlHandle(e,n,r,i,o,s,a));return l}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,uiType:"number"}]}getSVGTagHead(e){const n=[...this.attrs.transform];e&&(n[4]+=e.x,n[5]+=e.y);const r=this.attrs.cornerRadius??0,i=r>1?` rx="${r}"`:"";return`<rect width="${this.attrs.width}" height="${this.attrs.height}" transform="matrix(${n.join(" ")})"${i}`}getLayerIconPath(){const e=this.getBbox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=11/Math.max(n,r),o=new te().prepend(new te(...this.getWorldTransform())).translate(-e.minX-n/2,-e.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.attrs,a=i9({x:0,y:0,width:s.width,height:s.height},this.attrs.cornerRadius);return a.forEach(l=>{l.points.forEach((u,h)=>{l.points[h]=o.apply(u)})}),_a(a,5)}}class cw extends vt{constructor(e,n){super({...e,type:xe.RegularPolygon},n),k(this,"type",xe.RegularPolygon)}getAttrs(){return J({...this.attrs,count:this.attrs.count})}toJSON(){return{...super.toJSON(),count:this.attrs.count}}getPoints(){return m9(this.getSize(),this.attrs.count)}getMinBbox(){if(this._cacheMinBbox)return this._cacheMinBbox;const e=new te(...this.attrs.transform),n=this.getPoints().map(i=>e.apply(i)),r=Ch(n);return this._cacheMinBbox=r,r}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1);this._realDraw({...e,opacity:n})}drawOutline(e,n,r){this._realDraw({ctx:e},{stroke:[{type:ee.Solid,attrs:Kt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(e,n){const r=this.attrs,{fill:i,strokeWidth:o,stroke:s,transform:a}=n||this.attrs,{ctx:l,imgManager:u,smooth:h}=e;l.save(),l.transform(...a??r.transform);const d=e.opacity??1;d<1&&(l.globalAlpha=d);const p=g=>{const y=this.toPathCmds();g.beginPath();for(const m of y)m.type==="M"?g.moveTo(m.points[0].x,m.points[0].y):m.type==="L"?g.lineTo(m.points[0].x,m.points[0].y):m.type==="C"?g.bezierCurveTo(m.points[0].x,m.points[0].y,m.points[1].x,m.points[1].y,m.points[2].x,m.points[2].y):m.type==="Z"&&g.closePath();for(const m of i??[])if(m.visible!==!1)switch(m.type){case ee.Solid:{g.fillStyle=mr(m.attrs),g.fill();break}case ee.Image:u?(g.clip(),this.fillImage(g,m,u,h)):console.warn("ImgManager is not provided")}if(o){g.lineWidth=o;for(const m of s??[])if(m.visible!==!1)switch(m.type){case ee.Solid:{g.strokeStyle=mr(m.attrs),g.stroke();break}case ee.Image:}}g.closePath()};d!==1?Eh({originCtx:l,viewSize:this.doc.getDeviceViewSize(),draw:p}):p(l),l.restore()}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"N",key:"count",value:this.attrs.count,min:3,max:60,uiType:"number"},{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,min:0,max:100,uiType:"number"}]}updateAttrs(e,n){super.updateAttrs(e,n)}hitTest(e,n){const r=new te(...this.getWorldTransform()).applyInverse(e);return y9(this.getPoints(),r)}getSVGTagHead(e){const n=[...this.attrs.transform];return e&&(n[4]+=e.x,n[5]+=e.y),(this.attrs.cornerRadius??0)>0?`<path d="${_a(this.toPathCmds(),10)}" transform="matrix(${n.join(" ")})"`:`<polygon points="${this.getPoints().map(r=>`${r.x},${r.y}`).join(" ")}" transform="matrix(${n.join(" ")})"`}toPathCmds(){let e=[];const n=this.getPoints(),r=this.attrs.cornerRadius??0;return r>0?e=yT(n,r):(e=n.map((i,o)=>({type:o===0?"M":"L",points:[i]})),e.push({type:"Z",points:[]})),e}getLayerIconPath(){const e=this.getBbox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=11/Math.max(n,r),o=new te().prepend(new te(...this.getWorldTransform())).translate(-e.minX-n/2,-e.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.toPathCmds();for(const a of s)a.points=a.points.map(l=>o.apply(l));return _a(s,5)}}let $T=class extends vt{constructor(e,n){super({...e,type:xe.Star},n),k(this,"type",xe.Star)}getAttrs(){return J({...this.attrs,count:this.attrs.count})}toJSON(){return{...super.toJSON(),count:this.attrs.count}}getPoints(){return S9(this.getSize(),this.attrs.count,this.attrs.starInnerScale)}getMinBbox(){if(this._cacheMinBbox)return this._cacheMinBbox;const e=new te(...this.attrs.transform),n=this.getPoints().map(i=>e.apply(i)),r=Ch(n);return this._cacheMinBbox=r,r}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1);this._realDraw({...e,opacity:n})}drawOutline(e,n,r){this._realDraw({ctx:e},{stroke:[{type:ee.Solid,attrs:Kt(n)}],strokeWidth:r,transform:this.getWorldTransform()})}_realDraw(e,n){const{fill:r,strokeWidth:i,stroke:o,transform:s}=n||this.attrs,{ctx:a,imgManager:l,smooth:u}=e;a.save(),a.transform(...s);const h=e.opacity??1;h<1&&(a.globalAlpha=h);const d=p=>{const g=this.toPathCmds();p.beginPath();for(const y of g)y.type==="M"?p.moveTo(y.points[0].x,y.points[0].y):y.type==="L"?p.lineTo(y.points[0].x,y.points[0].y):y.type==="C"?p.bezierCurveTo(y.points[0].x,y.points[0].y,y.points[1].x,y.points[1].y,y.points[2].x,y.points[2].y):y.type==="Z"&&p.closePath();for(const y of r??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{p.fillStyle=mr(y.attrs),p.fill();break}case ee.Image:l?(p.clip(),this.fillImage(p,y,l,u)):console.warn("ImgManager is not provided")}if(i){p.lineWidth=i;for(const y of o??[])if(y.visible!==!1)switch(y.type){case ee.Solid:{p.strokeStyle=mr(y.attrs),p.stroke();break}case ee.Image:}}p.closePath()};h!==1?Eh({originCtx:a,viewSize:this.doc.getDeviceViewSize(),draw:d}):d(a),a.restore()}getInfoPanelAttrs(){return[...super.getInfoPanelAttrs(),{label:"N",key:"count",value:this.attrs.count,min:3,max:60,uiType:"number"},{label:"C",key:"cornerRadius",value:this.attrs.cornerRadius??0,uiType:"number"},{label:"T",key:"starInnerScale",value:this.attrs.starInnerScale,min:.001,max:1,uiType:"percent"}]}updateAttrs(e,n){super.updateAttrs(e,n)}hitTest(e,n){const r=new te(...this.getWorldTransform()).applyInverse(e);return v9(this.getPoints(),r)}getSVGTagHead(e){const n=[...this.attrs.transform];return e&&(n[4]+=e.x,n[5]+=e.y),(this.attrs.cornerRadius??0)>0?`<path d="${_a(this.toPathCmds(),10)}" transform="matrix(${n.join(" ")})"`:`<polygon points="${this.getPoints().map(r=>`${r.x},${r.y}`).join(" ")}" transform="matrix(${n.join(" ")})"`}toPathCmds(){let e=[];const n=this.getPoints(),r=this.attrs.cornerRadius??0;return r>0?e=yT(n,r):(e=n.map((i,o)=>({type:o===0?"M":"L",points:[i]})),e.push({type:"Z",points:[]})),e}getLayerIconPath(){const e=this.getBbox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=11/Math.max(n,r),o=new te().prepend(new te(...this.getWorldTransform())).translate(-e.minX-n/2,-e.minY-r/2).scale(i,i).translate(12/2,12/2),s=this.toPathCmds();for(const a of s)a.points=a.points.map(l=>o.apply(l));return _a(s,5)}};const R9=80,j9=30,sS=document.createElement("canvas").getContext("2d");let vg=class extends vt{constructor(e,n){if(super({...e,type:xe.Text,width:e.width??R9,height:e.height??j9},n),k(this,"type",xe.Text),k(this,"_glyphs",null),k(this,"contentMetrics",null),e.autoFit){sS.font=`${e.fontSize}px ${e.fontFamily}`;const{width:r}=sS.measureText(e.content);this.attrs.width=r,this.attrs.height=e.fontSize}}updateAttrs(e){const n="content"in e&&e.content!==this.attrs.content,r="fontSize"in e||"fontFamily"in e,i="fontFamily"in e&&e.fontFamily!==this.attrs.fontFamily;(n||r||i)&&(this._glyphs=null),super.updateAttrs(e)}draw(e){if(this.shouldSkipDraw(e))return;const n=this.getOpacity()*(e.opacity??1),{transform:r,fill:i,stroke:o,fontSize:s,content:a,fontFamily:l}=this.attrs,{ctx:u}=e;u.save(),u.transform(...r),n<1&&(u.globalAlpha=n),u.beginPath(),u.font=`${s}px ${l??"sans-serif"}`;for(const h of i??[])switch(h.type){case ee.Solid:{u.fillStyle=mr(h.attrs);break}case ee.Image:}u.fontKerning="none",u.translate(0,this.getContentMetrics().fontBoundingBoxAscent),u.fillText(a,0,0),u.restore()}getSVGTagHead(e){const n=[...this.attrs.transform];return n[5]+=this.attrs.fontSize,e&&(n[4]+=e.x,n[5]+=e.y),`<text x="0" y="0" transform="matrix(${n.join(" ")})"`}getSVGTagTail(){return`>${f6(this.attrs.content)}</text>`}getLayerIconPath(){return"M0 0H11V3H10V1H6V9H7.5V10H3.5V9H5V1H1V3H0V0Z"}getGlyphs(){return this._glyphs?this._glyphs:(this._glyphs=C9(this.attrs.content,{fontSize:this.attrs.fontSize,fontFamily:this.attrs.fontFamily}),this._glyphs)}getContentMetrics(){return this.contentMetrics?this.contentMetrics:(this.contentMetrics=xT(this.attrs.content,{fontSize:this.attrs.fontSize,fontFamily:this.attrs.fontFamily}),this.contentMetrics)}getContentLength(){return this.getGlyphs().length-1}isFillShouldRender(){return!0}getCursorIndex(e){e=iw(this.getWorldTransform(),e);const n=this.getGlyphs();let r=0,i=n.length-1;for(;r<=i;){const o=Math.floor((r+i)/2),s=n[o];e.x<s.position.x?i=o-1:r=o+1}return r===0?0:r>=n.length?n.length-1:n[r].position.x-e.x>e.x-n[i].position.x?i:r}};const ts={Rect:"Rect",Ellipse:"Ellipse",Line:"Line",RegularPolygon:"Polygon",Star:"Star",Path:"Path",Text:"Text",Group:"Group",Frame:"Frame"};let mt=class{constructor(e){k(this,"originAttrsMap",new Map),k(this,"updatedAttrsMap",new Map),k(this,"removedIds",new Set),k(this,"newIds",new Set),k(this,"isCommitDone",!1),this.editor=e}recordOld(e,n){return this.originAttrsMap.set(e,n),this}update(e,n){return this.updatedAttrsMap.set(e,n),this}remove(e){return this.removedIds.add(e),this}addNewIds(e){for(const n of e)this.newIds.add(n);return this}updateParentSize(e){return Yu(this.editor,js(e),this.originAttrsMap,this.updatedAttrsMap),this}updateNodeSize(e){return Yu(this.editor,e,this.originAttrsMap,this.updatedAttrsMap),this}commit(e){if(this.isCommitDone){console.error("It had committed before, can not commit again!");return}this.editor.commandManager.pushCommand(new mg(e,this.editor,this.originAttrsMap,this.updatedAttrsMap,this.removedIds,this.newIds)),this.isCommitDone=!0}};const D9=(t,e)=>{const n={[tt.Left]:o=>o.x,[tt.HCenter]:o=>o.x+o.width/2,[tt.Right]:o=>o.x+o.width,[tt.Top]:o=>o.y,[tt.VCenter]:o=>o.y+o.height/2,[tt.Bottom]:o=>o.y+o.height}[e];if(!n)return!1;const r=t.map(o=>Yo(o)),i=n(r[0]);return r.every(o=>n(o)===i)},Fr=(t,e)=>{if(t.selectedElements.size()<2){console.warn("can align zero or two elements, fail silently");return}const n=t.selectedElements.getItems(),r=n.map(l=>l.getBbox()),i=n.map(l=>l.getWorldTransform()),o=Jo(r);if(D9(r,e))return;const s=new mt(t),a=(l,u,h,d)=>{s.recordOld(l.attrs.id,{transform:J(l.attrs.transform)});const p=J(u);p[4]+=h,p[5]+=d,l.setWorldTransform(p),s.update(l.attrs.id,{transform:J(l.attrs.transform)})};switch(e){case tt.Left:{for(let l=0;l<n.length;l++){const u=n[l],h=o.minX-r[l].minX;h!==0&&a(u,i[l],h,0)}break}case tt.HCenter:{const l=o.minX/2+o.maxX/2;for(let u=0;u<n.length;u++){const h=n[u],d=l-(r[u].minX/2+r[u].maxX/2);d!==0&&a(h,i[u],d,0)}break}case tt.Right:{for(let l=0;l<n.length;l++){const u=n[l],h=o.maxX-r[l].maxX;h!==0&&a(u,i[l],h,0)}break}case tt.Top:{for(let l=0;l<n.length;l++){const u=n[l],h=o.minY-r[l].minY;h!==0&&a(u,i[l],0,h)}break}case tt.VCenter:{const l=o.minY/2+o.maxY/2;for(let u=0;u<n.length;u++){const h=n[u],d=l-(r[u].minY/2+r[u].maxY/2);d!==0&&a(h,i[u],0,d)}break}case tt.Bottom:{for(let l=0;l<n.length;l++){const u=n[l],h=o.maxY-r[l].maxY;h!==0&&a(u,i[l],0,h)}break}default:{console.warn("invalid type:",e);break}}s.updateParentSize(n),s.commit("Align "+e),t.render()},ws=(t,e)=>{t.selectedElements.size()===0&&console.warn("can't arrange, no element");const n=t.selectedElements.getItems(),r=new mt(t),i=new Map;for(const s of n){const a=s.getParent();i.has(a)||i.set(a,new Set),i.get(a).add(s)}let o=!0;switch(e){case _r.Front:{o=L9(r,i);break}case _r.Back:{o=N9(r,i);break}case _r.Forward:{o=B9(r,i);break}case _r.Backward:{o=F9(r,i);break}default:console.warn(`invalid type ${e}`);break}o?(r.commit(`Arrange ${e}`),t.render()):console.log("No need to arrange.")},L9=(t,e)=>{let n=!1;for(const[r,i]of e){if(r.getChildrenCount()===i.size)continue;const{count:o}=AT(r.getChildren(),i);if(o===i.size)continue;n=!0;const s=r.getMaxChildIndex(),a=vt.sortGraphicsArray(Array.from(i)),l=ka(s,null,a.length);for(let u=0;u<a.length;u++){const h=a[u];t.recordOld(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:r.attrs.id,position:l[u]}}),t.update(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)})}r.markSortDirty(),r.sortChildren()}return n},N9=(t,e)=>{let n=!1;for(const[r,i]of e){if(r.getChildrenCount()===i.size)continue;const{count:o}=TT(r.getChildren(),i);if(o===i.size)continue;n=!0;const s=r.getMinChildIndex(),a=vt.sortGraphicsArray(Array.from(i)),l=ka(null,s,a.length);for(let u=0;u<a.length;u++){const h=a[u];t.recordOld(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:r.attrs.id,position:l[u]}}),t.update(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)})}r.markSortDirty(),r.sortChildren()}return n},B9=(t,e)=>{var n;let r=!1;for(const[i,o]of e){if(i.getChildrenCount()===o.size)continue;const s=i.getChildren(),{index:a,count:l}=AT(s,o);if(l!==o.size){r=!0;for(let u=a;u>=0;u--){const h=s[u];if(o.has(h)){const d=s[u+1].getSortIndex(),p=((n=s[u+2])==null?void 0:n.getSortIndex())??null,g=No(d,p);X$(s,u,u+1),t.recordOld(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:i.attrs.id,position:g}}),t.update(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)})}}i.markSortDirty(),i.sortChildren()}}return r},F9=(t,e)=>{var n;let r=!1;for(const[i,o]of e){if(i.getChildrenCount()===o.size)continue;const s=i.getChildren(),{index:a,count:l}=TT(s,o);if(l!==o.size){r=!0;for(let u=a;u<=s.length;u++){const h=s[u];if(o.has(h)){const d=((n=s[u-2])==null?void 0:n.getSortIndex())??null,p=s[u-1].getSortIndex(),g=No(d,p);X$(s,u,u-1),t.recordOld(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)}),h.updateAttrs({parentIndex:{guid:i.attrs.id,position:g}}),t.update(h.attrs.id,{parentIndex:J(h.attrs.parentIndex)})}}i.markSortDirty(),i.sortChildren()}}return r},TT=(t,e)=>{let n=0,r=0;for(;n<t.length&&e.has(t[n]);n++)r++;return{index:n,count:r}},AT=(t,e)=>{let n=t.length-1,r=0;for(;n>=0&&e.has(t[n]);n--)r++;return{index:n,count:r}},H9={exportOriginFile:(t,e="design")=>{const n=t.sceneGraph.toJSON(),r=new Blob([n],{type:"application/json"});z9(r,e+".suika")}},z9=(t,e)=>{const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.setAttribute("download",e),r.click()},MT=(t,e)=>{IT(t,e,{x:-1,y:1})},PT=(t,e)=>{IT(t,e,{x:1,y:-1})},IT=(t,e,n)=>{const r=e.length;if(r===0){console.warn("graphics should not be empty");return}let i;r===1?i=e[0].getWorldCenter():i=A9(Jo(e.map(s=>s.getBbox())));const o=new te().translate(-i.x,-i.y).scale(n.x,n.y).translate(i.x,i.y);U9(t,e,o.getArray(),"Flip Vertical")},U9=(t,e,n,r)=>{const i=new mt(t);for(const o of e)i.recordOld(o.attrs.id,{transform:J(o.attrs.transform)}),o.prependWorldTransform(n),i.update(o.attrs.id,{transform:J(o.attrs.transform)});i.updateParentSize(e),i.commit(r)},OT=(t,e)=>{if(t.length===0){console.warn("graphics should not be empty");return}t=vt.sortGraphics(t);const n=js(t),r=t.at(-1),i=r.getParent(),o=Vi(i.getWorldTransform()),s=r.getSortIndex(),a=Yo(Jo(t.map(d=>yu({...d.getSize(),transform:hr(o,d.getWorldTransform())})))),l=new kh({objectName:es(i,ts.Group),width:a.width,height:a.height,resizeToFit:!0},{advancedAttrs:{x:a.x,y:a.y},doc:e.doc});i.insertChild(l,s);const u=Vi(l.getWorldTransform()),h=new mt(e);h.addNewIds([l.attrs.id]);for(const d of t)h.recordOld(d.attrs.id,{parentIndex:J(d.attrs.parentIndex),transform:J(d.attrs.transform)}),d.updateAttrs({transform:hr(u,d.getWorldTransform())}),l.insertChild(d),h.update(d.attrs.id,{parentIndex:J(d.attrs.parentIndex),transform:J(d.attrs.transform)});h.updateNodeSize(n),h.commit("group"),e.sceneGraph.addItems([l]),e.selectedElements.setItems([l])},G9={importOriginFile:t=>{V9(".suika",e=>{t.setContents(JSON.parse(e))})}};function V9(t,e){const n=document.createElement("input");n.type="file",n.accept=t,n.style.display="none",n.addEventListener("change",function(r){var i;const o=(i=r.target.files)==null?void 0:i[0];if(!o)return;const s=new FileReader;s.onload=function(a){var l;const u=(l=a.target)==null?void 0:l.result;u&&e(u)},s.readAsText(o)}),n.click()}const jn={setX({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return;const i=new mt(t);for(const o of e){i.recordOld(o.attrs.id,{transform:J(o.attrs.transform)});const s=o.getWorldTransform(),a=r?s[4]+n:n;s[4]=a,o.setWorldTransform(s),i.update(o.attrs.id,{transform:J(o.attrs.transform)})}i.updateParentSize(e),i.commit("Update X of Elements")},setY({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return;const i=new mt(t);for(const o of e){i.recordOld(o.attrs.id,{transform:J(o.attrs.transform)});const s=o.getWorldTransform(),a=r?s[5]+n:n;s[5]=a,o.setWorldTransform(s),i.update(o.attrs.id,{transform:J(o.attrs.transform)})}i.updateParentSize(e),i.commit("Update Y of Elements")},setWidth({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){let i=!1;if(e.length===0)return!1;const o=new mt(t);for(const s of e){o.recordOld(s.attrs.id,{width:s.attrs.width});let a=r?s.attrs.width+n:n;a<=0&&(a=1e-7),a!==s.attrs.width&&(i=!0),s.updateAttrs({width:a}),o.update(s.attrs.id,{width:s.attrs.width})}return i&&(o.updateParentSize(e),o.commit("Update Width of Elements")),i},setHeight({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return!1;let i=!1;const o=new mt(t);for(const s of e){o.recordOld(s.attrs.id,{height:s.attrs.height});let a=r?s.attrs.height+n:n;a<=0&&(a=0),a!==s.attrs.height&&(i=!0),s.updateAttrs({height:a}),o.update(s.attrs.id,{height:s.attrs.height})}return i&&(o.updateParentSize(e),o.commit("Update Height of Elements")),i},setRotation({editor:t,graphicsArr:e,rotation:n,isDelta:r=!1}){if(e.length===0)return;const i=new mt(t);for(const o of e){i.recordOld(o.attrs.id,{transform:J(o.attrs.transform)});const s=r?o.getRotate()+n:n;o.setRotate(s),i.update(o.attrs.id,{transform:J(o.attrs.transform)})}i.updateParentSize(e),i.commit("Update Rotation")},setCornerRadius({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return!1;let i=!1;const o=e.filter(a=>a.type===xe.Rect||a.type===xe.RegularPolygon||a.type===xe.Star),s=new mt(t);for(const a of o){s.recordOld(a.attrs.id,{cornerRadius:a.attrs.cornerRadius});const l=a.attrs.cornerRadius??0;let u=r?l+n:n;u<=0&&(u=0),u!==l&&(i=!0),a.updateAttrs({cornerRadius:u}),s.update(a.attrs.id,{cornerRadius:a.attrs.cornerRadius})}return i&&s.commit("Update CornerRadius of Elements"),i},setCount({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return;let i=!1;const o=e.filter(a=>a.type===xe.RegularPolygon||a.type===xe.Star),s=new mt(t);for(const a of o){s.recordOld(a.attrs.id,{count:a.attrs.count});const l=a.attrs.count??0;let u=r?l+n:n;u<=3&&(u=3),u!==l&&(i=!0),a.updateAttrs({count:u}),s.update(a.attrs.id,{count:a.attrs.count})}return i&&s.commit("Update Count of Elements"),i},setStarInnerScale({editor:t,graphicsArr:e,val:n,isDelta:r=!1}){if(e.length===0)return;let i=!1;const o=e.filter(a=>a.type===xe.Star),s=new mt(t);for(const a of o){s.recordOld(a.attrs.id,{starInnerScale:a.attrs.starInnerScale});const l=a.attrs.starInnerScale??0;let u=r?l+n:n;u<=.001&&(u=.001),u!==l&&(i=!0),a.updateAttrs({starInnerScale:u}),s.update(a.attrs.id,{starInnerScale:a.attrs.starInnerScale})}return i&&s.commit("Update StarInnerScale of Elements"),i},toggleVisible(t,e){if(e.length===0)return;const n=e.some(i=>!i.isVisible()),r=new mt(t);for(const i of e)r.recordOld(i.attrs.id,{visible:i.attrs.visible}),i.updateAttrs({visible:n}),r.update(i.attrs.id,{visible:n});r.updateParentSize(e),r.commit("update visible of graphs")},toggleLock(t,e){if(e.length===0)return;const n=e.some(i=>!i.isLock()),r=e.map(i=>({lock:i.attrs.lock}));e.forEach(i=>{i.updateAttrs({lock:n})}),t.commandManager.pushCommand(new to("update lock of graphs",e,{lock:n},r))},setGraphName(t,e,n){const r=[{objectName:e.attrs.objectName}];e.updateAttrs({objectName:n}),t.commandManager.pushCommand(new to("update name of graphics",[e],{objectName:n},r))}},RT=(t,e)=>{var n;const r=t.filter(l=>Ln(l));if(r.length===0){console.log("no frame graphics, no ungroup");return}const i=js(t),o=new Map;for(const l of r){const u=l.getParentId();if(!u){console.warn(`graphics ${u} lost`);continue}o.has(u)||o.set(u,new Set),o.get(u).add(l)}const s=new mt(e);let a=[];for(const[l,u]of o){const h=e.doc.getGraphicsById(l).getChildren();for(let d=0;d<h.length;d++){const p=h[d];if(!Ln(p)||!u.has(p))continue;const g=((n=h[d-1])==null?void 0:n.getSortIndex())??null,y=p.getSortIndex();p.removeFromParent(),p.setDeleted(!0),s.remove(p.attrs.id);const m=W9(s,l,p,g,y);a=a.concat(m)}}s.updateNodeSize(i),s.commit("ungroup"),e.selectedElements.setItems(a),e.selectedElements.setHoverItem(null)},W9=(t,e,n,r,i)=>{const o=n.getChildren(),s=ka(r,i,o.length);for(let a=0;a<o.length;a++){const l=o[a],u=l.getWorldTransform();t.recordOld(l.attrs.id,{parentIndex:J(l.attrs.parentIndex),transform:J(l.attrs.transform)}),l.updateAttrs({parentIndex:{guid:e,position:s[a]}}),l.insertAtParent(s[a]),l.setWorldTransform(u),t.update(l.attrs.id,{parentIndex:J(l.attrs.parentIndex),transform:J(l.attrs.transform)})}return o};class X9{constructor(e){k(this,"isBound",!1),this.editor=e}bindKey(){if(this.isBound){console.warn("CommandKeyBinding has been bound, please destroy it first");return}this.isBound=!0;const e=this.editor,n=()=>e.commandManager.undo();e.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyZ"},winKey:{ctrlKey:!0,keyCode:"KeyZ"},when:L=>!L.isToolDragging,actionName:"Undo",action:n});const r=()=>e.commandManager.redo();e.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyZ"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyZ"},when:L=>!L.isToolDragging,actionName:"Redo",action:r});const i=()=>{e.hostEventManager.isEnableDelete&&e.selectedElements.removeFromScene()};e.keybindingManager.register({key:[{keyCode:"Backspace"},{keyCode:"Delete"}],when:L=>!L.isToolDragging,actionName:"Delete",action:i});const o=()=>{e.selectedElements.selectAll(),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyA"},winKey:{ctrlKey:!0,keyCode:"KeyA"},actionName:"Select All",action:o});const s=()=>{this.editor.toolManager.getActiveToolName()==="select"?e.selectedElements.clear():this.editor.toolManager.setActiveTool("select"),e.render()};e.keybindingManager.register({key:{keyCode:"Escape"},when:L=>!L.isToolDragging,actionName:"Back to Select Tool or Cancel Select",action:s});const a=()=>{e.setting.set("enableRuler",!e.setting.get("enableRuler")),e.render()};e.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyR"},actionName:"Toggle Rulers",action:a});const l=()=>{e.zoomManager.zoomToFit(),e.render()};e.keybindingManager.register({key:{shiftKey:!0,keyCode:"Digit1"},actionName:"Zoom To Fit",action:l});const u=()=>{e.zoomManager.zoomToSelection(),e.render()};e.keybindingManager.register({key:{shiftKey:!0,keyCode:"Digit2"},actionName:"Zoom To Selection",action:u});const h=()=>{e.zoomManager.zoomIn({isLevelZoom:!0}),e.render()};e.keybindingManager.register({key:[{metaKey:!0,keyCode:"Equal"},{keyCode:"Equal"}],winKey:{ctrlKey:!0,keyCode:"Equal"},actionName:"Zoom In",action:h});const d=()=>{e.zoomManager.zoomOut({isLevelZoom:!0}),e.render()};e.keybindingManager.register({key:[{metaKey:!0,keyCode:"Minus"},{keyCode:"Minus"}],winKey:{ctrlKey:!0,keyCode:"Minus"},actionName:"Zoom Out",action:d});const p=()=>{e.zoomManager.setZoomAndUpdateViewport(1),e.render()};e.keybindingManager.register({key:[{metaKey:!0,keyCode:"Digit0"},{shiftKey:!0,keyCode:"Digit0"}],winKey:[{ctrlKey:!0,keyCode:"Digit0"},{shiftKey:!0,keyCode:"Digit0"}],actionName:"Zoom To 100%",action:p});const g=()=>{e.setting.set("enablePixelGrid",!e.setting.get("enablePixelGrid")),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"Quote"},winKey:{ctrlKey:!0,keyCode:"Quote"},actionName:"Toggle Grid",action:g});const y=()=>{e.setting.set("snapToGrid",!e.setting.get("snapToGrid")),e.render()};e.keybindingManager.register({key:{shiftKey:!0,metaKey:!0,keyCode:"Quote"},winKey:{shiftKey:!0,ctrlKey:!0,keyCode:"Quote"},actionName:"Snap To Grid",action:y});const m=()=>{ws(e,_r.Front),e.render()};e.keybindingManager.register({key:{keyCode:"BracketRight"},when:L=>!L.isToolDragging,actionName:"Front",action:m});const C=()=>{ws(e,_r.Back),e.render()};e.keybindingManager.register({key:{keyCode:"BracketLeft"},when:L=>!L.isToolDragging,actionName:"Back",action:C});const x=()=>{ws(e,_r.Forward),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"BracketRight"},winKey:{ctrlKey:!0,keyCode:"BracketRight"},when:L=>!L.isToolDragging,actionName:"Forward",action:x});const v=()=>{ws(e,_r.Backward),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"BracketLeft"},winKey:{ctrlKey:!0,keyCode:"BracketLeft"},when:L=>!L.isToolDragging,actionName:"Backward",action:v}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyA"},when:L=>!L.isToolDragging,actionName:"AlignLeft",action:()=>{Fr(e,tt.Left)}}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyH"},when:L=>!L.isToolDragging,actionName:"AlignHorizontalCenters",action:()=>{Fr(e,tt.HCenter)}}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyD"},when:L=>!L.isToolDragging,actionName:"AlignRight",action:()=>{Fr(e,tt.Right)}}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyW"},when:L=>!L.isToolDragging,actionName:"AlignTop",action:()=>{Fr(e,tt.Top)}}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyV"},when:L=>!L.isToolDragging,actionName:"AlignVerticalCenters",action:()=>{Fr(e,tt.VCenter)}}),e.keybindingManager.register({key:{altKey:!0,keyCode:"KeyS"},when:L=>!L.isToolDragging,actionName:"AlignBottom",action:()=>{Fr(e,tt.Bottom)}});const b=()=>{OT(this.editor.selectedElements.getItems(),e),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyG"},winKey:{ctrlKey:!0,keyCode:"KeyG"},when:L=>!L.isToolDragging,actionName:"Group",action:b});const E=()=>{RT(this.editor.selectedElements.getItems(),e),e.render()};e.keybindingManager.register({key:{metaKey:!0,keyCode:"Backspace"},winKey:{ctrlKey:!0,keyCode:"Backspace"},when:L=>!L.isToolDragging,actionName:"Ungroup",action:E});const A=()=>{jn.toggleVisible(e,e.selectedElements.getItems()),e.render()};e.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyH"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyH"},when:L=>!L.isToolDragging,actionName:"Show/Hide",action:A});const $=()=>{jn.toggleLock(e,e.selectedElements.getItems()),e.render()};e.keybindingManager.register({key:{metaKey:!0,shiftKey:!0,keyCode:"KeyL"},winKey:{ctrlKey:!0,shiftKey:!0,keyCode:"KeyL"},when:L=>!L.isToolDragging,actionName:"Lock/Unlock",action:$});const M=()=>{PT(e,e.selectedElements.getItems()),e.render()};e.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyV"},winKey:{shiftKey:!0,keyCode:"KeyV"},when:L=>!L.isToolDragging,actionName:"FlipVertical",action:M});const I=()=>{MT(e,e.selectedElements.getItems()),e.render()};e.keybindingManager.register({key:{shiftKey:!0,keyCode:"KeyH"},winKey:{shiftKey:!0,keyCode:"KeyH"},when:L=>!L.isToolDragging,actionName:"FlipHorizontal",action:I});const N=()=>{const L=e.selectedElements.getItems(),F=[];let X=!1;for(const G of L)Ln(G)&&G.isGroup()?(F.push(...G.getChildren()),X=!0):F.push(G);X&&(e.selectedElements.setItems(F),e.render())},O=()=>{const L=e.selectedElements.size();if(!(e.pathEditor.isActive()||L===0))if(L===1){const F=e.selectedElements.getItems()[0];F instanceof Mn?e.pathEditor.active(F):F instanceof vg?e.textEditor.active({textGraphics:F,pos:F.getWorldPosition(),range:{start:0,end:F.getContentLength()}}):Ln(F)&&F.isGroup()&&N()}else N()};e.keybindingManager.register({key:{keyCode:"Enter"},when:L=>!L.isToolDragging,actionName:"EnterGraphEdit",action:O})}destroy(){this.isBound=!1}}class K9{constructor(e){k(this,"unbindHandler",Ca),k(this,"hadBound",!1),k(this,"transaction"),this.editor=e,this.transaction=new mt(e)}bindKey(){if(this.hadBound){console.warn("MoveGraphsKeyBinding had already bound, please unbind first");return}this.hadBound=!0;const e=this.editor;let n=!0;const r=O6(h=>{this.editor.controlHandleManager.showCustomHandles(),n=!0;for(const d of h)this.transaction.update(d.attrs.id,{transform:J(d.attrs.transform)});this.editor.commandManager.enableRedoUndo(),this.transaction.commit("Move elements by direction key"),this.transaction=new mt(e)},e.setting.get("moveElementsDelay")),i=()=>{r.flush()},o={ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1},s=()=>o.ArrowLeft||o.ArrowRight||o.ArrowUp||o.ArrowDown,a=h=>{const d=e.selectedElements.getItems();if(d.length===0||(h.key in o&&(o[h.key]=!0),!s()))return;if(n){for(const g of d)this.transaction.recordOld(g.attrs.id,{transform:J(g.attrs.transform)});n=!1}let p=e.setting.get("smallNudge");h.shiftKey&&(p=e.setting.get("bigNudge")),o.ArrowLeft&&vt.dMove(d,-p,0),o.ArrowRight&&vt.dMove(d,p,0),o.ArrowUp&&vt.dMove(d,0,-p),o.ArrowDown&&vt.dMove(d,0,p),this.transaction.updateParentSize(d),this.editor.commandManager.disableRedoUndo(),this.editor.controlHandleManager.hideCustomHandles(),r(d),e.render()},l=h=>{const d=h.key;d in o&&(o[d]=!1)},u=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];this.editor.keybindingManager.register({key:[...u.map(h=>({keyCode:h})),...u.map(h=>({shiftKey:!0,keyCode:h}))],actionName:"Move Elements",action:a}),window.addEventListener("keyup",l),e.commandManager.on("beforeExecCmd",i),this.unbindHandler=()=>{window.removeEventListener("keyup",l),e.commandManager.off("beforeExecCmd",i)}}destroy(){this.unbindHandler(),this.hadBound=!1}}class Y9{constructor(e){k(this,"isShiftPressing",!1),k(this,"isCtrlPressing",!1),k(this,"isAltPressing",!1),k(this,"isCommandPressing",!1),k(this,"isSpacePressing",!1),k(this,"isWheelBtnPressing",!1),k(this,"isDraggingCanvasBySpace",!1),k(this,"isEnableDelete",!0),k(this,"isEnableContextMenu",!0),k(this,"moveGraphsKeyBinding"),k(this,"commandKeyBinding"),k(this,"eventEmitter",new Fn),k(this,"unbindHandlers",[]),this.editor=e,this.moveGraphsKeyBinding=new K9(e),this.commandKeyBinding=new X9(e)}bindHotkeys(){this.observeModifiersToggle(),this.bindWheelEvent(),this.bindContextMenu(),this.moveGraphsKeyBinding.bindKey(),this.commandKeyBinding.bindKey()}observeModifiersToggle(){const e=n=>{const r=this.isShiftPressing,i=this.isAltPressing,o=this.isSpacePressing;this.isShiftPressing=n.shiftKey,this.isCtrlPressing=n.ctrlKey,this.isAltPressing=n.altKey,this.isCommandPressing=n.metaKey,n.code==="Space"&&(this.isSpacePressing=n.type==="keydown"),r!==this.isShiftPressing&&this.eventEmitter.emit("shiftToggle",this.isShiftPressing),i!==this.isAltPressing&&this.eventEmitter.emit("altToggle",this.isAltPressing),o!==this.isSpacePressing&&this.eventEmitter.emit("spaceToggle",this.isSpacePressing)};document.addEventListener("keydown",e),document.addEventListener("keyup",e),this.unbindHandlers.push(()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)})}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}bindWheelEvent(){const e=this.editor,n=i=>{if(i.ctrlKey||i.metaKey){i.preventDefault();const o=this.editor.getCursorXY(i);let s=i.deltaY>0;this.editor.setting.get("invertZoomDirection")&&(s=!s),s?e.zoomManager.zoomOut({center:o,deltaY:i.deltaY}):e.zoomManager.zoomIn({center:o,deltaY:i.deltaY}),e.render()}else{if(this.editor.canvasDragger.isActive()&&this.editor.canvasDragger.isPressing())return;const o=e.zoomManager.getZoom();e.viewportManager.translate(i.deltaX/o,i.deltaY/o),e.render()}},r=i=>{(i.ctrlKey||i.metaKey)&&i.preventDefault()};e.canvasElement.addEventListener("wheel",n),window.addEventListener("wheel",r,{passive:!1}),this.unbindHandlers.push(()=>{e.canvasElement.removeEventListener("wheel",n),window.removeEventListener("wheel",r)})}bindContextMenu(){const e=n=>{n.preventDefault(),this.isEnableContextMenu&&this.eventEmitter.emit("contextmenu",{x:n.clientX,y:n.clientY})};this.editor.canvasElement.addEventListener("contextmenu",e),this.unbindHandlers.push(()=>{this.editor.canvasElement.removeEventListener("contextmenu",e)})}enableDelete(){this.isEnableDelete=!0}disableDelete(){this.isEnableDelete=!1}enableContextmenu(){this.isEnableContextMenu=!0}disableContextmenu(){this.isEnableContextMenu=!1}destroy(){this.unbindHandlers.forEach(e=>e()),this.unbindHandlers=[],this.moveGraphsKeyBinding.destroy(),this.commandKeyBinding.destroy()}}var Xy=(t=>(t[t.Left=0]="Left",t[t.Mid=1]="Mid",t))(Xy||{});class Z9{constructor(e){k(this,"isWheelBtnPressing",!1),k(this,"eventEmitter",new Fn),k(this,"cursorPos",null),k(this,"startPos",{x:0,y:0}),k(this,"isPressing",!1),k(this,"maxDragDistance",0),k(this,"onPointerdown",n=>{if(n.target!==this.editor.canvasElement)return;this.updateIsWheelBtnPressing(n),this.isPressing=!0;const{pos:r,vwPos:i}=this.getPosAndVwPos(n);this.startPos={...r};const o=this.checkIfComboClick(n),s={pos:r,vwPos:i,nativeEvent:n,isComboClick:o};this.eventEmitter.emit("start",s),o&&this.eventEmitter.emit("comboClick",s)}),k(this,"onPointerMove",n=>{const r=n.target===this.editor.canvasElement;if(r||this.isPressing){const s=this.editor.getSceneCursorXY(n);this.setCursorPos(s)}const{pos:i,vwPos:o}=this.getPosAndVwPos(n);if(this.isPressing){const s=i.x-this.startPos.x,a=i.y-this.startPos.y,l=Math.max(Math.abs(s),Math.abs(a));this.maxDragDistance=Math.max(l,this.maxDragDistance),this.eventEmitter.emit("drag",{pos:i,vwPos:o,nativeEvent:n,isOutside:r,maxDragDistance:this.maxDragDistance})}else this.eventEmitter.emit("move",{pos:i,vwPos:o,nativeEvent:n,isOutside:r,maxDragDistance:this.maxDragDistance})}),k(this,"onPointerUp",n=>{this.updateIsWheelBtnPressing(n),this.isPressing=!1,this.maxDragDistance=0,(n.target===this.editor.canvasElement||this.isPressing)&&this.eventEmitter.emit("end",{...this.getPosAndVwPos(n),nativeEvent:n})}),k(this,"pointerDownTimeStamp",-1/0),k(this,"lastPointerDownPos",{x:-99,y:-99}),k(this,"checkIfComboClick",n=>{if(n.button!==0)return!1;const r=new Date().getTime(),i={x:n.pageX,y:n.pageY},o=r-this.pointerDownTimeStamp,s=Et(i,this.lastPointerDownPos);return o<this.editor.setting.get("comboClickMaxGap")&&s<this.editor.setting.get("comboClickDistanceTol")?(this.pointerDownTimeStamp=r,!0):(this.pointerDownTimeStamp=r,this.lastPointerDownPos=i,!1)}),this.editor=e,this.bindEvent()}getCursorPos(){return J(this.cursorPos)}setCursorPos(e){const n=this.cursorPos;this.cursorPos=e&&{x:e.x,y:e.y},Sh(n,this.cursorPos)||this.eventEmitter.emit("cursorPosUpdate",J(e))}getPosAndVwPos(e){const n=this.editor.getCursorXY(e);return{pos:this.editor.toScenePt(n.x,n.y),vwPos:n}}updateIsWheelBtnPressing(e){if(e.button===1){const n=this.isWheelBtnPressing;e.type==="pointerdown"?this.isWheelBtnPressing=!0:e.type==="pointerup"&&(this.isWheelBtnPressing=!1),n!==this.isWheelBtnPressing&&this.eventEmitter.emit("wheelBtnToggle",this.isWheelBtnPressing,e)}}bindEvent(){window.addEventListener("pointerdown",this.onPointerdown),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}unbindEvent(){window.removeEventListener("pointerdown",this.onPointerdown),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)}destroy(){this.unbindEvent()}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class q9{constructor(e){k(this,"_active",!1),k(this,"inactiveAfterPointerUp",!1),k(this,"isEnableDragCanvasBySpace",!0),k(this,"_isPressing",!1),k(this,"startVwPos",{x:0,y:0}),k(this,"startViewportPos",{x:0,y:0}),k(this,"eventEmitter",new Fn),k(this,"handleSpaceToggle",n=>{this.isEnableDragCanvasBySpace&&(n?this.active():this.inactive())}),k(this,"handleWheelBtnToggle",(n,r)=>{this.isEnableDragCanvasBySpace&&(n?this.active(r):this.inactive())}),k(this,"onStart",n=>{n.nativeEvent.button!==Xy.Left&&n.nativeEvent.button!==Xy.Mid||(this.editor.textEditor.isActive()&&n.nativeEvent.preventDefault(),this.editor.cursorManager.setCursor("grabbing"),this._isPressing=!0,this.startVwPos={...n.vwPos},this.startViewportPos=this.editor.viewportManager.getViewport())}),k(this,"onDrag",n=>{if(!this._isPressing)return;const r=n.vwPos.x-this.startVwPos.x,i=n.vwPos.y-this.startVwPos.y,o=this.editor.setting.get("dragBlockStep"),s=this.editor.zoomManager.getZoom();if(n.maxDragDistance>o/s){const a=this.startViewportPos.x-r/s,l=this.startViewportPos.y-i/s;this.editor.viewportManager.setViewport({x:a,y:l}),this.editor.render()}}),k(this,"onEnd",()=>{this.editor.cursorManager.setCursor("grab"),this._isPressing=!1,this.inactiveAfterPointerUp&&(this.inactiveAfterPointerUp=!1,this.inactive())}),this.editor=e,this.editor.hostEventManager.on("spaceToggle",this.handleSpaceToggle),this.editor.mouseEventManager.on("wheelBtnToggle",this.handleWheelBtnToggle)}isPressing(){return this._isPressing}isActive(){return this._active}active(e){if(this._active){console.warn("CanvasDragger already active");return}if(this.eventEmitter.emit("activeChange",!0),this._active=!0,this.editor.setCursor("grab"),this.bindEventWhenActive(),e){this.editor.setCursor("grabbing");const n=this.editor.getCursorXY(e);this.onStart({pos:this.editor.toScenePt(n.x,n.y),vwPos:n,nativeEvent:e})}}inactive(){if(this._isPressing)this.inactiveAfterPointerUp=!0;else{if(!this._active)return;this.eventEmitter.emit("activeChange",!1),this._active=!1,this.unbindEventWhenInactive(),this.editor.toolManager.setCursorWhenActive()}}enableDragBySpace(){this.isEnableDragCanvasBySpace=!0}disableDragBySpace(){this.isEnableDragCanvasBySpace=!1}bindEventWhenActive(){this.editor.mouseEventManager.on("start",this.onStart),this.editor.mouseEventManager.on("drag",this.onDrag),this.editor.mouseEventManager.on("end",this.onEnd)}unbindEventWhenInactive(){this.editor.mouseEventManager.off("start",this.onStart),this.editor.mouseEventManager.off("drag",this.onDrag),this.editor.mouseEventManager.off("end",this.onEnd)}destroy(){this.editor.hostEventManager.off("spaceToggle",this.handleSpaceToggle),this.editor.mouseEventManager.off("wheelBtnToggle",this.handleWheelBtnToggle),this.unbindEventWhenInactive()}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class Jl extends vt{constructor(e,n){super({...e,type:xe.Canvas},n),k(this,"type",xe.Canvas),k(this,"isContainer",!0)}getWorldTransform(){return zy()}getHitGraphics(e,n){const r=this.getChildren();for(let i=r.length-1;i>=0;i--){const o=r[i].getHitGraphics(e,n);if(o)return o}return null}shouldSkipDraw(){return!1}}const jT=t=>t instanceof Jl,Q9=t=>{const e=Jo(t.map(a=>a.getBboxWithStroke())),n=Yo(e),r={x:-e.minX,y:-e.minY},i=`<svg width="${n.width}" height="${n.height}" viewBox="0 0 ${n.width} ${n.height}" fill="none" xmlns="http://www.w3.org/2000/svg">
`,o="</svg>";let s="";for(const a of t)s+=a.toSVGSegment(r);return i+s+o};class J9{constructor(e){k(this,"unbindEvents",Ca),k(this,"hasBindEvents",!1),this.editor=e}bindEvents(){if(this.hasBindEvents){console.log("ClipboardManager has bind events, please destroy first");return}this.hasBindEvents=!0;const e=()=>{this.copy()},n=r=>{const i=r.clipboardData;if(!i||this.editor.textEditor.isActive()||(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)&&!this.editor.textEditor.isEditorInputDom(r.target))return;if(i.files.length>0){for(const s of i.files)if(s.type.includes("image")){const a=new FileReader;a.onload=l=>{var u;const h=(u=l.target)==null?void 0:u.result;this.createGraphicsWithImg(h)},a.readAsDataURL(s)}return}const o=i.getData("Text");this.addGraphsFromClipboard(o)};this.editor.keybindingManager.register({key:{metaKey:!0,keyCode:"KeyC"},winKey:{ctrlKey:!0,keyCode:"KeyC"},actionName:"Copy",action:e}),window.addEventListener("paste",n),this.unbindEvents=()=>{window.removeEventListener("paste",n)}}async createGraphicsWithImg(e){const n=this.editor;await n.imgManager.addImg(e);const r=n.imgManager.getImg(e),i=n.viewportManager.getCenter();if(r){const o=new An({objectName:"",width:r.width,height:r.height,fill:[{type:ee.Image,attrs:{src:e}}]},{advancedAttrs:{x:i.x-r.width/2,y:i.y-r.height/2},doc:n.doc});n.sceneGraph.addItems([o]),n.doc.getCanvas().insertChild(o),n.render()}}copy(){const e=this.getSelectedItemsSnapshot();e&&navigator.clipboard.writeText(e).then(()=>{console.log("copied")})}copyAsSVG(){const e=this.editor.selectedElements.getItems();if(e.length===0)return;const n=Q9(e);navigator.clipboard.writeText(n).then(()=>{console.log("SVG copied")})}pasteAt(e){navigator.clipboard.readText().then(n=>{this.addGraphsFromClipboard(n,e)})}getSelectedItemsSnapshot(){const e=vt.sortGraphics(this.editor.selectedElements.getItems());if(e.length===0)return null;const n=l6(),r=new Map,i=[];for(const s of e){const a=s.getAttrs();a.transform=s.getWorldTransform(),a.parentIndex=void 0;const l=n();r.set(a.id,l),a.id=l,i.push(a)}const o=yg(e);for(const s of o){const a=s.getAttrs(),l=n();r.set(a.id,l),a.id=l,a.parentIndex&&(a.parentIndex.guid=r.get(a.parentIndex.guid)),i.push(a)}return JSON.stringify({appVersion:this.editor.appVersion,paperId:this.editor.paperId,data:i})}updateAttrsParentIndex(e){let n=null,r=null;const i=vt.sortGraphics(this.editor.selectedElements.getItems()).at(-1)??this.editor.doc.getCurrCanvas();let o=i;if(jT(i)||Ln(i))n=i.getMaxChildIndex();else{o=i.getParent(),n=i.getSortIndex();const p=i.getNextSibling();r=p?p.getSortIndex():null}const s=o.attrs.id,a=Vi(o.getWorldTransform());let l=0;for(;l<e.length&&!e[l].parentIndex;)l++;const u=l,h=ka(n,r,u),d=new Map;for(let p=0;p<u;p++){const g=e[p];g.parentIndex={guid:s,position:h[p]};const y=Vu();d.set(g.id,y),g.id=y,g.transform=hr(a,g.transform)}for(;l<e.length;){const p=e[l],g=Vu();d.set(p.id,g),p.id=g,p.parentIndex.guid=d.get(p.parentIndex.guid),l++}return u}addGraphsFromClipboard(e,n){let r=null;try{r=JSON.parse(e)}catch{return}if(!(r&&typeof r=="object"&&r.appVersion.startsWith("suika-editor")&&r.data))return;const i=this.editor;if(r.data.length===0)return;const o=this.updateAttrsParentIndex(r.data),s=i.sceneGraph.createGraphicsArr(r.data);i.sceneGraph.addItems(s),i.sceneGraph.initGraphicsTree(s);const a=s.slice(0,o);i.selectedElements.setItems(a);const l=Yo(Jo(a.map(u=>u.getBbox())));if(!n&&r.paperId!==i.paperId){const u=this.editor.viewportManager.getCenter();n={x:u.x-l.width/2,y:u.y-l.height/2}}if(n){const u=n.x-l.x,h=n.y-l.y;(u||h)&&vt.dMove(a,u,h)}new mt(i).addNewIds(s.map(u=>u.attrs.id)).updateParentSize(a).commit("pasted graphs"),i.render()}destroy(){this.hasBindEvents=!1,this.unbindEvents()}}const eN=t=>`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_1139_2)" transform="rotate(${t} 16 16)"><path d="M4.38452 17.3499L9.68782 16.9963L7.78571 15.0942C8.84801 14.0319 10.1091 13.1892 11.4971 12.6143C12.8851 12.0394 14.3727 11.7435 15.875 11.7435C17.3773 11.7435 18.8649 12.0394 20.2529 12.6143C21.6409 13.1892 22.902 14.0319 23.9643 15.0942L22.0622 16.9963L27.3655 17.3499L27.0119 12.0466L25.0674 13.9911C23.8602 12.784 22.4271 11.8264 20.8499 11.1731C19.2727 10.5198 17.5822 10.1835 15.875 10.1835C14.1678 10.1835 12.4774 10.5198 10.9001 11.1731C9.32289 11.8264 7.88978 12.784 6.68262 13.9911L4.73807 12.0466L4.38452 17.3499Z" fill="#000000"/><path d="M9.72108 17.4952L10.8205 17.4219L10.0414 16.6428L8.5009 15.1023C9.43698 14.2481 10.5153 13.5622 11.6884 13.0763C13.0158 12.5265 14.4383 12.2435 15.875 12.2435C17.3117 12.2435 18.7343 12.5265 20.0616 13.0763C21.2347 13.5622 22.313 14.2481 23.2491 15.1023L21.7086 16.6428L20.9295 17.4219L22.0289 17.4952L27.3322 17.8488L27.9024 17.8868L27.8644 17.3166L27.5108 12.0133L27.4375 10.9139L26.6584 11.693L25.0608 13.2906C23.8859 12.1996 22.525 11.3257 21.0412 10.7111C19.4033 10.0327 17.6479 9.68351 15.875 9.68351C14.1022 9.68351 12.3467 10.0327 10.7088 10.7111C9.22503 11.3257 7.86411 12.1996 6.68917 13.2906L5.09163 11.693L4.31248 10.9139L4.23918 12.0133L3.88563 17.3166L3.84762 17.8868L4.41778 17.8488L9.72108 17.4952Z" stroke="white"/></g><defs><filter id="filter0_d_1139_2" x="1.3107" y="7.18351" width="29.1286" height="13.2402" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1139_2"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1139_2" result="shape"/></filter></defs></svg>`,tN=t=>`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_1173_45)" transform="rotate(${t} 16 16)"><path d="M16 6L12.5 10H19.5L16 6Z" fill="#000000"/><path d="M16 26L12.5 22H19.5L16 26Z" fill="#000000"/><path d="M15.25 10H16.75V22H15.25V10Z" fill="#000000"/><path d="M12.1237 9.67075L11.3981 10.5H12.5H14.75V21.5H12.5H11.3981L12.1237 22.3293L15.6237 26.3293L16 26.7593L16.3763 26.3293L19.8763 22.3293L20.6019 21.5H19.5H17.25V10.5H19.5H20.6019L19.8763 9.67075L16.3763 5.67075L16 5.2407L15.6237 5.67075L12.1237 9.67075Z" stroke="white"/></g><defs><filter id="filter0_d_1173_45" x="8.29623" y="2.48141" width="15.4075" height="27.0372" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1173_45"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1173_45" result="shape"/></filter></defs></svg>`,V0=new Map,nN=(t,e)=>{const n=t+e;if(V0.has(n))return V0.get(n);let r="";switch(t){case"resize":r=tN(e);break;case"rotation":r=eN(e);break;default:console.warn("getIconSvgDataUrl: unknown type",t)}const i=`url("data:image/svg+xml,${r.replace(/"/g,"'").replace(/#/g,"%23")}") 16 16, auto`;return V0.set(n,i),i};class rN{constructor(e){k(this,"cursor"),k(this,"customClassCursor",new Set(["default","move","move-ns","move-ew","pen","pen-close","pen-anchor-remove","pen-anchor-add","crosshair","pencil"])),this.editor=e,this.setCursor("default")}getCursor(){return this.cursor}normalizeCursor(e){return typeof e=="string"?e:e.type==="resize"?{type:e.type,degree:Fy(e.degree)%180}:e.type==="rotation"?{type:e.type,degree:Fy(Math.round(e.degree))}:e}setCursor(e){if(e=this.normalizeCursor(e),Sh(e,this.cursor))return;this.cursor=e;const n="suika-cursor-",r=this.editor.canvasElement;if(r.classList.forEach(i=>{i.startsWith(n)&&r.classList.remove(i)}),this.editor.canvasElement.style.cursor="",this.customClassCursor.has(e)){const i=`${n}${e}`;this.editor.canvasElement.classList.add(i)}else typeof e=="string"?this.editor.canvasElement.style.cursor=e:(e.type==="resize"||e.type==="rotation")&&(this.editor.canvasElement.style.cursor=nN(e.type,e.degree))}}const iN=t=>typeof t=="object"&&(t==null?void 0:t.type)==="rotation";class oN{constructor(){k(this,"graphicsStore",new Map),k(this,"canvasStore",new Map),k(this,"frameStore",new Map)}add(e){const n=e.attrs.id,r=this.graphicsStore;r.has(n)&&console.warn(`graphics ${n} has added`),e instanceof Jl?this.canvasStore.set(n,e):e instanceof kh&&this.frameStore.set(n,e),r.set(n,e)}get(e){return this.graphicsStore.get(e)}getAll(){const e=[];for(const[,n]of this.graphicsStore)n.isDeleted()||e.push(n);return e}getCanvas(){return Array.from(this.canvasStore.values())[0]}getFrames(){return Array.from(this.frameStore.values())}clear(){this.graphicsStore.clear(),this.canvasStore.clear(),this.frameStore.clear()}}let DT=class extends vt{constructor(e){super({...e,type:xe.Document},{}),k(this,"type",xe.Document),k(this,"isContainer",!0),k(this,"graphicsStoreManager",new oN),k(this,"emitter",new Fn),k(this,"changes",{added:new Map,deleted:new Set,updatedIds:new Set}),k(this,"editor"),k(this,"emitSceneChangeThrottle",nw(()=>{const n=this.flushChanges();this.emitter.emit("sceneChange",n,"unknown")},100))}setEditor(e){this.editor=e}clear(){this.graphicsStoreManager.clear()}getCanvas(){return this.graphicsStoreManager.getCanvas()}getGraphicsById(e){return this.graphicsStoreManager.get(e)}getGraphicsArrByIds(e){const n=[];for(const r of e){const i=this.getGraphicsById(r);if(!i){console.warn(`id ${r} is no exist in graphics array`);continue}n.push(i)}return n}getAllGraphicsArr(){return this.graphicsStoreManager.getAll()}getCurrCanvas(){return this.graphicsStoreManager.getCanvas()}addGraphics(e){this.graphicsStoreManager.add(e),this.changes.added.set(e.attrs.id,e.getAttrs()),this.emitSceneChangeThrottle()}collectDeletedGraphics(e){const n=e.attrs.id;e.isDeleted()?(this.changes.deleted.add(n),this.changes.added.delete(n)):(this.changes.deleted.delete(n),this.changes.added.set(n,e.getAttrs())),this.emitSceneChangeThrottle()}collectUpdatedGraphics(e){this.changes.updatedIds.add(e),this.emitSceneChangeThrottle()}flushChanges(){const e=new Map;for(const r of this.changes.updatedIds){const i=this.getGraphicsById(r);if(!i){console.warn(`graphics ${r} is lost!`);continue}e.set(r,i.getUpdatedAttrs())}const n={added:this.changes.added,deleted:this.changes.deleted,update:e};return this.clearChanges(),n}clearChanges(){this.changes={added:new Map,deleted:new Set,updatedIds:new Set}}getDeviceViewSize(){const e=this.editor.canvasElement;return{width:e.width,height:e.height}}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}};class sN{constructor(){k(this,"eventEmitter",new Fn),k(this,"imgMap",new Map),k(this,"loadingImgSet",new Set)}async addImg(e){if(this.loadingImgSet.has(e)||this.getImg(e))return;const n=new Image;n.src=e,await new Promise(r=>{n.onload=()=>{this.loadingImgSet.delete(e),this.imgMap.set(e,n),this.eventEmitter.emit("added",n),r(n)}})}getImg(e){return this.imgMap.get(e)}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}const aS=t=>{const{ctrlKey:e=!1,shiftKey:n=!1,altKey:r=!1,metaKey:i=!1}=t;return`${e?"ctrl+":""}${i?"meta+":""}${n?"shift+":""}${r?"alt+":""}${t.code}`};class aN{constructor(e){k(this,"keyBindingMap",new Map),k(this,"isBound",!1),k(this,"id",0),k(this,"handleAction",n=>{if(n.altKey&&n.preventDefault(),n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let r=!1;const i={isToolDragging:this.editor.toolManager.isDragging()};for(const o of this.keyBindingMap.values())if((!o.when||o.when(i))&&(d6()&&o.winKey?this.isKeyMatch(o.winKey,n)&&(r=!0):this.isKeyMatch(o.key,n)&&(r=!0)),r){n.preventDefault(),console.log(`[${aS(n)}] => ${o.actionName}`),o.action(n);break}r||console.log(`[${aS(n)}] => no match`)}),this.editor=e}isKeyMatch(e,n){if(Array.isArray(e))return e.some(a=>this.isKeyMatch(a,n));if(e.keyCode=="*")return!0;const{ctrlKey:r=!1,shiftKey:i=!1,altKey:o=!1,metaKey:s=!1}=e;return r==n.ctrlKey&&i==n.shiftKey&&o==n.altKey&&s==n.metaKey&&e.keyCode==n.code}register(e){const n=this.id;return this.keyBindingMap.set(n,e),this.id++,n}registerWithHighPrior(e){const n=this.id,r=new Map;r.set(n,e);for(const[i,o]of this.keyBindingMap)r.set(i,o);return this.keyBindingMap=r,this.id++,n}unregister(e){this.keyBindingMap.delete(e)}bindEvent(){this.isBound||(this.isBound=!0,document.addEventListener("keydown",this.handleAction))}destroy(){this.isBound&&(this.keyBindingMap.clear(),document.removeEventListener("keydown",this.handleAction))}}const uw=(t,e)=>{const n=new Set;for(const a of e)a.removeFromParent(),a.setDeleted(!0),n.add(a.attrs.id);const r=js(e);for(const a of r){const l=t.doc.getGraphicsById(a);l.isEmpty()&&(l.removeFromParent(),l.setDeleted(!0),n.add(a))}const i=yg(e);for(const a of i)a.setDeleted(!0),n.add(a.attrs.id);const o=new Map,s=new Map;Yu(t,r,o,s),t.commandManager.pushCommand(new mg("remove graphics",t,o,s,n))},LT="dragCanvas",NT="h";class Hf{constructor(e){k(this,"type",LT),k(this,"hotkey",NT),k(this,"cursor","grab"),this.editor=e}onActive(){this.editor.canvasDragger.disableDragBySpace(),this.editor.canvasDragger.active()}onInactive(){this.editor.canvasDragger.inactive(),this.editor.canvasDragger.enableDragBySpace()}onMoveExcludeDrag(){}onStart(){}onDrag(){}onEnd(){}afterEnd(){this.editor.canvasDragger.disableDragBySpace()}}k(Hf,"type",LT),k(Hf,"hotkey",NT);const zd={getSnapPtBySetting(t,e){if(t={x:t.x,y:t.y},e.get("snapToGrid")){const n={x:e.get("gridSnapX"),y:e.get("gridSnapY")};return this.getGridSnapPt(t,n)}return t},getGridSnapPt(t,e){return{x:_t(t.x,e.x),y:_t(t.y,e.y)}}};class Zo{constructor(e){k(this,"type",""),k(this,"hotkey",""),k(this,"cursor","crosshair"),k(this,"commandDesc","Add Graphics"),k(this,"drawingGraphics",null),k(this,"startPoint",{x:-1,y:-1}),k(this,"lastDragPoint"),k(this,"lastDragPointInViewport"),k(this,"lastMousePoint"),k(this,"startPointWhenSpaceDown",null),k(this,"lastDragPointWhenSpaceDown",null),k(this,"isDragging",!1),k(this,"unbindEvent",Ca),this.editor=e}onActive(){const e=this.editor,n=e.hostEventManager,r=()=>{this.isDragging&&this.updateRect()};n.on("shiftToggle",r);const i=()=>{e.hostEventManager.isDraggingCanvasBySpace||this.isDragging&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.editor.selectedElements.getItems()})},o=()=>{e.hostEventManager.isDraggingCanvasBySpace||this.isDragging&&(this.lastDragPoint=e.toScenePt(this.lastDragPointInViewport.x,this.lastDragPointInViewport.y,this.editor.setting.get("snapToGrid")),this.updateRect())};e.viewportManager.on("xOrYChange",i),e.viewportManager.on("xOrYChange",o),this.unbindEvent=()=>{n.off("shiftToggle",r),e.viewportManager.off("xOrYChange",i),e.viewportManager.off("xOrYChange",o)}}onSpaceToggle(e){this.isDragging&&e?(this.startPointWhenSpaceDown=this.startPoint,this.lastDragPointWhenSpaceDown=this.lastMousePoint,this.updateRect()):(this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null)}onAltToggle(){this.isDragging&&this.updateRect()}onInactive(){this.unbindEvent()}onMoveExcludeDrag(){}onStart(e){this.startPoint=zd.getSnapPtBySetting(this.editor.getSceneCursorXY(e),this.editor.setting),this.drawingGraphics=null,this.isDragging=!1,this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null}onDrag(e){if(this.editor.hostEventManager.disableDelete(),this.editor.hostEventManager.disableContextmenu(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;this.lastDragPointInViewport=this.editor.getCursorXY(e),this.lastDragPoint=this.lastMousePoint=zd.getSnapPtBySetting(this.editor.getSceneCursorXY(e),this.editor.setting),!this.isDragging&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines();const n=this.editor.refLine.getGraphicsSnapOffset([this.lastDragPoint]);this.lastDragPoint={x:this.lastDragPoint.x+n.x,y:this.lastDragPoint.y+n.y},this.isDragging=!0,this.updateRect()}adjustSizeWhenShiftPressing(e){const{width:n,height:r}=e,i=Math.max(Math.abs(n),Math.abs(r));return e.height=(Math.sign(r)||1)*i,e.width=(Math.sign(n)||1)*i,e}updateGraphics(e){e=Ba(e);const n=this.drawingGraphics,r=n.getParent();let i=e.x,o=e.y;if(r&&Ln(r)){const s=r.getWorldTransform(),a=iw(s,e);i=a.x,o=a.y}n.updateAttrs({x:i,y:o,width:e.width,height:e.height})}updateRect(){if(!this.isDragging)return;const{x:e,y:n}=this.lastDragPoint,r=this.editor.sceneGraph;if(this.startPointWhenSpaceDown&&this.lastDragPointWhenSpaceDown){const{x:g,y}=this.startPointWhenSpaceDown,{x:m,y:C}=this.lastDragPointWhenSpaceDown,x=e-m,v=n-C;this.startPoint={x:g+x,y:y+v}}const{x:i,y:o}=this.startPoint;let s=e-i,a=n-o;if(s===0||a===0){const g=this.solveWidthOrHeightIsZero({width:s,height:a},{x:this.lastMousePoint.x-this.startPoint.x,y:this.lastMousePoint.y-this.startPoint.y});s=g.width,a=g.height}let l={x:i,y:o,width:s,height:a};const u=this.editor.hostEventManager.isAltPressing,h=this.editor.hostEventManager.isShiftPressing;let d=0,p=0;if(u&&(l={x:l.x-s,y:l.y-a,width:l.width*2,height:l.height*2},d=l.x+l.width/2,p=l.y+l.height/2),h&&(l=this.adjustSizeWhenShiftPressing(l)),u&&(l.x=d-l.width/2,l.y=p-l.height/2),this.drawingGraphics)this.updateGraphics(l);else{const g=this.editor.doc.getCurrCanvas(),y=Ku(this.startPoint,g.getChildren()),m=y||g,C=this.createGraphics(l,m);if(this.drawingGraphics=C,!C)return;if(r.addItems([C]),m.insertChild(C),y){const x=[...C.attrs.transform];C.setWorldTransform(x)}this.editor.selectedElements.setItems([C])}this.editor.render()}solveWidthOrHeightIsZero(e,n){const r={width:e.width,height:e.height};if(e.width===0){const i=Math.sign(n.x)||1;r.width=i*this.editor.setting.get("gridSnapX")}if(e.height===0){const i=Math.sign(n.y)||1;r.height=i*this.editor.setting.get("gridSnapY")}return r}onEnd(e){if(this.editor.hostEventManager.isDraggingCanvasBySpace)return;const n=zd.getSnapPtBySetting(this.editor.getSceneCursorXY(e),this.editor.setting);if(this.drawingGraphics===null){const{x:r,y:i}=n,o=this.editor.setting.get("drawGraphDefaultWidth"),s=this.editor.setting.get("drawGraphDefaultHeight"),a=this.editor.doc.getCurrCanvas(),l=Ku(this.startPoint,a.getChildren()),u=l||a;if(this.drawingGraphics=this.createGraphics({x:r-o/2,y:i-s/2,width:o,height:s},u,!0),this.drawingGraphics){const h=this.drawingGraphics;if(this.editor.sceneGraph.addItems([h]),u.insertChild(h),l){const d=[...h.attrs.transform];h.setWorldTransform(d)}this.editor.selectedElements.setItems([h]),this.editor.render()}}this.drawingGraphics&&this.editor.commandManager.pushCommand(new Xv(this.commandDesc,this.editor,[this.drawingGraphics]))}afterEnd(){this.isDragging=!1,this.editor.hostEventManager.enableDelete(),this.editor.hostEventManager.enableContextmenu(),this.drawingGraphics&&!this.editor.setting.get("keepToolSelectedAfterUse")&&this.editor.toolManager.setActiveTool("select"),this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null,this.editor.refLine.clear()}}k(Zo,"type",""),k(Zo,"hotkey","");const BT="drawEllipse",FT="o";let zf=class extends Zo{constructor(e){super(e),k(this,"type",BT),k(this,"hotkey",FT),this.commandDesc="Add Ellipse"}createGraphics(e,n){return e=Ba(e),new _h({objectName:es(n,ts.Ellipse),width:e.width,height:e.height,fill:[J(this.editor.setting.get("firstFill"))]},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(zf,"type",BT),k(zf,"hotkey",FT);const HT="drawFrame",zT="f";let Uf=class extends Zo{constructor(e){super(e),k(this,"type",HT),k(this,"hotkey",zT),this.commandDesc="Add Frame"}createGraphics(e,n){return e=Ba(e),new kh({objectName:es(n,ts.Frame),width:e.width,height:e.height,fill:[J(this.editor.setting.get("firstFrameFill"))],resizeToFit:!1},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(Uf,"type",HT),k(Uf,"hotkey",zT);const lN=()=>new Promise(t=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=n=>{var r;const i=(r=n.target.files)==null?void 0:r[0];if(!i)return;const o=new FileReader;o.onload=s=>{var a;const l=(a=s.target)==null?void 0:a.result;setTimeout(()=>{t({url:l,name:i.name})})},o.readAsDataURL(i)},e.click()}),UT="drawImg",GT="";let Gf=class extends Zo{constructor(e){super(e),k(this,"type",UT),k(this,"hotkey",GT),k(this,"imgData",null),this.commandDesc="Add Image"}async enableActive(){try{const e=await lN();return await this.editor.imgManager.addImg(e.url),this.imgData=e,!0}catch{return!1}}createGraphics(e){return e=Ba(e),new An({objectName:this.imgData.name,width:e.width,height:e.height,fill:[{type:ee.Image,attrs:{src:this.imgData.url}}]},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(Gf,"type",UT),k(Gf,"hotkey",GT);const VT="drawLine",WT="l";let Vf=class extends Zo{constructor(e){super(e),k(this,"type",VT),k(this,"hotkey",WT),this.commandDesc="Add Line"}createGraphics(e,n,r){if(r)return null;const i=this.calcAttrs(e);return new lw({objectName:es(n,ts.Line),...i,height:0,stroke:[J(this.editor.setting.get("firstStroke"))],strokeWidth:this.editor.setting.get("strokeWidth")},{doc:this.editor.doc})}adjustSizeWhenShiftPressing(e){return M9(e)}updateGraphics(e){const n=this.drawingGraphics.getParent();let r=e.x,i=e.y;if(n&&Ln(n)){const s=n.getWorldTransform(),a=iw(s,e);r=a.x,i=a.y}const o=this.calcAttrs({x:r,y:i,width:e.width,height:e.height});this.drawingGraphics.updateAttrs({width:o.width,transform:o.transform})}solveWidthOrHeightIsZero(e,n){const r={width:e.width,height:e.height};if(e.width===0){const i=Math.sign(n.x)||1;r.width=i*this.editor.setting.get("gridSnapX")}return r}calcAttrs({x:e,y:n,width:r,height:i}){const o=no({x:0,y:-1},{x:r,y:i})-To,s=e+r/2,a=n+i/2,l=new te().translate(s,a).rotate(o).translate(-s,-a);return l.tx=e,l.ty=n,{width:Math.sqrt(r*r+i*i),transform:l.getArray()}}};k(Vf,"type",VT),k(Vf,"hotkey",WT);const XT="drawRect",KT="r";let Wf=class extends Zo{constructor(e){super(e),k(this,"type",XT),k(this,"hotkey",KT),this.commandDesc="Add Rect"}createGraphics(e,n){return e=Ba(e),new An({objectName:es(n,ts.Rect),width:e.width,height:e.height,fill:[J(this.editor.setting.get("firstFill"))]},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(Wf,"type",XT),k(Wf,"hotkey",KT);const YT="drawRegularPolygon",ZT="";let Xf=class extends Zo{constructor(e){super(e),k(this,"type",YT),k(this,"hotkey",ZT),this.commandDesc="AddRegularPolygon"}createGraphics(e,n){return e=Ba(e),new cw({objectName:es(n,ts.RegularPolygon),width:e.width,height:e.height,fill:[J(this.editor.setting.get("firstFill"))],count:3},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(Xf,"type",YT),k(Xf,"hotkey",ZT);const qT="drawStar",QT="";let Kf=class extends Zo{constructor(e){super(e),k(this,"type",qT),k(this,"hotkey",QT),this.commandDesc="AddStar"}createGraphics(e,n){return e=Ba(e),new $T({objectName:es(n,ts.Star),width:e.width,height:e.height,fill:[J(this.editor.setting.get("firstFill"))],count:5,starInnerScale:this.editor.setting.get("defaultStarInnerScale")},{advancedAttrs:{x:e.x,y:e.y},doc:this.editor.doc})}};k(Kf,"type",qT),k(Kf,"hotkey",QT);const JT="drawText",eA="t";let Yf=class{constructor(e){k(this,"type",JT),k(this,"hotkey",eA),k(this,"cursor","crosshair"),this.editor=e}onActive(){}onInactive(){}onMoveExcludeDrag(){}onStart(){}onDrag(){}onEnd(e){const n=this.editor.getSceneCursorXY(e);this.editor.textEditor.active({pos:n}),this.editor.setting.get("keepToolSelectedAfterUse")||this.editor.toolManager.setActiveTool("select")}afterEnd(){}};k(Yf,"type",JT),k(Yf,"hotkey",eA);const tA="pathSelect",nA="v";class Ky{constructor(e){k(this,"type",tA),k(this,"hotkey",nA),k(this,"cursor","default"),k(this,"startPoint",null),k(this,"prevAttrs",null),k(this,"selectedControls",[]),k(this,"startSegs",[]),this.editor=e}onActive(){}onInactive(){}onStart(e){const n=this.editor.pathEditor,r=this.startPoint=this.editor.getSceneCursorXY(e),i=this.editor.controlHandleManager.getHandleInfoByPoint(r);if(!i)return;const o=n.getPath();this.prevAttrs=J({transform:o.attrs.transform,pathData:o.attrs.pathData});const s=hw.parseSelectedInfoStr(i.handleName);n.selectedControl.contains(s.type,s.pathIdx,s.segIdx)?this.selectedControls=n.selectedControl.getSelectedControls():this.selectedControls=[s],this.startSegs=this.selectedControls.map(({pathIdx:a,segIdx:l})=>n.getPath().getSeg(a,l,{applyTransform:!0})),n.selectedControl.setItems(this.selectedControls),n.drawControlHandles(),this.editor.render()}onDrag(e){if(!this.startPoint)return;const n=this.editor.getSceneCursorXY(e),r=n.x-this.startPoint.x,i=n.y-this.startPoint.y,o=this.editor.pathEditor.getPath();for(let s=0;s<this.selectedControls.length;s++){const{type:a,pathIdx:l,segIdx:u}=this.selectedControls[s];if(o.getSeg(l,u)){const h=this.startSegs[s];if(a==="anchor")o.setSeg(l,u,{point:{x:h.point.x+r,y:h.point.y+i}});else{if(this.editor.pathEditor.selectedControl.contains("anchor",l,u))continue;a==="in"?o.setSeg(l,u,{in:{x:h.in.x+r,y:h.in.y+i}}):a==="out"&&o.setSeg(l,u,{out:{x:h.out.x+r,y:h.out.y+i}})}this.editor.pathEditor.drawControlHandles(),this.editor.render()}}}onEnd(){const e=this.editor.pathEditor.getPath();this.editor.commandManager.pushCommand(new to("UpdatePathData",[e],[{transform:e.attrs.transform,pathData:e.attrs.pathData}],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}onMoveExcludeDrag(){}afterEnd(){this.startPoint=null,this.prevAttrs=null,this.selectedControls=[],this.startSegs=[]}onCommandChange(){this.editor.pathEditor.drawControlHandles()}}k(Ky,"type",tA),k(Ky,"hotkey",nA);class cN{constructor(e){k(this,"lastPoint",{x:-1,y:-1}),k(this,"isShiftPressingWhenStart",!1),k(this,"startSelectedControls",[]),k(this,"segControlsNeedDrawInStart",[]),this.editor=e}onActive(){}onInactive(){}onStart(){this.isShiftPressingWhenStart=!1;const e=this.editor,n=e.pathEditor;this.segControlsNeedDrawInStart=this.editor.pathEditor.selectedControl.getSegControlsNeedDraw(),e.hostEventManager.isShiftPressing?(this.isShiftPressingWhenStart=!0,this.startSelectedControls=e.pathEditor.selectedControl.getSelectedControls()):(this.startSelectedControls=n.selectedControl.getSelectedControls(),n.selectedControl.setNormalControls(n.selectedControl.getSelectedControls()),n.drawControlHandles()),this.lastPoint=e.toolManager.getCurrPoint(),e.render(),e.sceneGraph.setSelection(this.lastPoint)}onDrag(e){const n=this.editor.getSceneCursorXY(e),r=ow(this.lastPoint,n);this.editor.sceneGraph.setSelection(r);const i=this.editor.controlHandleManager.getCustomHandlesIntersectedWithRect(r).map(o=>hw.parseSelectedInfoStr(o.type)).filter(o=>{if(!o)return!1;const s=o.type;return s==="anchor"?!0:s==="in"||s==="out"?this.segControlsNeedDrawInStart.some(a=>Sh(a,{pathIdx:o.pathIdx,segIdx:o.segIdx})):!1});this.isShiftPressingWhenStart?(this.editor.pathEditor.selectedControl.setItems([...this.startSelectedControls,...i]),this.editor.pathEditor.drawControlHandles()):(this.editor.pathEditor.selectedControl.setItems(i),this.editor.pathEditor.drawControlHandles()),this.editor.render()}onEnd(){}afterEnd(e,n){this.isShiftPressingWhenStart=!1,this.startSelectedControls=[],this.editor.pathEditor.selectedControl.setNormalControls([]),n||this.editor.pathEditor.selectedControl.clear(),this.editor.pathEditor.drawControlHandles(),this.editor.sceneGraph.selection=null,this.editor.render()}}const rA="pathSelect",iA="v";let fa=class{constructor(e){k(this,"type",rA),k(this,"hotkey",iA),k(this,"cursor","default"),k(this,"currStrategy",null),k(this,"strategyMove"),k(this,"strategyDrawSelection"),this.editor=e,this.strategyMove=new Ky(e),this.strategyDrawSelection=new cN(e)}onActive(){}onInactive(){}onStart(e){const n=this.editor.getSceneCursorXY(e);if(this.editor.controlHandleManager.getHandleInfoByPoint(n)?this.currStrategy=this.strategyMove:this.currStrategy=this.strategyDrawSelection,this.currStrategy)this.currStrategy.onActive(),this.currStrategy.onStart(e);else throw new Error("no strategy found")}onDrag(e){if(this.currStrategy)this.currStrategy.onDrag(e);else throw new Error("no strategy found")}onEnd(e,n){if(this.editor.controlHandleManager.showCustomHandles(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;const r=this.currStrategy;if(r)r.onEnd(e,n),r.onInactive();else throw new Error("no strategy found")}onMoveExcludeDrag(){}afterEnd(e,n){var r;this.editor.hostEventManager.isDraggingCanvasBySpace||this.editor.setCursor("default"),(r=this.currStrategy)==null||r.afterEnd(e,n),this.currStrategy=null}onCommandChange(){this.editor.pathEditor.drawControlHandles()}onViewportXOrYChange(){this.editor.hostEventManager.isSpacePressing?this.editor.pathEditor.drawControlHandles():this.editor.pathEditor.drawControlHandles(),this.editor.render()}};k(fa,"type",rA),k(fa,"hotkey",iA);class uN{constructor(e,n){this.editor=e,this.parentTool=n}onActive(){}onInactive(){}onStart(){const e=this.editor,n=this.parentTool.path,r=n.project(this.editor.toolManager.getCurrPoint(),this.editor.toSceneSize(5));if(!r)return;const i=J({transform:n.attrs.transform,pathData:n.attrs.pathData});n.insertSeg(r.pathItemIndex,r.segIndex,r.t),e.commandManager.pushCommand(new to("Update Path Data",[n],[J({transform:n.attrs.transform,pathData:n.attrs.pathData})],[i])),e.pathEditor.selectedControl.clear(),e.pathEditor.drawControlHandles(),e.render()}onDrag(){this.editor.setCursor("default")}onEnd(){this.editor.setCursor("pen")}afterEnd(){this.editor.setCursor("pen")}}class hN{constructor(e,n){k(this,"startPoint",null),k(this,"prevAttrs",null),this.editor=e,this.parentTool=n}onActive(){}onInactive(){}onAltToggle(){this.startPoint&&this.onDrag()}onStart(){const e=this.editor.pathEditor;if(this.startPoint=this.parentTool.getCorrectedPoint(),e.isActive()){const r=this.parentTool.path;this.prevAttrs=J({transform:r.attrs.transform,pathData:r.attrs.pathData}),e.selectedControl.getSelectedControlsSize()===0&&(this.parentTool.pathIdx=r.getPathItemCount()),r.hasPath(this.parentTool.pathIdx)||r.addEmptyPath(),r.addSeg(this.parentTool.pathIdx,{point:this.startPoint,in:{x:0,y:0},out:{x:0,y:0}})}else{const r=[{segs:[{point:{x:0,y:0},in:{x:0,y:0},out:{x:0,y:0}}],closed:!1}],i=this.editor.doc.getCurrCanvas(),o=new Mn({objectName:es(i,ts.Path),width:100,height:100,strokeWidth:1,stroke:[{type:ee.Solid,attrs:Kt("#000")}],pathData:r},{advancedAttrs:this.startPoint,doc:this.editor.doc});this.parentTool.path=o,this.editor.sceneGraph.addItems([o]),this.editor.doc.getCurrCanvas().insertChild(o),this.editor.commandManager.batchCommandStart(),this.editor.commandManager.pushCommand(new Xv("Add Path",this.editor,[o]),{beforeRedo:()=>{this.editor.pathEditor.active(o),this.editor.toolManager.setActiveTool(fa.type)},beforeUndo:()=>{this.editor.pathEditor.inactive("undo")}}),this.editor.selectedElements.setItems([o]),this.prevAttrs=J({transform:o.attrs.transform,pathData:o.attrs.pathData}),e.active(o)}const n=this.parentTool.path.getSegCount(this.parentTool.pathIdx)-1;e.selectedControl.setItems([{type:"anchor",pathIdx:this.parentTool.pathIdx,segIdx:n}]),e.drawControlHandles(),this.editor.render()}onDrag(){if(!this.startPoint){console.warn("startPoint is null, check start()");return}const e=this.parentTool.getCorrectedPoint(),n=e.x-this.startPoint.x,r=e.y-this.startPoint.y,i=this.parentTool.path,o=i.getSegCount(this.parentTool.pathIdx)-1,s={out:{x:n,y:r}};!this.editor.hostEventManager.isAltPressing&&o!==0&&(s.in={x:-n,y:-r}),i.setSeg(this.parentTool.pathIdx,o,s),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onEnd(){const e=this.parentTool.path;e.updateAttrs({pathData:e.attrs.pathData}),this.editor.commandManager.pushCommand(new to("Update Path Data",[e],[J({transform:e.attrs.transform,pathData:e.attrs.pathData})],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}afterEnd(){}}class dN{constructor(e,n){k(this,"startPoint",null),k(this,"prevAttrs",null),this.editor=e,this.parentTool=n}onActive(){}onInactive(){}onStart(){this.startPoint=this.parentTool.getCorrectedPoint(),this.prevAttrs=J({transform:this.parentTool.path.attrs.transform,pathData:this.parentTool.path.attrs.pathData});const e=this.parentTool.path;e.setPathItemClosed(this.parentTool.pathIdx,!0),e.setSeg(this.parentTool.pathIdx,0,{in:{x:0,y:0}})}onDrag(){const e=this.parentTool.getCorrectedPoint(),n=this.parentTool.path,r=this.startPoint,i=e.x-r.x,o=e.y-r.y,s=n.getSegCount(this.parentTool.pathIdx)-1,a={out:{x:i,y:o}};!this.editor.hostEventManager.isAltPressing&&s!==0&&(a.in={x:-i,y:-o}),n.setSeg(this.parentTool.pathIdx,0,a),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onEnd(){this.editor.pathEditor.selectedControl.clear();const e=this.parentTool.path;e.updateAttrs({pathData:e.attrs.pathData}),this.editor.commandManager.pushCommand(new to("Update Path Data",[e],[J({transform:e.attrs.transform,pathData:e.attrs.pathData})],[this.prevAttrs])),this.editor.commandManager.batchCommandEnd()}afterEnd(){}}class fN{constructor(e,n){this.editor=e,this.parentTool=n}onActive(){}onInactive(){}onStart(){const e=this.editor,n=e.pathEditor,r=this.parentTool.path,i=e.toSceneSize(this.editor.setting.get("selectionHitPadding")),o=r?r.getClosestAnchor({point:e.toolManager.getCurrPoint(),tol:i}):null;if(!o)return;const s=J({transform:r.attrs.transform,pathData:r.attrs.pathData});r.deleteSegAndHeal(o.pathItemIndex,o.segIndex),e.commandManager.pushCommand(new to("Update Path Data",[r],[J({transform:r.attrs.transform,pathData:r.attrs.pathData})],[s])),e.pathEditor.selectedControl.clear(),n.drawControlHandles(),e.render()}onDrag(){this.editor.setCursor("default")}onEnd(){this.editor.setCursor("pen")}afterEnd(){this.editor.setCursor("pen")}}const oA="pen",sA="p";let ec=class{constructor(e){k(this,"type",oA),k(this,"hotkey",sA),k(this,"cursor","pen"),k(this,"path",null),k(this,"pathIdx",0),k(this,"childTool",null),this.editor=e}onActive(){this.editor.pathEditor.isActive()&&(this.path=this.editor.pathEditor.getPath(),this.pathIdx=this.path.attrs.pathData.length),this.updatePreviewHandles(this.getCorrectedPoint())}onInactive(){this.editor.commandManager.batchCommandEnd(),this.editor.pathEditor.drawControlHandles(),this.editor.render()}onMoveExcludeDrag(e,n){var r;const i=this.editor;if(n){i.pathEditor.drawControlHandles(),i.render();return}if(this.editor.canvasDragger.isActive())i.pathEditor.drawControlHandles();else{const o=this.path?this.path.getClosestAnchor({point:this.editor.toolManager.getCurrPoint(),tol:this.editor.toSceneSize(5)}):null;let s=null,a=!1;if(o)i.hostEventManager.isAltPressing?(s=o.point,i.setCursor("pen-anchor-remove"),a=!0):o.segIndex===0&&o.pathItemIndex===this.pathIdx?(i.setCursor("pen-close"),s=o.point):i.setCursor("pen");else{const l=(r=this.path)==null?void 0:r.project(this.editor.toolManager.getCurrPoint(),this.editor.toSceneSize(5));l&&i.hostEventManager.isAltPressing?(s=l.point,i.setCursor("pen-anchor-add"),a=!0):i.setCursor("pen")}this.updatePreviewHandles(s??this.getCorrectedPoint(),a)}}onStart(e){const n=this.editor.toSceneSize(this.editor.setting.get("selectionHitPadding")),r=this.path?this.path.getClosestAnchor({point:this.getCorrectedPoint(),tol:n}):null;r&&this.editor.hostEventManager.isAltPressing?this.childTool=new fN(this.editor,this):r&&r.segIndex===0?this.childTool=new dN(this.editor,this):this.path&&this.path.project(this.editor.toolManager.getCurrPoint(),n)&&this.editor.hostEventManager.isAltPressing?this.childTool=new uN(this.editor,this):this.childTool=new hN(this.editor,this),this.childTool.onStart(e)}onDrag(e){var n;(n=this.childTool)==null||n.onDrag(e)}onEnd(e,n){var r;(r=this.childTool)==null||r.onEnd(e,n)}afterEnd(){}onCommandChange(){this.updatePreviewHandles(this.getCorrectedPoint())}onCanvasDragActiveChange(e){e?this.editor.pathEditor.drawControlHandles():this.updatePreviewHandles(this.getCorrectedPoint()),this.editor.render()}getCorrectedPoint(){const e=this.editor.toolManager.getCurrPoint();return this.editor.setting.get("snapToGrid")&&(e.x=_t(e.x,.5),e.y=_t(e.y,.5)),e}onViewportXOrYChange(){this.editor.canvasDragger.isActive()?this.editor.pathEditor.drawControlHandles():this.updatePreviewHandles(this.getCorrectedPoint()),this.editor.render()}updatePreviewHandles(e,n=!1){const r=[];if(this.editor.pathEditor.selectedControl.getSelectedControlsSize()>0){const s=this.path;if(!s)return;const a=s.getLastSeg(this.pathIdx,{applyTransform:!0});if(a&&!n){const l=new Gt({cx:e.x,cy:e.y,type:"path-preview-curve",getCursor:()=>"default",graphics:new Mn({objectName:"path-preview-curve",width:0,height:0,pathData:[{segs:[{point:this.editor.toViewportPt(a.point.x,a.point.y),in:{x:this.editor.toViewportSize(a.in.x),y:this.editor.toViewportSize(a.in.y)},out:{x:this.editor.toViewportSize(a.out.x),y:this.editor.toViewportSize(a.out.y)}},{point:this.editor.toViewportPt(e.x,e.y),in:{x:0,y:0},out:{x:0,y:0}}],closed:!1}],stroke:[{type:ee.Solid,attrs:Kt("#1592fe")}],strokeWidth:1},{doc:this.editor.doc})});r.push(l)}}const i=this.editor.setting.get("handleStroke"),o=new Gt({cx:e.x,cy:e.y,type:"path-preview-anchor",getCursor:()=>"default",graphics:new _h({objectName:"path-preview-anchor",width:6,height:6,fill:[{type:ee.Solid,attrs:Kt("#fff")}],stroke:[{type:ee.Solid,attrs:Kt(i)}],strokeWidth:1},{advancedAttrs:e,doc:this.editor.doc})});r.push(o),this.editor.pathEditor.drawControlHandles(r),this.editor.render()}};k(ec,"type",oA),k(ec,"hotkey",sA);const aA="pencil",lA={shiftKey:!0,keyCode:"KeyP"};let Zf=class{constructor(e){k(this,"type",aA),k(this,"hotkey",lA),k(this,"cursor","pencil"),k(this,"commandDesc","draw by Pencil"),k(this,"unbindEvent",Ca),k(this,"path",null),k(this,"isFirstDrag",!0),this.editor=e}onActive(){this.editor.selectedElements.clear()}onInactive(){this.unbindEvent()}onMoveExcludeDrag(){}onStart(e){this.path=new Mn({objectName:es(this.editor.doc.getCurrCanvas(),ts.Path),width:0,height:0,pathData:[{segs:[],closed:!1}],stroke:[J(this.editor.setting.get("firstStroke"))],strokeWidth:3},{doc:this.editor.doc});const n=this.editor.getSceneCursorXY(e);this.path.addSeg(0,{point:n,in:{x:0,y:0},out:{x:0,y:0}})}onDrag(e){const n=this.editor.getSceneCursorXY(e),r=this.path;r.addSeg(0,{point:n,in:{x:0,y:0},out:{x:0,y:0}}),this.isFirstDrag&&(this.editor.sceneGraph.addItems([r]),this.editor.doc.getCurrCanvas().insertChild(r),this.isFirstDrag=!1),this.editor.render()}onEnd(e,n){const r=this.path;if(n){const i=r.attrs.pathData[0].segs,o=h9(i,this.editor.setting.get("pencilCurveFitTolerance"));r.attrs.pathData[0].segs=o,this.editor.commandManager.pushCommand(new Xv("Add Path by pencil",this.editor,[r]))}else r.setDeleted(!0)}afterEnd(){this.path=null,this.isFirstDrag=!0}getDragBlockStep(){return 0}};k(Zf,"type",aA),k(Zf,"hotkey",lA);class aa{constructor(e){k(this,"vRefLineMap",new Map),k(this,"hRefLineMap",new Map),k(this,"sortedXs",[]),k(this,"sortedYs",[]),k(this,"toDrawVLines",[]),k(this,"toDrawHLines",[]),this.editor=e}cacheGraphicsRefLines(e={excludeItems:[]}){this.clear();const n=e.excludeItems,r=this.vRefLineMap,i=this.hRefLineMap,o=this.editor.viewportManager.getBbox(),s=new Set;this.editor.doc.getCurrCanvas().forEachVisibleChildNode(l=>{jT(l)||Ln(l)&&l.isGroup()||s.add(l)});for(const l of n)l.forEachVisibleChildNode(u=>{s.has(u)&&s.delete(u)});const a=new Set(n.map(l=>l.attrs.id));for(const l of s){if(a.has(l.attrs.id))continue;const u=nS(l.getBbox());if(!Gy(o,u))continue;const h=this.editor.setting;if(h.get("snapToGrid")){const C=h.get("gridSnapX"),x=h.get("gridSnapY");u.minX=_t(u.minX,C),u.minY=_t(u.minY,x),u.midX=_t(u.midX,C),u.midY=_t(u.midY,x),u.maxX=_t(u.maxX,C),u.maxY=_t(u.maxY,x)}aa.addRefLinesToMap(r,u.midX,[u.minY,u.maxY]),aa.addRefLinesToMap(i,u.midY,[u.minX,u.maxX]);const d=l.getWorldBboxVerts();if(h.get("snapToGrid")){const C=h.get("gridSnapX"),x=h.get("gridSnapY");for(const v of d)v.x=_t(v.x,C),v.y=_t(v.y,x)}const p=d.filter(C=>C.x===u.minX),g=d.filter(C=>C.x===u.maxX),y=d.filter(C=>C.y===u.minY),m=d.filter(C=>C.y===u.maxY);for(const C of[...p,...g])aa.addRefLinesToMap(r,C.x,[C.y]);for(const C of[...y,...m])aa.addRefLinesToMap(i,C.y,[C.x])}this.sortedXs=Array.from(r.keys()).sort((l,u)=>l-u),this.sortedYs=Array.from(i.keys()).sort((l,u)=>l-u)}clear(){this.vRefLineMap.clear(),this.hRefLineMap.clear(),this.sortedXs=[],this.sortedYs=[],this.toDrawVLines=[],this.toDrawHLines=[]}static addRefLinesToMap(e,n,r){const i=e.get(n);if(i)for(const o of r)i.add(o);else e.set(n,new Set(r))}static getGraphicsTargetPoints(e){let n=[];if(e.size===1){const{width:r,height:i,transform:o}=Array.from(e.values())[0],s=As({x:0,y:0,width:r,height:i},o);return s.push({x:(s[0].x+s[2].x)/2,y:(s[0].y+s[2].y)/2}),s}else{const r=nS(Jo(Array.from(e.values()).map(i=>yu(i))));n=[{x:r.minX,y:r.minY},{x:r.minX,y:r.maxY},{x:r.maxX,y:r.minY},{x:r.maxX,y:r.maxY},{x:r.midX,y:r.midY}]}return n}getGraphicsSnapOffset(e){this.toDrawVLines=[],this.toDrawHLines=[];let n=rS(e),r=Array.from(n.keys()),i=iS(e),o=Array.from(i.keys());const s=this.vRefLineMap,a=this.hRefLineMap,l=this.sortedXs,u=this.sortedYs;if(l.length===0&&u.length===0)return{x:0,y:0};let h,d;const p=Qs(r,A=>P2(l,A)),g=Qs(r,(A,$)=>p[$]-A),y=Math.min(...Qs(g,A=>Math.abs(A))),m=Qs(o,A=>P2(u,A)),C=Qs(o,(A,$)=>m[$]-A),x=Math.min(...Qs(C,A=>Math.abs(A))),v=(A,$)=>Math.abs(A-$)<1e-5,b=this.editor.setting.get("refLineTolerance")/this.editor.zoomManager.getZoom();if(y<=b){for(const A of g)if(v(y,Math.abs(A))){h=A;break}if(h===void 0)throw new Error("it should not reach here, please put a issue to us")}if(x<=b){for(const A of C)if(v(x,Math.abs(A))){d=A;break}if(d===void 0)throw new Error("it should not reach here, please put a issue to us")}const E=Qs(e,A=>({x:A.x+(h??0),y:A.y+(d??0)}));return n=rS(E),r=Array.from(n.keys()),h!==void 0&&$2(r,(A,$)=>{if(v(h,g[$])){const M={x:p[$],ys:[]};M.ys.push(...n.get(A)),M.ys.push(...Array.from(s.get(A)??[])),this.toDrawVLines.push(M)}}),d!==void 0&&(i=iS(E),o=Array.from(i.keys()),$2(o,(A,$)=>{if(v(d,C[$])){const M={y:m[$],xs:[]};M.xs.push(...i.get(A)),M.xs.push(...Array.from(a.get(A)??[])),this.toDrawHLines.push(M)}})),{x:h??0,y:d??0}}drawRefLine(e){e.save();const n=this.editor.setting.get("refLineStroke");e.fillStyle=n,e.strokeStyle=n,e.lineWidth=this.editor.setting.get("refLineStrokeWidth");const r=new Set,i=this.editor.setting.get("refLinePointSize");this.drawVerticalLines(e,i,r),this.drawHorizontalLines(e,i,r),e.restore()}drawVerticalLines(e,n,r){for(const i of this.toDrawVLines){let o=1/0,s=-1/0;const{x:a}=this.editor.toViewportPt(i.x,0);for(const l of i.ys){const{y:u}=this.editor.toViewportPt(0,l);o=Math.min(o,u),s=Math.max(s,u);const h=`${a},${u}`;r.has(h)||(r.add(h),J2(e,a,u,n))}Ff(e,a,o,a,s)}}drawHorizontalLines(e,n,r){for(const i of this.toDrawHLines){let o=1/0,s=-1/0;const{y:a}=this.editor.toViewportPt(0,i.y);for(const l of i.xs){const{x:u}=this.editor.toViewportPt(l,0);o=Math.min(o,u),s=Math.max(s,u);const h=`${u},${a}`;r.has(h)||(r.add(h),J2(e,u,a,n))}Ff(e,o,a,s,a)}}}const Ud=(t,e)=>{const n=t.zoomManager.getZoom(),r=t.setting.get("selectionHitPadding")/n,i=t.doc.getCurrCanvas(),o=t.selectedElements.getParentIdSet(),s={tol:r,parentIdSet:o,zoom:n};return i.getHitGraphics(e,s)},lS=(t,e=new Set)=>{const n=t.sceneGraph.selection;if(n===null)return console.warn("selection  null"),[];const r=aw(n);return cA(t,r,t.doc.getCurrCanvas(),e)},cA=(t,e,n,r)=>{const i=[],o=n.getChildren();for(const s of o)!s.isVisible()||s.isLock()||(r.has(s.attrs.id)?i.push(...cA(t,e,s,r)):s.intersectWithChildrenBox(e)&&i.push(s));return i};class pN{constructor(e){k(this,"originWorldTfMap",new Map),k(this,"originParentIndexMap",new Map),k(this,"transaction"),k(this,"selectedItems",[]),k(this,"selectedFrameIdSet",new Set),k(this,"prevParent"),k(this,"startPoint",{x:-1,y:-1}),k(this,"dragPoint",null),k(this,"dx",0),k(this,"dy",0),k(this,"prevBBoxPos",{x:-1,y:-1}),this.editor=e,this.transaction=new mt(e)}onActive(){}onInactive(){}onShiftToggle(){this.dragPoint&&this.move()}onStart(e){this.editor.controlHandleManager.hideCustomHandles(),this.startPoint=this.editor.getSceneCursorXY(e),this.selectedItems=this.editor.selectedElements.getItems({excludeLocked:!0});for(const i of this.selectedItems){const o=i.attrs.id;Ln(i)&&!i.isGroup()&&this.selectedFrameIdSet.add(o),this.transaction.recordOld(o,{transform:J(i.attrs.transform),parentIndex:J(i.attrs.parentIndex)}),this.originWorldTfMap.set(o,i.getWorldTransform()),this.originParentIndexMap.set(o,J(i.attrs.parentIndex))}const n=this.editor.doc.getCanvas();this.prevParent=Ku(this.startPoint,n.getChildren(),i=>this.selectedFrameIdSet.has(i.attrs.id))??n;const r=this.editor.selectedElements.getBoundingRect();r?this.prevBBoxPos={x:r.x,y:r.y}:console.error("selected elements should't be empty when moving, please report us issue"),this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.selectedItems})}onDrag(e){this.dragPoint=this.editor.getCursorXY(e),this.move()}move(){this.editor.sceneGraph.showBoxAndHandleWhenSelected=!1,this.editor.sceneGraph.showSelectedGraphsOutline=!1;const e=this.editor.toScenePt(this.dragPoint.x,this.dragPoint.y);let n=e.x-this.startPoint.x,r=e.y-this.startPoint.y;this.editor.hostEventManager.isShiftPressing&&(Math.abs(n)>Math.abs(r)?r=0:n=0),this.editor.setting.get("snapToGrid")&&(n!==0&&(n=Math.round(this.prevBBoxPos.x+n)-this.prevBBoxPos.x),r!==0&&(r=Math.round(this.prevBBoxPos.y+r)-this.prevBBoxPos.y)),this.dx=n,this.dy=r;const i=this.selectedItems,o=new Map;for(const d of i){const p=J(this.originWorldTfMap.get(d.attrs.id));p[4]+=n,p[5]+=r,o.set(d.attrs.id,{width:d.attrs.width,height:d.attrs.height,transform:p})}const s=aa.getGraphicsTargetPoints(o),a=this.editor.refLine.getGraphicsSnapOffset(s),l=this.editor.doc.getCanvas(),u=Ku(e,l.getChildren(),d=>this.selectedFrameIdSet.has(d.attrs.id))??l,h=u.attrs.id;for(const d of i){const p=J(this.originWorldTfMap.get(d.attrs.id));p[4]+=n+a.x,p[5]+=r+a.y,this.prevParent!==u&&d.attrs.id!==h&&(d.getParentId()===h?d.updateAttrs({parentIndex:{guid:h,position:d.attrs.parentIndex.position}}):u.insertChild(d)),d.setWorldTransform(p)}this.prevParent=u;for(const d of i)this.transaction.update(d.attrs.id,{transform:J(d.attrs.transform),parentIndex:J(d.attrs.parentIndex)});this.updateCursor(),this.transaction.updateParentSize(i),this.editor.render()}updateCursor(){if(this.editor.hostEventManager.isShiftPressing){if(this.dx===0&&this.dy!==0){this.editor.setCursor("move-ns");return}if(this.dx!==0&&this.dy===0){this.editor.setCursor("move-ew");return}}this.editor.setCursor("default")}onEnd(e,n){const r=this.editor.selectedElements.getItems({excludeLocked:!0});if(r.length!==0){if(!n){const i=this.editor.getSceneCursorXY(e);!Ud(this.editor,i)&&!this.editor.hostEventManager.isShiftPressing&&this.editor.selectedElements.clear();return}(this.dx!==0||this.dy!==0)&&(this.transaction.commit("Update Graphics Attributes"),r.length===1&&this.editor.controlHandleManager.setCustomHandles(r[0].getControlHandles(this.editor.zoomManager.getZoom(),!0)))}}afterEnd(){this.transaction=new mt(this.editor),this.dragPoint=null,this.selectedFrameIdSet.clear(),this.editor.sceneGraph.showBoxAndHandleWhenSelected=!0,this.editor.sceneGraph.showSelectedGraphsOutline=!0,this.editor.refLine.clear(),this.editor.render()}}class gN{constructor(e){k(this,"startPoint",{x:-1,y:-1}),k(this,"handleName"),k(this,"startSelectBRect",null),k(this,"originAttrsMap",new Map),k(this,"originWorldTransforms",new Map),k(this,"childNodeSet",new Set),k(this,"updatedAttrsMap",new Map),k(this,"lastDragPoint",null),k(this,"prevLastPoint",null),k(this,"unbind",Ca),k(this,"isResizeOp",()=>["nw","ne","se","sw","n","e","s","w"].includes(this.handleName)),k(this,"updateControls",n=>{const r=this.editor.controlHandleManager;if(!oS(this.handleName)&&r.hasCustomHandles()){const i=n.getControlHandles(this.editor.zoomManager.getZoom());i&&r.setCustomHandles(i)}}),this.editor=e}onActive(){const e=()=>{this.updateGraphics(),this.editor.render()};this.editor.hostEventManager.on("shiftToggle",e),this.editor.hostEventManager.on("altToggle",e),this.unbind=()=>{this.editor.hostEventManager.off("shiftToggle",e),this.editor.hostEventManager.off("altToggle",e)}}onInactive(){this.unbind(),this.unbind=Ca}onStart(e){this.startPoint=this.editor.getSceneCursorXY(e);const n=this.editor.controlHandleManager.getHandleInfoByPoint(this.startPoint);if(!n)throw new Error("handleName is invalid");const r=this.editor.selectedElements.getItems();r.forEach(o=>{this.originAttrsMap.set(o.attrs.id,o.getAttrs()),this.originWorldTransforms.set(o.attrs.id,[...o.getWorldTransform()])}),this.childNodeSet=yg(r);for(const o of this.childNodeSet)this.originAttrsMap.set(o.attrs.id,o.getAttrs()),this.originWorldTransforms.set(o.attrs.id,[...o.getWorldTransform()]);const i=this.editor.selectedElements.getBoundingRect();if(!i)throw new Error("startSelectBbox should not be null, please issue to us");this.startSelectBRect=i,oS(n.handleName)&&this.editor.controlHandleManager.hideCustomHandles(),this.handleName=n.handleName}onDrag(e){this.editor.commandManager.disableRedoUndo(),this.editor.hostEventManager.disableDelete();const n=["nw","ne","se","sw"].includes(this.handleName),r=["n","e","s","w"].includes(this.handleName)&&(this.editor.selectedElements.size()>1||this.editor.selectedElements.getItems()[0].getRotate()%To===0);if(!this.lastDragPoint&&this.editor.setting.get("snapToObjects")&&this.editor.refLine.cacheGraphicsRefLines({excludeItems:this.editor.selectedElements.getItems()}),this.lastDragPoint=this.editor.getSceneCursorXY(e),n||r){this.editor.setting.get("snapToGrid")&&(this.lastDragPoint=zd.getSnapPtBySetting(this.lastDragPoint,this.editor.setting));const o=this.editor.refLine.getGraphicsSnapOffset([this.lastDragPoint]);this.lastDragPoint={x:this.lastDragPoint.x+o.x,y:this.lastDragPoint.y+o.y}}const i=this.prevLastPoint;this.prevLastPoint=this.lastDragPoint,!Sh(i,this.lastDragPoint)&&(this.updateGraphics(),this.editor.render())}checkEnableUpdate(e,n){var r,i;return!((n.width===0||((r=n==null?void 0:n.transform)==null?void 0:r[0])===0)&&(n.height===0||((i=n==null?void 0:n.transform)==null?void 0:i[3])===0)||!(e.width===0||e.height===0)&&(n.width===0||n.height===0||n.transform&&(n.transform[0]===0||n.transform[3])===0))}updateSingleGraphics(e){const n=e.calcNewAttrsByControlHandle(this.handleName,this.lastDragPoint,this.originAttrsMap.get(e.attrs.id),this.originWorldTransforms.get(e.attrs.id),this.editor.hostEventManager.isShiftPressing,this.editor.hostEventManager.isAltPressing,this.editor.setting.get("flipObjectsWhileResizing"));e.updateAttrs(n,{finishRecomputed:!0}),this.updatedAttrsMap.set(e.attrs.id,J(n)),Yu(this.editor,js([e]),this.originAttrsMap,this.updatedAttrsMap),this.updateControls(e)}updateGraphics(){if(!this.lastDragPoint)return;let e=new te;const n=this.editor.selectedElements.getItems();if(n.length===1){const r=n[0];if(!this.isResizeOp()||r.attrs.height===0){this.updateSingleGraphics(r);return}const i=this.originWorldTransforms.get(r.attrs.id),o=this.originAttrsMap.get(r.attrs.id),s=Bf(this.handleName,this.lastDragPoint,{width:o.width,height:o.height,transform:i},{keepRatio:this.editor.hostEventManager.isShiftPressing,scaleFromCenter:this.editor.hostEventManager.isAltPressing,noChangeWidthAndHeight:!0,flip:this.editor.setting.get("flipObjectsWhileResizing")});if(!this.checkEnableUpdate(o,Hd(s)))return;e=new te(...s.transform).append(new te(...i).invert()),this.updateControls(n[0])}else{const r=this.startSelectBRect,i=new te().translate(r.x,r.y),o=Bf(this.handleName,this.lastDragPoint,{width:r.width,height:r.height,transform:i.getArray()},{keepRatio:this.editor.hostEventManager.isShiftPressing,scaleFromCenter:this.editor.hostEventManager.isAltPressing,noChangeWidthAndHeight:!0,flip:this.editor.setting.get("flipObjectsWhileResizing")});e=new te(...o.transform).append(i.clone().invert())}this.isResizeOp()?this.resizeGraphicsArray(e.getArray()):console.error("should not reach here, please put a issue")}resizeGraphicsArray(e){const n=this.editor.selectedElements.getItems();for(const r of n){const i=r.attrs.id,o=this.originWorldTransforms.get(i),s=hr(e,o),a=hr(Vi(r.getParentWorldTransform()),s),{width:l,height:u}=this.originAttrsMap.get(i),h=Hd({width:l,height:u,transform:a});r.updateAttrs(h),this.updatedAttrsMap.set(i,J(h))}this.updateChildren(e),Yu(this.editor,js(n),this.originAttrsMap,this.updatedAttrsMap)}updateChildren(e){for(const n of this.childNodeSet){const r=n.attrs.id,i=this.originWorldTransforms.get(r),o=hr(e,i),s=hr(Vi(n.getParentWorldTransform()),o),{width:a,height:l}=this.originAttrsMap.get(r),u=Hd({width:a,height:l,transform:s});n.updateAttrs(u),this.updatedAttrsMap.set(r,J(u))}}onEnd(e,n){if(this.editor.selectedElements.size()===0||!n)return;const r=this.editor.selectedElements.getItems();this.editor.commandManager.pushCommand(new mg("Update Selected Graphics attributes by Control Handle",this.editor,this.originAttrsMap,this.updatedAttrsMap)),r.length===1&&(this.editor.controlHandleManager.setCustomHandles(r[0].getControlHandles(this.editor.zoomManager.getZoom(),!0)),this.editor.render()),this.editor.commandManager.enableRedoUndo(),this.editor.hostEventManager.enableDelete()}afterEnd(){this.originAttrsMap=new Map,this.updatedAttrsMap=new Map,this.lastDragPoint=null,this.editor.refLine.clear()}}class mN{constructor(e){k(this,"originWorldTfMap",new Map),k(this,"transaction"),k(this,"selectedItems",[]),k(this,"lastPoint",null),k(this,"startRotation",0),k(this,"startBboxRotation",0),k(this,"dRotation",0),k(this,"selectedBoxCenter",null),k(this,"handleType",""),k(this,"shiftPressHandler",()=>{this.rotateSelectedGraphics()}),this.editor=e,this.transaction=new mt(e)}onActive(){this.editor.hostEventManager.on("shiftToggle",this.shiftPressHandler)}onInactive(){this.editor.hostEventManager.off("shiftToggle",this.shiftPressHandler)}onStart(e){this.selectedItems=this.editor.selectedElements.getItems({excludeLocked:!0});for(const i of this.selectedItems)this.transaction.recordOld(i.attrs.id,{transform:J(i.attrs.transform)}),this.originWorldTfMap.set(i.attrs.id,i.getWorldTransform());const n=this.editor.selectedElements.getBoundingRect();this.selectedBoxCenter={x:n.x+n.width/2,y:n.y+n.height/2};const r=this.editor.getSceneCursorXY(e);this.startRotation=no({x:0,y:-1},{x:r.x-this.selectedBoxCenter.x,y:r.y-this.selectedBoxCenter.y}),this.startBboxRotation=this.editor.selectedElements.getRotation()}onDrag(e){this.lastPoint=this.editor.getSceneCursorXY(e),this.rotateSelectedGraphics()}rotateSelectedGraphics(){const e=this.lastPoint;if(!e)return;const n=this.editor,r=this.selectedItems,{x:i,y:o}=this.selectedBoxCenter,s=no({x:0,y:-1},{x:e.x-i,y:e.y-o});if(this.dRotation=s-this.startRotation,n.hostEventManager.isShiftPressing){const a=n.setting.get("lockRotation"),l=this.startBboxRotation+this.dRotation;this.dRotation=_t(l,a)-this.startBboxRotation}n.selectedElements.size()===1?n.setCursor(iu(this.handleType,n.selectedBox.getBox())):n.setCursor({type:"rotation",degree:Xu(s)});for(const a of r)a.dRotate(this.dRotation,this.originWorldTfMap.get(a.attrs.id),{x:i,y:o}),this.transaction.update(a.attrs.id,{transform:[...a.attrs.transform]});this.transaction.updateParentSize(this.selectedItems),n.render()}onEnd(){this.dRotation!==0&&this.transaction.commit("Rotate Elements")}afterEnd(){this.transaction=new mt(this.editor),this.lastPoint=null,this.dRotation=0,this.selectedBoxCenter=null}}class yN{constructor(e){k(this,"startPoint",{x:-1,y:-1}),k(this,"isShiftPressingWhenStart",!1),k(this,"startSelectedGraphs",[]),k(this,"startPointWhenSpaceDown",null),k(this,"lastDragPointWhenSpaceDown",null),k(this,"lastMouseScenePoint"),k(this,"lastMousePoint"),this.editor=e}onActive(){}onInactive(){}onStart(e){this.isShiftPressingWhenStart=!1,this.editor.hostEventManager.isShiftPressing?(this.isShiftPressingWhenStart=!0,this.startSelectedGraphs=this.editor.selectedElements.getItems()):this.editor.selectedElements.clear(),this.startPoint=this.editor.getSceneCursorXY(e),this.editor.render(),this.editor.sceneGraph.setSelection(this.startPoint)}onDrag(e){this.lastMouseScenePoint=this.editor.getSceneCursorXY(e),this.lastMousePoint=this.lastMouseScenePoint,this.updateSelectionAndSelectSet()}updateSelectionAndSelectSet(){const{x:e,y:n}=this.lastMouseScenePoint;if(this.startPointWhenSpaceDown&&this.lastDragPointWhenSpaceDown){const{x:i,y:o}=this.startPointWhenSpaceDown,{x:s,y:a}=this.lastDragPointWhenSpaceDown,l=e-s,u=n-a;this.startPoint={x:i+l,y:o+u}}const r=ow(this.startPoint,this.lastMouseScenePoint);if(this.editor.sceneGraph.setSelection(r),this.isShiftPressingWhenStart){const i=js(this.startSelectedGraphs),o=lS(this.editor,i);this.editor.selectedElements.setItems(this.startSelectedGraphs),this.editor.selectedElements.toggleItems(o.filter(s=>!i.has(s.attrs.id)))}else{const i=lS(this.editor);this.editor.selectedElements.setItems(i)}this.editor.render()}onEnd(){}afterEnd(){this.isShiftPressingWhenStart=!1,this.startSelectedGraphs=[],this.editor.sceneGraph.selection=null,this.editor.render(),this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null}onSpaceToggle(e){this.editor.toolManager.isDragging()&&e?(this.startPointWhenSpaceDown=this.startPoint,this.lastDragPointWhenSpaceDown=this.lastMousePoint,this.updateSelectionAndSelectSet()):(this.startPointWhenSpaceDown=null,this.lastDragPointWhenSpaceDown=null)}}const uA="select",hA="v";class Rl{constructor(e){k(this,"type",uA),k(this,"hotkey",hA),k(this,"cursor","default"),k(this,"startPoint",{x:-1,y:-1}),k(this,"currStrategy",null),k(this,"strategyMove"),k(this,"strategyDrawSelection"),k(this,"strategySelectRotation"),k(this,"strategySelectResize"),k(this,"graphShouldRemovedFromSelectedIfNotMoved",null),k(this,"handleHoverItemChange",()=>{this.editor.toolManager.isDragging()||this.editor.render()}),k(this,"onComboClick",n=>{const r=n.pos,i=this.editor;if(i.controlHandleManager.getHandleInfoByPoint(r))return;const o=Ud(i,r);if(o){if(o instanceof Mn)i.pathEditor.active(o);else if(o instanceof vg)i.textEditor.active({textGraphics:o,pos:o.getWorldPosition(),range:{start:0,end:o.getContentLength()}}),n.nativeEvent.preventDefault();else if(Ln(o)&&o.isGroup()){const s=o.getChildren();for(let a=s.length-1;a>=0;a--)if(s[a].hitTestChildren(r)){this.editor.hostEventManager.isShiftPressing?this.editor.selectedElements.toggleItems([s[a]]):this.editor.selectedElements.setItems([s[a]]),i.selectedElements.setHoverItem(s[a]);break}}}}),k(this,"updateCursorAndHlHoverGraph",nw(n=>{if(this.editor.canvasDragger.isActive())return;const r=this.editor.controlHandleManager.getHandleInfoByPoint(n);if(this.editor.setCursor((r==null?void 0:r.cursor)||"default"),r||!this.editor.hostEventManager.isShiftPressing&&this.editor.selectedBox.hitTest(n))this.editor.selectedElements.setHoverItem(null);else{const i=Ud(this.editor,n);this.editor.selectedElements.setHoverItem(i)}},20)),this.editor=e,this.strategyMove=new pN(e),this.strategyDrawSelection=new yN(e),this.strategySelectRotation=new mN(e),this.strategySelectResize=new gN(e)}onActive(){this.editor.selectedElements.on("hoverItemChange",this.handleHoverItemChange),this.editor.mouseEventManager.on("comboClick",this.onComboClick)}onInactive(){this.editor.selectedElements.setHighlightedItem(null),this.editor.selectedElements.off("hoverItemChange",this.handleHoverItemChange),this.editor.mouseEventManager.off("comboClick",this.onComboClick),this.updateCursorAndHlHoverGraph.cancel(),this.editor.render()}onMoveExcludeDrag(e,n){if(n||this.editor.textEditor.isActive())return;const r=this.editor.getSceneCursorXY(e);this.updateCursorAndHlHoverGraph(r),this.editor.selectedBox.setHoverByPoint(r)}onStart(e){if(this.currStrategy=null,this.graphShouldRemovedFromSelectedIfNotMoved=null,this.editor.hostEventManager.isDraggingCanvasBySpace)return;const n=this.editor.sceneGraph,r=this.editor.selectedElements,i=this.editor.hostEventManager.isShiftPressing;this.startPoint=this.editor.getSceneCursorXY(e);const o=this.editor.controlHandleManager.getHandleInfoByPoint(this.startPoint);if(o)iN(o.cursor)?(this.strategySelectRotation.handleType=o.handleName,this.currStrategy=this.strategySelectRotation):this.currStrategy=this.strategySelectResize;else{const s=this.editor.selectedBox.hitTest(this.startPoint),a=Ud(this.editor,this.startPoint);a&&i&&r.getItems().includes(a)&&(this.graphShouldRemovedFromSelectedIfNotMoved=a),s?this.currStrategy=this.strategyMove:a?(i?r.getItems().includes(a)||r.toggleItems([a]):r.setItems([a]),this.editor.selectedBox.setHover(!0),n.render(),this.currStrategy=this.strategyMove):this.currStrategy=this.strategyDrawSelection}if(this.currStrategy)this.currStrategy.onActive(),this.currStrategy.onStart(e);else throw new Error("")}onDrag(e){if(!this.editor.hostEventManager.isDraggingCanvasBySpace)if(this.currStrategy)this.currStrategy.onDrag(e);else throw new Error("")}onEnd(e,n){if(this.editor.controlHandleManager.showCustomHandles(),this.editor.hostEventManager.isDraggingCanvasBySpace)return;!n&&this.graphShouldRemovedFromSelectedIfNotMoved&&(this.editor.selectedElements.toggleItems([this.graphShouldRemovedFromSelectedIfNotMoved]),this.editor.render());const r=this.currStrategy;if(r)r.onEnd(e,n),r.onInactive();else throw new Error("")}afterEnd(e,n){var r;this.editor.hostEventManager.isDraggingCanvasBySpace||this.editor.setCursor("default"),this.graphShouldRemovedFromSelectedIfNotMoved=null,(r=this.currStrategy)==null||r.afterEnd(e,n),this.currStrategy=null;const i=this.editor.getSceneCursorXY(e);this.editor.selectedBox.setHoverByPoint(i),this.updateCursorAndHlHoverGraph(i)}onCanvasDragActiveChange(e){e&&this.editor.selectedElements.setHoverItem(null)}onSpaceToggle(e){var n;(n=this.currStrategy)!=null&&n.onSpaceToggle&&this.currStrategy.onSpaceToggle(e)}onShiftToggle(e){var n;(n=this.currStrategy)!=null&&n.onShiftToggle&&this.currStrategy.onShiftToggle(e)}}k(Rl,"type",uA),k(Rl,"hotkey",hA);class vN{constructor(e){k(this,"toolCtorMap",new Map),k(this,"hotkeySet",new Set),k(this,"currentTool",null),k(this,"eventEmitter",new Fn),k(this,"enableSwitchTool",!0),k(this,"keyBindingToken",[]),k(this,"_isDragging",!1),k(this,"enableToolTypes",[]),k(this,"currViewportPoint",{x:1/0,y:1/0}),k(this,"_unbindEvent"),this.editor=e,this.registerToolCtor(Rl),this.registerToolCtor(Uf),this.registerToolCtor(Wf),this.registerToolCtor(zf),this.registerToolCtor(Gf),this.registerToolCtor(Vf),this.registerToolCtor(Yf),this.registerToolCtor(Hf),this.registerToolCtor(fa),this.registerToolCtor(ec),this.registerToolCtor(Xf),this.registerToolCtor(Kf),this.registerToolCtor(Zf),this.setEnableHotKeyTools([Rl.type,Uf.type,Wf.type,zf.type,Gf.type,ec.type,Zf.type,Vf.type,Xf.type,Kf.type,Yf.type,Hf.type]),this.setActiveTool(Rl.type),this._unbindEvent=this.bindEvent()}unbindHotkey(){this.keyBindingToken.forEach(e=>{this.editor.keybindingManager.unregister(e)}),this.keyBindingToken=[]}setEnableHotKeyTools(e){this.enableToolTypes=e,this.eventEmitter.emit("changeEnableTools",[...e])}getEnableTools(){return[...this.enableToolTypes]}registerToolCtor(e){const n=e.type;this.toolCtorMap.has(n)&&console.warn(`tool "${n}" had exit, replace it!`),this.toolCtorMap.set(n,e);const r=e.hotkey;let i="",o;if(!r){console.log(`${n} has no hotkey`);return}typeof r=="string"?(i=`Key${r.toUpperCase()}`,o={keyCode:i}):(i=`${r.altKey?"alt+":""}${r.ctrlKey?"ctrl+":""}${r.shiftKey?"shift+":""}${r.metaKey?"meta+":""}${r.keyCode}`,o=r),this.hotkeySet.has(i)&&console.log(`register same hotkey: "${i}"`),this.hotkeySet.add(i);const s=this.editor.keybindingManager.register({key:o,actionName:n,when:()=>this.enableToolTypes.includes(n),action:()=>{this.setActiveTool(n)}});this.keyBindingToken.push(s)}getActiveToolName(){var e;return(e=this.currentTool)==null?void 0:e.type}bindEvent(){let e=!1,n={x:0,y:0},r=!1;const i=y=>{setTimeout(()=>{if(e=!1,this._isDragging=!1,r=!1,!(y.button!==0||this.editor.textEditor.isActive()||this.editor.hostEventManager.isSpacePressing)){if(e=!0,r=!0,!this.currentTool)throw new Error("there is no active tool");n={x:y.clientX,y:y.clientY},this.currentTool.onStart(y)}})},o=y=>{var m,C;if(this.currViewportPoint=this.editor.getCursorXY(y),!this.currentTool)throw new Error("");if(e){if(!r)return;const x=y.clientX-n.x,v=y.clientY-n.y,b=((C=(m=this.currentTool).getDragBlockStep)==null?void 0:C.call(m))??this.editor.setting.get("dragBlockStep");!this._isDragging&&(Math.abs(x)>b||Math.abs(v)>b)&&(this._isDragging=!0),this._isDragging&&(this.enableSwitchTool=!1,this.editor.canvasDragger.disableDragBySpace(),this.currentTool.onDrag(y))}else{const x=this.editor.canvasElement!==y.target;this.currentTool.onMoveExcludeDrag(y,x)}},s=y=>{if(this.enableSwitchTool=!0,!!r){if(!this.currentTool)throw new Error("");e&&(this.editor.canvasDragger.enableDragBySpace(),e=!1,this.currentTool.onEnd(y,this._isDragging),this.currentTool.afterEnd(y,this._isDragging)),this._isDragging=!1}},a=()=>{var y,m;(m=(y=this.currentTool)==null?void 0:y.onCommandChange)==null||m.call(y)},l=y=>{var m,C;(C=(m=this.currentTool)==null?void 0:m.onSpaceToggle)==null||C.call(m,y)},u=y=>{var m,C;(C=(m=this.currentTool)==null?void 0:m.onShiftToggle)==null||C.call(m,y)},h=y=>{var m,C;(C=(m=this.currentTool)==null?void 0:m.onAltToggle)==null||C.call(m,y)},d=(y,m)=>{var C,x;(x=(C=this.currentTool)==null?void 0:C.onViewportXOrYChange)==null||x.call(C,y,m)},p=y=>{var m,C;(C=(m=this.currentTool)==null?void 0:m.onCanvasDragActiveChange)==null||C.call(m,y)},g=this.editor.canvasElement;return g.addEventListener("pointerdown",i),window.addEventListener("pointermove",o),window.addEventListener("pointerup",s),this.editor.commandManager.on("change",a),this.editor.hostEventManager.on("spaceToggle",l),this.editor.hostEventManager.on("shiftToggle",u),this.editor.hostEventManager.on("altToggle",h),this.editor.viewportManager.on("xOrYChange",d),this.editor.canvasDragger.on("activeChange",p),()=>{g.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",s),this.editor.commandManager.off("change",a),this.editor.hostEventManager.off("spaceToggle",l),this.editor.hostEventManager.off("shiftToggle",u),this.editor.hostEventManager.off("altToggle",h),this.editor.viewportManager.off("xOrYChange",d),this.editor.canvasDragger.off("activeChange",p)}}unbindEvent(){this._unbindEvent(),this._unbindEvent=Ca,this.unbindHotkey()}async setActiveTool(e){if(!this.enableSwitchTool||this.getActiveToolName()===e)return;if(!this.enableToolTypes.includes(e)){console.warn(`target tool "${e}" is not enable`);return}const n=this.toolCtorMap.get(e)||null;if(!n)throw new Error(`tool "${e}" is not registered`);const r=new n(this.editor);if(r.enableActive&&!await r.enableActive())return;const i=this.currentTool;this.currentTool=r,i&&i.onInactive(),this.setCursorWhenActive(),r.onActive(),this.eventEmitter.emit("switchTool",r.type)}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}destroy(){var e;(e=this.currentTool)==null||e.onInactive()}setCursorWhenActive(){this.currentTool&&this.editor.cursorManager.setCursor(this.currentTool.cursor)}isDragging(){return this._isDragging}getCurrPoint(){return this.editor.toScenePt(this.currViewportPoint.x,this.currViewportPoint.y)}}class wN{constructor(e){k(this,"normalControls",[]),k(this,"selectedControls",[]),k(this,"segControlsNeedDraw",[]),k(this,"drawControlHandles",nw((n=[])=>{n=this.generateControls().concat(n),this.editor.controlHandleManager.setCustomHandles(n),this.editor.controlHandleManager.showCustomHandles()})),this.editor=e}getSegControlsNeedDraw(){return this.segControlsNeedDraw}getItemsNeedDraw(){const e=this.editor.pathEditor.getPath(),n=new Map,r=[];if(!e)return console.warn("path is no exist"),{segControlsNeedDrawMap:n,segControlsNeedDraw:r};const i=[...this.selectedControls,...this.normalControls];for(const o of i){const{type:s,pathIdx:a,segIdx:l}=o;if(a<0||a>=e.attrs.pathData.length)continue;const u=e.attrs.pathData[a],h=u.segs.length,d=u.closed;if(l<0||l>=h)continue;let p=n.get(a);p||(p=new Set,n.set(a,p)),p.add(l),r.push({pathIdx:a,segIdx:l});const g=l-1,y=l+1;s==="anchor"?(g>=0?(p.add(g),r.push({pathIdx:a,segIdx:g})):d&&(p.add(h-1),r.push({pathIdx:a,segIdx:h-1})),y<h?(p.add(y),r.push({pathIdx:a,segIdx:y})):d&&(p.add(0),r.push({pathIdx:a,segIdx:0}))):s==="in"?g>=0&&(p.add(g),r.push({pathIdx:a,segIdx:g})):(s==="out"||s==="curve")&&y<h&&(p.add(y),r.push({pathIdx:a,segIdx:y}))}return{segControlsNeedDrawMap:n,segControlsNeedDraw:r}}generateControls(){const e=this.editor.pathEditor.getPath();if(!e)return[];const n=4,r=6,i=this.editor.setting.get("handleStroke"),o=this.editor.zoomManager.getZoom(),s=e.attrs.pathData,{segControlsNeedDrawMap:a,segControlsNeedDraw:l}=this.getItemsNeedDraw();this.segControlsNeedDraw=l;const u=[],h=[];for(let d=0;d<s.length;d++){const p=s[d];for(let g=0;g<p.segs.length;g++){const y=e.getSeg(d,g,{applyTransform:!0}),m=y.point;let C=6,x="#fff",v=i;this.contains("anchor",d,g)&&(C=8,x=i,v="#fff");const b=new Gt({cx:m.x,cy:m.y,type:["anchor",d,g].join("-"),graphics:new _h({objectName:"anchor",width:C,height:C,fill:[{type:ee.Solid,attrs:Kt(x)}],stroke:[{type:ee.Solid,attrs:Kt(v)}],strokeWidth:1},{advancedAttrs:this.editor.toViewportPt(m.x+C/2,m.y+C/2),doc:this.editor.doc}),padding:n,getCursor:()=>"default"});u.push(b);const E=a.get(d);if(!E||!E.has(g))continue;const A=Kt(this.editor.setting.get("pathLineStroke")),$=[Mn.getHandleIn(y),Mn.getHandleOut(y)];for(let M=0;M<$.length;M++){const I=$[M];if(rw(I,m))continue;const N=M===0&&this.contains("in",d,g)||M===1&&this.contains("out",d,g),O=r9(m,I),L=new Gt({cx:O.x+O.width/2,cy:O.y+O.height/2,type:"handleLine",rotation:O.rotation,graphics:new lw({objectName:"handleLine",height:O.height,width:O.width*o,stroke:[{type:ee.Solid,attrs:N?Kt(i):A}],strokeWidth:1},{advancedAttrs:{x:O.x,y:O.y},doc:this.editor.doc}),hitTest:()=>!1,getCursor:()=>"default"}),F=N?8.5:r,X=new Gt({cx:I.x,cy:I.y,type:[M===0?"in":"out",d,g].join("-"),graphics:new cw({objectName:"pathHandle",width:F,height:F,fill:[{type:ee.Solid,attrs:Kt(N?i:"#fff")}],stroke:[{type:ee.Solid,attrs:Kt(N?"#fff":i)}],strokeWidth:N?1.5:1,count:4},{advancedAttrs:this.editor.toViewportPt(I.x+F/2,I.y+F/2),doc:this.editor.doc}),padding:n,getCursor:()=>"default"});h.push(L,X)}}}return u.concat(h)}contains(e,n,r){return this.selectedControls.some(i=>i.type===e&&i.pathIdx===n&&i.segIdx===r)}getSelectedControlsSize(){return this.selectedControls.length}getSelectedControls(){return J(this.selectedControls)}setItems(e){this.selectedControls=e}clear(){this.selectedControls=[]}setNormalControls(e){this.normalControls=e}getNormalControls(){return J(this.normalControls)}}class hw{constructor(e){k(this,"_active",!1),k(this,"path",null),k(this,"eventTokens",[]),k(this,"prevToolKeys",[]),k(this,"eventEmitter",new Fn),k(this,"selectedControl"),k(this,"onSelectedChange",n=>{n.length===0||n[0]===this.path||(this.inactive(),this.editor.toolManager.setActiveTool("select"))}),this.editor=e,this.selectedControl=new wN(e)}getPath(){return this.path}isActive(){return this._active}active(e){this._active=!0,this.path=e;const n=this.editor;n.sceneGraph.showSelectedGraphsOutline=!1,n.sceneGraph.highlightLayersOnHover=!1,n.controlHandleManager.enableTransformControl=!1,this.unbindHotkeys(),this.bindHotkeys(),this.prevToolKeys=n.toolManager.getEnableTools(),n.toolManager.setEnableHotKeyTools([fa.type,ec.type]);const r=n.toolManager.getActiveToolName();r!==fa.type&&r!==ec.type&&n.toolManager.setActiveTool(fa.type),n.selectedElements.on("itemsChange",this.onSelectedChange),n.pathEditor.drawControlHandles(),this.eventEmitter.emit("toggle",!0)}inactive(e){if(!this._active)return;this._active=!1,e!=="undo"&&this.removePathIfEmpty(),this.selectedControl.clear(),this.path=null;const n=this.editor;n.sceneGraph.showSelectedGraphsOutline=!0,n.sceneGraph.highlightLayersOnHover=!0,n.controlHandleManager.enableTransformControl=!0,this.unbindHotkeys(),n.toolManager.setEnableHotKeyTools(this.prevToolKeys),n.toolManager.setActiveTool(Rl.type),n.selectedElements.off("itemsChange",this.onSelectedChange),n.controlHandleManager.clearCustomHandles(),n.render(),this.eventEmitter.emit("toggle",!1)}removePathIfEmpty(){const e=this.path;if(!e)return;const n=e.attrs.pathData;(n.length===0||n.every(r=>r.segs.length<=1))&&(uw(this.editor,[e]),this.editor.selectedElements.clear())}bindHotkeys(){const e=this.editor;this.eventTokens=[];let n=e.keybindingManager.registerWithHighPrior({key:[{keyCode:"Backspace"},{keyCode:"Delete"}],when:r=>!r.isToolDragging,actionName:"Path Delete",action:()=>{}});this.eventTokens.push(n),n=e.keybindingManager.registerWithHighPrior({key:{keyCode:"Escape"},when:r=>!r.isToolDragging,actionName:"Path Finish",action:()=>{this.selectedControl.getSelectedControlsSize()>0?(this.selectedControl.clear(),this.drawControlHandles(),this.editor.render()):this.inactive()}}),this.eventTokens.push(n),n=e.keybindingManager.registerWithHighPrior({key:{keyCode:"Enter"},when:r=>!r.isToolDragging,actionName:"Path End",action:()=>{this.inactive()}}),this.eventTokens.push(n)}unbindHotkeys(){for(const e of this.eventTokens)this.editor.keybindingManager.unregister(e);this.eventTokens=[]}static parseSelectedInfoStr(e){const n=e.split("-");return n.length!==3?null:{type:n[0],pathIdx:parseInt(n[1]),segIdx:parseInt(n[2])}}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}drawControlHandles(e=[]){this.selectedControl.drawControlHandles(e)}}var xN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(xN,function(){var n=function(){function r(g){return s.appendChild(g.dom),g}function i(g){for(var y=0;y<s.children.length;y++)s.children[y].style.display=y===g?"block":"none";o=g}var o=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(g){g.preventDefault(),i(++o%s.children.length)},!1);var a=(performance||Date).now(),l=a,u=0,h=r(new n.Panel("FPS","#0ff","#002")),d=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new n.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){u++;var g=(performance||Date).now();if(d.update(g-a,200),g>l+1e3&&(h.update(1e3*u/(g-l),100),l=g,u=0,p)){var y=performance.memory;p.update(y.usedJSHeapSize/1048576,y.jsHeapSizeLimit/1048576)}return g},update:function(){a=this.end()},domElement:s,setMode:i}};return n.Panel=function(r,i,o){var s=1/0,a=0,l=Math.round,u=l(window.devicePixelRatio||1),h=80*u,d=48*u,p=3*u,g=2*u,y=3*u,m=15*u,C=74*u,x=30*u,v=document.createElement("canvas");v.width=h,v.height=d,v.style.cssText="width:80px;height:48px";var b=v.getContext("2d");return b.font="bold "+9*u+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=o,b.fillRect(0,0,h,d),b.fillStyle=i,b.fillText(r,p,g),b.fillRect(y,m,C,x),b.fillStyle=o,b.globalAlpha=.9,b.fillRect(y,m,C,x),{dom:v,update:function(E,A){s=Math.min(s,E),a=Math.max(a,E),b.fillStyle=o,b.globalAlpha=1,b.fillRect(0,0,h,m),b.fillStyle=i,b.fillText(l(E)+" "+r+" ("+l(s)+"-"+l(a)+")",p,g),b.drawImage(v,y+u,m,C-u,x,y,m,C-u,x),b.fillRect(y+C-u,m,u,x),b.fillStyle=o,b.globalAlpha=.9,b.fillRect(y+C-u,m,u,l((1-E/A)*x))}}},n})})(dA);var SN=dA.exports;const CN=bN(SN);class EN{constructor(){k(this,"stats",new CN),k(this,"rafId",0)}start(e){const n=this.stats;n.showPanel(0),n.dom.style.left="300px",e.appendChild(n.dom);const r=()=>{n.begin(),n.end(),this.rafId=requestAnimationFrame(r)};this.rafId=requestAnimationFrame(r)}destroy(){cancelAnimationFrame(this.rafId),this.stats.dom.remove()}}const cS=t=>{const e=[1,2,5,10,25,50,100,250,500,1e3,2500,5e3],n=50/t;for(let r=0,i=e.length;r<i;r++)if(e[r]>=n)return e[r];return e[0]};class _N{constructor(e){k(this,"visible",!1),this.editor=e}open(){this.visible=!0}close(){this.visible=!1}draw(){const e=this.editor.setting,n=e.get("rulerWidth"),r=this.editor.ctx,i=this.editor.viewportManager.getViewport(),{width:o,height:s}=i;r.save(),r.fillStyle=e.get("rulerBgColor"),r.fillRect(0,0,o,n),r.fillRect(0,0,n,s),this.drawSelectArea(),this.drawXRuler(),this.drawYRuler(),r.fillStyle=e.get("rulerBgColor"),r.fillRect(0,0,n,n),r.strokeStyle=e.get("rulerStroke"),r.beginPath(),r.moveTo(0,n+.5),r.lineTo(o,n+.5),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(n+.5,0),r.lineTo(n+.5,s),r.stroke(),r.closePath(),r.restore()}drawSelectArea(){const e=this.editor.setting,n=e.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=this.editor.selectedElements.getItems().map(a=>a.getBbox());r.fillStyle=e.get("rulerSelectedBgColor");for(const[a,l]of tS(s.map(({minX:u,maxX:h})=>[u,h])))r.fillRect((a-o.x)*i,0,(l-a)*i,n);for(const[a,l]of tS(s.map(({minY:u,maxY:h})=>[u,h])))r.fillRect(0,(a-o.y)*i,n,(l-a)*i)}drawXRuler(){const e=this.editor.setting,n=e.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=cS(i),a=n;let l=o.x+a/i;l=_t(l,s);const u=o.width;let{x:h}=this.editor.toScenePt(u,0);h=_t(h,s),r.textAlign="center";const d=n-e.get("rulerMarkSize");for(;l<=h;){r.strokeStyle=e.get("rulerMarkStroke"),r.fillStyle=e.get("rulerMarkStroke");const p=Of((l-o.x)*i);r.beginPath(),r.moveTo(p,d),r.lineTo(p,d+e.get("rulerMarkSize")),r.stroke(),r.closePath(),r.fillText(String(l),p,d-4),l+=s}}drawYRuler(){const e=this.editor.setting,n=e.get("rulerWidth"),r=this.editor.ctx,i=this.editor.zoomManager.getZoom(),o=this.editor.viewportManager.getViewport(),s=cS(i),a=n;let l=o.y+a/i;l=_t(l,s);const u=o.height;let h=o.y+u/i;h=_t(h,s);const d=n-e.get("rulerMarkSize");for(r.textAlign="center",r.fillStyle=e.get("rulerMarkStroke");l<=h;){const p=Of((l-o.y)*i);r.beginPath(),r.moveTo(d,p),r.lineTo(d+e.get("rulerMarkSize"),p),r.stroke(),r.closePath(),eS(r,-To,d,p),r.fillText(String(l),d,p-3),eS(r,To,d,p),l+=s}}}class kN{constructor(e){this.editor=e}draw(){const e=this.editor.ctx;e.save();const{x:n,y:r,width:i,height:o}=this.editor.viewportManager.getViewport(),s=this.editor.zoomManager.getZoom(),a=this.editor.setting,l=this.editor.setting.get("gridViewX"),u=this.editor.setting.get("gridViewY");let h=_t(n,l);const d=_t(n+i/s,l);for(;h<=d;){e.strokeStyle=a.get("pixelGridLineColor");const y=Of((h-n)*s);e.beginPath(),e.moveTo(y,0),e.lineTo(y,o),e.stroke(),e.closePath(),h+=l}let p=_t(r,u);const g=_t(r+o/s,u);for(;p<=g;){e.strokeStyle=a.get("pixelGridLineColor");const y=Of((p-r)*s);e.beginPath(),e.moveTo(0,y),e.lineTo(i,y),e.stroke(),e.closePath(),p+=u}e.restore()}}const $N={[xe.Graph]:vt,[xe.Rect]:An,[xe.Ellipse]:_h,[xe.Line]:lw,[xe.Text]:vg,[xe.Path]:Mn,[xe.RegularPolygon]:cw,[xe.Star]:$T,[xe.Frame]:kh,[xe.Canvas]:Jl,[xe.Document]:DT};class TN{constructor(e){k(this,"selection",null),k(this,"eventEmitter",new Fn),k(this,"grid"),k(this,"showBoxAndHandleWhenSelected",!0),k(this,"showSelectedGraphsOutline",!0),k(this,"highlightLayersOnHover",!0),k(this,"render",P9(()=>{const{viewportManager:n,canvasElement:r,ctx:i,setting:o}=this.editor,s=n.getViewport(),a=this.editor.zoomManager.getZoom(),l=this.editor.selectedElements;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,r.width,r.height),i.save(),i.fillStyle=o.get("canvasBgColor"),i.fillRect(0,0,r.width,r.height),i.restore();const u=Dy(),h=-s.x,d=-s.y;i.scale(u*a,u*a),i.translate(h,d);const p=this.editor.imgManager,g=this.editor.doc.getCanvas(),y=a<=1;if(g){const v=this.editor.viewportManager.getBbox();i.save(),g.draw({ctx:i,imgManager:p,smooth:y,viewportArea:v}),i.restore()}if(i.save(),i.setTransform(1,0,0,1,0,0),i.scale(u,u),o.get("enablePixelGrid")&&a>=this.editor.setting.get("minPixelGridZoom")&&this.grid.draw(),this.highlightLayersOnHover&&o.get("highlightLayersOnHover")){const v=l.getHighlightedItem();v&&!l.hasItem(v)&&this.drawGraphsOutline([v],o.get("hoverOutlineStrokeWidth"),this.editor.setting.get("hoverOutlineStroke"))}const m=this.editor.selectedBox.updateBbox();if(this.showSelectedGraphsOutline&&(this.drawGraphsOutline(this.editor.selectedElements.getItems().filter(v=>v.isVisible()),o.get("selectedOutlineStrokeWidth"),this.editor.setting.get("hoverOutlineStroke")),this.editor.selectedBox.draw()),this.editor.pathEditor.isActive()){const v=this.editor.pathEditor.getPath();v&&this.drawGraphsOutline([v],o.get("selectedOutlineStrokeWidth"),this.editor.setting.get("pathLineStroke"))}const C=4,x=this.editor.doc.graphicsStoreManager.getFrames();for(const v of x){if(Ln(v)&&v.isGroup()||v.isDeleted())continue;const b=v.getWorldPosition(),E=this.editor.toViewportPt(b.x,b.y);v.drawText(i,E.x,E.y-C)}if(this.showBoxAndHandleWhenSelected&&this.editor.controlHandleManager.draw(m),this.editor.textEditor.drawRange({ctx:i,imgManager:p,smooth:y}),this.selection){i.save(),i.strokeStyle=o.get("selectionStroke"),i.fillStyle=o.get("selectionFill");const{x:v,y:b,width:E,height:A}=this.selection,{x:$,y:M}=this.editor.toViewportPt(v,b),I=E*a,N=A*a;i.fillRect($,M,I,N),i.strokeRect($,M,I,N),i.restore()}this.editor.refLine.drawRefLine(i),o.get("enableRuler")&&this.editor.ruler.draw(),i.restore(),this.eventEmitter.emit("render")})),this.editor=e,this.grid=new kN(e)}addItems(e){for(const n of e)this.editor.doc.addGraphics(n)}drawGraphsOutline(e,n,r){const i=this.editor.ctx,o=Dy(),s=this.editor.viewportManager.getViewport(),a=this.editor.zoomManager.getZoom(),l=-s.x,u=-s.y;i.save(),i.setTransform(1,0,0,1,0,0),i.scale(o*a,o*a),i.translate(l,u),n/=a;for(const h of e)i.save(),h.drawOutline(i,r,n),i.restore();i.restore()}setSelection(e){this.selection=Object.assign({},this.selection,e)}toObjects(){const e=this.editor.doc.getCanvas();return e?e.toObject().children??[]:[]}toJSON(){const e=this.editor.doc.getAllGraphicsArr().filter(r=>!r.isDeleted()).map(r=>r.toJSON()),n={appVersion:this.editor.appVersion,paperId:this.editor.paperId,data:e};return JSON.stringify(n)}createGraphicsArr(e){const n=[];for(const r of e){const i=r.type,o=$N[i];if(!o){console.error(`Unsupported graphics type "${r.type}", ignore it`);continue}n.push(new o(r,{doc:this.editor.doc}))}return n}initGraphicsTree(e){var n;const r=this.editor.doc.getCanvas();for(const i of e){if(i instanceof Jl)continue;const o=i.getParent()??r;o&&o!==i&&o.insertChild(i,(n=i.attrs.parentIndex)==null?void 0:n.position)}}load(e,n){const r=this.createGraphicsArr(e);n||this.editor.doc.clear(),this.addItems(r),this.initGraphicsTree(r)}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class AN{constructor(e){k(this,"box",null),k(this,"eventEmitter",new Fn),k(this,"_hover",!1),k(this,"enableDrawSizeIndicator",!0),this.editor=e}isHover(){return this._hover}getBox(){return this.box?{...this.box}:null}updateBbox(){const e=this.editor.selectedElements,n=e.size();if(n>0)if(n===1){const r=e.getItems()[0],i=r.getSize();this.box={width:i.width,height:i.height,transform:r.getWorldTransform()}}else{const r=e.getBoundingRect();this.box={width:r.width,height:r.height,transform:[1,0,0,1,r.x,r.y]}}else this.box=null;return this.box}draw(){const e=this.box;if(!e)return;const n=this.editor.ctx,r=As({x:0,y:0,width:e.width,height:e.height},e.transform).map(i=>this.editor.toViewportPt(i.x,i.y));this.drawBox(n,r),this.drawSizeIndicator(n,r,e)}drawBox(e,n){const r=this.editor.setting.get("selectBoxStroke"),i=this.editor.setting.get("selectBoxStrokeWidth");e.save(),e.strokeStyle=r,e.lineWidth=i,e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y);e.closePath(),e.stroke(),e.restore()}drawSizeIndicator(e,n,r){if(!this.enableDrawSizeIndicator)return;const i=this.editor.setting.get("sizeIndicatorMinSize");if(Et(n[0],n[1])<i&&Et(n[1],n[2])<i)return;let o=n[0],s=0;for(let F=1;F<n.length;F++)n[F].y>o.y&&(o=n[F],s=F);let a=1/0,l=n[0];for(let F=0;F<n.length;F++){if(F===s||rw(n[F],o))continue;let X=no({x:1,y:0},Ho(n[F],o),!0);X>Math.PI/2&&(X=Math.PI-X),X<a&&(a=X,l=n[F])}const u=Hy(o,l),[h,d]=Q7([o,l],u,this.editor.setting.get("sizeIndicatorOffset")),p=h.y>d.y?h:d,g=this.editor.setting.get("sizeIndicatorRectRadius"),y=this.editor.setting.get("sizeIndicatorRectPadding"),m=this.editor.setting.get("sizeIndicatorNumPrecision"),C=this.editor.setting.get("sizeIndicatorTextColor"),x=this.editor.setting.get("sizeIndicatorTextFontStyle"),v=M2(r.width,m),b=M2(r.height,m),E=`${v}  ${b}`;e.save(),e.font=x;const A=e.measureText(E),$=A.width,M=A.fontBoundingBoxAscent,I=M+A.fontBoundingBoxDescent,N=new te().translate(-$/2,0).rotate(no({x:0,y:1},Ho(p,u))).translate(p.x,p.y),O=this.editor.setting.get("selectBoxStroke");e.fillStyle=O,e.transform(...N.getArray()),e.beginPath();const L=Uy({x:0,y:0,width:$,height:I},y);e.roundRect(L.x,L.y,L.width,L.height,g),e.fill(),e.translate(0,M),e.fillStyle=C,e.fillText(E,0,0),e.restore()}hitTest(e){return this.box?sw(e,this.box,2/this.editor.zoomManager.getZoom()):!1}setHover(e){this._hover!==e&&(this._hover=e,this.eventEmitter.emit("hoverChange",e))}setHoverByPoint(e){const n=this.hitTest(e);this.setHover(n)}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class MN{constructor(e){k(this,"items",[]),k(this,"hoverItem",null),k(this,"highlightedItem",null),k(this,"eventEmitter",new Fn),this.editor=e}setItems(e){const n=this.items;this.items=e,this.emitItemsChangeIfChanged(n,e)}getItems({excludeLocked:e=!1}={}){return e?this.items.filter(n=>!n.isLock()):[...this.items]}getIdSet(){return new Set(this.items.map(e=>e.attrs.id))}setItemsById(e){const n=this.editor.doc.getGraphicsArrByIds(e);n.length===0?console.warn("can not find element by id"):this.setItems(n)}isAllLocked(){return this.items.every(e=>e.isLock())}hasItem(e){return this.items.includes(e)}clear(){this.hoverItem&&this.items.includes(this.hoverItem)&&this.setHoverItem(null),this.setItems([])}toggleItems(e){const n=this.items,r=[];for(let i=0,o=n.length;i<o;i++){const s=n[i],a=e.indexOf(s);a===-1?r.push(s):e.splice(a,1)}r.push(...e),this.items=r,this.emitItemsChangeIfChanged(n,r)}emitItemsChangeIfChanged(e,n){u6(e,n)||this.eventEmitter.emit("itemsChange",n)}toggleItemById(e,n){const r=this.editor.doc.getGraphicsById(e);if(!r){console.warn("can not find element by id");return}if(n!=null&&n.disableParentAndChildCoexist)if(Ln(r)&&r.isGroup())this.items=this.items.filter(i=>!i.containAncestor(e));else{const i=new Set(r.getParentIds());this.items=this.items.filter(o=>!i.has(o.attrs.id))}this.toggleItems([r])}size(){return this.items.length}isEmpty(){return this.items.length===0}getBoundingRect(){if(this.isEmpty())return null;const e=this.items.map(n=>n.getBbox());return Yo(Jo(e))}getRotation(){return this.items.length===0||this.items.length>1?0:this.items[0].getRotate()??0}getTransform(){return this.items.length===0||this.items.length>1?null:this.items[0].attrs.transform}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}removeFromScene(){this.isEmpty()||(uw(this.editor,this.items),this.clear(),this.editor.render())}selectAll(){var e,n;const r=((n=(e=this.items[0])==null?void 0:e.getParent)==null?void 0:n.call(e))??this.editor.doc.getCurrCanvas();for(let i=1;i<this.items.length;i++)if(r!==this.items[i].getParent())return;this.setItems(r.getChildren().filter(i=>!i.isLock()))}setHoverItem(e){const n=this.hoverItem;this.hoverItem=e,this.setHighlightedItem(e),n!==e&&this.eventEmitter.emit("hoverItemChange",e,this.hoverItem)}getHoverItem(){return this.hoverItem}setHighlightedItem(e){const n=this.highlightedItem;this.highlightedItem=e,n!==e&&this.eventEmitter.emit("highlightedItemChange",e,this.highlightedItem)}getHighlightedItem(){return this.highlightedItem}getParentIdSet(){return js(this.items)}}class PN{constructor(e){k(this,"eventEmitter",new Fn),k(this,"value",{canvasBgColor:"#f4f4f4",firstStroke:{type:ee.Solid,attrs:{r:0,g:0,b:0,a:1}},strokeWidth:1,firstFill:{type:ee.Solid,attrs:{r:217,g:217,b:217,a:1}},firstFrameFill:{type:ee.Solid,attrs:{r:255,g:255,b:255,a:1}},addedPaint:{type:ee.Solid,attrs:{r:0,g:0,b:0,a:.2}},defaultStarInnerScale:.3819660246372223,selectBoxStroke:"#1592fe",selectBoxStrokeWidth:1.2,sizeIndicatorMinSize:10,sizeIndicatorOffset:10,sizeIndicatorRectRadius:2,sizeIndicatorRectPadding:[0,4,0,4],sizeIndicatorTextColor:"#fff",sizeIndicatorTextFontStyle:"12px sans-serif",sizeIndicatorNumPrecision:2,selectionStroke:"#0f8eff",selectionFill:"#0f8eff33",selectionMode:"intersect",selectionHitPadding:4,highlightLayersOnHover:!0,hoverOutlineStrokeWidth:2,hoverOutlineStroke:"#1592fe",selectedOutlineStrokeWidth:1,handleStroke:"#1592fe",handleFill:"#fcfcfc",handleStrokeWidth:2,handleSize:7,neswHandleWidth:10,defaultFontSize:12,defaultFontFamily:"sans-serif",textFill:[{type:ee.Solid,attrs:{r:0,g:0,b:0,a:1}}],lockRotation:Math.PI/12,zoomStep:.2325,zoomMin:.015625,zoomMax:256,zoomLevels:[.015625,.03125,.0625,.125,.25,.5,1,2,4,8,16,32,64,128,256],drawGraphDefaultWidth:100,drawGraphDefaultHeight:100,enableRuler:!1,minStepInViewport:50,rulerBgColor:"#fff",rulerStroke:"#e6e6e6",rulerMarkStroke:"#c1c1c1",rulerSelectedBgColor:"#e6f5ff",rulerWidth:20,rulerMarkSize:4,enablePixelGrid:!0,snapToGrid:!0,minPixelGridZoom:8,pixelGridLineColor:"#cccccc55",gridViewX:1,gridViewY:1,gridSnapX:1,gridSnapY:1,snapToObjects:!0,dragBlockStep:4,offsetX:0,offsetY:0,zoomToFixPadding:40,invertZoomDirection:!1,smallNudge:1,bigNudge:10,moveElementsDelay:500,refLineTolerance:4,refLineStroke:"#f14f30ee",refLineStrokeWidth:1,refLinePointSize:5,keepToolSelectedAfterUse:!1,pencilCurveFitTolerance:1,pathLineStroke:"#a4a4a4",angleBase:{x:0,y:-1},flipObjectsWhileResizing:!0,comboClickMaxGap:350,comboClickDistanceTol:5,textEditorCursorSize:1.5,textEditorCursorLineStroke:"#000",textEditorSelectionFill:"#0069c433"}),e=lT(e,Object.keys(this.value)),this.value={...this.value,...e}}toggle(e){const n=this.value[e];typeof n=="boolean"?this.set(e,!n):console.warn(`toggle ${e} failed, value is not boolean`)}set(e,n){this.value[e]=n,this.eventEmitter.emit("update",this.getAttrs(),e)}get(e){return this.value[e]}getAttrs(){return{...this.value}}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class IN{constructor(e){k(this,"range",{start:0,end:0}),this.editor=e}setRange(e){this.range={start:e.start,end:e.end}}getRange(){return{...this.range}}getSortedRange(){const e=Math.min(this.range.start,this.range.end),n=Math.max(this.range.start,this.range.end);return{rangeLeft:e,rangeRight:n}}moveLeft(){if(this.range.start===this.range.end)this.dMove(-1);else{const{rangeLeft:e}=this.getSortedRange();this.setRange({start:e,end:e})}}getMaxRange(){const e=this.editor.textEditor.getTextGraphics();return e?e.getContentLength():1/0}moveRight(){if(this.range.start===this.range.end)this.getMaxRange()>this.range.end&&this.dMove(1);else{const{rangeRight:e}=this.getSortedRange();this.setRange({start:e,end:e})}}dMove(e){const n=Math.max(0,this.range.start+e),r=Math.max(0,this.range.end+e);this.setRange({start:n,end:r})}moveRangeEnd(e){const n=this.getMaxRange(),r=this.range.end+e;n+1>r&&r>=0&&this.setRange({start:this.range.start,end:r})}setRangeEnd(e){const n=e-this.range.end;this.moveRangeEnd(n)}getCursorLinePos(e){const n=e.getGlyphs(),r=this.getRange(),{height:i}=e.getContentMetrics(),o=(n[r.start]??{position:{x:0,y:0},width:0,height:i}).position,s=e.getWorldTransform(),a=da(s,o),l=this.editor.toViewportPt(a.x,a.y),u=da(s,{x:o.x,y:o.y+i}),h=this.editor.toViewportPt(u.x,u.y);let d=null;if(r.end!==r.start){const p=(n[r.end]??{position:{x:0,y:0},width:0,height:i}).position,g=da(s,p);d=this.editor.toViewportPt(g.x,g.y)}return{topInViewport:l,bottomInViewport:h,rightInViewport:d}}draw(e,n,r,i){const{ctx:o}=e,s=this.editor.setting.get("textEditorCursorLineStroke"),a=this.editor.setting.get("textEditorCursorSize");if(o.save(),!i)o.beginPath(),o.moveTo(n.x,n.y),o.lineTo(r.x,r.y),o.closePath(),o.lineWidth=a,o.strokeStyle=s,o.stroke();else{const l=this.editor.setting.get("textEditorSelectionFill");o.beginPath(),o.moveTo(n.x,n.y),o.lineTo(r.x,r.y);const u=r.x-n.x,h=r.y-n.y,d={x:i.x+u,y:i.y+h};o.lineTo(d.x,d.y),o.lineTo(i.x,i.y),o.closePath(),o.fillStyle=l,o.fill()}o.restore()}}const ON={position:"fixed",width:"1px",zIndex:"-1",margin:0,padding:0,border:0,outline:0,opacity:0};class $l{constructor(e){k(this,"inputDom"),k(this,"textGraphics",null),k(this,"rangeManager"),k(this,"_active",!1),k(this,"transaction"),this.editor=e,this.rangeManager=new IN(e),this.inputDom=this.createInputDom(),this.inactive(),this.bindEvent(),e.containerElement.appendChild(this.inputDom)}createInputDom(){const e=document.createElement("input");return e.tabIndex=-1,Object.assign(e.style,ON),e}isEditorInputDom(e){return e===this.inputDom}getTextGraphics(){return this.textGraphics}isActive(){return this._active}active(e){this._active=!0,this.editor.controlHandleManager.enableTransformControl=!1,this.editor.selectedBox.enableDrawSizeIndicator=!1,this.transaction=new mt(this.editor);let n=e.textGraphics;if(!e.textGraphics){const i=this.editor.setting.get("defaultFontSize"),o=this.editor.setting.get("defaultFontFamily");n=new vg({objectName:"",content:"",fontSize:i,fontFamily:o,width:0,height:i},{advancedAttrs:e.pos,doc:this.editor.doc}),this.textGraphics=n,this.editor.sceneGraph.addItems([n]),this.editor.doc.getCurrCanvas().insertChild(n)}if(this.textGraphics=n,this.editor.selectedElements.setItems([n]),this.transaction.recordOld(n.attrs.id,{content:n.attrs.content,width:n.attrs.width}),e.range)this.rangeManager.setRange(e.range);else{const i=n.getContentLength();this.rangeManager.setRange({start:i,end:i})}const r=this.editor.mouseEventManager.getCursorPos();r&&this.updateCursor(r),this.inputDom.focus(),this.editor.render()}inactive(){this._active=!1,this.textGraphics&&(this.textGraphics.attrs.content?(this.transaction.update(this.textGraphics.attrs.id,{content:this.textGraphics.attrs.content,width:this.textGraphics.attrs.width}),this.transaction.updateParentSize([this.textGraphics]),this.transaction.commit("update text content")):uw(this.editor,[this.textGraphics]),this.textGraphics=null),this.editor.controlHandleManager.enableTransformControl=!0,this.editor.selectedBox.enableDrawSizeIndicator=!0}static updateTextContentAndResize(e,n){const{width:r,height:i}=xT(n,{fontSize:e.attrs.fontSize,fontFamily:e.attrs.fontFamily});e.updateAttrs({content:n,width:r,height:i})}bindEvent(){let e="",n="",r="";const i=this.inputDom;i.addEventListener("input",l=>{const u=l,h=this.textGraphics;if(h){if(u.isComposing){if(!e){const{rangeLeft:d,rangeRight:p}=this.rangeManager.getSortedRange(),g=h.attrs.content;n=ho(g,0,d),r=ho(g,p)}e=u.data??""}else e="",n="",r="";if(!u.isComposing&&u.data){const{rangeLeft:d,rangeRight:p}=this.rangeManager.getSortedRange(),g=h.attrs.content,y=ho(g,0,d)+u.data+ho(g,p);$l.updateTextContentAndResize(h,y);const m=H0(u.data);this.rangeManager.setRange({start:d+m,end:d+m}),this.editor.render()}else if(u.isComposing){const d=n+e+r;$l.updateTextContentAndResize(h,d);const p=H0(n)+H0(e);this.rangeManager.setRange({start:p,end:p}),this.editor.render()}}}),i.addEventListener("keydown",l=>{if(l.key==="Escape")this.inactive();else if(l.key==="Backspace"||l.key==="Delete"){const u=this.textGraphics;if(!u||!u.attrs.content)return;let{rangeLeft:h,rangeRight:d}=this.rangeManager.getSortedRange();const p=h!==d;p||(h=l.key==="Backspace"?h-1:h,d=l.key==="Backspace"?d:d+1);const g=u.attrs.content,y=ho(g,0,h),m=ho(g,d),C=y+m;$l.updateTextContentAndResize(u,C),p?this.rangeManager.setRange({start:h,end:h}):l.key==="Backspace"&&this.rangeManager.moveLeft(),this.editor.render()}else if(l.key==="ArrowLeft")l.shiftKey?this.rangeManager.moveRangeEnd(-1):this.rangeManager.moveLeft(),this.editor.render();else if(l.key==="ArrowRight")l.shiftKey?this.rangeManager.moveRangeEnd(1):this.rangeManager.moveRight(),this.editor.render();else if(l.key==="a"&&(l.metaKey||l.ctrlKey))this.textGraphics&&(this.rangeManager.setRange({start:0,end:this.textGraphics.getContentLength()}),this.editor.render());else if(l.key==="c"&&(l.metaKey||l.ctrlKey)){if(!this.textGraphics)return;const{rangeLeft:u,rangeRight:h}=this.rangeManager.getSortedRange(),d=ho(this.textGraphics.attrs.content,u,h);d&&navigator.clipboard.writeText(d)}else if(l.key==="x"&&(l.metaKey||l.ctrlKey)){if(!this.textGraphics)return;const{rangeLeft:u,rangeRight:h}=this.rangeManager.getSortedRange(),d=ho(this.textGraphics.attrs.content,u,h);d&&navigator.clipboard.writeText(d);const p=ho(this.textGraphics.attrs.content,0,u)+ho(this.textGraphics.attrs.content,h);$l.updateTextContentAndResize(this.textGraphics,p),this.rangeManager.setRange({start:u,end:u}),this.editor.render()}}),i.addEventListener("blur",()=>{this.inactive()}),i.addEventListener("compositionend",()=>{e="",n="",r=""});const o=l=>{if(!this.isActive()||this.editor.canvasDragger.isActive()||!this.textGraphics)return;const u=l.pos;if(!this.textGraphics.hitTest(u))return;l.nativeEvent.preventDefault();const h=this.textGraphics.getCursorIndex(u);this.rangeManager.setRange({start:h,end:h}),this.editor.render()},s=l=>{if(!this.isActive()||this.editor.canvasDragger.isActive()||!this.textGraphics)return;const u=l.pos,h=this.textGraphics.getCursorIndex(u);this.rangeManager.setRangeEnd(h),this.editor.render()},a=l=>{this.updateCursor(l.pos)};this.editor.mouseEventManager.on("start",o),this.editor.mouseEventManager.on("drag",s),this.editor.mouseEventManager.on("move",a),this.editor.mouseEventManager.on("end",a)}updateCursor(e){!this.isActive()||!this.textGraphics||(this.textGraphics.hitTest(e)?this.editor.cursorManager.setCursor("text"):this.editor.cursorManager.setCursor("default"))}destroy(){this.inputDom.remove(),this._active=!1}drawRange(e){if(!this.isActive())return;const n=this.editor,r=n.zoomManager.getZoom(),i=n.setting.get("defaultFontSize")*r,o=this.textGraphics;if(!o)return;const{topInViewport:s,bottomInViewport:a,rightInViewport:l}=this.rangeManager.getCursorLinePos(o),u=n.setting.get("offsetX"),h=n.setting.get("offsetY"),d={left:a.x+u+"px",top:a.y-i+h+"px",height:`${i}px`,fontSize:`${i}px`};Object.assign(this.inputDom.style,d),this.rangeManager.draw(e,s,a,l)}}class RN{constructor(e){k(this,"scrollX",0),k(this,"scrollY",0),k(this,"eventEmitter",new Fn),this.editor=e}getViewport(){return{x:this.scrollX,y:this.scrollY,width:parseFloat(this.editor.canvasElement.style.width),height:parseFloat(this.editor.canvasElement.style.height)}}setViewport({x:e,y:n,width:r,height:i}){const o=this.scrollX,s=this.scrollY,a=Dy();e!==void 0&&(this.scrollX=e),n!==void 0&&(this.scrollY=n),r!==void 0&&(this.editor.canvasElement.width=r*a,this.editor.canvasElement.style.width=r+"px"),i!==void 0&&(this.editor.canvasElement.height=i*a,this.editor.canvasElement.style.height=i+"px"),(o!==e||s!==n)&&this.eventEmitter.emit("xOrYChange",e,n)}getCenter(){const{x:e,y:n,width:r,height:i}=this.getViewport(),o=this.editor.zoomManager.getZoom();return{x:e+r/2/o,y:n+i/2/o}}translate(e,n){this.scrollX+=e,this.scrollY+=n,this.eventEmitter.emit("xOrYChange",this.scrollX,this.scrollY)}getBbox(){const{x:e,y:n,width:r,height:i}=this.getViewport(),o=this.editor.zoomManager.getZoom();return{minX:e,minY:n,maxX:e+r/o,maxY:n+i/o}}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}class jN{constructor(e){k(this,"zoom",1),k(this,"eventEmitter",new Fn),this.editor=e}getZoom(){return this.zoom}setZoom(e){const n=this.zoom,r=this.editor.setting.get("zoomMax");e>r&&(e=r);const i=this.editor.setting.get("zoomMin");e<i&&(e=i),this.zoom=e,Promise.resolve().then(()=>{this.eventEmitter.emit("zoomChange",e,n)})}setZoomAndUpdateViewport(e){const n=this.zoom;this.setZoom(e),this.adjustScroll(n)}zoomIn(e){const n=this.zoom;let r;if(e!=null&&e.isLevelZoom){const i=this.editor.setting.get("zoomLevels"),[,o]=uS(i,n);r=o}else{const i=e!=null&&e.deltaY?this.deltaYToZoomStep(e.deltaY):this.editor.setting.get("zoomStep");r=Math.min(n*(1+i),this.editor.setting.get("zoomMax"))}this.setZoom(r),this.adjustScroll(n,e==null?void 0:e.center)}zoomOut(e){const n=this.zoom;let r;if(e!=null&&e.isLevelZoom){const i=this.editor.setting.get("zoomLevels"),[o]=uS(i,n);r=o}else{const i=e!=null&&e.deltaY?this.deltaYToZoomStep(e.deltaY):this.editor.setting.get("zoomStep");r=Math.max(n/(1+i),this.editor.setting.get("zoomMin"))}this.setZoom(r),this.adjustScroll(n,e==null?void 0:e.center)}deltaYToZoomStep(e){return Math.max(.05,.12937973*Math.log(Math.abs(e))-.33227472)}reset(){this.setZoom(1);const e=this.editor.viewportManager,n=e.getViewport();e.setViewport({x:-n.width/2,y:-n.height/2})}zoomRectToFit(e,n){const{setting:r,viewportManager:i}=this.editor,o=r.get("zoomToFixPadding"),s=i.getViewport(),a=this.editor.setting.get("enableRuler")?this.editor.setting.get("rulerWidth"):0,l=C=>{const x=C-o*2-a;return x>0?x:C},u=l(s.height),h=l(s.width),d=h/u,p=e.width/e.height;let g=d>p?u/e.height:h/e.width;g=n?Math.min(g,n):g;const y=e.x-((s.width+a)/g-e.width)/2,m=e.y-((s.height+a)/g-e.height)/2;this.setZoom(g),i.setViewport({x:y,y:m})}zoomToSelection(){const e=this.editor.selectedElements.getBoundingRect();e?this.zoomRectToFit(e):this.zoomToFit()}zoomToGraphics(e){const n=Yo(e.getBbox());this.zoomRectToFit(n)}zoomToFit(e){const n=this.editor.getCanvasBbox();if(!n){this.reset();return}this.zoomRectToFit(Yo(n),e)}getCanvasCenter(){const{width:e,height:n}=this.editor.viewportManager.getViewport();return{x:e/2,y:n/2}}adjustScroll(e,n){const r=this.editor.viewportManager,i=this.zoom,{x:o,y:s}=r.getViewport();n||(n=this.getCanvasCenter());const{x:a,y:l}=K$(n.x,n.y,e,o,s),u=a-n.x/i,h=l-n.y/i;r.setViewport({x:u,y:h})}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}const uS=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Math.floor((n+r)/2);if(t[i]===e){r=i-1,n=i+1;break}else t[i]<e?n=i+1:r=i-1}return r<0&&(r=0),n>=t.length&&(n=t.length-1),[t[r],t[n]]};class DN{constructor(e){k(this,"containerElement"),k(this,"canvasElement"),k(this,"ctx"),k(this,"appVersion","suika-editor_0.0.2"),k(this,"paperId"),k(this,"emitter",new Fn),k(this,"doc"),k(this,"sceneGraph"),k(this,"controlHandleManager"),k(this,"setting"),k(this,"viewportManager"),k(this,"canvasDragger"),k(this,"toolManager"),k(this,"commandManager"),k(this,"zoomManager"),k(this,"imgManager"),k(this,"cursorManager"),k(this,"mouseEventManager"),k(this,"keybindingManager"),k(this,"hostEventManager"),k(this,"clipboard"),k(this,"selectedElements"),k(this,"selectedBox"),k(this,"ruler"),k(this,"refLine"),k(this,"textEditor"),k(this,"pathEditor"),k(this,"perfMonitor"),this.containerElement=e.containerElement,this.canvasElement=document.createElement("canvas"),this.containerElement.appendChild(this.canvasElement),this.ctx=this.canvasElement.getContext("2d"),this.setting=new PN(e.userPreference),e.offsetX&&this.setting.set("offsetX",e.offsetX),e.offsetY&&this.setting.set("offsetY",e.offsetY),this.mouseEventManager=new Z9(this),this.keybindingManager=new aN(this),this.keybindingManager.bindEvent(),this.doc=new DT({id:"0-0",objectName:"Document",width:0,height:0}),this.doc.setEditor(this),this.sceneGraph=new TN(this),this.cursorManager=new rN(this),this.viewportManager=new RN(this),this.commandManager=new X7(this),this.zoomManager=new jN(this),this.imgManager=new sN,this.selectedElements=new MN(this),this.selectedBox=new AN(this),this.ruler=new _N(this),this.refLine=new aa(this),this.controlHandleManager=new O9(this),this.controlHandleManager.bindEvents(),this.textEditor=new $l(this),this.pathEditor=new hw(this),this.hostEventManager=new Y9(this),this.hostEventManager.bindHotkeys(),this.canvasDragger=new q9(this),this.toolManager=new vN(this),this.clipboard=new J9(this),this.clipboard.bindEvents(),this.imgManager.on("added",()=>{this.render()}),this.paperId=Vu();const n=new Jl({objectName:"Canvas",width:0,height:0},{doc:this.doc});this.sceneGraph.addItems([n]),this.viewportManager.setViewport({x:-e.width/2,y:-e.height/2,width:e.width,height:e.height}),this.perfMonitor=new EN,e.showPerfMonitor&&this.perfMonitor.start(this.containerElement),Promise.resolve().then(()=>{this.render()})}setContents(e){if(this.sceneGraph.load(e.data),this.commandManager.clearRecords(),this.paperId=e.paperId??Vu(),!this.doc.getCurrCanvas()){const n=new Jl({objectName:"Canvas",width:0,height:0},{doc:this.doc});this.sceneGraph.addItems([n])}this.zoomManager.zoomToFit(1)}destroy(){this.containerElement.removeChild(this.canvasElement),this.textEditor.destroy(),this.keybindingManager.destroy(),this.hostEventManager.destroy(),this.clipboard.destroy(),this.canvasDragger.destroy(),this.toolManager.unbindEvent(),this.toolManager.destroy(),this.perfMonitor.destroy(),this.controlHandleManager.unbindEvents(),this.emitter.emit("destroy")}setCursor(e){this.cursorManager.setCursor(e)}getCursor(){return this.cursorManager.getCursor()}toScenePt(e,n,r=!1){const i=this.zoomManager.getZoom(),{x:o,y:s}=this.viewportManager.getViewport();return K$(e,n,i,o,s,r)}toViewportPt(e,n){const r=this.zoomManager.getZoom(),{x:i,y:o}=this.viewportManager.getViewport();return c6(e,n,r,i,o)}toSceneSize(e){const n=this.zoomManager.getZoom();return e/n}toViewportSize(e){const n=this.zoomManager.getZoom();return e*n}getCursorXY(e){return{x:e.clientX-this.setting.get("offsetX"),y:e.clientY-this.setting.get("offsetY")}}getSceneCursorXY(e,n=!1){const{x:r,y:i}=this.getCursorXY(e);return this.toScenePt(r,i,n)}render(){this.sceneGraph.render()}getCanvasBbox(){const e=this.doc.getCurrCanvas().getChildren().filter(n=>n.isVisible());return e.length===0?null:Jo(e.map(n=>n.getBbox()))}applyChanges(e){const n=[];for(const[,r]of e.added)n.push(r);this.sceneGraph.load(n,!0);for(const[r,i]of e.update){const o=this.doc.getGraphicsById(r);if(!o){console.warn(`graphics ${r} is not exist`);continue}o.updateAttrs(i)}for(const r of e.deleted){const i=this.doc.getGraphicsById(r);if(!i){console.warn(`graphics ${r} is not exist`);continue}i.setDeleted(!0),i.removeFromParent()}}on(e,n){this.emitter.on(e,n)}off(e,n){this.emitter.off(e,n)}}function fA(t,e){return function(){return t.apply(e,arguments)}}const{toString:LN}=Object.prototype,{getPrototypeOf:dw}=Object,wg=(t=>e=>{const n=LN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),so=t=>(t=t.toLowerCase(),e=>wg(e)===t),xg=t=>e=>typeof e===t,{isArray:wc}=Array,Zu=xg("undefined");function NN(t){return t!==null&&!Zu(t)&&t.constructor!==null&&!Zu(t.constructor)&&Pr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pA=so("ArrayBuffer");function BN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pA(t.buffer),e}const FN=xg("string"),Pr=xg("function"),gA=xg("number"),bg=t=>t!==null&&typeof t=="object",HN=t=>t===!0||t===!1,Gd=t=>{if(wg(t)!=="object")return!1;const e=dw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zN=so("Date"),UN=so("File"),GN=so("Blob"),VN=so("FileList"),WN=t=>bg(t)&&Pr(t.pipe),XN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pr(t.append)&&((e=wg(t))==="formdata"||e==="object"&&Pr(t.toString)&&t.toString()==="[object FormData]"))},KN=so("URLSearchParams"),[YN,ZN,qN,QN]=["ReadableStream","Request","Response","Headers"].map(so),JN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $h(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),wc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function mA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yA=t=>!Zu(t)&&t!==la;function Yy(){const{caseless:t}=yA(this)&&this||{},e={},n=(r,i)=>{const o=t&&mA(e,i)||i;Gd(e[o])&&Gd(r)?e[o]=Yy(e[o],r):Gd(r)?e[o]=Yy({},r):wc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$h(arguments[r],n);return e}const eB=(t,e,n,{allOwnKeys:r}={})=>($h(e,(i,o)=>{n&&Pr(i)?t[o]=fA(i,n):t[o]=i},{allOwnKeys:r}),t),tB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rB=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&dw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oB=t=>{if(!t)return null;if(wc(t))return t;let e=t.length;if(!gA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},sB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dw(Uint8Array)),aB=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},lB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cB=so("HTMLFormElement"),uB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),hS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hB=so("RegExp"),vA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$h(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},dB=t=>{vA(t,(e,n)=>{if(Pr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fB=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return wc(t)?r(t):r(String(t).split(e)),n},pB=()=>{},gB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,W0="abcdefghijklmnopqrstuvwxyz",dS="0123456789",wA={DIGIT:dS,ALPHA:W0,ALPHA_DIGIT:W0+W0.toUpperCase()+dS},mB=(t=16,e=wA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function yB(t){return!!(t&&Pr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const vB=t=>{const e=new Array(10),n=(r,i)=>{if(bg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=wc(r)?[]:{};return $h(r,(s,a)=>{const l=n(s,i+1);!Zu(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},wB=so("AsyncFunction"),xB=t=>t&&(bg(t)||Pr(t))&&Pr(t.then)&&Pr(t.catch),xA=((t,e)=>t?setImmediate:e?((n,r)=>(la.addEventListener("message",({source:i,data:o})=>{i===la&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),la.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pr(la.postMessage)),bB=typeof queueMicrotask<"u"?queueMicrotask.bind(la):typeof process<"u"&&process.nextTick||xA,H={isArray:wc,isArrayBuffer:pA,isBuffer:NN,isFormData:XN,isArrayBufferView:BN,isString:FN,isNumber:gA,isBoolean:HN,isObject:bg,isPlainObject:Gd,isReadableStream:YN,isRequest:ZN,isResponse:qN,isHeaders:QN,isUndefined:Zu,isDate:zN,isFile:UN,isBlob:GN,isRegExp:hB,isFunction:Pr,isStream:WN,isURLSearchParams:KN,isTypedArray:sB,isFileList:VN,forEach:$h,merge:Yy,extend:eB,trim:JN,stripBOM:tB,inherits:nB,toFlatObject:rB,kindOf:wg,kindOfTest:so,endsWith:iB,toArray:oB,forEachEntry:aB,matchAll:lB,isHTMLForm:cB,hasOwnProperty:hS,hasOwnProp:hS,reduceDescriptors:vA,freezeMethods:dB,toObjectSet:fB,toCamelCase:uB,noop:pB,toFiniteNumber:gB,findKey:mA,global:la,isContextDefined:yA,ALPHABET:wA,generateString:mB,isSpecCompliantForm:yB,toJSONObject:vB,isAsyncFn:wB,isThenable:xB,setImmediate:xA,asap:bB};function be(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}H.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const bA=be.prototype,SA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{SA[t]={value:t}});Object.defineProperties(be,SA);Object.defineProperty(bA,"isAxiosError",{value:!0});be.from=(t,e,n,r,i,o)=>{const s=Object.create(bA);return H.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),be.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const SB=null;function Zy(t){return H.isPlainObject(t)||H.isArray(t)}function CA(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function fS(t,e,n){return t?t.concat(e).map(function(i,o){return i=CA(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function CB(t){return H.isArray(t)&&!t.some(Zy)}const EB=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Sg(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,C){return!H.isUndefined(C[m])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(H.isDate(y))return y.toISOString();if(!l&&H.isBlob(y))throw new be("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(y)||H.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,m,C){let x=y;if(y&&!C&&typeof y=="object"){if(H.endsWith(m,"{}"))m=r?m:m.slice(0,-2),y=JSON.stringify(y);else if(H.isArray(y)&&CB(y)||(H.isFileList(y)||H.endsWith(m,"[]"))&&(x=H.toArray(y)))return m=CA(m),x.forEach(function(b,E){!(H.isUndefined(b)||b===null)&&e.append(s===!0?fS([m],E,o):s===null?m:m+"[]",u(b))}),!1}return Zy(y)?!0:(e.append(fS(C,m,o),u(y)),!1)}const d=[],p=Object.assign(EB,{defaultVisitor:h,convertValue:u,isVisitable:Zy});function g(y,m){if(!H.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(y),H.forEach(y,function(x,v){(!(H.isUndefined(x)||x===null)&&i.call(e,x,H.isString(v)?v.trim():v,m,p))===!0&&g(x,m?m.concat(v):[v])}),d.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return g(t),e}function pS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function fw(t,e){this._pairs=[],t&&Sg(t,this,e)}const EA=fw.prototype;EA.append=function(e,n){this._pairs.push([e,n])};EA.toString=function(e){const n=e?function(r){return e.call(this,r,pS)}:pS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _B(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _A(t,e,n){if(!e)return t;const r=n&&n.encode||_B,i=n&&n.serialize;let o;if(i?o=i(e,n):o=H.isURLSearchParams(e)?e.toString():new fw(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class gS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const kA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kB=typeof URLSearchParams<"u"?URLSearchParams:fw,$B=typeof FormData<"u"?FormData:null,TB=typeof Blob<"u"?Blob:null,AB={isBrowser:!0,classes:{URLSearchParams:kB,FormData:$B,Blob:TB},protocols:["http","https","file","blob","url","data"]},pw=typeof window<"u"&&typeof document<"u",MB=(t=>pw&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),PB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IB=pw&&window.location.href||"http://localhost",OB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pw,hasStandardBrowserEnv:MB,hasStandardBrowserWebWorkerEnv:PB,origin:IB},Symbol.toStringTag,{value:"Module"})),Yi={...OB,...AB};function RB(t,e){return Sg(t,new Yi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Yi.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function jB(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DB(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function $A(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&H.isArray(i)?i.length:s,l?(H.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!H.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&H.isArray(i[s])&&(i[s]=DB(i[s])),!a)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,i)=>{e(jB(r),i,n,0)}),n}return null}function LB(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gw={transitional:kA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=H.isObject(e);if(o&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify($A(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return RB(e,this.formSerializer).toString();if((a=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),LB(e)):e}],transformResponse:[function(e){const n=this.transitional||gw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yi.classes.FormData,Blob:Yi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{gw.headers[t]={}});const mw=gw,NB=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BB=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&NB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mS=Symbol("internals");function Wc(t){return t&&String(t).trim().toLowerCase()}function Vd(t){return t===!1||t==null?t:H.isArray(t)?t.map(Vd):String(t)}function FB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function X0(t,e,n,r,i){if(H.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function zB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function UB(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Cg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const h=Wc(l);if(!h)throw new Error("header name must be a non-empty string");const d=H.findKey(i,h);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Vd(a))}const s=(a,l)=>H.forEach(a,(u,h)=>o(u,h,l));if(H.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(H.isString(e)&&(e=e.trim())&&!HB(e))s(BB(e),n);else if(H.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Wc(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return FB(i);if(H.isFunction(n))return n.call(this,i,r);if(H.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wc(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||X0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Wc(s),s){const a=H.findKey(r,s);a&&(!n||X0(r,r[a],a,n))&&(delete r[a],i=!0)}}return H.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||X0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return H.forEach(this,(i,o)=>{const s=H.findKey(r,o);if(s){n[s]=Vd(i),delete n[o];return}const a=e?zB(o):String(o).trim();a!==o&&delete n[o],n[a]=Vd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[mS]=this[mS]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Wc(s);r[a]||(UB(i,s),r[a]=!0)}return H.isArray(e)?e.forEach(o):o(e),this}}Cg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Cg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Cg);const Zi=Cg;function K0(t,e){const n=this||mw,r=e||n,i=Zi.from(r.headers);let o=r.data;return H.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function TA(t){return!!(t&&t.__CANCEL__)}function xc(t,e,n){be.call(this,t??"canceled",be.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(xc,be,{__CANCEL__:!0});function AA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function GB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[o];s||(s=u),n[i]=l,r[i]=u;let d=o,p=0;for(;d!==i;)p+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const g=h&&u-h;return g?Math.round(p*1e3/g):void 0}}function WB(t,e){let n=0,r=1e3/e,i,o;const s=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=r?s(u,h):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const qf=(t,e,n=3)=>{let r=0;const i=VB(50,250);return WB(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),h=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},yS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},vS=t=>(...e)=>H.asap(()=>t(...e)),XB=Yi.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=H.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),KB=Yi.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),H.isString(r)&&s.push("path="+r),H.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function MA(t,e){return t&&!YB(e)?ZB(t,e):e}const wS=t=>t instanceof Zi?{...t}:t;function $a(t,e){e=e||{};const n={};function r(u,h,d){return H.isPlainObject(u)&&H.isPlainObject(h)?H.merge.call({caseless:d},u,h):H.isPlainObject(h)?H.merge({},h):H.isArray(h)?h.slice():h}function i(u,h,d){if(H.isUndefined(h)){if(!H.isUndefined(u))return r(void 0,u,d)}else return r(u,h,d)}function o(u,h){if(!H.isUndefined(h))return r(void 0,h)}function s(u,h){if(H.isUndefined(h)){if(!H.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,d){if(d in e)return r(u,h);if(d in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,h)=>i(wS(u),wS(h),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||i,p=d(t[h],e[h],h);H.isUndefined(p)&&d!==a||(n[h]=p)}),n}const PA=t=>{const e=$a({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Zi.from(s),e.url=_A(MA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(H.isFormData(n)){if(Yi.hasStandardBrowserEnv||Yi.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Yi.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&XB(e.url))){const u=i&&o&&KB.read(o);u&&s.set(i,u)}return e},qB=typeof XMLHttpRequest<"u",QB=qB&&function(t){return new Promise(function(n,r){const i=PA(t);let o=i.data;const s=Zi.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,h,d,p,g,y;function m(){g&&g(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function x(){if(!C)return;const b=Zi.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:b,config:t,request:C};AA(function(M){n(M),m()},function(M){r(M),m()},A),C=null}"onloadend"in C?C.onloadend=x:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(x)},C.onabort=function(){C&&(r(new be("Request aborted",be.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new be("Network Error",be.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||kA;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),r(new be(E,A.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,C)),C=null},o===void 0&&s.setContentType(null),"setRequestHeader"in C&&H.forEach(s.toJSON(),function(E,A){C.setRequestHeader(A,E)}),H.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),a&&a!=="json"&&(C.responseType=i.responseType),u&&([p,y]=qf(u,!0),C.addEventListener("progress",p)),l&&C.upload&&([d,g]=qf(l),C.upload.addEventListener("progress",d),C.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(h=b=>{C&&(r(!b||b.type?new xc(null,t,C):b),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const v=GB(i.url);if(v&&Yi.protocols.indexOf(v)===-1){r(new be("Unsupported protocol "+v+":",be.ERR_BAD_REQUEST,t));return}C.send(o||null)})},JB=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,s();const u=l instanceof Error?l:this.reason;n.abort(u instanceof be?u:new xc(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{i(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},eF=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tF=async function*(t,e,n){for await(const r of t)yield*eF(ArrayBuffer.isView(r)?r:await n(String(r)),e)},xS=(t,e,n,r,i)=>{const o=tF(t,e,i);let s=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await o.next();if(h){l(),u.close();return}let p=d.byteLength;if(n){let g=s+=p;n(g)}u.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},Eg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",IA=Eg&&typeof ReadableStream=="function",qy=Eg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),OA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nF=IA&&OA(()=>{let t=!1;const e=new Request(Yi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),bS=64*1024,Qy=IA&&OA(()=>H.isReadableStream(new Response("").body)),Qf={stream:Qy&&(t=>t.body)};Eg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qf[e]&&(Qf[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new be(`Response type '${e}' is not supported`,be.ERR_NOT_SUPPORT,r)})})})(new Response);const rF=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await qy(t)).byteLength},iF=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??rF(e)},oF=Eg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:d="same-origin",fetchOptions:p}=PA(t);u=u?(u+"").toLowerCase():"text";let[g,y]=i||o||s?JB([i,o],s):[],m,C;const x=()=>{!m&&setTimeout(()=>{g&&g.unsubscribe()}),m=!0};let v;try{if(l&&nF&&n!=="get"&&n!=="head"&&(v=await iF(h,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(H.isFormData(r)&&(M=$.headers.get("content-type"))&&h.setContentType(M),$.body){const[I,N]=yS(v,qf(vS(l)));r=xS($.body,bS,I,N,qy)}}H.isString(d)||(d=d?"include":"omit"),C=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:d});let b=await fetch(C);const E=Qy&&(u==="stream"||u==="response");if(Qy&&(a||E)){const $={};["status","statusText","headers"].forEach(O=>{$[O]=b[O]});const M=H.toFiniteNumber(b.headers.get("content-length")),[I,N]=a&&yS(M,qf(vS(a),!0))||[];b=new Response(xS(b.body,bS,I,()=>{N&&N(),E&&x()},qy),$)}u=u||"text";let A=await Qf[H.findKey(Qf,u)||"text"](b,t);return!E&&x(),y&&y(),await new Promise(($,M)=>{AA($,M,{data:A,headers:Zi.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:C})})}catch(b){throw x(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,t,C),{cause:b.cause||b}):be.from(b,b&&b.code,t,C)}}),Jy={http:SB,xhr:QB,fetch:oF};H.forEach(Jy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SS=t=>`- ${t}`,sF=t=>H.isFunction(t)||t===null||t===!1,RA={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!sF(n)&&(r=Jy[(s=String(n)).toLowerCase()],r===void 0))throw new be(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(SS).join(`
`):" "+SS(o[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Jy};function Y0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xc(null,t)}function CS(t){return Y0(t),t.headers=Zi.from(t.headers),t.data=K0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RA.getAdapter(t.adapter||mw.adapter)(t).then(function(r){return Y0(t),r.data=K0.call(t,t.transformResponse,r),r.headers=Zi.from(r.headers),r},function(r){return TA(r)||(Y0(t),r&&r.response&&(r.response.data=K0.call(t,t.transformResponse,r.response),r.response.headers=Zi.from(r.response.headers))),Promise.reject(r)})}const jA="1.7.3",yw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ES={};yw.transitional=function(e,n,r){function i(o,s){return"[Axios v"+jA+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new be(i(s," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!ES[s]&&(ES[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function aF(t,e,n){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new be("option "+o+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+o,be.ERR_BAD_OPTION)}}const e1={assertOptions:aF,validators:yw},us=e1.validators;class Jf{constructor(e){this.defaults=e,this.interceptors={request:new gS,response:new gS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$a(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&e1.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),i!=null&&(H.isFunction(i)?n.paramsSerializer={serialize:i}:e1.assertOptions(i,{encode:us.function,serialize:us.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&H.merge(o.common,o[n.method]);o&&H.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=Zi.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,d=0,p;if(!l){const y=[CS.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),p=y.length,h=Promise.resolve(n);d<p;)h=h.then(y[d++],y[d++]);return h}p=a.length;let g=n;for(d=0;d<p;){const y=a[d++],m=a[d++];try{g=y(g)}catch(C){m.call(this,C);break}}try{h=CS.call(this,g)}catch(y){return Promise.reject(y)}for(d=0,p=u.length;d<p;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=$a(this.defaults,e);const n=MA(e.baseURL,e.url);return _A(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){Jf.prototype[e]=function(n,r){return this.request($a(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request($a(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Jf.prototype[e]=n(),Jf.prototype[e+"Form"]=n(!0)});const Wd=Jf;class vw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new xc(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new vw(function(i){e=i}),cancel:e}}}const lF=vw;function cF(t){return function(n){return t.apply(null,n)}}function uF(t){return H.isObject(t)&&t.isAxiosError===!0}const t1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t1).forEach(([t,e])=>{t1[e]=t});const hF=t1;function DA(t){const e=new Wd(t),n=fA(Wd.prototype.request,e);return H.extend(n,Wd.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return DA($a(t,i))},n}const ze=DA(mw);ze.Axios=Wd;ze.CanceledError=xc;ze.CancelToken=lF;ze.isCancel=TA;ze.VERSION=jA;ze.toFormData=Sg;ze.AxiosError=be;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=cF;ze.isAxiosError=uF;ze.mergeConfig=$a;ze.AxiosHeaders=Zi;ze.formToJSON=t=>$A(H.isHTMLForm(t)?new FormData(t):t);ze.getAdapter=RA.getAdapter;ze.HttpStatusCode=hF;ze.default=ze;const dF=()=>{ze.defaults.baseURL="/api",ze.interceptors.response.use(t=>t,t=>{var n;throw((n=t==null?void 0:t.response)==null?void 0:n.status)===401&&location.pathname!=="/login"&&(location.href="/login"),t})};dF();const _S={login:async(t,e)=>(await ze.post("auth/login",{username:t,password:e})).data,register:async(t,e)=>(await ze.post("auth/register",{username:t,password:e})).data,getFileList:async()=>(await ze.get("files")).data,createFile:async t=>(await ze.post("files/create",{title:t})).data,getFile:async t=>(await ze.get(`files/${t}`)).data,deleteFiles:async t=>(await ze.delete("files",{params:{ids:t}})).data,updateFile:async(t,e)=>(await ze.patch(`files/${t}`,{data:e})).data,getUserInfo:async()=>(await ze.get("/users/self/profile")).data},yr=P.createContext(null),fF=Math.floor,pF=(t,e)=>t<e?t:e,gF=(t,e)=>t>e?t:e,LA=128,Xd=127,mF=Number.MAX_SAFE_INTEGER,yF=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},qu=typeof TextEncoder<"u"?new TextEncoder:null,vF=t=>qu.encode(t),wF=qu?vF:yF;let vu=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});vu&&vu.decode(new Uint8Array).length===1&&(vu=null);const ep=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},_g=(t,e)=>{for(;e>Xd;)ep(t,LA|Xd&e),e=fF(e/128);ep(t,Xd&e)},n1=new Uint8Array(3e4),xF=n1.length/3,bF=(t,e)=>{if(e.length<xF){const n=qu.encodeInto(e,n1).written||0;_g(t,n);for(let r=0;r<n;r++)ep(t,n1[r])}else _F(t,wF(e))},SF=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;_g(t,r);for(let i=0;i<r;i++)ep(t,n.codePointAt(i))},CF=qu&&qu.encodeInto?bF:SF,EF=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=pF(n-r,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(gF(n*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},_F=(t,e)=>{_g(t,e.byteLength),EF(t,e)},NA=t=>new Error(t),kF=NA("Unexpected end of array"),$F=NA("Integer out of Range"),TF=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},AF=t=>TF(t,ww(t)),kS=t=>t.arr[t.pos++],ww=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Xd)*n,n*=128,i<LA)return e;if(e>mF)throw $F}throw kF},MF=t=>{let e=ww(t);if(e===0)return"";{let n=String.fromCodePoint(kS(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(kS(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},PF=t=>vu.decode(AF(t)),$S=vu?PF:MF;var Qu;(function(t){t[t.Token=0]="Token",t[t.PermissionDenied=1]="PermissionDenied",t[t.Authenticated=2]="Authenticated"})(Qu||(Qu={}));const IF=(t,e)=>{_g(t,Qu.Token),CF(t,e)},OF=(t,e,n)=>{switch(ww(t)){case Qu.PermissionDenied:{e($S(t));break}case Qu.Authenticated:{n($S(t));break}}},RF={code:1009,reason:"Message Too Big"},TS={code:4401,reason:"Unauthorized"},jF={code:4403,reason:"Forbidden"},AS=t=>Array.from(t.entries()).map(([e,n])=>({clientId:e,...n}));var r1;(function(t){t[t.Connecting=0]="Connecting",t[t.Open=1]="Open",t[t.Closing=2]="Closing",t[t.Closed=3]="Closed"})(r1||(r1={}));const qi=()=>new Map,i1=t=>{const e=qi();return t.forEach((n,r)=>{e.set(r,n)}),e},Ks=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},DF=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},LF=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},tc=()=>new Set,Z0=t=>t[t.length-1],NF=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Ds=Array.from,BF=Array.isArray;class FF{constructor(){this._observers=qi()}on(e,n){return Ks(this._observers,e,tc).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Ds((this._observers.get(e)||qi()).values()).forEach(r=>r(...n))}destroy(){this._observers=qi()}}const Ls=Math.floor,Kd=Math.abs,BA=(t,e)=>t<e?t:e,Fa=(t,e)=>t>e?t:e,FA=t=>t!==0?t<0:1/t<0,MS=1,PS=2,q0=4,Q0=8,Ju=32,Go=64,Ir=128,kg=31,o1=63,pa=127,HF=2147483647,HA=Number.MAX_SAFE_INTEGER,zF=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Ls(t)===t),UF=t=>t.toLowerCase(),GF=/^\s*/g,VF=t=>t.replace(GF,""),WF=/([A-Z])/g,IS=(t,e)=>VF(t.replace(WF,n=>`${e}${UF(n)}`)),XF=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},eh=typeof TextEncoder<"u"?new TextEncoder:null,KF=t=>eh.encode(t),YF=eh?KF:XF;let wu=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});wu&&wu.decode(new Uint8Array).length===1&&(wu=null);let Th=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};const $g=()=>new Th,ZF=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},xo=t=>{const e=new Uint8Array(ZF(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},qF=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Fa(n,e)*2),t.cpos=0)},Vt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},s1=Vt,Ee=(t,e)=>{for(;e>pa;)Vt(t,Ir|pa&e),e=Ls(e/128);Vt(t,pa&e)},xw=(t,e)=>{const n=FA(e);for(n&&(e=-e),Vt(t,(e>o1?Ir:0)|(n?Go:0)|o1&e),e=Ls(e/64);e>0;)Vt(t,(e>pa?Ir:0)|pa&e),e=Ls(e/128)},a1=new Uint8Array(3e4),QF=a1.length/3,JF=(t,e)=>{if(e.length<QF){const n=eh.encodeInto(e,a1).written||0;Ee(t,n);for(let r=0;r<n;r++)Vt(t,a1[r])}else br(t,YF(e))},eH=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;Ee(t,r);for(let i=0;i<r;i++)Vt(t,n.codePointAt(i))},jl=eh&&eh.encodeInto?JF:eH,Tg=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=BA(n-r,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Fa(n*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},br=(t,e)=>{Ee(t,e.byteLength),Tg(t,e)},bw=(t,e)=>{qF(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},tH=(t,e)=>bw(t,4).setFloat32(0,e,!1),nH=(t,e)=>bw(t,8).setFloat64(0,e,!1),rH=(t,e)=>bw(t,8).setBigInt64(0,e,!1),OS=new DataView(new ArrayBuffer(4)),iH=t=>(OS.setFloat32(0,t),OS.getFloat32(0)===t),th=(t,e)=>{switch(typeof e){case"string":Vt(t,119),jl(t,e);break;case"number":zF(e)&&Kd(e)<=HF?(Vt(t,125),xw(t,e)):iH(e)?(Vt(t,124),tH(t,e)):(Vt(t,123),nH(t,e));break;case"bigint":Vt(t,122),rH(t,e);break;case"object":if(e===null)Vt(t,126);else if(BF(e)){Vt(t,117),Ee(t,e.length);for(let n=0;n<e.length;n++)th(t,e[n])}else if(e instanceof Uint8Array)Vt(t,116),br(t,e);else{Vt(t,118);const n=Object.keys(e);Ee(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];jl(t,i),th(t,e[i])}}break;case"boolean":Vt(t,e?120:121);break;default:Vt(t,127)}};class RS extends Th{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Ee(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const jS=t=>{t.count>0&&(xw(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Ee(t.encoder,t.count-2))};class Yd{constructor(){this.encoder=new Th,this.s=0,this.count=0}write(e){this.s===e?this.count++:(jS(this),this.count=1,this.s=e)}toUint8Array(){return jS(this),xo(this.encoder)}}const DS=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);xw(t.encoder,e),t.count>1&&Ee(t.encoder,t.count-2)}};class J0{constructor(){this.encoder=new Th,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(DS(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return DS(this),xo(this.encoder)}}class oH{constructor(){this.sarr=[],this.s="",this.lensE=new Yd}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Th;return this.sarr.push(this.s),this.s="",jl(e,this.sarr.join("")),Tg(e,this.lensE.toUint8Array()),xo(e)}}const Ns=t=>new Error(t),Co=()=>{throw Ns("Method unimplemented")},Ao=()=>{throw Ns("Unexpected case")},zA=Ns("Unexpected end of array"),UA=Ns("Integer out of Range");let Ag=class{constructor(e){this.arr=e,this.pos=0}};const bc=t=>new Ag(t),sH=t=>t.pos!==t.arr.length,aH=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Sr=t=>aH(t,Ce(t)),nc=t=>t.arr[t.pos++],Ce=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&pa)*n,n*=128,i<Ir)return e;if(e>HA)throw UA}throw zA},Sw=t=>{let e=t.arr[t.pos++],n=e&o1,r=64;const i=(e&Go)>0?-1:1;if(!(e&Ir))return i*n;const o=t.arr.length;for(;t.pos<o;){if(e=t.arr[t.pos++],n=n+(e&pa)*r,r*=128,e<Ir)return i*n;if(n>HA)throw UA}throw zA},lH=t=>{let e=Ce(t);if(e===0)return"";{let n=String.fromCodePoint(nc(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(nc(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},cH=t=>wu.decode(Sr(t)),Dl=wu?cH:lH,Cw=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},uH=t=>Cw(t,4).getFloat32(0,!1),hH=t=>Cw(t,8).getFloat64(0,!1),dH=t=>Cw(t,8).getBigInt64(0,!1),fH=[t=>{},t=>null,Sw,uH,hH,dH,t=>!1,t=>!0,Dl,t=>{const e=Ce(t),n={};for(let r=0;r<e;r++){const i=Dl(t);n[i]=nh(t)}return n},t=>{const e=Ce(t),n=[];for(let r=0;r<e;r++)n.push(nh(t));return n},Sr],nh=t=>fH[127-nc(t)](t);class LS extends Ag{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),sH(this)?this.count=Ce(this)+1:this.count=-1),this.count--,this.s}}class Zd extends Ag{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Sw(this);const e=FA(this.s);this.count=1,e&&(this.s=-this.s,this.count=Ce(this)+2)}return this.count--,this.s}}class em extends Ag{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Sw(this),n=e&1;this.diff=Ls(e/2),this.count=1,n&&(this.count=Ce(this)+2)}return this.s+=this.diff,this.count--,this.s}}class pH{constructor(e){this.decoder=new Zd(e),this.str=Dl(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const gH=crypto.getRandomValues.bind(crypto),GA=()=>gH(new Uint32Array(1))[0],mH="10000000-1000-4000-8000"+-1e11,yH=()=>mH.replace(/[018]/g,t=>(t^GA()&15>>t/4).toString(16)),NS=t=>new Promise(t);Promise.all.bind(Promise);const BS=t=>t===void 0?null:t;let vH=class{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}},VA=new vH,wH=!0;try{typeof localStorage<"u"&&localStorage&&(VA=localStorage,wH=!1)}catch{}const xH=VA,bH=Object.assign,SH=Object.keys,CH=(t,e)=>{for(const n in t)e(t[n],n)},FS=t=>SH(t).length,EH=t=>{for(const e in t)return!1;return!0},_H=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},kH=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),$H=(t,e)=>t===e||FS(t)===FS(e)&&_H(t,(n,r)=>(n!==void 0||kH(e,r))&&e[r]===n),Ew=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&Ew(t,e,n+1)}},TH=t=>t,AH=(t,e)=>e.includes(t);var WA={};const rh=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let fo;const MH=()=>{if(fo===void 0)if(rh){fo=qi();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&fo.set(e,""),e=r):e!==null&&(fo.set(e,r),e=null)}e!==null&&fo.set(e,"")}else typeof location=="object"?(fo=qi(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");fo.set(`--${IS(e,"-")}`,n),fo.set(`-${IS(e,"-")}`,n)}})):fo=qi();return fo},l1=t=>MH().has(t),c1=t=>BS(rh?WA[t.toUpperCase().replaceAll("-","_")]:xH.getItem(t)),PH=t=>l1("--"+t)||c1(t)!==null;PH("production");const HS=rh&&AH(WA.FORCE_COLOR,["true","1","2"]),IH=!l1("--no-colors")&&(!rh||process.stdout.isTTY||HS)&&(!rh||l1("--color")||HS||c1("COLORTERM")!==null||(c1("TERM")||"").includes("color")),OH=t=>new Uint8Array(t),RH=t=>{const e=OH(t.byteLength);return e.set(t),e};class jH{constructor(e,n){this.left=e,this.right=n}}const Ro=(t,e)=>new jH(t,e);typeof DOMParser<"u"&&new DOMParser;const DH=t=>DF(t,(e,n)=>`${n}:${e};`).join(""),ns=Symbol,XA=ns(),KA=ns(),LH=ns(),NH=ns(),BH=ns(),YA=ns(),FH=ns(),ZA=ns(),HH=ns(),zH=t=>{var r;t.length===1&&((r=t[0])==null?void 0:r.constructor)===Function&&(t=t[0]());const e=[];let n=0;for(;n<t.length;n++){const i=t[n];i===void 0||i.constructor===String||i.constructor===Number||i.constructor===Object&&e.push(JSON.stringify(i))}return e},UH={[XA]:Ro("font-weight","bold"),[KA]:Ro("font-weight","normal"),[LH]:Ro("color","blue"),[BH]:Ro("color","green"),[NH]:Ro("color","grey"),[YA]:Ro("color","red"),[FH]:Ro("color","purple"),[ZA]:Ro("color","orange"),[HH]:Ro("color","black")},GH=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],r=qi();let i=[],o=0;for(;o<t.length;o++){const a=t[o],l=UH[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const u=DH(r);o>0||u.length>0?(e.push("%c"+a),n.push(u)):e.push(a)}else break}}for(o>0&&(i=n,i.unshift(e.join("")));o<t.length;o++){const a=t[o];a instanceof Symbol||i.push(a)}return i},VH=IH?GH:zH,WH=(...t)=>{console.log(...VH(t)),XH.forEach(e=>e.print(t))},XH=tc(),qA=t=>({[Symbol.iterator](){return this},next:t}),KH=(t,e)=>qA(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),tm=(t,e)=>qA(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class _w{constructor(e,n){this.clock=e,this.len=n}}class Ah{constructor(){this.clients=new Map}}const QA=(t,e,n)=>e.clients.forEach((r,i)=>{const o=t.doc.store.clients.get(i);for(let s=0;s<r.length;s++){const a=r[s];hM(t,o,a.clock,a.len,n)}}),YH=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Ls((n+r)/2),o=t[i],s=o.clock;if(s<=e){if(e<s+o.len)return i;n=i+1}else r=i-1}return null},JA=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&YH(n,e.clock)!==null},kw=t=>{t.clients.forEach(e=>{e.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],o=e[n];i.clock+i.len>=o.clock?i.len=Fa(i.len,o.clock+o.len-i.clock):(r<n&&(e[r]=o),r++)}e.length=r})},ZH=t=>{const e=new Ah;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const o=r.slice();for(let s=n+1;s<t.length;s++)NF(o,t[s].clients.get(i)||[]);e.clients.set(i,o)}});return kw(e),e},tp=(t,e,n,r)=>{Ks(t.clients,e,()=>[]).push(new _w(n,r))},qH=()=>new Ah,QH=t=>{const e=qH();return t.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const s=n[o];if(s.deleted){const a=s.id.clock;let l=s.length;if(o+1<n.length)for(let u=n[o+1];o+1<n.length&&u.deleted;u=n[++o+1])l+=u.length;i.push(new _w(a,l))}}i.length>0&&e.clients.set(r,i)}),e},Sc=(t,e)=>{Ee(t.restEncoder,e.clients.size),Ds(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),Ee(t.restEncoder,n);const i=r.length;Ee(t.restEncoder,i);for(let o=0;o<i;o++){const s=r[o];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},$w=t=>{const e=new Ah,n=Ce(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=Ce(t.restDecoder),o=Ce(t.restDecoder);if(o>0){const s=Ks(e.clients,i,()=>[]);for(let a=0;a<o;a++)s.push(new _w(t.readDsClock(),t.readDsLen()))}}return e},zS=(t,e,n)=>{const r=new Ah,i=Ce(t.restDecoder);for(let o=0;o<i;o++){t.resetDsCurVal();const s=Ce(t.restDecoder),a=Ce(t.restDecoder),l=n.clients.get(s)||[],u=Yt(n,s);for(let h=0;h<a;h++){const d=t.readDsClock(),p=d+t.readDsLen();if(d<u){u<p&&tp(r,s,u,p-u);let g=Mo(l,d),y=l[g];for(!y.deleted&&y.id.clock<d&&(l.splice(g+1,0,lp(e,y,d-y.id.clock)),g++);g<l.length&&(y=l[g++],y.id.clock<p);)y.deleted||(p<y.id.clock+y.length&&l.splice(g,0,lp(e,y,p-y.id.clock)),y.delete(e))}else tp(r,s,d,p-d)}}if(r.clients.size>0){const o=new Ta;return Ee(o.restEncoder,0),Sc(o,r),o.toUint8Array()}return null},eM=GA;class Cc extends FF{constructor({guid:e=yH(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=eM(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new cM,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=NS(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});const l=()=>NS(u=>{const h=d=>{(d===void 0||d===!0)&&(this.off("sync",h),u())};this.on("sync",h)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ye(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ds(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Ye(this,e,n)}get(e,n=En){const r=Ks(this.share,e,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==En&&i!==n)if(i===En){const o=new n;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Nl)}getText(e=""){return this.get(e,oc)}getMap(e=""){return this.get(e,ic)}getXmlElement(e=""){return this.get(e,sc)}getXmlFragment(e=""){return this.get(e,Aa)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){Ds(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Cc({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Ye(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class tM{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return Ce(this.restDecoder)}readDsLen(){return Ce(this.restDecoder)}}class nM extends tM{readLeftID(){return Pe(Ce(this.restDecoder),Ce(this.restDecoder))}readRightID(){return Pe(Ce(this.restDecoder),Ce(this.restDecoder))}readClient(){return Ce(this.restDecoder)}readInfo(){return nc(this.restDecoder)}readString(){return Dl(this.restDecoder)}readParentInfo(){return Ce(this.restDecoder)===1}readTypeRef(){return Ce(this.restDecoder)}readLen(){return Ce(this.restDecoder)}readAny(){return nh(this.restDecoder)}readBuf(){return RH(Sr(this.restDecoder))}readJSON(){return JSON.parse(Dl(this.restDecoder))}readKey(){return Dl(this.restDecoder)}}class JH{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ce(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Ce(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class rc extends JH{constructor(e){super(e),this.keys=[],Ce(e),this.keyClockDecoder=new em(Sr(e)),this.clientDecoder=new Zd(Sr(e)),this.leftClockDecoder=new em(Sr(e)),this.rightClockDecoder=new em(Sr(e)),this.infoDecoder=new LS(Sr(e),nc),this.stringDecoder=new pH(Sr(e)),this.parentInfoDecoder=new LS(Sr(e),nc),this.typeRefDecoder=new Zd(Sr(e)),this.lenDecoder=new Zd(Sr(e))}readLeftID(){return new Ll(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ll(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return nh(this.restDecoder)}readBuf(){return Sr(this.restDecoder)}readJSON(){return nh(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class rM{constructor(){this.restEncoder=$g()}toUint8Array(){return xo(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Ee(this.restEncoder,e)}writeDsLen(e){Ee(this.restEncoder,e)}}class Mh extends rM{writeLeftID(e){Ee(this.restEncoder,e.client),Ee(this.restEncoder,e.clock)}writeRightID(e){Ee(this.restEncoder,e.client),Ee(this.restEncoder,e.clock)}writeClient(e){Ee(this.restEncoder,e)}writeInfo(e){s1(this.restEncoder,e)}writeString(e){jl(this.restEncoder,e)}writeParentInfo(e){Ee(this.restEncoder,e?1:0)}writeTypeRef(e){Ee(this.restEncoder,e)}writeLen(e){Ee(this.restEncoder,e)}writeAny(e){th(this.restEncoder,e)}writeBuf(e){br(this.restEncoder,e)}writeJSON(e){jl(this.restEncoder,JSON.stringify(e))}writeKey(e){jl(this.restEncoder,e)}}class iM{constructor(){this.restEncoder=$g(),this.dsCurrVal=0}toUint8Array(){return xo(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Ee(this.restEncoder,n)}writeDsLen(e){e===0&&Ao(),Ee(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ta extends iM{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new J0,this.clientEncoder=new Yd,this.leftClockEncoder=new J0,this.rightClockEncoder=new J0,this.infoEncoder=new RS(s1),this.stringEncoder=new oH,this.parentInfoEncoder=new RS(s1),this.typeRefEncoder=new Yd,this.lenEncoder=new Yd}toUint8Array(){const e=$g();return Ee(e,0),br(e,this.keyClockEncoder.toUint8Array()),br(e,this.clientEncoder.toUint8Array()),br(e,this.leftClockEncoder.toUint8Array()),br(e,this.rightClockEncoder.toUint8Array()),br(e,xo(this.infoEncoder)),br(e,this.stringEncoder.toUint8Array()),br(e,xo(this.parentInfoEncoder)),br(e,this.typeRefEncoder.toUint8Array()),br(e,this.lenEncoder.toUint8Array()),Tg(e,xo(this.restEncoder)),xo(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){th(this.restEncoder,e)}writeBuf(e){br(this.restEncoder,e)}writeJSON(e){th(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const ez=(t,e,n,r)=>{r=Fa(r,e[0].id.clock);const i=Mo(e,r);Ee(t.restEncoder,e.length-i),t.writeClient(n),Ee(t.restEncoder,r);const o=e[i];o.write(t,r-o.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)},Tw=(t,e,n)=>{const r=new Map;n.forEach((i,o)=>{Yt(e,o)>i&&r.set(o,i)}),Mg(e).forEach((i,o)=>{n.has(o)||r.set(o,0)}),Ee(t.restEncoder,r.size),Ds(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{ez(t,e.clients.get(i),i,o)})},tz=(t,e)=>{const n=qi(),r=Ce(t.restDecoder);for(let i=0;i<r;i++){const o=Ce(t.restDecoder),s=new Array(o),a=t.readClient();let l=Ce(t.restDecoder);n.set(a,{i:0,refs:s});for(let u=0;u<o;u++){const h=t.readInfo();switch(kg&h){case 0:{const d=t.readLen();s[u]=new Hr(Pe(a,l),d),l+=d;break}case 10:{const d=Ce(t.restDecoder);s[u]=new zr(Pe(a,l),d),l+=d;break}default:{const d=(h&(Go|Ir))===0,p=new Ht(Pe(a,l),null,(h&Ir)===Ir?t.readLeftID():null,null,(h&Go)===Go?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(h&Ju)===Ju?t.readString():null,MM(t,h));s[u]=p,l+=p.length}}}}return n},nz=(t,e,n)=>{const r=[];let i=Ds(n.keys()).sort((g,y)=>g-y);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let g=n.get(i[i.length-1]);for(;g.refs.length===g.i;)if(i.pop(),i.length>0)g=n.get(i[i.length-1]);else return null;return g};let s=o();if(s===null)return null;const a=new cM,l=new Map,u=(g,y)=>{const m=l.get(g);(m==null||m>y)&&l.set(g,y)};let h=s.refs[s.i++];const d=new Map,p=()=>{for(const g of r){const y=g.id.client,m=n.get(y);m?(m.i--,a.clients.set(y,m.refs.slice(m.i)),n.delete(y),m.i=0,m.refs=[]):a.clients.set(y,[g]),i=i.filter(C=>C!==y)}r.length=0};for(;;){if(h.constructor!==zr){const y=Ks(d,h.id.client,()=>Yt(e,h.id.client))-h.id.clock;if(y<0)r.push(h),u(h.id.client,h.id.clock-1),p();else{const m=h.getMissing(t,e);if(m!==null){r.push(h);const C=n.get(m)||{refs:[],i:0};if(C.refs.length===C.i)u(m,Yt(e,m)),p();else{h=C.refs[C.i++];continue}}else(y===0||y<h.length)&&(h.integrate(t,y),d.set(h.id.client,h.id.clock+h.length))}}if(r.length>0)h=r.pop();else if(s!==null&&s.i<s.refs.length)h=s.refs[s.i++];else{if(s=o(),s===null)break;h=s.refs[s.i++]}}if(a.clients.size>0){const g=new Ta;return Tw(g,a,new Map),Ee(g.restEncoder,0),{missing:l,update:g.toUint8Array()}}return null},rz=(t,e)=>Tw(t,e.doc.store,e.beforeState),iz=(t,e,n,r=new rc(t))=>Ye(e,i=>{i.local=!1;let o=!1;const s=i.doc,a=s.store,l=tz(r,s),u=nz(i,a,l),h=a.pendingStructs;if(h){for(const[p,g]of h.missing)if(g<Yt(a,p)){o=!0;break}if(u){for(const[p,g]of u.missing){const y=h.missing.get(p);(y==null||y>g)&&h.missing.set(p,g)}h.update=np([h.update,u.update])}}else a.pendingStructs=u;const d=zS(r,i,a);if(a.pendingDs){const p=new rc(bc(a.pendingDs));Ce(p.restDecoder);const g=zS(p,i,a);d&&g?a.pendingDs=np([d,g]):a.pendingDs=d||g}else a.pendingDs=d;if(o){const p=a.pendingStructs.update;a.pendingStructs=null,oM(i.doc,p)}},n,!1),oM=(t,e,n,r=rc)=>{const i=bc(e);iz(i,t,n,new r(i))},oz=(t,e,n)=>oM(t,e,n,nM),sz=(t,e,n=new Map)=>{Tw(t,e.store,n),Sc(t,QH(e.store))},az=(t,e=new Uint8Array([0]),n=new Ta)=>{const r=sM(e);sz(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(Cz(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===Mh)return bz(i.map((o,s)=>s===0?o:_z(o)));if(n.constructor===Ta)return np(i)}return i[0]},lz=(t,e)=>az(t,e,new Mh),cz=t=>{const e=new Map,n=Ce(t.restDecoder);for(let r=0;r<n;r++){const i=Ce(t.restDecoder),o=Ce(t.restDecoder);e.set(i,o)}return e},sM=t=>cz(new tM(bc(t))),aM=(t,e)=>(Ee(t.restEncoder,e.size),Ds(e.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{Ee(t.restEncoder,n),Ee(t.restEncoder,r)}),t),uz=(t,e)=>aM(t,Mg(e.store)),hz=(t,e=new iM)=>(t instanceof Map?aM(e,t):uz(e,t),e.toUint8Array()),dz=t=>hz(t,new rM);class fz{constructor(){this.l=[]}}const US=()=>new fz,GS=(t,e)=>t.l.push(e),VS=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},lM=(t,e,n)=>Ew(t.l,[e,n]);class Ll{constructor(e,n){this.client=e,this.clock=n}}const pd=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Pe=(t,e)=>new Ll(t,e),pz=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Ao()},Za=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!JA(e.ds,t.id),u1=(t,e)=>{const n=Ks(t.meta,u1,tc),r=t.doc.store;n.has(e)||(e.sv.forEach((i,o)=>{i<Yt(r,o)&&Bs(t,Pe(o,i))}),QA(t,e.ds,i=>{}),n.add(e))};class cM{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Mg=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Yt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},uM=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Ao()}n.push(e)},Mo=(t,e)=>{let n=0,r=t.length-1,i=t[r],o=i.id.clock;if(o===e)return r;let s=Ls(e/(o+i.length-1)*r);for(;n<=r;){if(i=t[s],o=i.id.clock,o<=e){if(e<o+i.length)return s;n=s+1}else r=s-1;s=Ls((n+r)/2)}throw Ao()},gz=(t,e)=>{const n=t.clients.get(e.client);return n[Mo(n,e.clock)]},nm=gz,h1=(t,e,n)=>{const r=Mo(e,n),i=e[r];return i.id.clock<n&&i instanceof Ht?(e.splice(r+1,0,lp(t,i,n-i.id.clock)),r+1):r},Bs=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[h1(t,n,e.clock)]},WS=(t,e,n)=>{const r=e.clients.get(n.client),i=Mo(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Hr&&r.splice(i+1,0,lp(t,o,n.clock-o.id.clock+1)),o},mz=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Mo(r,e.id.clock)]=n},hM=(t,e,n,r,i)=>{if(r===0)return;const o=n+r;let s=h1(t,e,n),a;do a=e[s++],o<a.id.clock+a.length&&h1(t,e,o),i(a);while(s<e.length&&e[s].id.clock<o)};class yz{constructor(e,n,r){this.doc=e,this.deleteSet=new Ah,this.beforeState=Mg(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const XS=(t,e)=>e.deleteSet.clients.size===0&&!LF(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(kw(e.deleteSet),rz(t,e),Sc(t,e.deleteSet),!0),KS=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Ks(t.changed,e,tc).add(n)},qd=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Ht&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=e-i;return o&&t.splice(e+1-o,o),o},vz=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const o=e.clients.get(r);for(let s=i.length-1;s>=0;s--){const a=i[s],l=a.clock+a.len;for(let u=Mo(o,a.clock),h=o[u];u<o.length&&h.id.clock<l;h=o[++u]){const d=o[u];if(a.clock+a.len<=d.id.clock)break;d instanceof Ht&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},wz=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let o=n.length-1;o>=0;o--){const s=n[o],a=BA(i.length-1,1+Mo(i,s.clock+s.len-1));for(let l=a,u=i[l];l>0&&u.id.clock>=s.clock;u=i[l])l-=1+qd(i,l)}})},dM=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,o=n.deleteSet,s=n._mergeStructs;try{kw(o),n.afterState=Mg(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,u)=>a.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(l=l.filter(h=>h.target._item===null||!h.target._item.deleted),l.forEach(h=>{h.currentTarget=u,h._path=null}),l.sort((h,d)=>h.path.length-d.path.length),lM(u._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),Ew(a,[]),n._needFormattingCleanup&&Bz(n)}finally{r.gc&&vz(o,i,r.gcFilter),wz(o,i),n.afterState.forEach((h,d)=>{const p=n.beforeState.get(d)||0;if(p!==h){const g=i.clients.get(d),y=Fa(Mo(g,p),1);for(let m=g.length-1;m>=y;)m-=1+qd(g,m)}});for(let h=s.length-1;h>=0;h--){const{client:d,clock:p}=s[h].id,g=i.clients.get(d),y=Mo(g,p);y+1<g.length&&qd(g,y+1)>1||y>0&&qd(g,y)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(WH(ZA,XA,"[yjs] ",KA,YA,"Changed the client-id because another client seems to be using it."),r.clientID=eM()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const h=new Mh;XS(h,n)&&r.emit("update",[h.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const h=new Ta;XS(h,n)&&r.emit("updateV2",[h.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:u}=n;(a.size>0||u.size>0||l.size>0)&&(a.forEach(h=>{h.clientID=r.clientID,h.collectionid==null&&(h.collectionid=r.collectionid),r.subdocs.add(h)}),u.forEach(h=>r.subdocs.delete(h)),r.emit("subdocs",[{loaded:l,added:a,removed:u},r,n]),u.forEach(h=>h.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):dM(t,e+1)}}},Ye=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let o=!1,s=null;t._transaction===null&&(o=!0,t._transaction=new yz(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(o){const a=t._transaction===i[0];t._transaction=null,a&&dM(i,0)}}return s};function*xz(t){const e=Ce(t.restDecoder);for(let n=0;n<e;n++){const r=Ce(t.restDecoder),i=t.readClient();let o=Ce(t.restDecoder);for(let s=0;s<r;s++){const a=t.readInfo();if(a===10){const l=Ce(t.restDecoder);yield new zr(Pe(i,o),l),o+=l}else if(kg&a){const l=(a&(Go|Ir))===0,u=new Ht(Pe(i,o),null,(a&Ir)===Ir?t.readLeftID():null,null,(a&Go)===Go?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&Ju)===Ju?t.readString():null,MM(t,a));yield u,o+=u.length}else{const l=t.readLen();yield new Hr(Pe(i,o),l),o+=l}}}}class Aw{constructor(e,n){this.gen=xz(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===zr);return this.curr}}class Mw{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const bz=t=>np(t,nM,Mh),Sz=(t,e)=>{if(t.constructor===Hr){const{client:n,clock:r}=t.id;return new Hr(Pe(n,r+e),t.length-e)}else if(t.constructor===zr){const{client:n,clock:r}=t.id;return new zr(Pe(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Ht(Pe(r,i+e),null,Pe(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},np=(t,e=rc,n=Ta)=>{if(t.length===1)return t[0];const r=t.map(h=>new e(bc(h)));let i=r.map(h=>new Aw(h,!0)),o=null;const s=new n,a=new Mw(s);for(;i=i.filter(p=>p.curr!==null),i.sort((p,g)=>{if(p.curr.id.client===g.curr.id.client){const y=p.curr.id.clock-g.curr.id.clock;return y===0?p.curr.constructor===g.curr.constructor?0:p.curr.constructor===zr?1:-1:y}else return g.curr.id.client-p.curr.id.client}),i.length!==0;){const h=i[0],d=h.curr.id.client;if(o!==null){let p=h.curr,g=!1;for(;p!==null&&p.id.clock+p.length<=o.struct.id.clock+o.struct.length&&p.id.client>=o.struct.id.client;)p=h.next(),g=!0;if(p===null||p.id.client!==d||g&&p.id.clock>o.struct.id.clock+o.struct.length)continue;if(d!==o.struct.id.client)ms(a,o.struct,o.offset),o={struct:p,offset:0},h.next();else if(o.struct.id.clock+o.struct.length<p.id.clock)if(o.struct.constructor===zr)o.struct.length=p.id.clock+p.length-o.struct.id.clock;else{ms(a,o.struct,o.offset);const y=p.id.clock-o.struct.id.clock-o.struct.length;o={struct:new zr(Pe(d,o.struct.id.clock+o.struct.length),y),offset:0}}else{const y=o.struct.id.clock+o.struct.length-p.id.clock;y>0&&(o.struct.constructor===zr?o.struct.length-=y:p=Sz(p,y)),o.struct.mergeWith(p)||(ms(a,o.struct,o.offset),o={struct:p,offset:0},h.next())}}else o={struct:h.curr,offset:0},h.next();for(let p=h.curr;p!==null&&p.id.client===d&&p.id.clock===o.struct.id.clock+o.struct.length&&p.constructor!==zr;p=h.next())ms(a,o.struct,o.offset),o={struct:p,offset:0}}o!==null&&(ms(a,o.struct,o.offset),o=null),Pw(a);const l=r.map(h=>$w(h)),u=ZH(l);return Sc(s,u),s.toUint8Array()},Cz=(t,e,n=rc,r=Ta)=>{const i=sM(e),o=new r,s=new Mw(o),a=new n(bc(t)),l=new Aw(a,!1);for(;l.curr;){const h=l.curr,d=h.id.client,p=i.get(d)||0;if(l.curr.constructor===zr){l.next();continue}if(h.id.clock+h.length>p)for(ms(s,h,Fa(p-h.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)ms(s,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=p;)l.next()}Pw(s);const u=$w(a);return Sc(o,u),o.toUint8Array()},fM=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:xo(t.encoder.restEncoder)}),t.encoder.restEncoder=$g(),t.written=0)},ms=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&fM(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Ee(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Pw=t=>{fM(t);const e=t.encoder.restEncoder;Ee(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];Ee(e,r.written),Tg(e,r.restEncoder)}},Ez=(t,e,n,r)=>{const i=new n(bc(t)),o=new Aw(i,!1),s=new r,a=new Mw(s);for(let u=o.curr;u!==null;u=o.next())ms(a,e(u),0);Pw(a);const l=$w(i);return Sc(s,l),s.toUint8Array()},_z=t=>Ez(t,TH,rc,Mh),YS="You must not compute changes after the event-handler fired.";class Pg{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=kz(this.currentTarget,this.target))}deletes(e){return JA(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ns(YS);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let s,a;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))s="delete",a=Z0(l.content.getContent());else return;else l!==null&&this.deletes(l)?(s="update",a=Z0(l.content.getContent())):(s="add",a=void 0)}else if(this.deletes(o))s="delete",a=Z0(o.content.getContent());else return;e.set(i,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ns(YS);const n=this.target,r=tc(),i=tc(),o=[];if(e={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&o.push(a)};for(let u=n._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=u.length,i.add(u)):this.adds(u)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(u.content.getContent()),r.add(u)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=u.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const kz=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},pM=80;let Iw=0;class $z{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Iw++}}const Tz=t=>{t.timestamp=Iw++},gM=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Iw++},Az=(t,e,n)=>{if(t.length>=pM){const r=t.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return gM(r,e,n),r}else{const r=new $z(e,n);return t.push(r),r}},Ig=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((o,s)=>Kd(e-o.index)<Kd(e-s.index)?o:s);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,Tz(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&Kd(n.index-i)<r.parent.length/pM?(gM(n,r,i),n):Az(t._searchMarker,r,i)},ih=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){t.splice(r,1);continue}i.p=o,o.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Fa(e,i.index+n))}},Og=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;Ks(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;lM(r._eH,n,e)};class En{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=US(),this._dEH=US(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Co()}clone(){throw Co()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){GS(this._eH,e)}observeDeep(e){GS(this._dEH,e)}unobserve(e){VS(this._eH,e)}unobserveDeep(e){VS(this._dEH,e)}toJSON(){}}const mM=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let o=t._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const s=o.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&r>0;a++)i.push(s[a]),r--;e=0}}o=o.right}return i},yM=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},oh=(t,e)=>{let n=0,r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)e(i[o],n++,t)}r=r.right}},vM=(t,e)=>{const n=[];return oh(t,(r,i)=>{n.push(e(r,i,t))}),n},Mz=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},wM=(t,e)=>{const n=Ig(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},rp=(t,e,n,r)=>{let i=n;const o=t.doc,s=o.clientID,a=o.store,l=n===null?e._start:n.right;let u=[];const h=()=>{u.length>0&&(i=new Ht(Pe(s,Yt(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new Ma(u)),i.integrate(t,0),u=[])};r.forEach(d=>{if(d===null)u.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(d);break;default:switch(h(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Ht(Pe(s,Yt(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new Ph(new Uint8Array(d))),i.integrate(t,0);break;case Cc:i=new Ht(Pe(s,Yt(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new Ih(d)),i.integrate(t,0);break;default:if(d instanceof En)i=new Ht(Pe(s,Yt(a,s)),i,i&&i.lastId,l,l&&l.id,e,null,new rs(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),h()},xM=()=>Ns("Length exceeded!"),bM=(t,e,n,r)=>{if(n>e._length)throw xM();if(n===0)return e._searchMarker&&ih(e._searchMarker,n,r.length),rp(t,e,null,r);const i=n,o=Ig(e,n);let s=e._start;for(o!==null&&(s=o.p,n-=o.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Bs(t,Pe(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&ih(e._searchMarker,i,r.length),rp(t,e,s,r)},Pz=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return rp(t,e,i,n)},SM=(t,e,n,r)=>{if(r===0)return;const i=n,o=r,s=Ig(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Bs(t,Pe(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Bs(t,Pe(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw xM();e._searchMarker&&ih(e._searchMarker,i,-o+r)},ip=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Ow=(t,e,n,r)=>{const i=e._map.get(n)||null,o=t.doc,s=o.clientID;let a;if(r==null)a=new Ma([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Ma([r]);break;case Uint8Array:a=new Ph(r);break;case Cc:a=new Ih(r);break;default:if(r instanceof En)a=new rs(r);else throw new Error("Unexpected content type")}new Ht(Pe(s,Yt(o.store,s)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},Rw=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},CM=t=>{const e={};return t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},EM=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},Iz=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!e.sv.has(o.id.client)||o.id.clock>=(e.sv.get(o.id.client)||0));)o=o.left;o!==null&&Za(o,e)&&(n[i]=o.content.getContent()[o.length-1])}),n},gd=t=>KH(t.entries(),e=>!e[1].deleted);class Oz extends Pg{}class Nl extends En{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Nl;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Nl}clone(){const e=new Nl;return e.insert(0,this.toArray().map(n=>n instanceof En?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),Og(this,e,new Oz(this,e))}insert(e,n){this.doc!==null?Ye(this.doc,r=>{bM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ye(this.doc,n=>{Pz(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ye(this.doc,r=>{SM(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return wM(this,e)}toArray(){return yM(this)}slice(e=0,n=this.length){return mM(this,e,n)}toJSON(){return this.map(e=>e instanceof En?e.toJSON():e)}map(e){return vM(this,e)}forEach(e){oh(this,e)}[Symbol.iterator](){return Mz(this)}_write(e){e.writeTypeRef(rU)}}const Rz=t=>new Nl;class jz extends Pg{constructor(e,n,r){super(e,n),this.keysChanged=r}}class ic extends En{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new ic}clone(){const e=new ic;return this.forEach((n,r)=>{e.set(r,n instanceof En?n.clone():n)}),e}_callObserver(e,n){Og(this,e,new jz(this,e,n))}toJSON(){const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof En?i.toJSON():i}}),e}get size(){return[...gd(this._map)].length}keys(){return tm(gd(this._map),e=>e[0])}values(){return tm(gd(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return tm(gd(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ye(this.doc,n=>{ip(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ye(this.doc,r=>{Ow(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Rw(this,e)}has(e){return EM(this,e)}clear(){this.doc!==null?Ye(this.doc,e=>{this.forEach(function(n,r,i){ip(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(iU)}}const Dz=t=>new ic,xs=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&$H(t,e);class d1{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Ao(),this.right.content.constructor){case zt:this.right.deleted||Ec(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const ZS=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case zt:e.right.deleted||Ec(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Bs(t,Pe(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},md=(t,e,n,r)=>{const i=new Map,o=r?Ig(e,n):null;if(o){const s=new d1(o.p.left,o.p,o.index,i);return ZS(t,s,n-o.index)}else{const s=new d1(null,e._start,0,i);return ZS(t,s,n)}},_M=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===zt&&xs(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,o=i.clientID;r.forEach((s,a)=>{const l=n.left,u=n.right,h=new Ht(Pe(o,Yt(i.store,o)),l,l&&l.lastId,u,u&&u.id,e,null,new zt(a,s));h.integrate(t,0),n.right=h,n.forward()})},Ec=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},kM=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===zt&&xs(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},$M=(t,e,n,r)=>{const i=t.doc,o=i.clientID,s=new Map;for(const a in r){const l=r[a],u=n.currentAttributes.get(a)??null;if(!xs(u,l)){s.set(a,u);const{left:h,right:d}=n;n.right=new Ht(Pe(o,Yt(i.store,o)),h,h&&h.lastId,d,d&&d.id,e,null,new zt(a,l)),n.right.integrate(t,0),n.forward()}}return s},rm=(t,e,n,r,i)=>{n.currentAttributes.forEach((p,g)=>{i[g]===void 0&&(i[g]=null)});const o=t.doc,s=o.clientID;kM(n,i);const a=$M(t,e,n,i),l=r.constructor===String?new Po(r):r instanceof En?new rs(r):new Ha(r);let{left:u,right:h,index:d}=n;e._searchMarker&&ih(e._searchMarker,n.index,l.getLength()),h=new Ht(Pe(s,Yt(o.store,s)),u,u&&u.lastId,h,h&&h.id,e,null,l),h.integrate(t,0),n.right=h,n.index=d,n.forward(),_M(t,e,n,a)},qS=(t,e,n,r,i)=>{const o=t.doc,s=o.clientID;kM(n,i);const a=$M(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===zt));){if(!n.right.deleted)switch(n.right.content.constructor){case zt:{const{key:l,value:u}=n.right.content,h=i[l];if(h!==void 0){if(xs(h,u))a.delete(l);else{if(r===0)break e;a.set(l,u)}n.right.delete(t)}else n.currentAttributes.set(l,u);break}default:r<n.right.length&&Bs(t,Pe(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Ht(Pe(s,Yt(o.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Po(l)),n.right.integrate(t,0),n.forward()}_M(t,e,n,a)},TM=(t,e,n,r,i)=>{let o=e;const s=qi();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===zt){const u=o.content;s.set(u.key,u)}o=o.right}let a=0,l=!1;for(;e!==o;){if(n===e&&(l=!0),!e.deleted){const u=e.content;switch(u.constructor){case zt:{const{key:h,value:d}=u,p=r.get(h)??null;(s.get(h)!==u||p===d)&&(e.delete(t),a++,!l&&(i.get(h)??null)===d&&p!==d&&(p===null?i.delete(h):i.set(h,p))),!l&&!e.deleted&&Ec(i,u);break}}}e=e.right}return a},Lz=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===zt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},Nz=t=>{let e=0;return Ye(t.doc,n=>{let r=t._start,i=t._start,o=qi();const s=i1(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case zt:Ec(s,i.content);break;default:e+=TM(n,r,i,o,s),o=i1(s),r=i;break}i=i.right}}),e},Bz=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const o=t.beforeState.get(r)||0;i!==o&&hM(t,n.store.clients.get(r),o,i,s=>{!s.deleted&&s.content.constructor===zt&&s.constructor!==Hr&&e.add(s.parent)})}Ye(n,r=>{QA(t,t.deleteSet,i=>{if(i instanceof Hr||!i.parent._hasFormatting||e.has(i.parent))return;const o=i.parent;i.content.constructor===zt?e.add(o):Lz(r,i)});for(const i of e)Nz(i)})},QS=(t,e,n)=>{const r=n,i=i1(e.currentAttributes),o=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case rs:case Ha:case Po:n<e.right.length&&Bs(t,Pe(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}o&&TM(t,o,e.right,i,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&ih(s._searchMarker,e.index,-r+n),e};class Fz extends Pg{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ye(e,r=>{const i=new Map,o=new Map;let s=this.target._start,a=null;const l={};let u="",h=0,d=0;const p=()=>{if(a!==null){let g=null;switch(a){case"delete":d>0&&(g={delete:d}),d=0;break;case"insert":(typeof u=="object"||u.length>0)&&(g={insert:u},i.size>0&&(g.attributes={},i.forEach((y,m)=>{y!==null&&(g.attributes[m]=y)}))),u="";break;case"retain":h>0&&(g={retain:h},EH(l)||(g.attributes=bH({},l))),h=0;break}g&&n.push(g),a=null}};for(;s!==null;){switch(s.content.constructor){case rs:case Ha:this.adds(s)?this.deletes(s)||(p(),a="insert",u=s.content.getContent()[0],p()):this.deletes(s)?(a!=="delete"&&(p(),a="delete"),d+=1):s.deleted||(a!=="retain"&&(p(),a="retain"),h+=1);break;case Po:this.adds(s)?this.deletes(s)||(a!=="insert"&&(p(),a="insert"),u+=s.content.str):this.deletes(s)?(a!=="delete"&&(p(),a="delete"),d+=s.length):s.deleted||(a!=="retain"&&(p(),a="retain"),h+=s.length);break;case zt:{const{key:g,value:y}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=i.get(g)??null;xs(m,y)?y!==null&&s.delete(r):(a==="retain"&&p(),xs(y,o.get(g)??null)?delete l[g]:l[g]=y)}}else if(this.deletes(s)){o.set(g,y);const m=i.get(g)??null;xs(m,y)||(a==="retain"&&p(),l[g]=m)}else if(!s.deleted){o.set(g,y);const m=l[g];m!==void 0&&(xs(m,y)?m!==null&&s.delete(r):(a==="retain"&&p(),y===null?delete l[g]:l[g]=y))}s.deleted||(a==="insert"&&p(),Ec(i,s.content));break}}s=s.right}for(p();n.length>0;){const g=n[n.length-1];if(g.retain!==void 0&&g.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class oc extends En{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new oc}clone(){const e=new oc;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new Fz(this,e,n);Og(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Po&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ye(this.doc,r=>{const i=new d1(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const s=e[o];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&o===e.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&rm(r,this,i,a,s.attributes||{})}else s.retain!==void 0?qS(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&QS(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){const i=[],o=new Map,s=this.doc;let a="",l=this._start;function u(){if(a.length>0){const d={};let p=!1;o.forEach((y,m)=>{p=!0,d[m]=y});const g={insert:a};p&&(g.attributes=d),i.push(g),a=""}}const h=()=>{for(;l!==null;){if(Za(l,e)||n!==void 0&&Za(l,n))switch(l.content.constructor){case Po:{const d=o.get("ychange");e!==void 0&&!Za(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(u(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Za(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(u(),o.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(u(),o.delete("ychange")),a+=l.content.str;break}case rs:case Ha:{u();const d={insert:l.content.getContent()[0]};if(o.size>0){const p={};d.attributes=p,o.forEach((g,y)=>{p[y]=g})}i.push(d);break}case zt:Za(l,e)&&(u(),Ec(o,l.content));break}l=l.right}u()};return e||n?Ye(s,d=>{e&&u1(d,e),n&&u1(d,n),h()},"cleanup"):h(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Ye(i,o=>{const s=md(o,this,e,!r);r||(r={},s.currentAttributes.forEach((a,l)=>{r[l]=a})),rm(o,this,s,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?Ye(i,o=>{const s=md(o,this,e,!r);rm(o,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?Ye(r,i=>{QS(i,md(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?Ye(i,o=>{const s=md(o,this,e,!1);s.right!==null&&qS(o,this,s,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?Ye(this.doc,n=>{ip(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ye(this.doc,r=>{Ow(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Rw(this,e)}getAttributes(){return CM(this)}_write(e){e.writeTypeRef(oU)}}const Hz=t=>new oc;class im{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===sc||n.constructor===Aa)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Aa extends En{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Aa}clone(){const e=new Aa;return e.insert(0,this.toArray().map(n=>n instanceof En?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new im(this,e)}querySelector(e){e=e.toUpperCase();const r=new im(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Ds(new im(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Og(this,e,new Gz(this,n,e))}toString(){return vM(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),oh(this,o=>{i.insertBefore(o.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?Ye(this.doc,r=>{bM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ye(this.doc,r=>{const i=e&&e instanceof En?e._item:e;rp(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(o=>o===e)+1;if(i===0&&e!==null)throw Ns("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?Ye(this.doc,r=>{SM(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return yM(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return wM(this,e)}slice(e=0,n=this.length){return mM(this,e,n)}forEach(e){oh(this,e)}_write(e){e.writeTypeRef(aU)}}const zz=t=>new Aa;class sc extends Aa{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new sc(this.nodeName)}clone(){const e=new sc(this.nodeName),n=this.getAttributes();return CH(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof En?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?Ye(this.doc,n=>{ip(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ye(this.doc,r=>{Ow(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Rw(this,e)}hasAttribute(e){return EM(this,e)}getAttributes(e){return e?Iz(this,e):CM(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),o=this.getAttributes();for(const s in o){const a=o[s];typeof a=="string"&&i.setAttribute(s,a)}return oh(this,s=>{i.appendChild(s.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(sU),e.writeKey(this.nodeName)}}const Uz=t=>new sc(t.readKey());class Gz extends Pg{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class op extends ic{constructor(e){super(),this.hookName=e}_copy(){return new op(this.hookName)}clone(){const e=new op(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(e){e.writeTypeRef(lU),e.writeKey(this.hookName)}}const Vz=t=>new op(t.readKey());class sp extends oc{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new sp}clone(){const e=new sp;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const o=[];for(const s in e.attributes[i])o.push({key:s,value:e.attributes[i][s]});o.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let s=0;s<o.attrs.length;s++){const a=o.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(cU)}}const Wz=t=>new sp;class jw{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Co()}mergeWith(e){return!1}write(e,n,r){throw Co()}integrate(e,n){throw Co()}}const Xz=0;class Hr extends jw{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),uM(e.doc.store,this)}write(e,n){e.writeInfo(Xz),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Ph{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ph(this.content)}splice(e){throw Co()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Kz=t=>new Ph(t.readBuf());class sh{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new sh(this.len)}splice(e){const n=new sh(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){tp(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Yz=t=>new sh(t.readLen()),AM=(t,e)=>new Cc({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Ih{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Ih(AM(this.doc.guid,this.opts))}splice(e){throw Co()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Zz=t=>new Ih(AM(t.readString(),t.readAny()));class Ha{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ha(this.embed)}splice(e){throw Co()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const qz=t=>new Ha(t.readJSON());class zt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new zt(this.key,this.value)}splice(e){throw Co()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Qz=t=>new zt(t.readKey(),t.readJSON());class ap{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ap(this.arr)}splice(e){const n=new ap(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const Jz=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new ap(n)};class Ma{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ma(this.arr)}splice(e){const n=new Ma(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];e.writeAny(o)}}getRef(){return 8}}const eU=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Ma(n)};class Po{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Po(this.str)}splice(e){const n=new Po(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const tU=t=>new Po(t.readString()),nU=[Rz,Dz,Hz,Uz,zz,Vz,Wz],rU=0,iU=1,oU=2,sU=3,aU=4,lU=5,cU=6;class rs{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new rs(this.type._copy())}splice(e){throw Co()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const uU=t=>new rs(nU[t.readTypeRef()](t)),lp=(t,e,n)=>{const{client:r,clock:i}=e.id,o=new Ht(Pe(r,i+n),e,Pe(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=Pe(e.redone.client,e.redone.clock+n)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=n,o};class Ht extends jw{constructor(e,n,r,i,o,s,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?PS:0}set marker(e){(this.info&Q0)>0!==e&&(this.info^=Q0)}get marker(){return(this.info&Q0)>0}get keep(){return(this.info&MS)>0}set keep(e){this.keep!==e&&(this.info^=MS)}get countable(){return(this.info&PS)>0}get deleted(){return(this.info&q0)>0}set deleted(e){this.deleted!==e&&(this.info^=q0)}markDeleted(){this.info|=q0}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Yt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Yt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ll&&this.id.client!==this.parent.client&&this.parent.clock>=Yt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=WS(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bs(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Hr||this.right&&this.right.constructor===Hr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Ht&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Ht&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ll){const r=nm(n,this.parent);r.constructor===Hr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=WS(e,e.doc.store,Pe(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),pd(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(pd(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(nm(e.doc.store,i.origin)))o.has(nm(e.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),uM(e.doc.store,this),this.content.integrate(e,this),KS(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Hr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Pe(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&pd(e.origin,this.lastId)&&this.right===e&&pd(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),tp(e.deleteSet,this.id.client,this.id.clock,this.length),KS(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Ao();this.content.gc(e),n?mz(e,this,new Hr(this.id,this.length)):this.content=new sh(this.length)}write(e,n){const r=n>0?Pe(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&kg|(r===null?0:Ir)|(i===null?0:Go)|(o===null?0:Ju);if(e.writeInfo(s),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const u=pz(a);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Ll?(e.writeParentInfo(!1),e.writeLeftID(a)):Ao();o!==null&&e.writeString(o)}this.content.write(e,n)}}const MM=(t,e)=>hU[e&kg](t),hU=[()=>{Ao()},Yz,Jz,Kz,tU,qz,Qz,uU,eU,Zz,()=>{Ao()}],dU=10;class zr extends jw{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Ao()}write(e,n){e.writeInfo(dU),Ee(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const PM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},IM="__ $YJS$ __";PM[IM]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");PM[IM]=!0;function fU(t){return t||(t={}),{delay:t.delay===void 0?200:t.delay,initialDelay:t.initialDelay===void 0?0:t.initialDelay,minDelay:t.minDelay===void 0?0:t.minDelay,maxDelay:t.maxDelay===void 0?0:t.maxDelay,factor:t.factor===void 0?0:t.factor,maxAttempts:t.maxAttempts===void 0?3:t.maxAttempts,timeout:t.timeout===void 0?0:t.timeout,jitter:t.jitter===!0,initialJitter:t.initialJitter===!0,handleError:t.handleError===void 0?null:t.handleError,handleTimeout:t.handleTimeout===void 0?null:t.handleTimeout,beforeAttempt:t.beforeAttempt===void 0?null:t.beforeAttempt,calculateDelay:t.calculateDelay===void 0?null:t.calculateDelay}}async function om(t){return new Promise(e=>setTimeout(e,t))}function pU(t,e){let n=e.delay;if(n===0)return 0;if(e.factor&&(n*=Math.pow(e.factor,t.attemptNum-1),e.maxDelay!==0&&(n=Math.min(n,e.maxDelay))),e.jitter){const r=Math.ceil(e.minDelay),i=Math.floor(n);n=Math.floor(Math.random()*(i-r+1))+r}return Math.round(n)}async function gU(t,e){const n=fU(e);for(const a of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){const l=n[a];if(!Number.isInteger(l)||l<0)throw new Error(`Value for ${a} must be an integer greater than or equal to 0`)}if(n.factor.constructor!==Number||n.factor<0)throw new Error("Value for factor must be a number greater than or equal to 0");if(n.delay<n.minDelay)throw new Error(`delay cannot be less than minDelay (delay: ${n.delay}, minDelay: ${n.minDelay}`);const r={attemptNum:0,attemptsRemaining:n.maxAttempts?n.maxAttempts:-1,aborted:!1,abort(){r.aborted=!0}},i=n.calculateDelay||pU;async function o(){if(n.beforeAttempt&&n.beforeAttempt(r,n),r.aborted){const l=new Error("Attempt aborted");throw l.code="ATTEMPT_ABORTED",l}const a=async l=>{if(n.handleError&&await n.handleError(l,r,n),r.aborted||r.attemptsRemaining===0)throw l;r.attemptNum++;const u=i(r,n);return u&&await om(u),o()};return r.attemptsRemaining>0&&r.attemptsRemaining--,n.timeout?new Promise((l,u)=>{const h=setTimeout(()=>{if(n.handleTimeout)try{l(n.handleTimeout(r,n))}catch(d){u(d)}else{const d=new Error(`Retry timeout (attemptNum: ${r.attemptNum}, timeout: ${n.timeout})`);d.code="ATTEMPT_TIMEOUT",u(d)}},n.timeout);t(r,n).then(d=>{clearTimeout(h),l(d)}).catch(d=>{clearTimeout(h),a(d).then(l).catch(u)})}):t(r,n).catch(a)}const s=n.calculateDelay?n.calculateDelay(r,n):n.initialDelay;if(s&&await om(s),r.attemptNum<1&&n.initialJitter){const a=i(r,n);a&&await om(a)}return o()}var OM={};const Bl=()=>new Map,RM=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},jM=()=>new Set,mU=Array.from,yU=String.fromCharCode,vU=t=>t.toLowerCase(),wU=/^\s*/g,xU=t=>t.replace(wU,""),bU=/([A-Z])/g,JS=(t,e)=>xU(t.replace(bU,n=>`${e}${vU(n)}`)),SU=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},ah=typeof TextEncoder<"u"?new TextEncoder:null,CU=t=>ah.encode(t),EU=ah?CU:SU;let xu=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});xu&&xu.decode(new Uint8Array).length===1&&(xu=null);const eC=t=>t===void 0?null:t;class _U{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let DM=new _U,Dw=!0;try{typeof localStorage<"u"&&localStorage&&(DM=localStorage,Dw=!1)}catch{}const LM=DM,kU=t=>Dw||addEventListener("storage",t),$U=t=>Dw||removeEventListener("storage",t),TU=Object.keys,AU=(t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n},tC=t=>TU(t).length,MU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),PU=(t,e)=>t===e,bu=(t,e)=>{if(t==null||e==null)return PU(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!bu(t.get(n),e.get(n)))return!1;break}case Object:if(tC(t)!==tC(e))return!1;for(const n in t)if(!MU(t,n)||!bu(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!bu(t[n],e[n]))return!1;break;default:return!1}return!0},IU=(t,e)=>e.includes(t),ac=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",NM=typeof window<"u"&&typeof document<"u"&&!ac;let po;const OU=()=>{if(po===void 0)if(ac){po=Bl();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&po.set(e,""),e=r):e!==null&&(po.set(e,r),e=null)}e!==null&&po.set(e,"")}else typeof location=="object"?(po=Bl(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");po.set(`--${JS(e,"-")}`,n),po.set(`-${JS(e,"-")}`,n)}})):po=Bl();return po},f1=t=>OU().has(t),p1=t=>eC(ac?OM[t.toUpperCase()]:LM.getItem(t)),RU=t=>f1("--"+t)||p1(t)!==null;RU("production");const nC=ac&&IU(OM.FORCE_COLOR,["true","1","2"]);!f1("no-colors")&&(!ac||process.stdout.isTTY||nC)&&(!ac||f1("color")||nC||p1("COLORTERM")!==null||(p1("TERM")||"").includes("color"));const BM=Math.floor,jU=(t,e)=>t<e?t:e,DU=(t,e)=>t>e?t:e,LU=64,cp=128,NU=63,Su=127,FM=Number.MAX_SAFE_INTEGER;class BU{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Lw=()=>new BU,HM=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Nw=t=>{const e=new Uint8Array(HM(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},up=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},qt=(t,e)=>{for(;e>Su;)up(t,cp|Su&e),e=BM(e/128);up(t,Su&e)},g1=new Uint8Array(3e4),FU=g1.length/3,HU=(t,e)=>{if(e.length<FU){const n=ah.encodeInto(e,g1).written||0;qt(t,n);for(let r=0;r<n;r++)up(t,g1[r])}else _c(t,EU(e))},zU=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;qt(t,r);for(let i=0;i<r;i++)up(t,n.codePointAt(i))},ro=ah&&ah.encodeInto?HU:zU,UU=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=jU(n-r,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(DU(n*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},_c=(t,e)=>{qt(t,e.byteLength),UU(t,e)},zM=t=>new Error(t),UM=zM("Unexpected end of array"),GM=zM("Integer out of Range");class GU{constructor(e){this.arr=e,this.pos=0}}const VM=t=>new GU(t),VU=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Rg=t=>VU(t,ga(t)),rC=t=>t.arr[t.pos++],ga=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Su)*n,n*=128,i<cp)return e;if(e>FM)throw GM}throw UM},WU=t=>{let e=t.arr[t.pos++],n=e&NU,r=64;const i=(e&LU)>0?-1:1;if(!(e&cp))return i*n;const o=t.arr.length;for(;t.pos<o;){if(e=t.arr[t.pos++],n=n+(e&Su)*r,r*=128,e<cp)return i*n;if(n>FM)throw GM}throw UM},XU=t=>{let e=ga(t);if(e===0)return"";{let n=String.fromCodePoint(rC(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(rC(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},KU=t=>xu.decode(Rg(t)),jg=xu?KU:XU,YU=t=>{const e=t.pos,n=jg(t);return t.pos=e,n},ZU=t=>new Uint8Array(t),qU=(t,e,n)=>new Uint8Array(t,e,n),QU=t=>new Uint8Array(t),JU=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=yU(t[n]);return btoa(e)},eG=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),tG=t=>{const e=atob(t),n=ZU(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},nG=t=>{const e=Buffer.from(t,"base64");return qU(e.buffer,e.byteOffset,e.byteLength)},rG=NM?JU:eG,iG=NM?tG:nG,WM=new Map;class oG{constructor(e){this.room=e,this.onmessage=null,this._onChange=n=>n.key===e&&this.onmessage!==null&&this.onmessage({data:iG(n.newValue||"")}),kU(this._onChange)}postMessage(e){LM.setItem(this.room,rG(QU(e)))}close(){$U(this._onChange)}}const sG=typeof BroadcastChannel>"u"?oG:BroadcastChannel,Bw=t=>RM(WM,t,()=>{const e=jM(),n=new sG(t);return n.onmessage=r=>e.forEach(i=>i(r.data,"broadcastchannel")),{bc:n,subs:e}}),aG=(t,e)=>(Bw(t).subs.add(e),e),lG=(t,e)=>{const n=Bw(t),r=n.subs.delete(e);return r&&n.subs.size===0&&(n.bc.close(),WM.delete(t)),r},cG=(t,e,n=null)=>{const r=Bw(t);r.bc.postMessage(e),r.subs.forEach(i=>i(e,n))},uG=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},lc=Date.now;class hG{constructor(){this._observers=Bl()}on(e,n){RM(this._observers,e,jM).add(n)}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return mU((this._observers.get(e)||Bl()).values()).forEach(r=>r(...n))}destroy(){this._observers=Bl()}}const sm=3e4;class dG extends hG{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=lc();this.getLocalState()!==null&&sm/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,o)=>{o!==this.clientID&&sm<=n-i.lastUpdated&&this.states.has(o)&&r.push(o)}),r.length>0&&Qd(this,r,"timeout")},BM(sm/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const n=this.clientID,r=this.meta.get(n),i=r===void 0?0:r.clock+1,o=this.states.get(n);e===null?this.states.delete(n):this.states.set(n,e),this.meta.set(n,{clock:i,lastUpdated:lc()});const s=[],a=[],l=[],u=[];e===null?u.push(n):o==null?e!=null&&s.push(n):(a.push(n),bu(o,e)||l.push(n)),(s.length>0||l.length>0||u.length>0)&&this.emit("change",[{added:s,updated:l,removed:u},"local"]),this.emit("update",[{added:s,updated:a,removed:u},"local"])}setLocalStateField(e,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[e]:n})}getStates(){return this.states}}const Qd=(t,e,n)=>{const r=[];for(let i=0;i<e.length;i++){const o=e[i];if(t.states.has(o)){if(t.states.delete(o),o===t.clientID){const s=t.meta.get(o);t.meta.set(o,{clock:s.clock+1,lastUpdated:lc()})}r.push(o)}}r.length>0&&(t.emit("change",[{added:[],updated:[],removed:r},n]),t.emit("update",[{added:[],updated:[],removed:r},n]))},m1=(t,e,n=t.states)=>{const r=e.length,i=Lw();qt(i,r);for(let o=0;o<r;o++){const s=e[o],a=n.get(s)||null,l=t.meta.get(s).clock;qt(i,s),qt(i,l),ro(i,JSON.stringify(a))}return Nw(i)},fG=(t,e,n)=>{const r=VM(e),i=lc(),o=[],s=[],a=[],l=[],u=ga(r);for(let h=0;h<u;h++){const d=ga(r);let p=ga(r);const g=JSON.parse(jg(r)),y=t.meta.get(d),m=t.states.get(d),C=y===void 0?0:y.clock;(C<p||C===p&&g===null&&t.states.has(d))&&(g===null?d===t.clientID&&t.getLocalState()!=null?p++:t.states.delete(d):t.states.set(d,g),t.meta.set(d,{clock:p,lastUpdated:i}),y===void 0&&g!==null?o.push(d):y!==void 0&&g===null?l.push(d):g!==null&&(bu(g,m)||a.push(d),s.push(d)))}(o.length>0||a.length>0||l.length>0)&&t.emit("change",[{added:o,updated:a,removed:l},n]),(o.length>0||s.length>0||l.length>0)&&t.emit("update",[{added:o,updated:s,removed:l},n])};class XM{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const pG=t=>AU(t,(e,n)=>`${encodeURIComponent(n)}=${encodeURIComponent(e)}`).join("&");var Xt;(function(t){t[t.Sync=0]="Sync",t[t.Awareness=1]="Awareness",t[t.Auth=2]="Auth",t[t.QueryAwareness=3]="QueryAwareness",t[t.Stateless=5]="Stateless",t[t.CLOSE=7]="CLOSE",t[t.SyncStatus=8]="SyncStatus"})(Xt||(Xt={}));var Ut;(function(t){t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected"})(Ut||(Ut={}));class Jd{constructor(e){this.data=e,this.encoder=Lw(),this.decoder=VM(new Uint8Array(this.data))}peekVarString(){return YU(this.decoder)}readVarUint(){return ga(this.decoder)}readVarString(){return jg(this.decoder)}readVarUint8Array(){return Rg(this.decoder)}writeVarUint(e){return qt(this.encoder,e)}writeVarString(e){return ro(this.encoder,e)}writeVarUint8Array(e){return _c(this.encoder,e)}length(){return HM(this.encoder)}}class gG extends XM{constructor(e){super(),this.messageQueue=[],this.configuration={url:"",document:void 0,WebSocketPolyfill:void 0,parameters:{},connect:!0,broadcast:!0,forceSyncInterval:!1,messageReconnectTimeout:3e4,delay:1e3,initialDelay:0,factor:2,maxAttempts:0,minDelay:1e3,maxDelay:3e4,jitter:!0,timeout:0,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,quiet:!1,providerMap:new Map},this.webSocket=null,this.webSocketHandlers={},this.shouldConnect=!0,this.status=Ut.Disconnected,this.lastMessageReceived=0,this.identifier=0,this.intervals={forceSync:null,connectionChecker:null},this.connectionAttempt=null,this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.closeTries=0,this.setConfiguration(e),this.configuration.WebSocketPolyfill=e.WebSocketPolyfill?e.WebSocketPolyfill:WebSocket,this.on("open",this.configuration.onOpen),this.on("open",this.onOpen.bind(this)),this.on("connect",this.configuration.onConnect),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("status",this.configuration.onStatus),this.on("status",this.onStatus.bind(this)),this.on("disconnect",this.configuration.onDisconnect),this.on("close",this.configuration.onClose),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("close",this.onClose.bind(this)),this.on("message",this.onMessage.bind(this)),this.intervals.connectionChecker=setInterval(this.checkConnection.bind(this),this.configuration.messageReconnectTimeout/10),typeof e.connect<"u"&&(this.shouldConnect=e.connect),this.shouldConnect&&this.connect()}async onOpen(e){this.receivedOnOpenPayload=e}async onStatus(e){this.receivedOnStatusPayload=e}attach(e){let n;return this.configuration.providerMap.set(e.configuration.name,e),this.status===Ut.Disconnected&&this.shouldConnect&&(n=this.connect()),this.receivedOnOpenPayload&&e.onOpen(this.receivedOnOpenPayload),this.receivedOnStatusPayload&&e.onStatus(this.receivedOnStatusPayload),n}detach(e){this.configuration.providerMap.delete(e.configuration.name)}setConfiguration(e={}){this.configuration={...this.configuration,...e}}async connect(){if(this.status===Ut.Connected)return;this.cancelWebsocketRetry&&(this.cancelWebsocketRetry(),this.cancelWebsocketRetry=void 0),this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.shouldConnect=!0;const e=()=>{let i=!1;return{retryPromise:gU(this.createWebSocketConnection.bind(this),{delay:this.configuration.delay,initialDelay:this.configuration.initialDelay,factor:this.configuration.factor,maxAttempts:this.configuration.maxAttempts,minDelay:this.configuration.minDelay,maxDelay:this.configuration.maxDelay,jitter:this.configuration.jitter,timeout:this.configuration.timeout,beforeAttempt:s=>{(!this.shouldConnect||i)&&s.abort()}}).catch(s=>{if(s&&s.code!=="ATTEMPT_ABORTED")throw s}),cancelFunc:()=>{i=!0}}},{retryPromise:n,cancelFunc:r}=e();return this.cancelWebsocketRetry=r,n}attachWebSocketListeners(e,n){const{identifier:r}=e,i=u=>this.emit("message",u),o=u=>this.emit("close",{event:u}),s=u=>this.emit("open",u),a=u=>{n(u)};this.webSocketHandlers[r]={message:i,close:o,open:s,error:a};const l=this.webSocketHandlers[e.identifier];Object.keys(l).forEach(u=>{e.addEventListener(u,l[u])})}cleanupWebSocket(){if(!this.webSocket)return;const{identifier:e}=this.webSocket,n=this.webSocketHandlers[e];Object.keys(n).forEach(r=>{var i;(i=this.webSocket)===null||i===void 0||i.removeEventListener(r,n[r]),delete this.webSocketHandlers[e]}),this.webSocket.close(),this.webSocket=null}createWebSocketConnection(){return new Promise((e,n)=>{this.webSocket&&(this.messageQueue=[],this.cleanupWebSocket()),this.lastMessageReceived=0,this.identifier+=1;const r=new this.configuration.WebSocketPolyfill(this.url);r.binaryType="arraybuffer",r.identifier=this.identifier,this.attachWebSocketListeners(r,n),this.webSocket=r,this.status=Ut.Connecting,this.emit("status",{status:Ut.Connecting}),this.connectionAttempt={resolve:e,reject:n}})}onMessage(e){var n;this.resolveConnectionAttempt(),this.lastMessageReceived=lc();const i=new Jd(e.data).peekVarString();(n=this.configuration.providerMap.get(i))===null||n===void 0||n.onMessage(e)}resolveConnectionAttempt(){this.connectionAttempt&&(this.connectionAttempt.resolve(),this.connectionAttempt=null,this.status=Ut.Connected,this.emit("status",{status:Ut.Connected}),this.emit("connect"),this.messageQueue.forEach(e=>this.send(e)),this.messageQueue=[])}stopConnectionAttempt(){this.connectionAttempt=null}rejectConnectionAttempt(){var e;(e=this.connectionAttempt)===null||e===void 0||e.reject(),this.connectionAttempt=null}checkConnection(){var e;this.status===Ut.Connected&&this.lastMessageReceived&&(this.configuration.messageReconnectTimeout>=lc()-this.lastMessageReceived||(this.closeTries+=1,this.closeTries>2?(this.onClose({event:{code:4408,reason:"forced"}}),this.closeTries=0):((e=this.webSocket)===null||e===void 0||e.close(),this.messageQueue=[])))}get serverUrl(){for(;this.configuration.url[this.configuration.url.length-1]==="/";)return this.configuration.url.slice(0,this.configuration.url.length-1);return this.configuration.url}get url(){const e=pG(this.configuration.parameters);return`${this.serverUrl}${e.length===0?"":`?${e}`}`}disconnect(){if(this.shouldConnect=!1,this.webSocket!==null)try{this.webSocket.close(),this.messageQueue=[]}catch{}}send(e){var n;((n=this.webSocket)===null||n===void 0?void 0:n.readyState)===r1.Open?this.webSocket.send(e):this.messageQueue.push(e)}onClose({event:e}){if(this.closeTries=0,this.cleanupWebSocket(),this.status===Ut.Connected&&(this.status=Ut.Disconnected,this.emit("status",{status:Ut.Disconnected}),this.emit("disconnect",{event:e})),e.code===TS.code&&(e.reason===TS.reason?console.warn("[HocuspocusProvider] An authentication token is required, but you didnt send one. Try adding a `token` to your HocuspocusProvider configuration. Wont try again."):console.warn(`[HocuspocusProvider] Connection closed with status Unauthorized: ${e.reason}`),this.shouldConnect=!1),e.code===jF.code&&!this.configuration.quiet){console.warn("[HocuspocusProvider] The provided authentication token isnt allowed to connect to this server. Will try again.");return}e.code===RF.code&&(console.warn(`[HocuspocusProvider] Connection closed with status MessageTooBig: ${e.reason}`),this.shouldConnect=!1),this.connectionAttempt?this.rejectConnectionAttempt():this.shouldConnect&&this.connect(),!this.shouldConnect&&this.status!==Ut.Disconnected&&(this.status=Ut.Disconnected,this.emit("status",{status:Ut.Disconnected}),this.emit("disconnect",{event:e}))}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),clearInterval(this.intervals.connectionChecker),this.stopConnectionAttempt(),this.disconnect(),this.removeAllListeners(),this.cleanupWebSocket()}}const KM=0,Fw=1,YM=2,mG=(t,e)=>{qt(t,KM);const n=dz(e);_c(t,n)},ZM=(t,e,n)=>{qt(t,Fw),_c(t,lz(e,n))},yG=(t,e,n)=>ZM(e,n,Rg(t)),qM=(t,e,n)=>{try{oz(e,Rg(t),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},vG=(t,e)=>{qt(t,YM),_c(t,e)},wG=qM,xG=(t,e,n,r)=>{const i=ga(t);switch(i){case KM:yG(t,e,n);break;case Fw:qM(t,n,r);break;case YM:wG(t,n,r);break;default:throw new Error("Unknown message type")}return i};class Io{constructor(){this.encoder=Lw()}get(e){return e.encoder}toUint8Array(){return Nw(this.encoder)}}class iC{constructor(e){this.broadcasted=!1,this.message=e}setBroadcasted(e){return this.broadcasted=e,this}apply(e,n){const{message:r}=this,i=r.readVarUint(),o=r.length();switch(i){case Xt.Sync:this.applySyncMessage(e,n);break;case Xt.Awareness:this.applyAwarenessMessage(e);break;case Xt.Auth:this.applyAuthMessage(e);break;case Xt.QueryAwareness:this.applyQueryAwarenessMessage(e);break;case Xt.Stateless:e.receiveStateless(jg(r.decoder));break;case Xt.SyncStatus:this.applySyncStatusMessage(e,WU(r.decoder)===1);break;default:throw new Error(`Cant apply message of unknown type: ${i}`)}r.length()>o+1&&(this.broadcasted?e.broadcast(Io,{encoder:r.encoder}):e.send(Io,{encoder:r.encoder}))}applySyncMessage(e,n){const{message:r}=this;r.writeVarUint(Xt.Sync);const i=xG(r.decoder,r.encoder,e.document,e);n&&i===Fw&&(e.synced=!0)}applySyncStatusMessage(e,n){n&&e.decrementUnsyncedChanges()}applyAwarenessMessage(e){if(!e.awareness)return;const{message:n}=this;fG(e.awareness,n.readVarUint8Array(),e)}applyAuthMessage(e){const{message:n}=this;OF(n.decoder,e.permissionDeniedHandler.bind(e),e.authenticatedHandler.bind(e))}applyQueryAwarenessMessage(e){if(!e.awareness)return;const{message:n}=this;n.writeVarUint(Xt.Awareness),n.writeVarUint8Array(m1(e.awareness,Array.from(e.awareness.getStates().keys())))}}class oC{constructor(e,n={}){this.message=new e,this.encoder=this.message.get(n)}create(){return Nw(this.encoder)}send(e){e==null||e.send(this.create())}broadcast(e){cG(e,this.create())}}class bG extends Io{constructor(){super(...arguments),this.type=Xt.Auth,this.description="Authentication"}get(e){if(typeof e.token>"u")throw new Error("The authentication message requires `token` as an argument.");return ro(this.encoder,e.documentName),qt(this.encoder,this.type),IF(this.encoder,e.token),this.encoder}}class yd extends Io{constructor(){super(...arguments),this.type=Xt.Awareness,this.description="Awareness states update"}get(e){if(typeof e.awareness>"u")throw new Error("The awareness message requires awareness as an argument");if(typeof e.clients>"u")throw new Error("The awareness message requires clients as an argument");ro(this.encoder,e.documentName),qt(this.encoder,this.type);let n;return e.states===void 0?n=m1(e.awareness,e.clients):n=m1(e.awareness,e.clients,e.states),_c(this.encoder,n),this.encoder}}class SG extends Io{constructor(){super(...arguments),this.type=Xt.CLOSE,this.description="Ask the server to close the connection"}get(e){return ro(this.encoder,e.documentName),qt(this.encoder,this.type),this.encoder}}class CG extends Io{constructor(){super(...arguments),this.type=Xt.QueryAwareness,this.description="Queries awareness states"}get(e){return ro(this.encoder,e.documentName),qt(this.encoder,this.type),this.encoder}}class EG extends Io{constructor(){super(...arguments),this.type=Xt.Stateless,this.description="A stateless message"}get(e){var n;return ro(this.encoder,e.documentName),qt(this.encoder,this.type),ro(this.encoder,(n=e.payload)!==null&&n!==void 0?n:""),this.encoder}}class am extends Io{constructor(){super(...arguments),this.type=Xt.Sync,this.description="First sync step"}get(e){if(typeof e.document>"u")throw new Error("The sync step one message requires document as an argument");return ro(this.encoder,e.documentName),qt(this.encoder,this.type),mG(this.encoder,e.document),this.encoder}}class _G extends Io{constructor(){super(...arguments),this.type=Xt.Sync,this.description="Second sync step"}get(e){if(typeof e.document>"u")throw new Error("The sync step two message requires document as an argument");return ro(this.encoder,e.documentName),qt(this.encoder,this.type),ZM(this.encoder,e.document),this.encoder}}class kG extends Io{constructor(){super(...arguments),this.type=Xt.Sync,this.description="A document update"}get(e){return ro(this.encoder,e.documentName),qt(this.encoder,this.type),vG(this.encoder,e.update),this.encoder}}class $G extends Error{constructor(){super(...arguments),this.code=1001}}class TG extends XM{constructor(e){var n,r,i;super(),this.configuration={name:"",document:void 0,awareness:void 0,token:null,parameters:{},broadcast:!0,forceSyncInterval:!1,onAuthenticated:()=>null,onAuthenticationFailed:()=>null,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onSynced:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,onStateless:()=>null,quiet:!1,connect:!0,preserveConnection:!0},this.subscribedToBroadcastChannel=!1,this.isSynced=!1,this.unsyncedChanges=0,this.status=Ut.Disconnected,this.isAuthenticated=!1,this.authorizedScope=void 0,this.mux=uG(),this.intervals={forceSync:null},this.isConnected=!0,this.boundBroadcastChannelSubscriber=this.broadcastChannelSubscriber.bind(this),this.boundPageHide=this.pageHide.bind(this),this.boundOnOpen=this.onOpen.bind(this),this.boundOnClose=this.onClose.bind(this),this.boundOnStatus=this.onStatus.bind(this),this.forwardConnect=o=>this.emit("connect",o),this.forwardOpen=o=>this.emit("open",o),this.forwardClose=o=>this.emit("close",o),this.forwardDisconnect=o=>this.emit("disconnect",o),this.forwardDestroy=o=>this.emit("destroy",o),this.setConfiguration(e),this.configuration.document=e.document?e.document:new Cc,this.configuration.awareness=e.awareness!==void 0?e.awareness:new dG(this.document),this.on("open",this.configuration.onOpen),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("synced",this.configuration.onSynced),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("stateless",this.configuration.onStateless),this.on("authenticated",this.configuration.onAuthenticated),this.on("authenticationFailed",this.configuration.onAuthenticationFailed),this.configuration.websocketProvider.on("connect",this.configuration.onConnect),this.configuration.websocketProvider.on("connect",this.forwardConnect),this.configuration.websocketProvider.on("open",this.boundOnOpen),this.configuration.websocketProvider.on("open",this.forwardOpen),this.configuration.websocketProvider.on("close",this.boundOnClose),this.configuration.websocketProvider.on("close",this.configuration.onClose),this.configuration.websocketProvider.on("close",this.forwardClose),this.configuration.websocketProvider.on("status",this.boundOnStatus),this.configuration.websocketProvider.on("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.on("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.on("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.on("destroy",this.forwardDestroy),(n=this.awareness)===null||n===void 0||n.on("update",()=>{this.emit("awarenessUpdate",{states:AS(this.awareness.getStates())})}),(r=this.awareness)===null||r===void 0||r.on("change",()=>{this.emit("awarenessChange",{states:AS(this.awareness.getStates())})}),this.document.on("update",this.documentUpdateHandler.bind(this)),(i=this.awareness)===null||i===void 0||i.on("update",this.awarenessUpdateHandler.bind(this)),this.registerEventListeners(),this.configuration.forceSyncInterval&&typeof this.configuration.forceSyncInterval=="number"&&(this.intervals.forceSync=setInterval(this.forceSync.bind(this),this.configuration.forceSyncInterval)),this.configuration.websocketProvider.attach(this)}onStatus({status:e}){this.status=e,this.configuration.onStatus({status:e}),this.emit("status",{status:e})}setConfiguration(e={}){if(!e.websocketProvider&&e.url){const n=e;this.configuration.websocketProvider=new gG({url:n.url,connect:n.connect,parameters:n.parameters})}this.configuration={...this.configuration,...e}}get document(){return this.configuration.document}get awareness(){return this.configuration.awareness}get hasUnsyncedChanges(){return this.unsyncedChanges>0}resetUnsyncedChanges(){this.unsyncedChanges=1,this.emit("unsyncedChanges",this.unsyncedChanges)}incrementUnsyncedChanges(){this.unsyncedChanges+=1,this.emit("unsyncedChanges",this.unsyncedChanges)}decrementUnsyncedChanges(){this.unsyncedChanges-=1,this.unsyncedChanges===0&&(this.synced=!0),this.emit("unsyncedChanges",this.unsyncedChanges)}forceSync(){this.resetUnsyncedChanges(),this.send(am,{document:this.document,documentName:this.configuration.name})}pageHide(){this.awareness&&Qd(this.awareness,[this.document.clientID],"page hide")}registerEventListeners(){typeof window>"u"||!("addEventListener"in window)||window.addEventListener("pagehide",this.boundPageHide)}sendStateless(e){this.send(EG,{documentName:this.configuration.name,payload:e})}documentUpdateHandler(e,n){n!==this&&(this.incrementUnsyncedChanges(),this.send(kG,{update:e,documentName:this.configuration.name},!0))}awarenessUpdateHandler({added:e,updated:n,removed:r},i){const o=e.concat(n).concat(r);this.send(yd,{awareness:this.awareness,clients:o,documentName:this.configuration.name},!0)}get synced(){return this.isSynced}set synced(e){this.isSynced!==e&&(this.isSynced=e,this.emit("synced",{state:e}),this.emit("sync",{state:e}))}receiveStateless(e){this.emit("stateless",{payload:e})}get isAuthenticationRequired(){return!!this.configuration.token&&!this.isAuthenticated}async connect(){return this.configuration.broadcast&&this.subscribeToBroadcastChannel(),this.configuration.websocketProvider.shouldConnect=!0,this.configuration.websocketProvider.attach(this)}disconnect(){this.disconnectBroadcastChannel(),this.configuration.websocketProvider.detach(this),this.isConnected=!1,this.configuration.preserveConnection||this.configuration.websocketProvider.disconnect()}async onOpen(e){this.isAuthenticated=!1,this.isConnected=!0,this.emit("open",{event:e});let n;try{n=await this.getToken()}catch(r){this.permissionDeniedHandler(`Failed to get token: ${r}`);return}this.isAuthenticationRequired&&this.send(bG,{token:n,documentName:this.configuration.name}),this.startSync()}async getToken(){return typeof this.configuration.token=="function"?await this.configuration.token():this.configuration.token}startSync(){this.resetUnsyncedChanges(),this.send(am,{document:this.document,documentName:this.configuration.name}),this.awareness&&this.awareness.getLocalState()!==null&&this.send(yd,{awareness:this.awareness,clients:[this.document.clientID],documentName:this.configuration.name})}send(e,n,r=!1){if(!this.isConnected)return;r&&this.mux(()=>{this.broadcast(e,n)});const i=new oC(e,n);this.emit("outgoingMessage",{message:i.message}),i.send(this.configuration.websocketProvider)}onMessage(e){const n=new Jd(e.data),r=n.readVarString();n.writeVarString(r),this.emit("message",{event:e,message:new Jd(e.data)}),new iC(n).apply(this,!0)}onClose(e){this.isAuthenticated=!1,this.synced=!1,this.awareness&&Qd(this.awareness,Array.from(this.awareness.getStates().keys()).filter(n=>n!==this.document.clientID),this)}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),this.awareness&&(Qd(this.awareness,[this.document.clientID],"provider destroy"),this.awareness.off("update",this.awarenessUpdateHandler),this.awareness.destroy()),this.document.off("update",this.documentUpdateHandler),this.removeAllListeners(),this.configuration.websocketProvider.off("connect",this.configuration.onConnect),this.configuration.websocketProvider.off("connect",this.forwardConnect),this.configuration.websocketProvider.off("open",this.boundOnOpen),this.configuration.websocketProvider.off("open",this.forwardOpen),this.configuration.websocketProvider.off("close",this.boundOnClose),this.configuration.websocketProvider.off("close",this.configuration.onClose),this.configuration.websocketProvider.off("close",this.forwardClose),this.configuration.websocketProvider.off("status",this.boundOnStatus),this.configuration.websocketProvider.off("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.off("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.off("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.off("destroy",this.forwardDestroy),this.send(SG,{documentName:this.configuration.name}),this.disconnect(),!(typeof window>"u"||!("removeEventListener"in window))&&window.removeEventListener("pagehide",this.boundPageHide)}permissionDeniedHandler(e){this.emit("authenticationFailed",{reason:e}),this.isAuthenticated=!1,this.disconnect(),this.status=Ut.Disconnected}authenticatedHandler(e){this.isAuthenticated=!0,this.authorizedScope=e,this.emit("authenticated")}get broadcastChannel(){return`${this.configuration.name}`}broadcastChannelSubscriber(e){this.mux(()=>{const n=new Jd(e),r=n.readVarString();n.writeVarString(r),new iC(n).setBroadcasted(!0).apply(this,!1)})}subscribeToBroadcastChannel(){this.subscribedToBroadcastChannel||(aG(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!0),this.mux(()=>{this.broadcast(am,{document:this.document,documentName:this.configuration.name}),this.broadcast(_G,{document:this.document,documentName:this.configuration.name}),this.broadcast(CG,{document:this.document,documentName:this.configuration.name}),this.awareness&&this.broadcast(yd,{awareness:this.awareness,clients:[this.document.clientID],document:this.document,documentName:this.configuration.name})})}disconnectBroadcastChannel(){this.awareness&&this.send(yd,{awareness:this.awareness,clients:[this.document.clientID],states:new Map,documentName:this.configuration.name},!0),this.subscribedToBroadcastChannel&&(lG(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!1)}broadcast(e,n){this.configuration.broadcast&&this.subscribedToBroadcastChannel&&new oC(e,n).broadcast(this.broadcastChannel)}setAwarenessField(e,n){if(!this.awareness)throw new $G(`Cannot set awareness field "${e}" to ${JSON.stringify(n)}. You have disabled Awareness for this provider by explicitly passing awareness: null in the provider configuration.`);this.awareness.setLocalStateField(e,n)}}crypto.getRandomValues.bind(crypto);const AG=(...t)=>{};class MG{constructor(e,n,r,i){this.yMap=e,this.editor=n,this.awareness=r,this.user=i,this.dataInitialed=!1,this.eventEmitter=new P$,this.suikaObserve=o=>{const s=this.yMap;this.doc.transact(()=>{for(const[a,l]of o.added)s.set(a,l);for(const a of o.deleted)s.delete(a);for(const[a,l]of o.update){const u=s.get(a),h=Object.keys(l);Nv(ID(u,h),l)||s.set(a,{...s.get(a),...l})}},this)},this.yMapObserve=o=>{const s=this.yMap;if(o.transaction.origin==this)return;AG(o.changes);const a={added:new Map,deleted:new Set,update:new Map};for(const[l,{action:u}]of o.changes.keys){if(u==="delete"){a.deleted.add(l);return}const h=s.get(l);u==="add"&&h.type!==xe.Document?a.added.set(l,h):u==="update"&&a.update.set(l,h)}this.editor.applyChanges(a),this.dataInitialed||this.editor.zoomManager.zoomToFit(1),this.dataInitialed=!0,this.editor.render()},this.onAwarenessChange=()=>{const o=Array.from(this.awareness.getStates().values()).filter(s=>s.user).map(s=>s.user);this.eventEmitter.emit("usersChange",o)},this.onCursorPosChange=W$(o=>{if(this.awareness.getStates().size<2)return;const a=this.awareness.getLocalState();this.awareness.setLocalStateField("user",{...a.user,pos:{...o}})},80),this.doc=e.doc,n.doc.on("sceneChange",this.suikaObserve),e.observe(this.yMapObserve),this.awareness.on("change",this.onAwarenessChange),this.editor.mouseEventManager.on("cursorPosUpdate",this.onCursorPosChange),this.awareness.setLocalStateField("user",{id:this.user.id,name:this.user.username,awarenessId:this.awareness.clientID,pos:null,color:PG()})}destroy(){this.yMap.unobserve(this.yMapObserve),this.editor.doc.off("sceneChange",this.suikaObserve),this.editor.mouseEventManager.off("cursorPosUpdate",this.onCursorPosChange),this.awareness.off("change",this.onAwarenessChange),this.awareness.destroy()}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}}const PG=()=>{const t=IG(0,sC.length-1);return sC[t]},sC=["#0C83AC","#14B531","#FFBC42","#EE6352","#26A0B3","#3B9C37","#0794A5","#FFCD29","#FF0044","#9747FF","#FF24BD","#14AE5C"],IG=(t,e)=>(t>e&&([t,e]=[e,t]),t=Math.floor(t),e=Math.ceil(e),Math.floor(Math.random()*(e-t+1)+t)),OG=(t,e,n)=>{const r=location.host,i=new TG({url:`ws://${r}/join/room/`,name:e,token:document.cookie.slice(13),onAuthenticationFailed:s=>{console.log("",s)}}),o=i.document.getMap("nodes");return new MG(o,t,i.awareness,n)};var QM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(QM);var RG=QM.exports;const qo=Rp(RG),wn=({children:t,suffix:e,disabled:n,onClick:r})=>S.jsxs("div",{className:qo("suika-context-menu-item",{"suika-is-disable":n}),onClick:r,children:[t,e&&S.jsx("span",{children:e})]}),Js=()=>S.jsx("div",{className:"suika-context-menu-sep"}),aC=2,jG=-5,vd=60,DG=()=>{const t=P.useContext(yr),[e,n]=P.useState(!1),[r,i]=P.useState({x:0,y:0}),[o,s]=P.useState(!1),[a,l]=P.useState(!1),[u,h]=P.useState(!1),[d,p]=P.useState({width:0,height:0}),g=P.useRef(null),y=P.useCallback(()=>{const x=window.innerWidth,v=window.innerHeight;let b=r.x+aC,E=r.y+jG;return b+d.width>x&&(b=r.x-d.width-aC),E<vd?E=vd:r.y+d.height+vd>v&&(E=v-vd-d.height),{left:b,top:E}},[r.x,r.y,d]);P.useLayoutEffect(()=>{if(g.current){const x=g.current.getBoundingClientRect();p({width:x.width,height:x.height})}},[e]),P.useEffect(()=>{if(t){const x=b=>{e||(h(t.selectedBox.hitTest(t.getSceneCursorXY({clientX:b.x,clientY:b.y}))),n(!0),i(b))};t.hostEventManager.on("contextmenu",x);const v=b=>{s(b.canRedo),l(b.canUndo)};return t.commandManager.on("change",v),()=>{t.hostEventManager.off("contextmenu",x),t.commandManager.off("change",v)}}},[t]);const m=()=>S.jsxs(S.Fragment,{children:[u&&S.jsxs(S.Fragment,{children:[S.jsx(wn,{suffix:St()?"Ctrl+C":"C",onClick:()=>{n(!1),t&&t.clipboard.copy()},children:S.jsx(gt,{id:"command.copy"})}),S.jsx(wn,{onClick:()=>{n(!1),t&&t.clipboard.copyAsSVG()},children:S.jsx(gt,{id:"command.copyAsSVG"})})]}),S.jsx(wn,{onClick:()=>{if(n(!1),t){const x=t.getSceneCursorXY({clientX:r.x,clientY:r.y},!0);t.clipboard.pasteAt(x)}},children:S.jsx(gt,{id:"command.pasteHere"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Ctrl+Z":"Z",disabled:!a,onClick:()=>{n(!1),t&&t.commandManager.undo()},children:S.jsx(gt,{id:"command.undo"})}),S.jsx(wn,{suffix:St()?"Ctrl+Shift+Z":"Z",disabled:!o,onClick:()=>{n(!1),t&&t.commandManager.redo()},children:S.jsx(gt,{id:"command.redo"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Ctrl+A":"A",onClick:()=>{n(!1),t&&(t.selectedElements.selectAll(),t.render())},children:S.jsx(gt,{id:"command.selectAll"})})]}),C=()=>S.jsxs(S.Fragment,{children:[S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Ctrl+G":"G",onClick:()=>{n(!1),t&&OT(t.selectedElements.getItems(),t)},children:S.jsx(gt,{id:"group"})}),S.jsx(wn,{suffix:St()?"Ctrl+Backspace":"",onClick:()=>{n(!1),t&&RT(t.selectedElements.getItems(),t)},children:S.jsx(gt,{id:"ungroup"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Ctrl+]":"]",onClick:()=>{n(!1),t&&ws(t,_r.Forward)},children:S.jsx(gt,{id:"arrange.forward"})}),S.jsx(wn,{suffix:St()?"Ctrl+[":"[",onClick:()=>{n(!1),t&&ws(t,_r.Backward)},children:S.jsx(gt,{id:"arrange.backward"})}),S.jsx(wn,{suffix:"]",onClick:()=>{n(!1),t&&ws(t,_r.Front)},children:S.jsx(gt,{id:"arrange.front"})}),S.jsx(wn,{suffix:"[",onClick:()=>{n(!1),t&&ws(t,_r.Back)},children:S.jsx(gt,{id:"arrange.back"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Ctrl+Shift+H":"H",onClick:()=>{n(!1),t&&(jn.toggleVisible(t,t.selectedElements.getItems()),t.render())},children:S.jsx(gt,{id:"showOrHide"})}),S.jsx(wn,{suffix:St()?"Ctrl+Shift+L":"L",onClick:()=>{n(!1),t&&(jn.toggleLock(t,t.selectedElements.getItems()),t.render())},children:S.jsx(gt,{id:"lockOrUnlock"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Shift+H":"H",onClick:()=>{n(!1),t&&(MT(t,t.selectedElements.getItems()),t.render())},children:S.jsx(gt,{id:"flip.horizontal"})}),S.jsx(wn,{suffix:St()?"Shift+V":"V",onClick:()=>{n(!1),t&&(PT(t,t.selectedElements.getItems()),t.render())},children:S.jsx(gt,{id:"flip.vertical"})}),S.jsx(Js,{}),S.jsx(wn,{suffix:St()?"Backspace":"",onClick:()=>{n(!1),t&&t.selectedElements.removeFromScene()},children:S.jsx(gt,{id:"delete"})})]});return S.jsxs("div",{onContextMenu:x=>x.preventDefault(),children:[e&&S.jsx("div",{className:"suika-context-menu-mask",onMouseDown:()=>{n(!1)}}),S.jsxs("div",{ref:g,className:"suika-context-menu",style:{display:e?void 0:"none",...y()},children:[m(),t&&!t.selectedElements.isEmpty()&&C()]})]})};function JM(t){return t.split("-")[1]}function LG(t){return t==="y"?"height":"width"}function Hw(t){return t.split("-")[0]}function e5(t){return["top","bottom"].includes(Hw(t))?"x":"y"}function lC(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=e5(e),l=LG(a),u=r[l]/2-i[l]/2,h=a==="x";let d;switch(Hw(e)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(JM(e)){case"start":d[a]-=u*(n&&h?-1:1);break;case"end":d[a]+=u*(n&&h?-1:1)}return d}const NG=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=lC(u,r,l),p=r,g={},y=0;for(let m=0;m<a.length;m++){const{name:C,fn:x}=a[m],{x:v,y:b,data:E,reset:A}=await x({x:h,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:t,floating:e}});h=v??h,d=b??d,g={...g,[C]:{...g[C],...E}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:h,y:d}=lC(u,p,l)),m=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:g}};function t5(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const BG=["top","right","bottom","left"];BG.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const FG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,h=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=Hw(a),p=JM(a),g=e5(a)==="x",y=["left","top"].includes(d)?-1:1,m=h&&g?-1:1,C=typeof s=="function"?s(o):s;let{mainAxis:x,crossAxis:v,alignmentAxis:b}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...C};return p&&typeof b=="number"&&(v=p==="end"?-1*b:b),g?{x:v*m,y:x*y}:{x:x*y,y:v*m}}(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function kr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Eo(t){return kr(t).getComputedStyle(t)}function n5(t){return t instanceof kr(t).Node}function Fs(t){return n5(t)?(t.nodeName||"").toLowerCase():""}let wd;function r5(){if(wd)return wd;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(wd=t.brands.map(e=>e.brand+"/"+e.version).join(" "),wd):navigator.userAgent}function io(t){return t instanceof kr(t).HTMLElement}function Qi(t){return t instanceof kr(t).Element}function cC(t){return typeof ShadowRoot>"u"?!1:t instanceof kr(t).ShadowRoot||t instanceof ShadowRoot}function Dg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function HG(t){return["table","td","th"].includes(Fs(t))}function y1(t){const e=/firefox/i.test(r5()),n=Eo(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function v1(){return/^((?!chrome|android).)*safari/i.test(r5())}function zw(t){return["html","body","#document"].includes(Fs(t))}const uC=Math.min,Cu=Math.max,hp=Math.round;function i5(t){const e=Eo(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=io(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=hp(n)!==o||hp(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function o5(t){return Qi(t)?t:t.contextElement}const s5={x:1,y:1};function Fl(t){const e=o5(t);if(!io(e))return s5;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:o}=i5(e);let s=(o?hp(n.width):n.width)/r,a=(o?hp(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Pa(t,e,n,r){var i,o;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=o5(t);let l=s5;e&&(r?Qi(r)&&(l=Fl(r)):l=Fl(t));const u=a?kr(a):window,h=v1()&&n;let d=(s.left+(h&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(s.top+(h&&((o=u.visualViewport)==null?void 0:o.offsetTop)||0))/l.y,g=s.width/l.x,y=s.height/l.y;if(a){const m=kr(a),C=r&&Qi(r)?kr(r):r;let x=m.frameElement;for(;x&&r&&C!==m;){const v=Fl(x),b=x.getBoundingClientRect(),E=getComputedStyle(x);b.x+=(x.clientLeft+parseFloat(E.paddingLeft))*v.x,b.y+=(x.clientTop+parseFloat(E.paddingTop))*v.y,d*=v.x,p*=v.y,g*=v.x,y*=v.y,d+=b.x,p+=b.y,x=kr(x).frameElement}}return t5({width:g,height:y,x:d,y:p})}function Ms(t){return((n5(t)?t.ownerDocument:t.document)||window.document).documentElement}function Lg(t){return Qi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function a5(t){return Pa(Ms(t)).left+Lg(t).scrollLeft}function lh(t){if(Fs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cC(t)&&t.host||Ms(t);return cC(e)?e.host:e}function l5(t){const e=lh(t);return zw(e)?e.ownerDocument.body:io(e)&&Dg(e)?e:l5(e)}function Eu(t,e){var n;e===void 0&&(e=[]);const r=l5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=kr(r);return i?e.concat(o,o.visualViewport||[],Dg(r)?r:[]):e.concat(r,Eu(r))}function hC(t,e,n){let r;if(e==="viewport")r=function(s,a){const l=kr(s),u=Ms(s),h=l.visualViewport;let d=u.clientWidth,p=u.clientHeight,g=0,y=0;if(h){d=h.width,p=h.height;const m=v1();(!m||m&&a==="fixed")&&(g=h.offsetLeft,y=h.offsetTop)}return{width:d,height:p,x:g,y}}(t,n);else if(e==="document")r=function(s){const a=Ms(s),l=Lg(s),u=s.ownerDocument.body,h=Cu(a.scrollWidth,a.clientWidth,u.scrollWidth,u.clientWidth),d=Cu(a.scrollHeight,a.clientHeight,u.scrollHeight,u.clientHeight);let p=-l.scrollLeft+a5(s);const g=-l.scrollTop;return Eo(u).direction==="rtl"&&(p+=Cu(a.clientWidth,u.clientWidth)-h),{width:h,height:d,x:p,y:g}}(Ms(t));else if(Qi(e))r=function(s,a){const l=Pa(s,!0,a==="fixed"),u=l.top+s.clientTop,h=l.left+s.clientLeft,d=io(s)?Fl(s):{x:1,y:1};return{width:s.clientWidth*d.x,height:s.clientHeight*d.y,x:h*d.x,y:u*d.y}}(e,n);else{const s={...e};if(v1()){var i,o;const a=kr(t);s.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,s.y-=((o=a.visualViewport)==null?void 0:o.offsetTop)||0}r=s}return t5(r)}function dC(t,e){return io(t)&&Eo(t).position!=="fixed"?e?e(t):t.offsetParent:null}function fC(t,e){const n=kr(t);if(!io(t))return n;let r=dC(t,e);for(;r&&HG(r)&&Eo(r).position==="static";)r=dC(r,e);return r&&(Fs(r)==="html"||Fs(r)==="body"&&Eo(r).position==="static"&&!y1(r))?n:r||function(i){let o=lh(i);for(;io(o)&&!zw(o);){if(y1(o))return o;o=lh(o)}return null}(t)||n}function zG(t,e,n){const r=io(e),i=Ms(e),o=Pa(t,!0,n==="fixed",e);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Fs(e)!=="body"||Dg(i))&&(s=Lg(e)),io(e)){const l=Pa(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=a5(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}const UG={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=n==="clippingAncestors"?function(u,h){const d=h.get(u);if(d)return d;let p=Eu(u).filter(C=>Qi(C)&&Fs(C)!=="body"),g=null;const y=Eo(u).position==="fixed";let m=y?lh(u):u;for(;Qi(m)&&!zw(m);){const C=Eo(m),x=y1(m);C.position==="fixed"&&(g=null),(y?x||g:x||C.position!=="static"||!g||!["absolute","fixed"].includes(g.position))?g=C:p=p.filter(v=>v!==m),m=lh(m)}return h.set(u,p),p}(e,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,h)=>{const d=hC(e,h,i);return u.top=Cu(d.top,u.top),u.right=uC(d.right,u.right),u.bottom=uC(d.bottom,u.bottom),u.left=Cu(d.left,u.left),u},hC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=io(n),o=Ms(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Fs(n)!=="body"||Dg(o))&&(s=Lg(n)),io(n))){const u=Pa(n);a=Fl(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}},isElement:Qi,getDimensions:function(t){return i5(t)},getOffsetParent:fC,getDocumentElement:Ms,getScale:Fl,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||fC,o=this.getDimensions;return{reference:zG(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Eo(t).direction==="rtl"};function GG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||o?[...Qi(t)?Eu(t):t.contextElement?Eu(t.contextElement):[],...Eu(e)]:[];u.forEach(g=>{l&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});let h,d=null;s&&(d=new ResizeObserver(()=>{n()}),Qi(t)&&!a&&d.observe(t),Qi(t)||!t.contextElement||a||d.observe(t.contextElement),d.observe(e));let p=a?Pa(t):null;return a&&function g(){const y=Pa(t);!p||y.x===p.x&&y.y===p.y&&y.width===p.width&&y.height===p.height||n(),p=y,h=requestAnimationFrame(g)}(),n(),()=>{var g;u.forEach(y=>{l&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),(g=d)==null||g.disconnect(),d=null,a&&cancelAnimationFrame(h)}}const VG=(t,e,n)=>{const r=new Map,i={platform:UG,...n},o={...i.platform,_c:r};return NG(t,e,{...i,platform:o})};var ef=typeof document<"u"?P.useLayoutEffect:P.useEffect;function dp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!dp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!dp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function pC(t){const e=P.useRef(t);return ef(()=>{e.current=t}),e}function WG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=t,[a,l]=P.useState({x:null,y:null,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,h]=P.useState(r);dp(u,r)||h(r);const d=P.useRef(null),p=P.useRef(null),g=P.useRef(a),y=pC(o),m=pC(i),[C,x]=P.useState(null),[v,b]=P.useState(null),E=P.useCallback(O=>{d.current!==O&&(d.current=O,x(O))},[]),A=P.useCallback(O=>{p.current!==O&&(p.current=O,b(O))},[]),$=P.useCallback(()=>{if(!d.current||!p.current)return;const O={placement:e,strategy:n,middleware:u};m.current&&(O.platform=m.current),VG(d.current,p.current,O).then(L=>{const F={...L,isPositioned:!0};M.current&&!dp(g.current,F)&&(g.current=F,qp.flushSync(()=>{l(F)}))})},[u,e,n,m]);ef(()=>{s===!1&&g.current.isPositioned&&(g.current.isPositioned=!1,l(O=>({...O,isPositioned:!1})))},[s]);const M=P.useRef(!1);ef(()=>(M.current=!0,()=>{M.current=!1}),[]),ef(()=>{if(C&&v){if(y.current)return y.current(C,v,$);$()}},[C,v,$,y]);const I=P.useMemo(()=>({reference:d,floating:p,setReference:E,setFloating:A}),[E,A]),N=P.useMemo(()=>({reference:C,floating:v}),[C,v]);return P.useMemo(()=>({...a,update:$,refs:I,elements:N,reference:E,floating:A}),[a,$,I,N,E,A])}var c5=typeof document<"u"?P.useLayoutEffect:P.useEffect;let lm=!1,XG=0;const gC=()=>"floating-ui-"+XG++;function KG(){const[t,e]=P.useState(()=>lm?gC():void 0);return c5(()=>{t==null&&e(gC())},[]),P.useEffect(()=>{lm||(lm=!0)},[]),t}const YG=G_.useId,ZG=YG||KG;function qG(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const QG=P.createContext(null),JG=()=>P.useContext(QG);function eV(t){return(t==null?void 0:t.ownerDocument)||document}function u5(t){return eV(t).defaultView||window}function xd(t){return t?t instanceof u5(t).Element:!1}function h5(t){return t?t instanceof u5(t).HTMLElement:!1}function mC(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}const tV="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function nV(t){return h5(t)&&t.matches(tV)}function yC(t){return h5(t.target)&&t.target.tagName==="BUTTON"}function vC(t){return nV(t)}const rV=function(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:h=!0}=e,d=P.useRef();return P.useMemo(()=>s?{reference:{onPointerDown(p){d.current=p.pointerType},onMouseDown(p){p.button===0&&(mC(d.current,!0)&&u||a!=="click"&&(n?l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")&&r(!1):(p.preventDefault(),r(!0)),i.current.openEvent=p.nativeEvent))},onClick(p){if(a==="mousedown"&&d.current){d.current=void 0;return}mC(d.current,!0)&&u||(n?l&&(!i.current.openEvent||i.current.openEvent.type==="click")&&r(!1):r(!0),i.current.openEvent=p.nativeEvent)},onKeyDown(p){d.current=void 0,h&&(yC(p)||(p.key===" "&&!vC(o)&&p.preventDefault(),p.key==="Enter"&&(n?l&&r(!1):r(!0))))},onKeyUp(p){h&&(yC(p)||vC(o)||p.key===" "&&(n?l&&r(!1):r(!0)))}}}:{},[s,i,a,u,h,o,l,n,r])},iV=G_.useInsertionEffect,oV=iV||(t=>t());function sV(t){const e=P.useRef(()=>{});return oV(()=>{e.current=t}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function aV(t){t===void 0&&(t={});const{open:e=!1,onOpenChange:n,nodeId:r}=t,i=WG(t),o=JG(),s=P.useRef(null),a=P.useRef({}),l=P.useState(()=>qG())[0],u=ZG(),[h,d]=P.useState(null),p=P.useCallback(v=>{const b=xd(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;i.refs.setReference(b)},[i.refs]),g=P.useCallback(v=>{(xd(v)||v===null)&&(s.current=v,d(v)),(xd(i.refs.reference.current)||i.refs.reference.current===null||v!==null&&!xd(v))&&i.refs.setReference(v)},[i.refs]),y=P.useMemo(()=>({...i.refs,setReference:g,setPositionReference:p,domReference:s}),[i.refs,g,p]),m=P.useMemo(()=>({...i.elements,domReference:h}),[i.elements,h]),C=sV(n),x=P.useMemo(()=>({...i,refs:y,elements:m,dataRef:a,nodeId:r,floatingId:u,events:l,open:e,onOpenChange:C}),[i,r,u,l,e,C,y,m]);return c5(()=>{const v=o==null?void 0:o.nodesRef.current.find(b=>b.id===r);v&&(v.context=x)}),P.useMemo(()=>({...i,context:x,refs:y,elements:m,reference:g,positionReference:p}),[i,y,m,x,g,p])}function cm(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var h,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return(h=r.get(a))==null?void 0:h.map(y=>y(...p)).find(y=>y!==void 0)}}}else i[a]=l}),i),{})}}const lV=function(t){t===void 0&&(t=[]);const e=t,n=P.useCallback(o=>cm(o,t,"reference"),e),r=P.useCallback(o=>cm(o,t,"floating"),e),i=P.useCallback(o=>cm(o,t,"item"),t.map(o=>o==null?void 0:o.item));return P.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},wC=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 12V17H12V12H17V11H12V6H11V11H6V12H11Z"})})),cV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M5 19L21 19"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 12 5)",strokeWidth:"3"}),S.jsx("path",{d:"M15.5 9L15.5 17",strokeWidth:"3"})]})),uV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M12 4L12 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"8",y1:"14.5",x2:"16",y2:"14.5",strokeWidth:"3"})]})),hV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[S.jsx("path",{d:"M4 4L4 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"6",y1:"14.5",x2:"14",y2:"14.5",strokeWidth:"3"})]})),dV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M20 4L20 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"10",y1:"14.5",x2:"18",y2:"14.5",strokeWidth:"3"})]})),fV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M3 5L19 5"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 10 7)",strokeWidth:"3"}),S.jsx("line",{x1:"13.5",y1:"7",x2:"13.5",y2:"15",strokeWidth:"3"})]})),pV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M4 12L20 12"}),S.jsx("line",{x1:"9.5",y1:"18",x2:"9.5",y2:"6",strokeWidth:"3"}),S.jsx("path",{d:"M14.5 16L14.5 8",strokeWidth:"3"})]})),gV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 10L12 15L17 10"})})),mV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 12L11 16L18 7"})})),yV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 7L17 17M7 17L17 7",stroke:"#333333"})})),d5=T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"3.08865",y:"7.49549",width:"1",height:"2.5",rx:"0.2",transform:"rotate(38.5717 3.08865 7.49549)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.781828 0.623494 0.623494 0.781828 12.6592 7.49549)",fill:"currentColor"}),S.jsx("rect",{x:"6.08005",y:"9.07446",width:"1",height:"2.5",rx:"0.2",transform:"rotate(21.1013 6.08005 9.07446)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.932945 0.360019 0.360019 0.932945 10 9.07446)",fill:"currentColor"}),S.jsx("path",{d:"M2 6.42055C2 6.42055 4 9.42055 8 9.42055C12 9.42055 14 6.42055 14 6.42055",stroke:"currentColor",strokeLinejoin:"round"})]})),vV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"5",y1:"5.5",x2:"15",y2:"5.5",stroke:"#333333"}),S.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"5",stroke:"#333333"}),S.jsx("line",{x1:"13.3947",y1:"5.30697",x2:"6.39468",y2:"14.307",stroke:"#333333"}),S.jsx("line",{x1:"7.35355",y1:"6.64645",x2:"12.3536",y2:"11.6464",stroke:"#333333"}),S.jsx("path",{d:"M11.5 18L15.5629 9.75718L19.5 18",stroke:"#333333",strokeLinejoin:"bevel"}),S.jsx("line",{x1:"13",y1:"14.2098",x2:"18",y2:"14.2098",stroke:"#333333"})]})),wV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"4",y1:"6.5",x2:"20",y2:"6.5"}),S.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16",strokeWidth:"4"}),S.jsx("line",{x1:"4",y1:"10.5",x2:"20",y2:"10.5",strokeWidth:"3"})]})),xV=T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M5.5 7.5V5.5C5.5 4.39543 6.39543 3.5 7.5 3.5C8.60457 3.5 9.5 4.39543 9.5 5.5V7.5",stroke:"currentColor"})]})),bV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8.0393 16.8461C7.11636 15.6636 5.60665 4.7907 5.60665 4.7907C5.60665 4.7907 15.7876 8.89536 16.7105 10.0778C17.6335 11.2602 15.9869 14.839 15.9869 14.839L18.2586 17.7494L15.1054 20.2106L12.8337 17.3002C12.8337 17.3002 8.96225 18.0285 8.0393 16.8461Z",stroke:"currentColor"}),S.jsx("path",{d:"M5.60666 4.7907L11.7596 12.6736",stroke:"currentColor"}),S.jsx("circle",{cx:"11.8572",cy:"12.7987",r:"1.25",transform:"rotate(-37.9736 11.8572 12.7987)",fill:"currentColor"})]})),SV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M17.6992 9.30076L8.7158 18.2842C8.66927 18.3307 8.61198 18.3651 8.54902 18.3842L5.3017 19.3687C4.99583 19.4615 4.71011 19.1757 4.80285 18.8699L5.78742 15.6226C5.80651 15.5596 5.84084 15.5023 5.88737 15.4558L14.8708 6.47233M17.6992 9.30076L19.8593 7.14071C20.0155 6.9845 20.0155 6.73123 19.8593 6.57502L17.5966 4.31228C17.4403 4.15607 17.1871 4.15607 17.0309 4.31228L14.8708 6.47233M17.6992 9.30076L14.8708 6.47233",stroke:"currentColor"})})),xC=T.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"})})),bC=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9.5 7.5L14.5 12.5L9.5 17.5"})}));const f5=T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8 5C4 5 2 8 2 8C2 8 4 11 8 11C12 11 14 8 14 8C14 8 12 5 8 5Z",stroke:"currentColor",strokeLinejoin:"round"}),S.jsx("circle",{cx:"8",cy:"8",r:"1.75",fill:"currentColor"})]})),CV=T.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10.8183 5.3029L8.1715 9.71417C8.09382 9.84364 7.90618 9.84364 7.8285 9.71417L5.18174 5.3029C5.10176 5.16959 5.19778 5 5.35324 5H10.6468C10.8022 5 10.8982 5.16959 10.8183 5.3029Z",fill:"currentColor"})})),EV=T.memo(()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",transform:"translate(0.25 0.25)  rotate(0 7.75 7.556366182551985)",d:"M5.00688 12.0551C4.91688 12.0551 4.84688 12.1051 4.84688 12.1651C4.84688 12.2451 4.91688 12.2951 5.01688 12.2851C5.11688 12.2851 5.18688 12.2351 5.18688 12.1651C5.18688 12.0951 5.10688 12.0451 5.00688 12.0551Z M4.34812 12.1793C4.42812 12.2093 4.51812 12.1793 4.53812 12.1193C4.55812 12.0593 4.49812 11.9893 4.40812 11.9593C4.32812 11.9393 4.23812 11.9693 4.20812 12.0293C4.18812 12.0893 4.25812 12.1593 4.34812 12.1793Z M5.44907 12.1237C5.45907 12.1937 5.53907 12.2337 5.63907 12.2137C5.72907 12.1837 5.78907 12.1237 5.77907 12.0637C5.76907 12.0037 5.68907 11.9637 5.58907 11.9737C5.49907 11.9937 5.43907 12.0537 5.44907 12.1237Z M7.65 0C3.32 0 0 3.29 0 7.63C0 11.09 2.18 14.06 5.3 15.1C5.7 15.17 5.84 14.93 5.84 14.72C5.84 14.53 5.83 13.46 5.83 12.8C5.83 12.8 3.64 13.27 3.18 11.87C3.18 11.87 2.83 10.96 2.31 10.73C2.31 10.73 1.6 10.24 2.36 10.25C2.36 10.25 3.14 10.31 3.57 11.05C4.25 12.26 5.4 11.91 5.85 11.71C5.92 11.21 6.12 10.86 6.35 10.65C4.6 10.46 2.84 10.21 2.84 7.2C2.84 6.34 3.08 5.91 3.58 5.36C3.49 5.16 3.23 4.32 3.66 3.24C4.31 3.03 5.81 4.08 5.81 4.08C6.44 3.91 7.11 3.82 7.78 3.82C8.44 3.82 9.11 3.91 9.74 4.08C9.74 4.08 11.24 3.03 11.89 3.24C12.32 4.32 12.06 5.16 11.98 5.36C12.48 5.91 12.78 6.34 12.78 7.2C12.78 10.22 10.94 10.46 9.19 10.65C9.48 10.9 9.73 11.37 9.73 12.1C9.73 13.16 9.72 14.46 9.72 14.72C9.72 14.92 9.86 15.17 10.26 15.09C13.38 14.06 15.5 11.09 15.5 7.63C15.5 3.29 11.98 0 7.65 0Z M3.06231 10.9369C3.11231 10.9869 3.18231 11.0169 3.22231 10.9669C3.26231 10.9369 3.25231 10.8669 3.20231 10.8069C3.15231 10.7569 3.08231 10.7369 3.04231 10.7769C2.99231 10.8069 3.00231 10.8769 3.06231 10.9369Z M2.77304 10.6435C2.82304 10.6735 2.88304 10.6735 2.90304 10.6235C2.93304 10.5835 2.89304 10.5335 2.83304 10.5035C2.77304 10.4835 2.72304 10.4935 2.70304 10.5235C2.68304 10.5635 2.71304 10.6135 2.77304 10.6435Z M3.75443 11.8362C3.82443 11.9062 3.91443 11.9162 3.95443 11.8662C3.99443 11.8262 3.97443 11.7262 3.91443 11.6662C3.84443 11.5962 3.75443 11.5862 3.71443 11.6362C3.66443 11.6762 3.68443 11.7762 3.75443 11.8362Z M3.35875 11.3601C3.40875 11.4301 3.48875 11.4701 3.52875 11.4301C3.57875 11.3901 3.57875 11.3101 3.52875 11.2401C3.48875 11.1701 3.40875 11.1401 3.35875 11.1801C3.30875 11.2101 3.30875 11.2901 3.35875 11.3601Z "})})),_V=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"12",cy:"12",r:"7.5"})})),kV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V7H16V4H17V7H20V8H17L17 16H20V17H17V20H16V17H8V20H7V17H4V16H7V8H4V7H7V4H8ZM16 16L16 8H8V16H16Z",fill:"currentColor"})})),$V=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M18.7717 7.39806H17.7548C17.5361 7.39806 17.3568 7.56657 17.3568 7.7767V11.3197H16.6395V6.01456C16.6395 5.55479 16.248 5.18239 15.7647 5.18239H14.8943C14.6712 5.18239 14.4876 5.35506 14.4876 5.56935V11.3197H13.7703V4.89528C13.7703 4.67684 13.5844 4.5 13.3547 4.5H12.4078C11.9726 4.5 11.6205 4.83495 11.6205 5.24896V11.3176H10.9032V6.4785C10.9032 6.23301 10.4364 6.01456 10.1784 6.01456L9.53862 6.03329C9.10343 6.03329 8.75352 6.36824 8.75352 6.78017V15.7698L5.939 13.8495C5.53005 13.5915 4.97676 13.7309 4.75589 14.1491C4.75589 14.1491 4.58968 14.4695 4.53064 14.5756C4.47378 14.6817 4.50221 14.7816 4.56563 14.8523C4.6203 14.9126 7.42171 18.0333 8.34895 19.0527C8.61794 19.3481 9.12092 19.5 9.55393 19.5H18.085C18.8679 19.5 19.384 18.8967 19.384 18.154L19.4999 11.3197V8.09709C19.5065 7.71013 19.1784 7.39806 18.7717 7.39806Z"})})),TV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 5H5V13.6849L8.46807 9.78333L17.1983 18H18V5ZM5 18V15.1901L8.53193 11.2167L15.7392 18H5ZM4 4V19H19V4H4ZM16 9.5C16 10.3284 15.3284 11 14.5 11C13.6716 11 13 10.3284 13 9.5C13 8.67157 13.6716 8 14.5 8C15.3284 8 16 8.67157 16 9.5ZM17 9.5C17 10.8807 15.8807 12 14.5 12C13.1193 12 12 10.8807 12 9.5C12 8.11929 13.1193 7 14.5 7C15.8807 7 17 8.11929 17 9.5Z"})})),AV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3915 5.35404L5.35308 19.354L4.64694 18.646L18.6853 4.64597L19.3915 5.35404Z"})})),MV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 16H6V15H17V16Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 8H6V7H17V8Z"})]})),PV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 5L19.7942 18.5H4.20577L12 5Z",stroke:"currentColor",strokeWidth:"1"})})),IV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("rect",{x:"4.5",y:"4.5",width:"15",height:"15"})})),SC=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M14.0855 13.0738L13.9614 13.1256L13.8801 13.2327L9.24626 19.3343L5.72813 4.87748L19.1707 10.9487L14.0855 13.0738Z",stroke:"currentColor"})})),OV=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 4L13.7961 9.52786H19.6085L14.9062 12.9443L16.7023 18.4721L12 15.0557L7.29772 18.4721L9.09383 12.9443L4.39155 9.52786H10.2039L12 4Z",stroke:"currentColor"})})),RV=T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"11",y:"5",width:"1",height:"14"}),S.jsx("rect",{x:"5",y:"5",width:"13",height:"1"}),S.jsx("rect",{x:"5",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"17",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"8",y:"18",width:"7",height:"1"})]})),jV=T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7.5",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M9.5 7.5V5.5C9.5 4.39543 10.3954 3.5 11.5 3.5C12.6046 3.5 13.5 4.39543 13.5 5.5V7",stroke:"currentColor"})]}));var DV=function(t){return function(e,n){var r=P.useRef(!1);t(function(){return function(){r.current=!1}},[]),t(function(){if(!r.current)r.current=!0;else return e()},n)}},LV=function(t){return typeof t=="function"};const NV=DV(P.useEffect);function CC(t,e){if(t===e)return!0;for(var n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0}function Uw(t){var e=P.useRef(t);return e.current=t,e}var p5=function(t){var e=Uw(t);P.useEffect(function(){return function(){e.current()}},[])};function BV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ys=BV,FV=typeof zh=="object"&&zh&&zh.Object===Object&&zh,g5=FV,HV=g5,zV=typeof self=="object"&&self&&self.Object===Object&&self,UV=HV||zV||Function("return this")(),ao=UV,GV=ao,VV=function(){return GV.Date.now()},WV=VV,XV=/\s/;function KV(t){for(var e=t.length;e--&&XV.test(t.charAt(e)););return e}var YV=KV,ZV=YV,qV=/^\s+/;function QV(t){return t&&t.slice(0,ZV(t)+1).replace(qV,"")}var JV=QV,eW=ao,tW=eW.Symbol,Oh=tW,EC=Oh,m5=Object.prototype,nW=m5.hasOwnProperty,rW=m5.toString,Xc=EC?EC.toStringTag:void 0;function iW(t){var e=nW.call(t,Xc),n=t[Xc];try{t[Xc]=void 0;var r=!0}catch{}var i=rW.call(t);return r&&(e?t[Xc]=n:delete t[Xc]),i}var oW=iW,sW=Object.prototype,aW=sW.toString;function lW(t){return aW.call(t)}var cW=lW,_C=Oh,uW=oW,hW=cW,dW="[object Null]",fW="[object Undefined]",kC=_C?_C.toStringTag:void 0;function pW(t){return t==null?t===void 0?fW:dW:kC&&kC in Object(t)?uW(t):hW(t)}var za=pW;function gW(t){return t!=null&&typeof t=="object"}var is=gW,mW=za,yW=is,vW="[object Symbol]";function wW(t){return typeof t=="symbol"||yW(t)&&mW(t)==vW}var Ng=wW,xW=JV,$C=Ys,bW=Ng,TC=NaN,SW=/^[-+]0x[0-9a-f]+$/i,CW=/^0b[01]+$/i,EW=/^0o[0-7]+$/i,_W=parseInt;function kW(t){if(typeof t=="number")return t;if(bW(t))return TC;if($C(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$C(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xW(t);var n=CW.test(t);return n||EW.test(t)?_W(t.slice(2),n?2:8):SW.test(t)?TC:+t}var $W=kW,TW=Ys,um=WV,AC=$W,AW="Expected a function",MW=Math.max,PW=Math.min;function IW(t,e,n){var r,i,o,s,a,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(AW);e=AC(e)||0,TW(n)&&(h=!!n.leading,d="maxWait"in n,o=d?MW(AC(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g($){var M=r,I=i;return r=i=void 0,u=$,s=t.apply(I,M),s}function y($){return u=$,a=setTimeout(x,e),h?g($):s}function m($){var M=$-l,I=$-u,N=e-M;return d?PW(N,o-I):N}function C($){var M=$-l,I=$-u;return l===void 0||M>=e||M<0||d&&I>=o}function x(){var $=um();if(C($))return v($);a=setTimeout(x,m($))}function v($){return a=void 0,p&&r?g($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?s:v(um())}function A(){var $=um(),M=C($);if(r=arguments,i=this,l=$,M){if(a===void 0)return y(l);if(d)return clearTimeout(a),a=setTimeout(x,e),g(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=b,A.flush=E,A}var OW=IW;const RW=Rp(OW);var jW=!!(typeof window<"u"&&window.document&&window.document.createElement),y5=function(t){P.useEffect(function(){t==null||t()},[])};function Bg(t,e){if(jW){if(!t)return e;var n;return LV(t)?n=t():"current"in t?n=t.current:n=t,n}}var DW=function(t){return t.every(function(e){var n=Bg(e);if(!n)return!1;if(n.getRootNode()instanceof ShadowRoot)return!0})},LW=function(t){return t?t.getRootNode():document},NW=function(t){if(!t||!document.getRootNode)return document;var e=Array.isArray(t)?t:[t];return DW(e)?LW(Bg(e[0])):document},BW=function(t){var e=function(n,r,i){var o=P.useRef(!1),s=P.useRef([]),a=P.useRef([]),l=P.useRef();t(function(){var u,h=Array.isArray(i)?i:[i],d=h.map(function(p){return Bg(p)});if(!o.current){o.current=!0,s.current=d,a.current=r,l.current=n();return}(d.length!==s.current.length||!CC(d,s.current)||!CC(r,a.current))&&((u=l.current)===null||u===void 0||u.call(l),s.current=d,a.current=r,l.current=n())}),p5(function(){var u;(u=l.current)===null||u===void 0||u.call(l),o.current=!1})};return e},FW=BW(P.useEffect);function v5(t,e,n){n===void 0&&(n="click");var r=Uw(t);FW(function(){var i=function(a){var l=Array.isArray(e)?e:[e];l.some(function(u){var h=Bg(u);return!h||h.contains(a.target)})||r.current(a)},o=NW(e),s=Array.isArray(n)?n:[n];return s.forEach(function(a){return o.addEventListener(a,i)}),function(){s.forEach(function(a){return o.removeEventListener(a,i)})}},Array.isArray(n)?n:[n],e)}function HW(t,e){var n,r=Uw(t),i=(n=e==null?void 0:e.wait)!==null&&n!==void 0?n:1e3,o=P.useMemo(function(){return RW(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.current.apply(r,Ui([],Y3(s),!1))},i,e)},[]);return p5(function(){o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}function zW(t,e,n){var r=Y3(P.useState({}),2),i=r[0],o=r[1],s=HW(function(){o({})},n).run;P.useEffect(function(){return s()},e),NV(t,[i])}function UW(){this.__data__=[],this.size=0}var GW=UW;function VW(t,e){return t===e||t!==t&&e!==e}var Gw=VW,WW=Gw;function XW(t,e){for(var n=t.length;n--;)if(WW(t[n][0],e))return n;return-1}var Fg=XW,KW=Fg,YW=Array.prototype,ZW=YW.splice;function qW(t){var e=this.__data__,n=KW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ZW.call(e,n,1),--this.size,!0}var QW=qW,JW=Fg;function eX(t){var e=this.__data__,n=JW(e,t);return n<0?void 0:e[n][1]}var tX=eX,nX=Fg;function rX(t){return nX(this.__data__,t)>-1}var iX=rX,oX=Fg;function sX(t,e){var n=this.__data__,r=oX(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var aX=sX,lX=GW,cX=QW,uX=tX,hX=iX,dX=aX;function kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kc.prototype.clear=lX;kc.prototype.delete=cX;kc.prototype.get=uX;kc.prototype.has=hX;kc.prototype.set=dX;var Hg=kc,fX=Hg;function pX(){this.__data__=new fX,this.size=0}var gX=pX;function mX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yX=mX;function vX(t){return this.__data__.get(t)}var wX=vX;function xX(t){return this.__data__.has(t)}var bX=xX,SX=za,CX=Ys,EX="[object AsyncFunction]",_X="[object Function]",kX="[object GeneratorFunction]",$X="[object Proxy]";function TX(t){if(!CX(t))return!1;var e=SX(t);return e==_X||e==kX||e==EX||e==$X}var w5=TX,AX=ao,MX=AX["__core-js_shared__"],PX=MX,hm=PX,MC=function(){var t=/[^.]+$/.exec(hm&&hm.keys&&hm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function IX(t){return!!MC&&MC in t}var OX=IX,RX=Function.prototype,jX=RX.toString;function DX(t){if(t!=null){try{return jX.call(t)}catch{}try{return t+""}catch{}}return""}var x5=DX,LX=w5,NX=OX,BX=Ys,FX=x5,HX=/[\\^$.*+?()[\]{}|]/g,zX=/^\[object .+?Constructor\]$/,UX=Function.prototype,GX=Object.prototype,VX=UX.toString,WX=GX.hasOwnProperty,XX=RegExp("^"+VX.call(WX).replace(HX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KX(t){if(!BX(t)||NX(t))return!1;var e=LX(t)?XX:zX;return e.test(FX(t))}var YX=KX;function ZX(t,e){return t==null?void 0:t[e]}var qX=ZX,QX=YX,JX=qX;function eK(t,e){var n=JX(t,e);return QX(n)?n:void 0}var Ua=eK,tK=Ua,nK=ao,rK=tK(nK,"Map"),Vw=rK,iK=Ua,oK=iK(Object,"create"),zg=oK,PC=zg;function sK(){this.__data__=PC?PC(null):{},this.size=0}var aK=sK;function lK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cK=lK,uK=zg,hK="__lodash_hash_undefined__",dK=Object.prototype,fK=dK.hasOwnProperty;function pK(t){var e=this.__data__;if(uK){var n=e[t];return n===hK?void 0:n}return fK.call(e,t)?e[t]:void 0}var gK=pK,mK=zg,yK=Object.prototype,vK=yK.hasOwnProperty;function wK(t){var e=this.__data__;return mK?e[t]!==void 0:vK.call(e,t)}var xK=wK,bK=zg,SK="__lodash_hash_undefined__";function CK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bK&&e===void 0?SK:e,this}var EK=CK,_K=aK,kK=cK,$K=gK,TK=xK,AK=EK;function $c(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$c.prototype.clear=_K;$c.prototype.delete=kK;$c.prototype.get=$K;$c.prototype.has=TK;$c.prototype.set=AK;var MK=$c,IC=MK,PK=Hg,IK=Vw;function OK(){this.size=0,this.__data__={hash:new IC,map:new(IK||PK),string:new IC}}var RK=OK;function jK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DK=jK,LK=DK;function NK(t,e){var n=t.__data__;return LK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ug=NK,BK=Ug;function FK(t){var e=BK(this,t).delete(t);return this.size-=e?1:0,e}var HK=FK,zK=Ug;function UK(t){return zK(this,t).get(t)}var GK=UK,VK=Ug;function WK(t){return VK(this,t).has(t)}var XK=WK,KK=Ug;function YK(t,e){var n=KK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ZK=YK,qK=RK,QK=HK,JK=GK,eY=XK,tY=ZK;function Tc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=qK;Tc.prototype.delete=QK;Tc.prototype.get=JK;Tc.prototype.has=eY;Tc.prototype.set=tY;var Ww=Tc,nY=Hg,rY=Vw,iY=Ww,oY=200;function sY(t,e){var n=this.__data__;if(n instanceof nY){var r=n.__data__;if(!rY||r.length<oY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new iY(r)}return n.set(t,e),this.size=n.size,this}var aY=sY,lY=Hg,cY=gX,uY=yX,hY=wX,dY=bX,fY=aY;function Ac(t){var e=this.__data__=new lY(t);this.size=e.size}Ac.prototype.clear=cY;Ac.prototype.delete=uY;Ac.prototype.get=hY;Ac.prototype.has=dY;Ac.prototype.set=fY;var Xw=Ac,pY="__lodash_hash_undefined__";function gY(t){return this.__data__.set(t,pY),this}var mY=gY;function yY(t){return this.__data__.has(t)}var vY=yY,wY=Ww,xY=mY,bY=vY;function fp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wY;++e<n;)this.add(t[e])}fp.prototype.add=fp.prototype.push=xY;fp.prototype.has=bY;var SY=fp;function CY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var EY=CY;function _Y(t,e){return t.has(e)}var kY=_Y,$Y=SY,TY=EY,AY=kY,MY=1,PY=2;function IY(t,e,n,r,i,o){var s=n&MY,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,g=n&PY?new $Y:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var y=t[d],m=e[d];if(r)var C=s?r(m,y,d,e,t,o):r(y,m,d,t,e,o);if(C!==void 0){if(C)continue;p=!1;break}if(g){if(!TY(e,function(x,v){if(!AY(g,v)&&(y===x||i(y,x,n,r,o)))return g.push(v)})){p=!1;break}}else if(!(y===m||i(y,m,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var b5=IY,OY=ao,RY=OY.Uint8Array,S5=RY;function jY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var DY=jY;function LY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var NY=LY,OC=Oh,RC=S5,BY=Gw,FY=b5,HY=DY,zY=NY,UY=1,GY=2,VY="[object Boolean]",WY="[object Date]",XY="[object Error]",KY="[object Map]",YY="[object Number]",ZY="[object RegExp]",qY="[object Set]",QY="[object String]",JY="[object Symbol]",eZ="[object ArrayBuffer]",tZ="[object DataView]",jC=OC?OC.prototype:void 0,dm=jC?jC.valueOf:void 0;function nZ(t,e,n,r,i,o,s){switch(n){case tZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eZ:return!(t.byteLength!=e.byteLength||!o(new RC(t),new RC(e)));case VY:case WY:case YY:return BY(+t,+e);case XY:return t.name==e.name&&t.message==e.message;case ZY:case QY:return t==e+"";case KY:var a=HY;case qY:var l=r&UY;if(a||(a=zY),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=GY,s.set(t,e);var h=FY(a(t),a(e),r,i,o,s);return s.delete(t),h;case JY:if(dm)return dm.call(t)==dm.call(e)}return!1}var rZ=nZ;function iZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var C5=iZ,oZ=Array.isArray,lo=oZ,sZ=C5,aZ=lo;function lZ(t,e,n){var r=e(t);return aZ(t)?r:sZ(r,n(t))}var E5=lZ;function cZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var uZ=cZ;function hZ(){return[]}var _5=hZ,dZ=uZ,fZ=_5,pZ=Object.prototype,gZ=pZ.propertyIsEnumerable,DC=Object.getOwnPropertySymbols,mZ=DC?function(t){return t==null?[]:(t=Object(t),dZ(DC(t),function(e){return gZ.call(t,e)}))}:fZ,Kw=mZ;function yZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vZ=yZ,wZ=za,xZ=is,bZ="[object Arguments]";function SZ(t){return xZ(t)&&wZ(t)==bZ}var CZ=SZ,LC=CZ,EZ=is,k5=Object.prototype,_Z=k5.hasOwnProperty,kZ=k5.propertyIsEnumerable,$Z=LC(function(){return arguments}())?LC:function(t){return EZ(t)&&_Z.call(t,"callee")&&!kZ.call(t,"callee")},$5=$Z,pp={exports:{}};function TZ(){return!1}var AZ=TZ;pp.exports;(function(t,e){var n=ao,r=AZ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(pp,pp.exports);var Yw=pp.exports,MZ=9007199254740991,PZ=/^(?:0|[1-9]\d*)$/;function IZ(t,e){var n=typeof t;return e=e??MZ,!!e&&(n=="number"||n!="symbol"&&PZ.test(t))&&t>-1&&t%1==0&&t<e}var T5=IZ,OZ=9007199254740991;function RZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OZ}var Zw=RZ,jZ=za,DZ=Zw,LZ=is,NZ="[object Arguments]",BZ="[object Array]",FZ="[object Boolean]",HZ="[object Date]",zZ="[object Error]",UZ="[object Function]",GZ="[object Map]",VZ="[object Number]",WZ="[object Object]",XZ="[object RegExp]",KZ="[object Set]",YZ="[object String]",ZZ="[object WeakMap]",qZ="[object ArrayBuffer]",QZ="[object DataView]",JZ="[object Float32Array]",eq="[object Float64Array]",tq="[object Int8Array]",nq="[object Int16Array]",rq="[object Int32Array]",iq="[object Uint8Array]",oq="[object Uint8ClampedArray]",sq="[object Uint16Array]",aq="[object Uint32Array]",Qe={};Qe[JZ]=Qe[eq]=Qe[tq]=Qe[nq]=Qe[rq]=Qe[iq]=Qe[oq]=Qe[sq]=Qe[aq]=!0;Qe[NZ]=Qe[BZ]=Qe[qZ]=Qe[FZ]=Qe[QZ]=Qe[HZ]=Qe[zZ]=Qe[UZ]=Qe[GZ]=Qe[VZ]=Qe[WZ]=Qe[XZ]=Qe[KZ]=Qe[YZ]=Qe[ZZ]=!1;function lq(t){return LZ(t)&&DZ(t.length)&&!!Qe[jZ(t)]}var cq=lq;function uq(t){return function(e){return t(e)}}var qw=uq,gp={exports:{}};gp.exports;(function(t,e){var n=g5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(gp,gp.exports);var Qw=gp.exports,hq=cq,dq=qw,NC=Qw,BC=NC&&NC.isTypedArray,fq=BC?dq(BC):hq,A5=fq,pq=vZ,gq=$5,mq=lo,yq=Yw,vq=T5,wq=A5,xq=Object.prototype,bq=xq.hasOwnProperty;function Sq(t,e){var n=mq(t),r=!n&&gq(t),i=!n&&!r&&yq(t),o=!n&&!r&&!i&&wq(t),s=n||r||i||o,a=s?pq(t.length,String):[],l=a.length;for(var u in t)(e||bq.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vq(u,l)))&&a.push(u);return a}var M5=Sq,Cq=Object.prototype;function Eq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Cq;return t===n}var Jw=Eq;function _q(t,e){return function(n){return t(e(n))}}var P5=_q,kq=P5,$q=kq(Object.keys,Object),Tq=$q,Aq=Jw,Mq=Tq,Pq=Object.prototype,Iq=Pq.hasOwnProperty;function Oq(t){if(!Aq(t))return Mq(t);var e=[];for(var n in Object(t))Iq.call(t,n)&&n!="constructor"&&e.push(n);return e}var Rq=Oq,jq=w5,Dq=Zw;function Lq(t){return t!=null&&Dq(t.length)&&!jq(t)}var Gg=Lq,Nq=M5,Bq=Rq,Fq=Gg;function Hq(t){return Fq(t)?Nq(t):Bq(t)}var Rh=Hq,zq=E5,Uq=Kw,Gq=Rh;function Vq(t){return zq(t,Gq,Uq)}var I5=Vq,FC=I5,Wq=1,Xq=Object.prototype,Kq=Xq.hasOwnProperty;function Yq(t,e,n,r,i,o){var s=n&Wq,a=FC(t),l=a.length,u=FC(e),h=u.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var p=a[d];if(!(s?p in e:Kq.call(e,p)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var m=!0;o.set(t,e),o.set(e,t);for(var C=s;++d<l;){p=a[d];var x=t[p],v=e[p];if(r)var b=s?r(v,x,p,e,t,o):r(x,v,p,t,e,o);if(!(b===void 0?x===v||i(x,v,n,r,o):b)){m=!1;break}C||(C=p=="constructor")}if(m&&!C){var E=t.constructor,A=e.constructor;E!=A&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof A=="function"&&A instanceof A)&&(m=!1)}return o.delete(t),o.delete(e),m}var Zq=Yq,qq=Ua,Qq=ao,Jq=qq(Qq,"DataView"),eQ=Jq,tQ=Ua,nQ=ao,rQ=tQ(nQ,"Promise"),iQ=rQ,oQ=Ua,sQ=ao,aQ=oQ(sQ,"Set"),lQ=aQ,cQ=Ua,uQ=ao,hQ=cQ(uQ,"WeakMap"),dQ=hQ,w1=eQ,x1=Vw,b1=iQ,S1=lQ,C1=dQ,O5=za,Mc=x5,HC="[object Map]",fQ="[object Object]",zC="[object Promise]",UC="[object Set]",GC="[object WeakMap]",VC="[object DataView]",pQ=Mc(w1),gQ=Mc(x1),mQ=Mc(b1),yQ=Mc(S1),vQ=Mc(C1),na=O5;(w1&&na(new w1(new ArrayBuffer(1)))!=VC||x1&&na(new x1)!=HC||b1&&na(b1.resolve())!=zC||S1&&na(new S1)!=UC||C1&&na(new C1)!=GC)&&(na=function(t){var e=O5(t),n=e==fQ?t.constructor:void 0,r=n?Mc(n):"";if(r)switch(r){case pQ:return VC;case gQ:return HC;case mQ:return zC;case yQ:return UC;case vQ:return GC}return e});var Vg=na,fm=Xw,wQ=b5,xQ=rZ,bQ=Zq,WC=Vg,XC=lo,KC=Yw,SQ=A5,CQ=1,YC="[object Arguments]",ZC="[object Array]",bd="[object Object]",EQ=Object.prototype,qC=EQ.hasOwnProperty;function _Q(t,e,n,r,i,o){var s=XC(t),a=XC(e),l=s?ZC:WC(t),u=a?ZC:WC(e);l=l==YC?bd:l,u=u==YC?bd:u;var h=l==bd,d=u==bd,p=l==u;if(p&&KC(t)){if(!KC(e))return!1;s=!0,h=!1}if(p&&!h)return o||(o=new fm),s||SQ(t)?wQ(t,e,n,r,i,o):xQ(t,e,l,n,r,i,o);if(!(n&CQ)){var g=h&&qC.call(t,"__wrapped__"),y=d&&qC.call(e,"__wrapped__");if(g||y){var m=g?t.value():t,C=y?e.value():e;return o||(o=new fm),i(m,C,n,r,o)}}return p?(o||(o=new fm),bQ(t,e,n,r,i,o)):!1}var kQ=_Q,$Q=kQ,QC=is;function R5(t,e,n,r,i){return t===e?!0:t==null||e==null||!QC(t)&&!QC(e)?t!==t&&e!==e:$Q(t,e,n,r,R5,i)}var j5=R5;const mp=new P$,TQ=()=>{const[t,e]=P.useState(!1),{x:n,y:r,strategy:i,refs:o,context:s}=aV({open:t,onOpenChange:e,placement:"bottom-end",middleware:[FG(12)],whileElementsMounted:GG}),a=rV(s),{getReferenceProps:l,getFloatingProps:u}=lV([a]);return v5(()=>{e(!1)},[o.domReference,o.floating],"mousedown"),S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:o.setReference,...l(),className:qo("locale-selector",{active:t}),children:S.jsx(vV,{})}),t&&S.jsxs("div",{ref:o.setFloating,className:"locale-selector-popover",style:{position:i,top:r??0,left:n??0,zIndex:60},...u(),children:[S.jsx("div",{className:"locale-selector-popover-item",onClick:()=>{const h="en";localStorage.setItem("suika-locale",h),mp.emit("localeChange",h),e(!1)},children:"English"}),S.jsx("div",{className:"locale-selector-popover-item",onClick:()=>{const h="zh";localStorage.setItem("suika-locale",h),mp.emit("localeChange",h),e(!1)},children:""})]})]})},Sd=({onClick:t,children:e,suffix:n,check:r})=>S.jsxs("div",{className:"suika-action-item-wrap",onClick:t,children:[S.jsxs("div",{className:"suika-action-item",children:[S.jsx("div",{className:"suika-icon-box",children:r&&S.jsx(mV,{})}),e]}),n&&S.jsx("span",{children:n})]}),AQ=({defaultValue:t,onChange:e})=>{const n=P.useRef(null),[r,i]=P.useState(t?`${String(Math.round(t*100))}%`:""),o=t&&Math.round(t*100);y5(()=>{n.current&&n.current.select()});const s=()=>{const a=parseInt(r);!Number.isNaN(a)&&o!==a&&e&&e(Lv(a/100))};return S.jsx("input",{ref:n,value:r,className:"suika-zoom-input",onInput:a=>{const l=a.target.value.replace(/\s/g,"");i(l)},onKeyDown:a=>{a.key==="Enter"&&!a.nativeEvent.isComposing&&s()},onBlur:()=>s()})},MQ=()=>{const t=P.useContext(yr),[e,n]=P.useState(1),[r,i]=P.useState({}),[o,s]=P.useState(!1),a=P.useRef(null);return v5(()=>{s(!1)},a),P.useEffect(()=>{if(t){n(t.zoomManager.getZoom()),i(t.setting.getAttrs());const l=u=>{n(u)};return t.zoomManager.on("zoomChange",l),t.setting.on("update",u=>{i(u)}),()=>{t.zoomManager.off("zoomChange",l)}}},[t]),S.jsxs("div",{ref:a,className:"zoom-actions",children:[S.jsxs("div",{className:qo(["value",{active:o}]),onClick:()=>{s(!o)},children:[Math.round(e*100),"%",S.jsx(gV,{})]}),o&&S.jsxs("div",{className:"popover",children:[S.jsx("div",{className:"zoom-input-box",children:S.jsx(AQ,{defaultValue:e,onChange:l=>{t==null||t.zoomManager.setZoomAndUpdateViewport(l),t==null||t.render()}})}),S.jsx("div",{className:"separator"}),[{id:"zoom.zoomIn",suffix:St()?"Ctrl++":"+",action:()=>{t==null||t.zoomManager.zoomIn({isLevelZoom:!0})}},{id:"zoom.zoomOut",suffix:St()?"Ctrl+-":"-",action:()=>{t==null||t.zoomManager.zoomOut({isLevelZoom:!0})}},{id:"zoom.zoomToFit",suffix:St()?"Shift+1":"1",action:()=>{t==null||t.zoomManager.zoomToFit()}},{id:"zoom.zoomToSelection",suffix:St()?"Shift+2":"2",action:()=>{t==null||t.zoomManager.zoomToSelection()}},{id:"zoom.zoomTo50",action:()=>{t==null||t.zoomManager.setZoomAndUpdateViewport(.5)}},{id:"zoom.zoomTo100",suffix:St()?"Ctrl+0":"0",action:()=>{t==null||t.zoomManager.setZoomAndUpdateViewport(1)}},{id:"zoom.zoomTo200",action:()=>{t==null||t.zoomManager.setZoomAndUpdateViewport(2)}}].map(l=>S.jsx(Sd,{suffix:l.suffix,onClick:()=>{l.action(),t==null||t.render(),s(!1)},children:S.jsx(gt,{id:l.id})},l.id)),S.jsx("div",{className:"separator"}),S.jsx(Sd,{check:r.enablePixelGrid,suffix:St()?"Ctrl+'":"'",onClick:()=>{if(t){const l=t.setting.get("enablePixelGrid");t.setting.set("enablePixelGrid",!l),t.render(),s(!1)}},children:S.jsx(gt,{id:"setting.grid.pixelGrid"})}),S.jsx(Sd,{check:r.snapToGrid,suffix:St()?"Ctrl+Shift+'":"'",onClick:()=>{if(t){const l=t.setting.get("snapToGrid");t.setting.set("snapToGrid",!l),t.render(),s(!1)}},children:S.jsx(gt,{id:"setting.grid.snapToPixelGrid"})}),S.jsx(Sd,{check:r.enableRuler,suffix:St()?"Shift+R":"R",onClick:()=>{if(t){const l=t.setting.get("enableRuler");t.setting.set("enableRuler",!l),t.render(),s(!1)}},children:S.jsx(gt,{id:"setting.rulers"})})]})]})},PQ=({value:t})=>S.jsxs("div",{className:"suika-header-title",children:[S.jsx(EV,{}),S.jsx("a",{href:"https://github.com/F-star/suika",target:"_blank",children:t})]}),IQ=({style:t,children:e,onClick:n})=>S.jsx("button",{className:"sk-btn",style:t,onClick:()=>n(),children:e});var OQ=Object.defineProperty,RQ=(t,e,n)=>e in t?OQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jQ=(t,e,n)=>(RQ(t,typeof e!="symbol"?e+"":e,n),n);const DQ=[];for(let t=0;t<256;++t)DQ.push((t+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);class LQ{constructor(){jQ(this,"eventMap",{})}on(e,n){return this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push(n),this}emit(e,...n){const r=this.eventMap[e];return!r||r.length===0?!1:(r.forEach(i=>{i(...n)}),!0)}off(e,n){return this.eventMap[e]&&(this.eventMap[e]=this.eventMap[e].filter(r=>r!==n)),this}}var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yp={exports:{}};yp.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",m="[object Promise]",C="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",E="[object WeakMap]",A="[object ArrayBuffer]",$="[object DataView]",M="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",X="[object Uint8ClampedArray]",G="[object Uint16Array]",Q="[object Uint32Array]",ae=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,D=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,j={};j[o]=j[s]=j[A]=j[$]=j[a]=j[l]=j[M]=j[I]=j[N]=j[O]=j[L]=j[p]=j[g]=j[y]=j[C]=j[x]=j[v]=j[b]=j[F]=j[X]=j[G]=j[Q]=!0,j[u]=j[h]=j[E]=!1;var ce=typeof at=="object"&&at&&at.Object===Object&&at,de=typeof self=="object"&&self&&self.Object===Object&&self,re=ce||de||Function("return this")(),Ve=e&&!e.nodeType&&e,K=Ve&&!0&&t&&!t.nodeType&&t,bt=K&&K.exports===Ve;function kn(c,f){return c.set(f[0],f[1]),c}function ke(c,f){return c.add(f),c}function Hn(c,f){for(var w=-1,_=c?c.length:0;++w<_&&f(c[w],w,c)!==!1;);return c}function zn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Jt(c,f,w,_){var B=-1,R=c?c.length:0;for(_&&R&&(w=c[++B]);++B<R;)w=f(w,c[B],B,c);return w}function en(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Un(c,f){return c==null?void 0:c[f]}function tn(c){var f=!1;if(c!=null&&typeof c.toString!="function")try{f=!!(c+"")}catch{}return f}function Gn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function nn(c,f){return function(w){return c(f(w))}}function Vn(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var qr=Array.prototype,Qr=Function.prototype,$t=Object.prototype,rn=re["__core-js_shared__"],Wn=function(){var c=/[^.]+$/.exec(rn&&rn.keys&&rn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Xn=Qr.toString,Re=$t.hasOwnProperty,Tt=$t.toString,Jr=RegExp("^"+Xn.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=bt?re.Buffer:void 0,At=re.Symbol,on=re.Uint8Array,Se=nn(Object.getPrototypeOf,Object),Kn=Object.create,Yn=$t.propertyIsEnumerable,ei=qr.splice,sn=Object.getOwnPropertySymbols,Mt=lt?lt.isBuffer:void 0,Zn=nn(Object.keys,Object),Pt=Te(re,"DataView"),ct=Te(re,"Map"),$e=Te(re,"Promise"),It=Te(re,"Set"),an=Te(re,"WeakMap"),ut=Te(Object,"create"),ln=me(Pt),ht=me(ct),cn=me($e),un=me(It),hn=me(an),We=At?At.prototype:void 0,qn=We?We.valueOf:void 0;function Ne(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ti(){this.__data__=ut?ut(null):{}}function ni(c){return this.has(c)&&delete this.__data__[c]}function ri(c){var f=this.__data__;if(ut){var w=f[c];return w===r?void 0:w}return Re.call(f,c)?f[c]:void 0}function Qn(c){var f=this.__data__;return ut?f[c]!==void 0:Re.call(f,c)}function dn(c,f){var w=this.__data__;return w[c]=ut&&f===void 0?r:f,this}Ne.prototype.clear=ti,Ne.prototype.delete=ni,Ne.prototype.get=ri,Ne.prototype.has=Qn,Ne.prototype.set=dn;function ue(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=[]}function oi(c){var f=this.__data__,w=Rt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ei.call(f,w,1),!0}function si(c){var f=this.__data__,w=Rt(f,c);return w<0?void 0:f[w][1]}function ai(c){return Rt(this.__data__,c)>-1}function li(c,f){var w=this.__data__,_=Rt(w,c);return _<0?w.push([c,f]):w[_][1]=f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c?c.length:0;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__={hash:new Ne,map:new(ct||ue),string:new Ne}}function ui(c){return ft(this,c).delete(c)}function hi(c){return ft(this,c).get(c)}function di(c){return ft(this,c).has(c)}function fi(c,f){return ft(this,c).set(c,f),this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){this.__data__=new ue(c)}function pi(){this.__data__=new ue}function gi(c){return this.__data__.delete(c)}function mi(c){return this.__data__.get(c)}function yi(c){return this.__data__.has(c)}function vi(c,f){var w=this.__data__;if(w instanceof ue){var _=w.__data__;if(!ct||_.length<n-1)return _.push([c,f]),this;w=this.__data__=new fe(_)}return w.set(c,f),this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c,f){var w=mn(c)||Dt(c)?en(c.length,String):[],_=w.length,B=!!_;for(var R in c)(f||Re.call(c,R))&&!(B&&(R=="length"||Ii(R,_)))&&w.push(R);return w}function Jn(c,f,w){var _=c[f];(!(Re.call(c,f)&&ir(_,w))||w===void 0&&!(f in c))&&(c[f]=w)}function Rt(c,f){for(var w=c.length;w--;)if(ir(c[w][0],f))return w;return-1}function je(c,f){return c&&gn(f,vn(f),c)}function fn(c,f,w,_,B,R,z){var U;if(_&&(U=R?_(c,B,R,z):_(c)),U!==void 0)return U;if(!Le(c))return c;var ie=mn(c);if(ie){if(U=Mi(c),!f)return $i(c,U)}else{var W=Fe(c),pe=W==h||W==d;if(or(c))return jt(c,f);if(W==y||W==o||pe&&!R){if(tn(c))return R?c:{};if(U=De(pe?{}:c),!f)return Ti(c,je(U,c))}else{if(!j[W])return R?c:{};U=Pi(c,W,fn,f)}}z||(z=new ve);var we=z.get(c);if(we)return we;if(z.set(c,U),!ie)var le=w?Ai(c):vn(c);return Hn(le||c,function(ge,he){le&&(he=ge,ge=c[he]),Jn(U,he,fn(ge,f,w,_,he,c,z))}),U}function wi(c){return Le(c)?Kn(c):{}}function xi(c,f,w){var _=f(c);return mn(c)?_:zn(_,w(c))}function bi(c){return Tt.call(c)}function Si(c){if(!Le(c)||Ri(c))return!1;var f=yn(c)||tn(c)?Jr:D;return f.test(me(c))}function Ci(c){if(!nr(c))return Zn(c);var f=[];for(var w in Object(c))Re.call(c,w)&&w!="constructor"&&f.push(w);return f}function jt(c,f){if(f)return c.slice();var w=new c.constructor(c.length);return c.copy(w),w}function pn(c){var f=new c.constructor(c.byteLength);return new on(f).set(new on(c)),f}function dt(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.byteLength)}function er(c,f,w){var _=f?w(Gn(c),!0):Gn(c);return Jt(_,kn,new c.constructor)}function tr(c){var f=new c.constructor(c.source,q.exec(c));return f.lastIndex=c.lastIndex,f}function Ei(c,f,w){var _=f?w(Vn(c),!0):Vn(c);return Jt(_,ke,new c.constructor)}function _i(c){return qn?Object(qn.call(c)):{}}function ki(c,f){var w=f?pn(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.length)}function $i(c,f){var w=-1,_=c.length;for(f||(f=Array(_));++w<_;)f[w]=c[w];return f}function gn(c,f,w,_){w||(w={});for(var B=-1,R=f.length;++B<R;){var z=f[B],U=_?_(w[z],c[z],z,w,c):void 0;Jn(w,z,U===void 0?c[z]:U)}return w}function Ti(c,f){return gn(c,Be(c),f)}function Ai(c){return xi(c,vn,Be)}function ft(c,f){var w=c.__data__;return Oi(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Te(c,f){var w=Un(c,f);return Si(w)?w:void 0}var Be=sn?nn(sn,Object):Di,Fe=bi;(Pt&&Fe(new Pt(new ArrayBuffer(1)))!=$||ct&&Fe(new ct)!=p||$e&&Fe($e.resolve())!=m||It&&Fe(new It)!=x||an&&Fe(new an)!=E)&&(Fe=function(c){var f=Tt.call(c),w=f==y?c.constructor:void 0,_=w?me(w):void 0;if(_)switch(_){case ln:return $;case ht:return p;case cn:return m;case un:return x;case hn:return E}return f});function Mi(c){var f=c.length,w=c.constructor(f);return f&&typeof c[0]=="string"&&Re.call(c,"index")&&(w.index=c.index,w.input=c.input),w}function De(c){return typeof c.constructor=="function"&&!nr(c)?wi(Se(c)):{}}function Pi(c,f,w,_){var B=c.constructor;switch(f){case A:return pn(c);case a:case l:return new B(+c);case $:return dt(c,_);case M:case I:case N:case O:case L:case F:case X:case G:case Q:return ki(c,_);case p:return er(c,_,w);case g:case v:return new B(c);case C:return tr(c);case x:return Ei(c,_,w);case b:return _i(c)}}function Ii(c,f){return f=f??i,!!f&&(typeof c=="number"||Y.test(c))&&c>-1&&c%1==0&&c<f}function Oi(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Ri(c){return!!Wn&&Wn in c}function nr(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||$t;return c===w}function me(c){if(c!=null){try{return Xn.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c){return fn(c,!0,!0)}function ir(c,f){return c===f||c!==c&&f!==f}function Dt(c){return ji(c)&&Re.call(c,"callee")&&(!Yn.call(c,"callee")||Tt.call(c)==o)}var mn=Array.isArray;function Lt(c){return c!=null&&sr(c.length)&&!yn(c)}function ji(c){return ar(c)&&Lt(c)}var or=Mt||Li;function yn(c){var f=Le(c)?Tt.call(c):"";return f==h||f==d}function sr(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}function Le(c){var f=typeof c;return!!c&&(f=="object"||f=="function")}function ar(c){return!!c&&typeof c=="object"}function vn(c){return Lt(c)?Ot(c):Ci(c)}function Di(){return[]}function Li(){return!1}t.exports=rr})(yp,yp.exports);yp.exports;var NQ=typeof at=="object"&&at&&at.Object===Object&&at,BQ=typeof self=="object"&&self&&self.Object===Object&&self;NQ||BQ||Function("return this")();var vp={exports:{}};vp.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",m="[object Map]",C="[object Number]",x="[object Null]",v="[object Object]",b="[object Promise]",E="[object Proxy]",A="[object RegExp]",$="[object Set]",M="[object String]",I="[object Symbol]",N="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",F="[object DataView]",X="[object Float32Array]",G="[object Float64Array]",Q="[object Int8Array]",ae="[object Int16Array]",q="[object Int32Array]",D="[object Uint8Array]",Y="[object Uint8ClampedArray]",j="[object Uint16Array]",ce="[object Uint32Array]",de=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,Ve=/^(?:0|[1-9]\d*)$/,K={};K[X]=K[G]=K[Q]=K[ae]=K[q]=K[D]=K[Y]=K[j]=K[ce]=!0,K[a]=K[l]=K[L]=K[h]=K[F]=K[d]=K[p]=K[g]=K[m]=K[C]=K[v]=K[A]=K[$]=K[M]=K[O]=!1;var bt=typeof at=="object"&&at&&at.Object===Object&&at,kn=typeof self=="object"&&self&&self.Object===Object&&self,ke=bt||kn||Function("return this")(),Hn=e&&!e.nodeType&&e,zn=Hn&&!0&&t&&!t.nodeType&&t,Jt=zn&&zn.exports===Hn,en=Jt&&bt.process,Un=function(){try{return en&&en.binding&&en.binding("util")}catch{}}(),tn=Un&&Un.isTypedArray;function Gn(c,f){for(var w=-1,_=c==null?0:c.length,B=0,R=[];++w<_;){var z=c[w];f(z,w,c)&&(R[B++]=z)}return R}function nn(c,f){for(var w=-1,_=f.length,B=c.length;++w<_;)c[B+w]=f[w];return c}function Vn(c,f){for(var w=-1,_=c==null?0:c.length;++w<_;)if(f(c[w],w,c))return!0;return!1}function qr(c,f){for(var w=-1,_=Array(c);++w<c;)_[w]=f(w);return _}function Qr(c){return function(f){return c(f)}}function $t(c,f){return c.has(f)}function rn(c,f){return c==null?void 0:c[f]}function Wn(c){var f=-1,w=Array(c.size);return c.forEach(function(_,B){w[++f]=[B,_]}),w}function Xn(c,f){return function(w){return c(f(w))}}function Re(c){var f=-1,w=Array(c.size);return c.forEach(function(_){w[++f]=_}),w}var Tt=Array.prototype,Jr=Function.prototype,lt=Object.prototype,At=ke["__core-js_shared__"],on=Jr.toString,Se=lt.hasOwnProperty,Kn=function(){var c=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Yn=lt.toString,ei=RegExp("^"+on.call(Se).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=Jt?ke.Buffer:void 0,Mt=ke.Symbol,Zn=ke.Uint8Array,Pt=lt.propertyIsEnumerable,ct=Tt.splice,$e=Mt?Mt.toStringTag:void 0,It=Object.getOwnPropertySymbols,an=sn?sn.isBuffer:void 0,ut=Xn(Object.keys,Object),ln=Be(ke,"DataView"),ht=Be(ke,"Map"),cn=Be(ke,"Promise"),un=Be(ke,"Set"),hn=Be(ke,"WeakMap"),We=Be(Object,"create"),qn=me(ln),Ne=me(ht),ti=me(cn),ni=me(un),ri=me(hn),Qn=Mt?Mt.prototype:void 0,dn=Qn?Qn.valueOf:void 0;function ue(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ii(){this.__data__=We?We(null):{},this.size=0}function oi(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function si(c){var f=this.__data__;if(We){var w=f[c];return w===r?void 0:w}return Se.call(f,c)?f[c]:void 0}function ai(c){var f=this.__data__;return We?f[c]!==void 0:Se.call(f,c)}function li(c,f){var w=this.__data__;return this.size+=this.has(c)?0:1,w[c]=We&&f===void 0?r:f,this}ue.prototype.clear=ii,ue.prototype.delete=oi,ue.prototype.get=si,ue.prototype.has=ai,ue.prototype.set=li;function fe(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function ci(){this.__data__=[],this.size=0}function ui(c){var f=this.__data__,w=jt(f,c);if(w<0)return!1;var _=f.length-1;return w==_?f.pop():ct.call(f,w,1),--this.size,!0}function hi(c){var f=this.__data__,w=jt(f,c);return w<0?void 0:f[w][1]}function di(c){return jt(this.__data__,c)>-1}function fi(c,f){var w=this.__data__,_=jt(w,c);return _<0?(++this.size,w.push([c,f])):w[_][1]=f,this}fe.prototype.clear=ci,fe.prototype.delete=ui,fe.prototype.get=hi,fe.prototype.has=di,fe.prototype.set=fi;function ve(c){var f=-1,w=c==null?0:c.length;for(this.clear();++f<w;){var _=c[f];this.set(_[0],_[1])}}function pi(){this.size=0,this.__data__={hash:new ue,map:new(ht||fe),string:new ue}}function gi(c){var f=Te(this,c).delete(c);return this.size-=f?1:0,f}function mi(c){return Te(this,c).get(c)}function yi(c){return Te(this,c).has(c)}function vi(c,f){var w=Te(this,c),_=w.size;return w.set(c,f),this.size+=w.size==_?0:1,this}ve.prototype.clear=pi,ve.prototype.delete=gi,ve.prototype.get=mi,ve.prototype.has=yi,ve.prototype.set=vi;function Ot(c){var f=-1,w=c==null?0:c.length;for(this.__data__=new ve;++f<w;)this.add(c[f])}function Jn(c){return this.__data__.set(c,r),this}function Rt(c){return this.__data__.has(c)}Ot.prototype.add=Ot.prototype.push=Jn,Ot.prototype.has=Rt;function je(c){var f=this.__data__=new fe(c);this.size=f.size}function fn(){this.__data__=new fe,this.size=0}function wi(c){var f=this.__data__,w=f.delete(c);return this.size=f.size,w}function xi(c){return this.__data__.get(c)}function bi(c){return this.__data__.has(c)}function Si(c,f){var w=this.__data__;if(w instanceof fe){var _=w.__data__;if(!ht||_.length<n-1)return _.push([c,f]),this.size=++w.size,this;w=this.__data__=new ve(_)}return w.set(c,f),this.size=w.size,this}je.prototype.clear=fn,je.prototype.delete=wi,je.prototype.get=xi,je.prototype.has=bi,je.prototype.set=Si;function Ci(c,f){var w=Dt(c),_=!w&&ir(c),B=!w&&!_&&Lt(c),R=!w&&!_&&!B&&ar(c),z=w||_||B||R,U=z?qr(c.length,String):[],ie=U.length;for(var W in c)(f||Se.call(c,W))&&!(z&&(W=="length"||B&&(W=="offset"||W=="parent")||R&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Pi(W,ie)))&&U.push(W);return U}function jt(c,f){for(var w=c.length;w--;)if(rr(c[w][0],f))return w;return-1}function pn(c,f,w){var _=f(c);return Dt(c)?_:nn(_,w(c))}function dt(c){return c==null?c===void 0?N:x:$e&&$e in Object(c)?Fe(c):nr(c)}function er(c){return Le(c)&&dt(c)==a}function tr(c,f,w,_,B){return c===f?!0:c==null||f==null||!Le(c)&&!Le(f)?c!==c&&f!==f:Ei(c,f,w,_,tr,B)}function Ei(c,f,w,_,B,R){var z=Dt(c),U=Dt(f),ie=z?l:De(c),W=U?l:De(f);ie=ie==a?v:ie,W=W==a?v:W;var pe=ie==v,we=W==v,le=ie==W;if(le&&Lt(c)){if(!Lt(f))return!1;z=!0,pe=!1}if(le&&!pe)return R||(R=new je),z||ar(c)?gn(c,f,w,_,B,R):Ti(c,f,ie,w,_,B,R);if(!(w&i)){var ge=pe&&Se.call(c,"__wrapped__"),he=we&&Se.call(f,"__wrapped__");if(ge||he){var Xe=ge?c.value():c,He=he?f.value():f;return R||(R=new je),B(Xe,He,w,_,R)}}return le?(R||(R=new je),Ai(c,f,w,_,B,R)):!1}function _i(c){if(!sr(c)||Oi(c))return!1;var f=or(c)?ei:re;return f.test(me(c))}function ki(c){return Le(c)&&yn(c.length)&&!!K[dt(c)]}function $i(c){if(!Ri(c))return ut(c);var f=[];for(var w in Object(c))Se.call(c,w)&&w!="constructor"&&f.push(w);return f}function gn(c,f,w,_,B,R){var z=w&i,U=c.length,ie=f.length;if(U!=ie&&!(z&&ie>U))return!1;var W=R.get(c);if(W&&R.get(f))return W==f;var pe=-1,we=!0,le=w&o?new Ot:void 0;for(R.set(c,f),R.set(f,c);++pe<U;){var ge=c[pe],he=f[pe];if(_)var Xe=z?_(he,ge,pe,f,c,R):_(ge,he,pe,c,f,R);if(Xe!==void 0){if(Xe)continue;we=!1;break}if(le){if(!Vn(f,function(He,pt){if(!$t(le,pt)&&(ge===He||B(ge,He,w,_,R)))return le.push(pt)})){we=!1;break}}else if(!(ge===he||B(ge,he,w,_,R))){we=!1;break}}return R.delete(c),R.delete(f),we}function Ti(c,f,w,_,B,R,z){switch(w){case F:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case L:return!(c.byteLength!=f.byteLength||!R(new Zn(c),new Zn(f)));case h:case d:case C:return rr(+c,+f);case p:return c.name==f.name&&c.message==f.message;case A:case M:return c==f+"";case m:var U=Wn;case $:var ie=_&i;if(U||(U=Re),c.size!=f.size&&!ie)return!1;var W=z.get(c);if(W)return W==f;_|=o,z.set(c,f);var pe=gn(U(c),U(f),_,B,R,z);return z.delete(c),pe;case I:if(dn)return dn.call(c)==dn.call(f)}return!1}function Ai(c,f,w,_,B,R){var z=w&i,U=ft(c),ie=U.length,W=ft(f),pe=W.length;if(ie!=pe&&!z)return!1;for(var we=ie;we--;){var le=U[we];if(!(z?le in f:Se.call(f,le)))return!1}var ge=R.get(c);if(ge&&R.get(f))return ge==f;var he=!0;R.set(c,f),R.set(f,c);for(var Xe=z;++we<ie;){le=U[we];var He=c[le],pt=f[le];if(_)var as=z?_(pt,He,le,f,c,R):_(He,pt,le,c,f,R);if(!(as===void 0?He===pt||B(He,pt,w,_,R):as)){he=!1;break}Xe||(Xe=le=="constructor")}if(he&&!Xe){var lr=c.constructor,cr=f.constructor;lr!=cr&&"constructor"in c&&"constructor"in f&&!(typeof lr=="function"&&lr instanceof lr&&typeof cr=="function"&&cr instanceof cr)&&(he=!1)}return R.delete(c),R.delete(f),he}function ft(c){return pn(c,vn,Mi)}function Te(c,f){var w=c.__data__;return Ii(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Be(c,f){var w=rn(c,f);return _i(w)?w:void 0}function Fe(c){var f=Se.call(c,$e),w=c[$e];try{c[$e]=void 0;var _=!0}catch{}var B=Yn.call(c);return _&&(f?c[$e]=w:delete c[$e]),B}var Mi=It?function(c){return c==null?[]:(c=Object(c),Gn(It(c),function(f){return Pt.call(c,f)}))}:Di,De=dt;(ln&&De(new ln(new ArrayBuffer(1)))!=F||ht&&De(new ht)!=m||cn&&De(cn.resolve())!=b||un&&De(new un)!=$||hn&&De(new hn)!=O)&&(De=function(c){var f=dt(c),w=f==v?c.constructor:void 0,_=w?me(w):"";if(_)switch(_){case qn:return F;case Ne:return m;case ti:return b;case ni:return $;case ri:return O}return f});function Pi(c,f){return f=f??s,!!f&&(typeof c=="number"||Ve.test(c))&&c>-1&&c%1==0&&c<f}function Ii(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Oi(c){return!!Kn&&Kn in c}function Ri(c){var f=c&&c.constructor,w=typeof f=="function"&&f.prototype||lt;return c===w}function nr(c){return Yn.call(c)}function me(c){if(c!=null){try{return on.call(c)}catch{}try{return c+""}catch{}}return""}function rr(c,f){return c===f||c!==c&&f!==f}var ir=er(function(){return arguments}())?er:function(c){return Le(c)&&Se.call(c,"callee")&&!Pt.call(c,"callee")},Dt=Array.isArray;function mn(c){return c!=null&&yn(c.length)&&!or(c)}var Lt=an||Li;function ji(c,f){return tr(c,f)}function or(c){if(!sr(c))return!1;var f=dt(c);return f==g||f==y||f==u||f==E}function yn(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function sr(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function Le(c){return c!=null&&typeof c=="object"}var ar=tn?Qr(tn):ki;function vn(c){return mn(c)?Ci(c):$i(c)}function Di(){return[]}function Li(){return!1}t.exports=ji})(vp,vp.exports);vp.exports;var FQ=200,ex="__lodash_hash_undefined__",HQ=1/0,D5=9007199254740991,zQ="[object Arguments]",UQ="[object Function]",GQ="[object GeneratorFunction]",VQ="[object Symbol]",WQ=/[\\^$.*+?()[\]{}|]/g,XQ=/^\[object .+?Constructor\]$/,KQ=/^(?:0|[1-9]\d*)$/,YQ=typeof at=="object"&&at&&at.Object===Object&&at,ZQ=typeof self=="object"&&self&&self.Object===Object&&self,tx=YQ||ZQ||Function("return this")();function qQ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function QQ(t,e){var n=t?t.length:0;return!!n&&tJ(t,e,0)>-1}function JQ(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function L5(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function nx(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function eJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function tJ(t,e,n){if(e!==e)return eJ(t,nJ,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function nJ(t){return t!==t}function rJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function iJ(t){return function(e){return t(e)}}function oJ(t,e){return t.has(e)}function sJ(t,e){return t==null?void 0:t[e]}function aJ(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function N5(t,e){return function(n){return t(e(n))}}var lJ=Array.prototype,cJ=Function.prototype,Wg=Object.prototype,pm=tx["__core-js_shared__"],JC=function(){var t=/[^.]+$/.exec(pm&&pm.keys&&pm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),B5=cJ.toString,Pc=Wg.hasOwnProperty,rx=Wg.toString,uJ=RegExp("^"+B5.call(Pc).replace(WQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eE=tx.Symbol,hJ=N5(Object.getPrototypeOf,Object),dJ=Wg.propertyIsEnumerable,fJ=lJ.splice,tE=eE?eE.isConcatSpreadable:void 0,E1=Object.getOwnPropertySymbols,nE=Math.max,pJ=H5(tx,"Map"),ch=H5(Object,"create");function Ia(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gJ(){this.__data__=ch?ch(null):{}}function mJ(t){return this.has(t)&&delete this.__data__[t]}function yJ(t){var e=this.__data__;if(ch){var n=e[t];return n===ex?void 0:n}return Pc.call(e,t)?e[t]:void 0}function vJ(t){var e=this.__data__;return ch?e[t]!==void 0:Pc.call(e,t)}function wJ(t,e){var n=this.__data__;return n[t]=ch&&e===void 0?ex:e,this}Ia.prototype.clear=gJ;Ia.prototype.delete=mJ;Ia.prototype.get=yJ;Ia.prototype.has=vJ;Ia.prototype.set=wJ;function Ic(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xJ(){this.__data__=[]}function bJ(t){var e=this.__data__,n=Xg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fJ.call(e,n,1),!0}function SJ(t){var e=this.__data__,n=Xg(e,t);return n<0?void 0:e[n][1]}function CJ(t){return Xg(this.__data__,t)>-1}function EJ(t,e){var n=this.__data__,r=Xg(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Ic.prototype.clear=xJ;Ic.prototype.delete=bJ;Ic.prototype.get=SJ;Ic.prototype.has=CJ;Ic.prototype.set=EJ;function Oc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _J(){this.__data__={hash:new Ia,map:new(pJ||Ic),string:new Ia}}function kJ(t){return Kg(this,t).delete(t)}function $J(t){return Kg(this,t).get(t)}function TJ(t){return Kg(this,t).has(t)}function AJ(t,e){return Kg(this,t).set(t,e),this}Oc.prototype.clear=_J;Oc.prototype.delete=kJ;Oc.prototype.get=$J;Oc.prototype.has=TJ;Oc.prototype.set=AJ;function wp(t){var e=-1,n=t?t.length:0;for(this.__data__=new Oc;++e<n;)this.add(t[e])}function MJ(t){return this.__data__.set(t,ex),this}function PJ(t){return this.__data__.has(t)}wp.prototype.add=wp.prototype.push=MJ;wp.prototype.has=PJ;function IJ(t,e){var n=ix(t)||z5(t)?rJ(t.length,String):[],r=n.length,i=!!r;for(var o in t)(e||Pc.call(t,o))&&!(i&&(o=="length"||GJ(o,r)))&&n.push(o);return n}function Xg(t,e){for(var n=t.length;n--;)if(qJ(t[n][0],e))return n;return-1}function OJ(t,e,n,r){var i=-1,o=QQ,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=L5(e,iJ(n))),r?(o=JQ,s=!1):e.length>=FQ&&(o=oJ,s=!1,e=new wp(e));e:for(;++i<a;){var h=t[i],d=n?n(h):h;if(h=r||h!==0?h:0,s&&d===d){for(var p=u;p--;)if(e[p]===d)continue e;l.push(h)}else o(e,d,r)||l.push(h)}return l}function F5(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=UJ),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?F5(a,e-1,n,r,i):nx(i,a):r||(i[i.length]=a)}return i}function RJ(t,e,n){var r=e(t);return ix(t)?r:nx(r,n(t))}function jJ(t){if(!ox(t)||WJ(t))return!1;var e=G5(t)||aJ(t)?uJ:XQ;return e.test(ZJ(t))}function DJ(t){if(!ox(t))return KJ(t);var e=XJ(t),n=[];for(var r in t)r=="constructor"&&(e||!Pc.call(t,r))||n.push(r);return n}function LJ(t,e){return t=Object(t),NJ(t,e,function(n,r){return r in t})}function NJ(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function BJ(t,e){return e=nE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=nE(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,qQ(t,this,s)}}function FJ(t){return RJ(t,tee,zJ)}function Kg(t,e){var n=t.__data__;return VJ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function H5(t,e){var n=sJ(t,e);return jJ(n)?n:void 0}var HJ=E1?N5(E1,Object):W5,zJ=E1?function(t){for(var e=[];t;)nx(e,HJ(t)),t=hJ(t);return e}:W5;function UJ(t){return ix(t)||z5(t)||!!(tE&&t&&t[tE])}function GJ(t,e){return e=e??D5,!!e&&(typeof t=="number"||KQ.test(t))&&t>-1&&t%1==0&&t<e}function VJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function WJ(t){return!!JC&&JC in t}function XJ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Wg;return t===n}function KJ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function YJ(t){if(typeof t=="string"||eee(t))return t;var e=t+"";return e=="0"&&1/t==-HQ?"-0":e}function ZJ(t){if(t!=null){try{return B5.call(t)}catch{}try{return t+""}catch{}}return""}function qJ(t,e){return t===e||t!==t&&e!==e}function z5(t){return QJ(t)&&Pc.call(t,"callee")&&(!dJ.call(t,"callee")||rx.call(t)==zQ)}var ix=Array.isArray;function U5(t){return t!=null&&JJ(t.length)&&!G5(t)}function QJ(t){return V5(t)&&U5(t)}function G5(t){var e=ox(t)?rx.call(t):"";return e==UQ||e==GQ}function JJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=D5}function ox(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function V5(t){return!!t&&typeof t=="object"}function eee(t){return typeof t=="symbol"||V5(t)&&rx.call(t)==VQ}function tee(t){return U5(t)?IJ(t,!0):DJ(t)}BJ(function(t,e){return t==null?{}:(e=L5(F5(e,1),YJ),LJ(t,OJ(FJ(t),e)))});function W5(){return[]}var nee=1/0,ree=9007199254740991,iee="[object Arguments]",oee="[object Function]",see="[object GeneratorFunction]",aee="[object Symbol]",lee=typeof at=="object"&&at&&at.Object===Object&&at,cee=typeof self=="object"&&self&&self.Object===Object&&self,uee=lee||cee||Function("return this")();function hee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function dee(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function fee(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sx=Object.prototype,pee=sx.hasOwnProperty,ax=sx.toString,rE=uee.Symbol,gee=sx.propertyIsEnumerable,iE=rE?rE.isConcatSpreadable:void 0,oE=Math.max;function X5(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=wee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?X5(a,e-1,n,r,i):fee(i,a):r||(i[i.length]=a)}return i}function mee(t,e){return t=Object(t),yee(t,e,function(n,r){return r in t})}function yee(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function vee(t,e){return e=oE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=oE(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,hee(t,this,s)}}function wee(t){return See(t)||bee(t)||!!(iE&&t&&t[iE])}function xee(t){if(typeof t=="string"||Tee(t))return t;var e=t+"";return e=="0"&&1/t==-nee?"-0":e}function bee(t){return Eee(t)&&pee.call(t,"callee")&&(!gee.call(t,"callee")||ax.call(t)==iee)}var See=Array.isArray;function Cee(t){return t!=null&&kee(t.length)&&!_ee(t)}function Eee(t){return K5(t)&&Cee(t)}function _ee(t){var e=$ee(t)?ax.call(t):"";return e==oee||e==see}function kee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ree}function $ee(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function K5(t){return!!t&&typeof t=="object"}function Tee(t){return typeof t=="symbol"||K5(t)&&ax.call(t)==aee}vee(function(t,e){return t==null?{}:mee(t,dee(X5(e,1),xee))});var Aee=typeof at=="object"&&at&&at.Object===Object&&at,Mee=typeof self=="object"&&self&&self.Object===Object&&self;Aee||Mee||Function("return this")();function Yg(t){return t.split("-")[1]}function Y5(t){return t==="y"?"height":"width"}function Hl(t){return t.split("-")[0]}function lx(t){return["top","bottom"].includes(Hl(t))?"x":"y"}function sE(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=lx(e),l=Y5(a),u=r[l]/2-i[l]/2,h=a==="x";let d;switch(Hl(e)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(Yg(e)){case"start":d[a]-=u*(n&&h?-1:1);break;case"end":d[a]+=u*(n&&h?-1:1)}return d}const Pee=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=sE(u,r,l),p=r,g={},y=0;for(let m=0;m<a.length;m++){const{name:C,fn:x}=a[m],{x:v,y:b,data:E,reset:A}=await x({x:h,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:t,floating:e}});h=v??h,d=b??d,g={...g,[C]:{...g[C],...E}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:h,y:d}=sE(u,p,l)),m=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:g}};function Iee(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function xp(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function Oee(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=e,y=Iee(g),m=a[p?d==="floating"?"reference":"floating":d],C=xp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),x=d==="floating"?{...s.floating,x:r,y:i}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(v))&&await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1},E=xp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:v,strategy:l}):x);return{top:(C.top-E.top+y.top)/b.y,bottom:(E.bottom-C.bottom+y.bottom)/b.y,left:(C.left-E.left+y.left)/b.x,right:(E.right-C.right+y.right)/b.x}}const Ree=["top","right","bottom","left"];Ree.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const jee={left:"right",right:"left",bottom:"top",top:"bottom"};function bp(t){return t.replace(/left|right|bottom|top/g,e=>jee[e])}function Dee(t,e,n){n===void 0&&(n=!1);const r=Yg(t),i=lx(t),o=Y5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=bp(s)),{main:s,cross:bp(s)}}const Lee={start:"end",end:"start"};function gm(t){return t.replace(/start|end/g,e=>Lee[e])}const Nee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=t,C=Hl(r),x=Hl(s)===s,v=await(a.isRTL==null?void 0:a.isRTL(l.floating)),b=d||(x||!y?[bp(s)]:function(L){const F=bp(L);return[gm(L),F,gm(F)]}(s));d||g==="none"||b.push(...function(L,F,X,G){const Q=Yg(L);let ae=function(q,D,Y){const j=["left","right"],ce=["right","left"],de=["top","bottom"],re=["bottom","top"];switch(q){case"top":case"bottom":return Y?D?ce:j:D?j:ce;case"left":case"right":return D?de:re;default:return[]}}(Hl(L),X==="start",G);return Q&&(ae=ae.map(q=>q+"-"+Q),F&&(ae=ae.concat(ae.map(gm)))),ae}(s,y,g,v));const E=[s,...b],A=await Oee(e,m),$=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&$.push(A[C]),h){const{main:L,cross:F}=Dee(r,o,v);$.push(A[L],A[F])}if(M=[...M,{placement:r,overflows:$}],!$.every(L=>L<=0)){var I,N;const L=(((I=i.flip)==null?void 0:I.index)||0)+1,F=E[L];if(F)return{data:{index:L,overflows:M},reset:{placement:F}};let X=(N=M.filter(G=>G.overflows[0]<=0).sort((G,Q)=>G.overflows[1]-Q.overflows[1])[0])==null?void 0:N.placement;if(!X)switch(p){case"bestFit":{var O;const G=(O=M.map(Q=>[Q.placement,Q.overflows.filter(ae=>ae>0).reduce((ae,q)=>ae+q,0)]).sort((Q,ae)=>Q[1]-ae[1])[0])==null?void 0:O[0];G&&(X=G);break}case"initialPlacement":X=s}if(r!==X)return{reset:{placement:X}}}return{}}}},Bee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,h=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=Hl(a),p=Yg(a),g=lx(a)==="x",y=["left","top"].includes(d)?-1:1,m=h&&g?-1:1,C=typeof s=="function"?s(o):s;let{mainAxis:x,crossAxis:v,alignmentAxis:b}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...C};return p&&typeof b=="number"&&(v=p==="end"?-1*b:b),g?{x:v*m,y:x*y}:{x:x*y,y:v*m}}(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function $r(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _o(t){return $r(t).getComputedStyle(t)}function Z5(t){return t instanceof $r(t).Node}function Hs(t){return Z5(t)?(t.nodeName||"").toLowerCase():""}let Cd;function q5(){if(Cd)return Cd;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Cd=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Cd):navigator.userAgent}function oo(t){return t instanceof $r(t).HTMLElement}function Ji(t){return t instanceof $r(t).Element}function aE(t){return typeof ShadowRoot>"u"?!1:t instanceof $r(t).ShadowRoot||t instanceof ShadowRoot}function Zg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_o(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Fee(t){return["table","td","th"].includes(Hs(t))}function _1(t){const e=/firefox/i.test(q5()),n=_o(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function k1(){return/^((?!chrome|android).)*safari/i.test(q5())}function cx(t){return["html","body","#document"].includes(Hs(t))}const lE=Math.min,_u=Math.max,Sp=Math.round;function Q5(t){const e=_o(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=oo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Sp(n)!==o||Sp(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function J5(t){return Ji(t)?t:t.contextElement}const eP={x:1,y:1};function zl(t){const e=J5(t);if(!oo(e))return eP;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:o}=Q5(e);let s=(o?Sp(n.width):n.width)/r,a=(o?Sp(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Oa(t,e,n,r){var i,o;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=J5(t);let l=eP;e&&(r?Ji(r)&&(l=zl(r)):l=zl(t));const u=a?$r(a):window,h=k1()&&n;let d=(s.left+(h&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(s.top+(h&&((o=u.visualViewport)==null?void 0:o.offsetTop)||0))/l.y,g=s.width/l.x,y=s.height/l.y;if(a){const m=$r(a),C=r&&Ji(r)?$r(r):r;let x=m.frameElement;for(;x&&r&&C!==m;){const v=zl(x),b=x.getBoundingClientRect(),E=getComputedStyle(x);b.x+=(x.clientLeft+parseFloat(E.paddingLeft))*v.x,b.y+=(x.clientTop+parseFloat(E.paddingTop))*v.y,d*=v.x,p*=v.y,g*=v.x,y*=v.y,d+=b.x,p+=b.y,x=$r(x).frameElement}}return xp({width:g,height:y,x:d,y:p})}function Ps(t){return((Z5(t)?t.ownerDocument:t.document)||window.document).documentElement}function qg(t){return Ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tP(t){return Oa(Ps(t)).left+qg(t).scrollLeft}function uh(t){if(Hs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aE(t)&&t.host||Ps(t);return aE(e)?e.host:e}function nP(t){const e=uh(t);return cx(e)?e.ownerDocument.body:oo(e)&&Zg(e)?e:nP(e)}function Is(t,e){var n;e===void 0&&(e=[]);const r=nP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=$r(r);return i?e.concat(o,o.visualViewport||[],Zg(r)?r:[]):e.concat(r,Is(r))}function cE(t,e,n){let r;if(e==="viewport")r=function(s,a){const l=$r(s),u=Ps(s),h=l.visualViewport;let d=u.clientWidth,p=u.clientHeight,g=0,y=0;if(h){d=h.width,p=h.height;const m=k1();(!m||m&&a==="fixed")&&(g=h.offsetLeft,y=h.offsetTop)}return{width:d,height:p,x:g,y}}(t,n);else if(e==="document")r=function(s){const a=Ps(s),l=qg(s),u=s.ownerDocument.body,h=_u(a.scrollWidth,a.clientWidth,u.scrollWidth,u.clientWidth),d=_u(a.scrollHeight,a.clientHeight,u.scrollHeight,u.clientHeight);let p=-l.scrollLeft+tP(s);const g=-l.scrollTop;return _o(u).direction==="rtl"&&(p+=_u(a.clientWidth,u.clientWidth)-h),{width:h,height:d,x:p,y:g}}(Ps(t));else if(Ji(e))r=function(s,a){const l=Oa(s,!0,a==="fixed"),u=l.top+s.clientTop,h=l.left+s.clientLeft,d=oo(s)?zl(s):{x:1,y:1};return{width:s.clientWidth*d.x,height:s.clientHeight*d.y,x:h*d.x,y:u*d.y}}(e,n);else{const s={...e};if(k1()){var i,o;const a=$r(t);s.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,s.y-=((o=a.visualViewport)==null?void 0:o.offsetTop)||0}r=s}return xp(r)}function uE(t,e){return oo(t)&&_o(t).position!=="fixed"?e?e(t):t.offsetParent:null}function hE(t,e){const n=$r(t);if(!oo(t))return n;let r=uE(t,e);for(;r&&Fee(r)&&_o(r).position==="static";)r=uE(r,e);return r&&(Hs(r)==="html"||Hs(r)==="body"&&_o(r).position==="static"&&!_1(r))?n:r||function(i){let o=uh(i);for(;oo(o)&&!cx(o);){if(_1(o))return o;o=uh(o)}return null}(t)||n}function Hee(t,e,n){const r=oo(e),i=Ps(e),o=Oa(t,!0,n==="fixed",e);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Hs(e)!=="body"||Zg(i))&&(s=qg(e)),oo(e)){const l=Oa(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=tP(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}const zee={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=n==="clippingAncestors"?function(u,h){const d=h.get(u);if(d)return d;let p=Is(u).filter(C=>Ji(C)&&Hs(C)!=="body"),g=null;const y=_o(u).position==="fixed";let m=y?uh(u):u;for(;Ji(m)&&!cx(m);){const C=_o(m),x=_1(m);C.position==="fixed"&&(g=null),(y?x||g:x||C.position!=="static"||!g||!["absolute","fixed"].includes(g.position))?g=C:p=p.filter(v=>v!==m),m=uh(m)}return h.set(u,p),p}(e,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,h)=>{const d=cE(e,h,i);return u.top=_u(d.top,u.top),u.right=lE(d.right,u.right),u.bottom=lE(d.bottom,u.bottom),u.left=_u(d.left,u.left),u},cE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=oo(n),o=Ps(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Hs(n)!=="body"||Zg(o))&&(s=qg(n)),oo(n))){const u=Oa(n);a=zl(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}},isElement:Ji,getDimensions:function(t){return Q5(t)},getOffsetParent:hE,getDocumentElement:Ps,getScale:zl,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||hE,o=this.getDimensions;return{reference:Hee(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>_o(t).direction==="rtl"};function rP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||o?[...Ji(t)?Is(t):t.contextElement?Is(t.contextElement):[],...Is(e)]:[];u.forEach(g=>{l&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});let h,d=null;s&&(d=new ResizeObserver(()=>{n()}),Ji(t)&&!a&&d.observe(t),Ji(t)||!t.contextElement||a||d.observe(t.contextElement),d.observe(e));let p=a?Oa(t):null;return a&&function g(){const y=Oa(t);!p||y.x===p.x&&y.y===p.y&&y.width===p.width&&y.height===p.height||n(),p=y,h=requestAnimationFrame(g)}(),n(),()=>{var g;u.forEach(y=>{l&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),(g=d)==null||g.disconnect(),d=null,a&&cancelAnimationFrame(h)}}const Uee=(t,e,n)=>{const r=new Map,i={platform:zee,...n},o={...i.platform,_c:r};return Pee(t,e,{...i,platform:o})};var tf=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Cp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Cp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Cp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function dE(t){const e=P.useRef(t);return tf(()=>{e.current=t}),e}function Gee(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=t,[a,l]=P.useState({x:null,y:null,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,h]=P.useState(r);Cp(u,r)||h(r);const d=P.useRef(null),p=P.useRef(null),g=P.useRef(a),y=dE(o),m=dE(i),[C,x]=P.useState(null),[v,b]=P.useState(null),E=P.useCallback(O=>{d.current!==O&&(d.current=O,x(O))},[]),A=P.useCallback(O=>{p.current!==O&&(p.current=O,b(O))},[]),$=P.useCallback(()=>{if(!d.current||!p.current)return;const O={placement:e,strategy:n,middleware:u};m.current&&(O.platform=m.current),Uee(d.current,p.current,O).then(L=>{const F={...L,isPositioned:!0};M.current&&!Cp(g.current,F)&&(g.current=F,qp.flushSync(()=>{l(F)}))})},[u,e,n,m]);tf(()=>{s===!1&&g.current.isPositioned&&(g.current.isPositioned=!1,l(O=>({...O,isPositioned:!1})))},[s]);const M=P.useRef(!1);tf(()=>(M.current=!0,()=>{M.current=!1}),[]),tf(()=>{if(C&&v){if(y.current)return y.current(C,v,$);$()}},[C,v,$,y]);const I=P.useMemo(()=>({reference:d,floating:p,setReference:E,setFloating:A}),[E,A]),N=P.useMemo(()=>({reference:C,floating:v}),[C,v]);return P.useMemo(()=>({...a,update:$,refs:I,elements:N,reference:E,floating:A}),[a,$,I,N,E,A])}/*!
* tabbable 6.1.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Vee=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$1=Vee.join(","),iP=typeof Element>"u",hh=iP?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ep=!iP&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},_p=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",s=o||n&&e&&t(e.parentNode);return s},Wee=function(t){var e,n=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return n===""||n==="true"},Xee=function(t,e,n){if(_p(t))return[];var r=Array.prototype.slice.apply(t.querySelectorAll($1));return e&&hh.call(t,$1)&&r.unshift(t),r=r.filter(n),r},Kee=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!_p(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else{var h=hh.call(s,$1);h&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var d=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!_p(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(d&&p){var g=t(d===!0?s.children:d.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:s,candidates:g})}else o.unshift.apply(o,s.children)}}return i},oP=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Wee(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},Yee=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},sP=function(t){return t.tagName==="INPUT"},Zee=function(t){return sP(t)&&t.type==="hidden"},qee=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return e},Qee=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},Jee=function(t){if(!t.name)return!0;var e=t.form||Ep(t),n=function(o){return e.querySelectorAll('input[type="radio"][name="'+o+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(t.name));else try{r=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=Qee(r,t.form);return!i||i===t},ete=function(t){return sP(t)&&t.type==="radio"},tte=function(t){return ete(t)&&!Jee(t)},nte=function(t){var e,n=t&&Ep(t),r=(e=n)===null||e===void 0?void 0:e.host,i=!1;if(n&&n!==t){var o,s,a;for(i=!!((o=r)!==null&&o!==void 0&&(s=o.ownerDocument)!==null&&s!==void 0&&s.contains(r)||t!=null&&(a=t.ownerDocument)!==null&&a!==void 0&&a.contains(t));!i&&r;){var l,u,h;n=Ep(r),r=(l=n)===null||l===void 0?void 0:l.host,i=!!((u=r)!==null&&u!==void 0&&(h=u.ownerDocument)!==null&&h!==void 0&&h.contains(r))}}return i},fE=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return n===0&&r===0},rte=function(t,e){var n=e.displayCheck,r=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=hh.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(hh.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var s=t;t;){var a=t.parentElement,l=Ep(t);if(a&&!a.shadowRoot&&r(a)===!0)return fE(t);t.assignedSlot?t=t.assignedSlot:!a&&l!==t.ownerDocument?t=l.host:t=a}t=s}if(nte(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return fE(t);return!1},ite=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if(r.tagName==="LEGEND")return hh.call(e,"fieldset[disabled] *")?!0:!r.contains(t)}return!0}e=e.parentElement}return!1},ote=function(t,e){return!(e.disabled||_p(e)||Zee(e)||rte(e,t)||qee(e)||ite(e))},pE=function(t,e){return!(tte(e)||oP(e)<0||!ote(t,e))},ste=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},ate=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=oP(a,s),u=s?t(i.candidates):a;l===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(Yee).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},aP=function(t,e){e=e||{};var n;return e.getShadowRoot?n=Kee([t],e.includeContainer,{filter:pE.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:ste}):n=Xee(t,e.includeContainer,pE.bind(null,e)),ate(n)};function T1(){return T1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T1.apply(this,arguments)}var Ra=typeof document<"u"?P.useLayoutEffect:P.useEffect;let mm=!1,lte=0;const gE=()=>"floating-ui-"+lte++;function cte(){const[t,e]=P.useState(()=>mm?gE():void 0);return Ra(()=>{t==null&&e(gE())},[]),P.useEffect(()=>{mm||(mm=!0)},[]),t}const ute=P.useId,lP=ute||cte;function hte(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const dte=P.createContext(null),fte=P.createContext(null),cP=()=>{var t;return((t=P.useContext(dte))==null?void 0:t.id)||null},ux=()=>P.useContext(fte);function ca(t){return(t==null?void 0:t.ownerDocument)||document}function pte(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function gte(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Qg(t){return ca(t).defaultView||window}function zo(t){return t?t instanceof Qg(t).Element:!1}function hx(t){return t?t instanceof Qg(t).HTMLElement:!1}function mte(t){if(typeof ShadowRoot>"u")return!1;const e=Qg(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function yte(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(pte())||e.test(gte()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function vte(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function wte(){return/apple/i.test(navigator.vendor)}function kp(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function uP(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&mte(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function mE(t){const e=P.useRef(t);return Ra(()=>{e.current=t}),e}const yE="data-floating-ui-safe-polygon";function ym(t,e,n){return n&&!kp(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}const xte=function(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:{domReference:s,floating:a},refs:l}=t,{enabled:u=!0,delay:h=0,handleClose:d=null,mouseOnly:p=!1,restMs:g=0,move:y=!0}=e,m=ux(),C=cP(),x=mE(d),v=mE(h),b=P.useRef(),E=P.useRef(),A=P.useRef(),$=P.useRef(),M=P.useRef(!0),I=P.useRef(!1),N=P.useRef(()=>{}),O=P.useCallback(()=>{var G;const Q=(G=i.current.openEvent)==null?void 0:G.type;return(Q==null?void 0:Q.includes("mouse"))&&Q!=="mousedown"},[i]);P.useEffect(()=>{if(!u)return;function G(){clearTimeout(E.current),clearTimeout($.current),M.current=!0}return o.on("dismiss",G),()=>{o.off("dismiss",G)}},[u,o]),P.useEffect(()=>{if(!u||!x.current||!n)return;function G(){O()&&r(!1)}const Q=ca(a).documentElement;return Q.addEventListener("mouseleave",G),()=>{Q.removeEventListener("mouseleave",G)}},[a,n,r,u,x,i,O]);const L=P.useCallback(function(G){G===void 0&&(G=!0);const Q=ym(v.current,"close",b.current);Q&&!A.current?(clearTimeout(E.current),E.current=setTimeout(()=>r(!1),Q)):G&&(clearTimeout(E.current),r(!1))},[v,r]),F=P.useCallback(()=>{N.current(),A.current=void 0},[]),X=P.useCallback(()=>{if(I.current){const G=ca(l.floating.current).body;G.style.pointerEvents="",G.removeAttribute(yE),I.current=!1}},[l]);return P.useEffect(()=>{if(!u)return;function G(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function Q(D){if(clearTimeout(E.current),M.current=!1,p&&!kp(b.current)||g>0&&ym(v.current,"open")===0)return;i.current.openEvent=D;const Y=ym(v.current,"open",b.current);Y?E.current=setTimeout(()=>{r(!0)},Y):r(!0)}function ae(D){if(G())return;N.current();const Y=ca(a);if(clearTimeout($.current),x.current){n||clearTimeout(E.current),A.current=x.current({...t,tree:m,x:D.clientX,y:D.clientY,onClose(){X(),F(),L()}});const j=A.current;Y.addEventListener("mousemove",j),N.current=()=>{Y.removeEventListener("mousemove",j)};return}(b.current!=="touch"||!uP(a,D.relatedTarget))&&L()}function q(D){G()||x.current==null||x.current({...t,tree:m,x:D.clientX,y:D.clientY,onClose(){X(),F(),L()}})(D)}if(zo(s)){const D=s;return n&&D.addEventListener("mouseleave",q),a==null||a.addEventListener("mouseleave",q),y&&D.addEventListener("mousemove",Q,{once:!0}),D.addEventListener("mouseenter",Q),D.addEventListener("mouseleave",ae),()=>{n&&D.removeEventListener("mouseleave",q),a==null||a.removeEventListener("mouseleave",q),y&&D.removeEventListener("mousemove",Q),D.removeEventListener("mouseenter",Q),D.removeEventListener("mouseleave",ae)}}},[s,a,u,t,p,g,y,L,F,X,r,n,m,v,x,i]),Ra(()=>{var G;if(u&&n&&(G=x.current)!=null&&G.__options.blockPointerEvents&&O()){const q=ca(a).body;if(q.setAttribute(yE,""),q.style.pointerEvents="none",I.current=!0,zo(s)&&a){var Q,ae;const D=s,Y=m==null||(Q=m.nodesRef.current.find(j=>j.id===C))==null||(ae=Q.context)==null?void 0:ae.elements.floating;return Y&&(Y.style.pointerEvents=""),D.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{D.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,C,a,s,m,x,i,O]),Ra(()=>{n||(b.current=void 0,F(),X())},[n,F,X]),P.useEffect(()=>()=>{F(),clearTimeout(E.current),clearTimeout($.current),X()},[u,F,X]),P.useMemo(()=>{if(!u)return{};function G(Q){b.current=Q.pointerType}return{reference:{onPointerDown:G,onPointerEnter:G,onMouseMove(){n||g===0||(clearTimeout($.current),$.current=setTimeout(()=>{M.current||r(!0)},g))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){o.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),L(!1)}}}},[o,u,g,n,r,L])};function bte(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function vm(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}function Ste(t){return"composedPath"in t?t.composedPath()[0]:t.target}const Cte="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ete(t){return hx(t)&&t.matches(Cte)}const hP=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dP(t,e){const n=aP(t,hP());e==="prev"&&n.reverse();const r=n.indexOf(bte(ca(t)));return n.slice(r+1)[0]}function _te(){return dP(document.body,"next")}function kte(){return dP(document.body,"prev")}function wm(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!uP(n,r)}function $te(t){aP(t,hP()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function Tte(t){t.querySelectorAll("[data-tabindex]").forEach(e=>{const n=e.dataset.tabindex;delete e.dataset.tabindex,n?e.setAttribute("tabindex",n):e.removeAttribute("tabindex")})}const fP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Ate;function vE(t){t.key==="Tab"&&(t.target,clearTimeout(Ate))}const wE=P.forwardRef(function(t,e){const[n,r]=P.useState();return Ra(()=>(wte()&&r("button"),document.addEventListener("keydown",vE),()=>{document.removeEventListener("keydown",vE)}),[]),P.createElement("span",T1({},t,{ref:e,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,"data-floating-ui-focus-guard":"",style:fP}))}),pP=P.createContext(null),Mte=function(t){let{id:e,root:n}=t===void 0?{}:t;const[r,i]=P.useState(null),o=lP(),s=Pte();return Ra(()=>{const a=e?document.getElementById(e):null,l="data-floating-ui-portal";if(a){const u=document.createElement("div");return u.id=o,u.setAttribute(l,""),a.appendChild(u),i(u),()=>{u.remove()}}else{let u=(s==null?void 0:s.portalNode)||n||document.body,h=null;e&&(h=document.createElement("div"),h.id=e,u.appendChild(h));const d=document.createElement("div");return d.id=o,d.setAttribute(l,""),i(d),u=h||u,u.appendChild(d),()=>{var p;d.remove(),(p=h)==null||p.remove()}}},[e,n,s,o]),r},gP=t=>{let{children:e,id:n,root:r=null,preserveTabOrder:i=!0}=t;const o=Mte({id:n,root:r}),[s,a]=P.useState(null),l=P.useRef(null),u=P.useRef(null),h=P.useRef(null),d=P.useRef(null),p=!!s&&!s.modal&&!!(r||o)&&i;return P.useEffect(()=>{if(!o||!i||s!=null&&s.modal)return;function g(y){o&&wm(y)&&(y.type==="focusin"?Tte:$te)(o)}return o.addEventListener("focusin",g,!0),o.addEventListener("focusout",g,!0),()=>{o.removeEventListener("focusin",g,!0),o.removeEventListener("focusout",g,!0)}},[o,i,s==null?void 0:s.modal]),P.createElement(pP.Provider,{value:P.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:h,afterInsideRef:d,portalNode:o,setFocusManagerState:a}),[i,o])},p&&o&&P.createElement(wE,{"data-type":"outside",ref:l,onFocus:g=>{if(wm(g,o)){var y;(y=h.current)==null||y.focus()}else{const m=kte()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),p&&o&&P.createElement("span",{"aria-owns":o.id,style:fP}),o&&qp.createPortal(e,o),p&&o&&P.createElement(wE,{"data-type":"outside",ref:u,onFocus:g=>{if(wm(g,o)){var y;(y=d.current)==null||y.focus()}else{const m=_te()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Pte=()=>P.useContext(pP);function xE(t){return hx(t.target)&&t.target.tagName==="BUTTON"}function bE(t){return Ete(t)}const Ite=function(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:h=!0}=e,d=P.useRef();return P.useMemo(()=>s?{reference:{onPointerDown(p){d.current=p.pointerType},onMouseDown(p){p.button===0&&(kp(d.current,!0)&&u||a!=="click"&&(n?l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")&&r(!1):(p.preventDefault(),r(!0)),i.current.openEvent=p.nativeEvent))},onClick(p){if(a==="mousedown"&&d.current){d.current=void 0;return}kp(d.current,!0)&&u||(n?l&&(!i.current.openEvent||i.current.openEvent.type==="click")&&r(!1):r(!0),i.current.openEvent=p.nativeEvent)},onKeyDown(p){d.current=void 0,h&&(xE(p)||(p.key===" "&&!bE(o)&&p.preventDefault(),p.key==="Enter"&&(n?l&&r(!1):r(!0))))},onKeyUp(p){h&&(xE(p)||bE(o)||p.key===" "&&(n?l&&r(!1):r(!0)))}}}:{},[s,i,a,u,h,o,l,n,r])},Ote=P.useInsertionEffect,Rte=Ote||(t=>t());function nf(t){const e=P.useRef(()=>{});return Rte(()=>{e.current=t}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function xm(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const jte={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Dte={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Lte=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}},mP=function(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:u}=t,{enabled:h=!0,escapeKey:d=!0,outsidePress:p=!0,outsidePressEvent:g="pointerdown",referencePress:y=!1,referencePressEvent:m="pointerdown",ancestorScroll:C=!1,bubbles:x}=e,v=ux(),b=cP()!=null,E=nf(typeof p=="function"?p:()=>!1),A=typeof p=="function"?E:p,$=P.useRef(!1),{escapeKeyBubbles:M,outsidePressBubbles:I}=Lte(x),N=nf(L=>{if(!n||!h||!d||L.key!=="Escape")return;const F=v?vm(v.nodesRef.current,o):[];if(!M&&(L.stopPropagation(),F.length>0)){let X=!0;if(F.forEach(G=>{var Q;if((Q=G.context)!=null&&Q.open&&!G.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}),O=nf(L=>{const F=$.current;if($.current=!1,F||typeof A=="function"&&!A(L))return;const X=Ste(L);if(hx(X)&&l){const ae=X.clientWidth>0&&X.scrollWidth>X.clientWidth,q=X.clientHeight>0&&X.scrollHeight>X.clientHeight;let D=q&&L.offsetX>X.clientWidth;if(q&&Qg(l).getComputedStyle(X).direction==="rtl"&&(D=L.offsetX<=X.offsetWidth-X.clientWidth),D||ae&&L.offsetY>X.clientHeight)return}const G=v&&vm(v.nodesRef.current,o).some(ae=>{var q;return xm(L,(q=ae.context)==null?void 0:q.elements.floating)});if(xm(L,l)||xm(L,a)||G)return;const Q=v?vm(v.nodesRef.current,o):[];if(Q.length>0){let ae=!0;if(Q.forEach(q=>{var D;if((D=q.context)!=null&&D.open&&!q.context.dataRef.current.__outsidePressBubbles){ae=!1;return}}),!ae)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:b?{preventScroll:!0}:yte(L)||vte(L)}}),r(!1)});return P.useEffect(()=>{if(!n||!h)return;u.current.__escapeKeyBubbles=M,u.current.__outsidePressBubbles=I;function L(){r(!1)}const F=ca(l);d&&F.addEventListener("keydown",N),A&&F.addEventListener(g,O);let X=[];return C&&(zo(a)&&(X=Is(a)),zo(l)&&(X=X.concat(Is(l))),!zo(s)&&s&&s.contextElement&&(X=X.concat(Is(s.contextElement)))),X=X.filter(G=>{var Q;return G!==((Q=F.defaultView)==null?void 0:Q.visualViewport)}),X.forEach(G=>{G.addEventListener("scroll",L,{passive:!0})}),()=>{d&&F.removeEventListener("keydown",N),A&&F.removeEventListener(g,O),X.forEach(G=>{G.removeEventListener("scroll",L)})}},[u,l,a,s,d,A,g,n,r,C,h,M,I,N,O]),P.useEffect(()=>{$.current=!1},[A,g]),P.useMemo(()=>h?{reference:{onKeyDown:N,[jte[m]]:()=>{y&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{onKeyDown:N,[Dte[g]]:()=>{$.current=!0}}}:{},[h,i,y,g,m,r,N])};function yP(t){t===void 0&&(t={});const{open:e=!1,onOpenChange:n,nodeId:r}=t,i=Gee(t),o=ux(),s=P.useRef(null),a=P.useRef({}),l=P.useState(()=>hte())[0],u=lP(),[h,d]=P.useState(null),p=P.useCallback(v=>{const b=zo(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;i.refs.setReference(b)},[i.refs]),g=P.useCallback(v=>{(zo(v)||v===null)&&(s.current=v,d(v)),(zo(i.refs.reference.current)||i.refs.reference.current===null||v!==null&&!zo(v))&&i.refs.setReference(v)},[i.refs]),y=P.useMemo(()=>({...i.refs,setReference:g,setPositionReference:p,domReference:s}),[i.refs,g,p]),m=P.useMemo(()=>({...i.elements,domReference:h}),[i.elements,h]),C=nf(n),x=P.useMemo(()=>({...i,refs:y,elements:m,dataRef:a,nodeId:r,floatingId:u,events:l,open:e,onOpenChange:C}),[i,r,u,l,e,C,y,m]);return Ra(()=>{const v=o==null?void 0:o.nodesRef.current.find(b=>b.id===r);v&&(v.context=x)}),P.useMemo(()=>({...i,context:x,refs:y,elements:m,reference:g,positionReference:p}),[i,y,m,x,g,p])}function bm(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var h,d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return(h=r.get(a))==null?void 0:h.map(y=>y(...p)).find(y=>y!==void 0)}}}else i[a]=l}),i),{})}}const vP=function(t){t===void 0&&(t=[]);const e=t,n=P.useCallback(o=>bm(o,t,"reference"),e),r=P.useCallback(o=>bm(o,t,"floating"),e),i=P.useCallback(o=>bm(o,t,"item"),t.map(o=>o==null?void 0:o.item));return P.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},wP=t=>{const{content:e,children:n,placement:r="bottom-start",trigger:i="click",offset:o=5}=t,[s,a]=P.useState(!1),l=E=>{var A;a(E),(A=t.onOpenChange)==null||A.call(t,E)},u=t.open===void 0?s:t.open,{x:h,y:d,strategy:p,refs:g,context:y}=yP({placement:r,open:u,onOpenChange:l,whileElementsMounted:rP,middleware:[Nee({fallbackAxisSideDirection:"end"}),Bee(o)]}),m=Ite(y,{event:"mousedown",enabled:i==="click"}),C=mP(y),x=xte(y,{enabled:i==="hover"}),{getReferenceProps:v,getFloatingProps:b}=vP([m,x,C]);return S.jsxs(S.Fragment,{children:[T.cloneElement(n,{...v(),ref:g.setReference}),S.jsx(gP,{children:u&&S.jsx("div",{ref:g.setFloating,className:"sk-popover-content",style:{position:p,left:h??0,top:d??0},...b(),children:e})})]})};T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 12V17H12V12H17V11H12V6H11V11H6V12H11Z"})}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M5 19L21 19"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 12 5)",strokeWidth:"3"}),S.jsx("path",{d:"M15.5 9L15.5 17",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M12 4L12 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"8",y1:"14.5",x2:"16",y2:"14.5",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[S.jsx("path",{d:"M4 4L4 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"6",y1:"14.5",x2:"14",y2:"14.5",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M20 4L20 20"}),S.jsx("line",{x1:"6",y1:"9.5",x2:"18",y2:"9.5",strokeWidth:"3"}),S.jsx("line",{x1:"10",y1:"14.5",x2:"18",y2:"14.5",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M3 5L19 5"}),S.jsx("line",{y1:"-1.5",x2:"12",y2:"-1.5",transform:"matrix(4.37114e-08 1 1 -4.37114e-08 10 7)",strokeWidth:"3"}),S.jsx("line",{x1:"13.5",y1:"7",x2:"13.5",y2:"15",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M4 12L20 12"}),S.jsx("line",{x1:"9.5",y1:"18",x2:"9.5",y2:"6",strokeWidth:"3"}),S.jsx("path",{d:"M14.5 16L14.5 8",strokeWidth:"3"})]}));const Nte=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 10L12 15L17 10"})})),xP=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M8 12L11 16L18 7"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M7 7L17 17M7 17L17 7",stroke:"#333333"})}));T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"3.08865",y:"7.49549",width:"1",height:"2.5",rx:"0.2",transform:"rotate(38.5717 3.08865 7.49549)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.781828 0.623494 0.623494 0.781828 12.6592 7.49549)",fill:"currentColor"}),S.jsx("rect",{x:"6.08005",y:"9.07446",width:"1",height:"2.5",rx:"0.2",transform:"rotate(21.1013 6.08005 9.07446)",fill:"currentColor"}),S.jsx("rect",{width:"1",height:"2.5",rx:"0.2",transform:"matrix(-0.932945 0.360019 0.360019 0.932945 10 9.07446)",fill:"currentColor"}),S.jsx("path",{d:"M2 6.42055C2 6.42055 4 9.42055 8 9.42055C12 9.42055 14 6.42055 14 6.42055",stroke:"currentColor",strokeLinejoin:"round"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"5",y1:"5.5",x2:"15",y2:"5.5",stroke:"#333333"}),S.jsx("line",{x1:"10",y1:"4",x2:"10",y2:"5",stroke:"#333333"}),S.jsx("line",{x1:"13.3947",y1:"5.30697",x2:"6.39468",y2:"14.307",stroke:"#333333"}),S.jsx("line",{x1:"7.35355",y1:"6.64645",x2:"12.3536",y2:"11.6464",stroke:"#333333"}),S.jsx("path",{d:"M11.5 18L15.5629 9.75718L19.5 18",stroke:"#333333",strokeLinejoin:"bevel"}),S.jsx("line",{x1:"13",y1:"14.2098",x2:"18",y2:"14.2098",stroke:"#333333"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("line",{x1:"4",y1:"6.5",x2:"20",y2:"6.5"}),S.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16",strokeWidth:"4"}),S.jsx("line",{x1:"4",y1:"10.5",x2:"20",y2:"10.5",strokeWidth:"3"})]}));T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M5.5 7.5V5.5C5.5 4.39543 6.39543 3.5 7.5 3.5C8.60457 3.5 9.5 4.39543 9.5 5.5V7.5",stroke:"currentColor"})]}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8.0393 16.8461C7.11636 15.6636 5.60665 4.7907 5.60665 4.7907C5.60665 4.7907 15.7876 8.89536 16.7105 10.0778C17.6335 11.2602 15.9869 14.839 15.9869 14.839L18.2586 17.7494L15.1054 20.2106L12.8337 17.3002C12.8337 17.3002 8.96225 18.0285 8.0393 16.8461Z",stroke:"currentColor"}),S.jsx("path",{d:"M5.60666 4.7907L11.7596 12.6736",stroke:"currentColor"}),S.jsx("circle",{cx:"11.8572",cy:"12.7987",r:"1.25",transform:"rotate(-37.9736 11.8572 12.7987)",fill:"currentColor"})]}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M17.6992 9.30076L8.7158 18.2842C8.66927 18.3307 8.61198 18.3651 8.54902 18.3842L5.3017 19.3687C4.99583 19.4615 4.71011 19.1757 4.80285 18.8699L5.78742 15.6226C5.80651 15.5596 5.84084 15.5023 5.88737 15.4558L14.8708 6.47233M17.6992 9.30076L19.8593 7.14071C20.0155 6.9845 20.0155 6.73123 19.8593 6.57502L17.5966 4.31228C17.4403 4.15607 17.1871 4.15607 17.0309 4.31228L14.8708 6.47233M17.6992 9.30076L14.8708 6.47233",stroke:"currentColor"})}));T.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"})}));const Bte=T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M9.5 7.5L14.5 12.5L9.5 17.5"})}));T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M8 5C4 5 2 8 2 8C2 8 4 11 8 11C12 11 14 8 14 8C14 8 12 5 8 5Z",stroke:"currentColor",strokeLinejoin:"round"}),S.jsx("circle",{cx:"8",cy:"8",r:"1.75",fill:"currentColor"})]}));T.memo(()=>S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10.8183 5.3029L8.1715 9.71417C8.09382 9.84364 7.90618 9.84364 7.8285 9.71417L5.18174 5.3029C5.10176 5.16959 5.19778 5 5.35324 5H10.6468C10.8022 5 10.8982 5.16959 10.8183 5.3029Z",fill:"currentColor"})}));T.memo(()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",transform:"translate(0.25 0.25)  rotate(0 7.75 7.556366182551985)",d:"M5.00688 12.0551C4.91688 12.0551 4.84688 12.1051 4.84688 12.1651C4.84688 12.2451 4.91688 12.2951 5.01688 12.2851C5.11688 12.2851 5.18688 12.2351 5.18688 12.1651C5.18688 12.0951 5.10688 12.0451 5.00688 12.0551Z M4.34812 12.1793C4.42812 12.2093 4.51812 12.1793 4.53812 12.1193C4.55812 12.0593 4.49812 11.9893 4.40812 11.9593C4.32812 11.9393 4.23812 11.9693 4.20812 12.0293C4.18812 12.0893 4.25812 12.1593 4.34812 12.1793Z M5.44907 12.1237C5.45907 12.1937 5.53907 12.2337 5.63907 12.2137C5.72907 12.1837 5.78907 12.1237 5.77907 12.0637C5.76907 12.0037 5.68907 11.9637 5.58907 11.9737C5.49907 11.9937 5.43907 12.0537 5.44907 12.1237Z M7.65 0C3.32 0 0 3.29 0 7.63C0 11.09 2.18 14.06 5.3 15.1C5.7 15.17 5.84 14.93 5.84 14.72C5.84 14.53 5.83 13.46 5.83 12.8C5.83 12.8 3.64 13.27 3.18 11.87C3.18 11.87 2.83 10.96 2.31 10.73C2.31 10.73 1.6 10.24 2.36 10.25C2.36 10.25 3.14 10.31 3.57 11.05C4.25 12.26 5.4 11.91 5.85 11.71C5.92 11.21 6.12 10.86 6.35 10.65C4.6 10.46 2.84 10.21 2.84 7.2C2.84 6.34 3.08 5.91 3.58 5.36C3.49 5.16 3.23 4.32 3.66 3.24C4.31 3.03 5.81 4.08 5.81 4.08C6.44 3.91 7.11 3.82 7.78 3.82C8.44 3.82 9.11 3.91 9.74 4.08C9.74 4.08 11.24 3.03 11.89 3.24C12.32 4.32 12.06 5.16 11.98 5.36C12.48 5.91 12.78 6.34 12.78 7.2C12.78 10.22 10.94 10.46 9.19 10.65C9.48 10.9 9.73 11.37 9.73 12.1C9.73 13.16 9.72 14.46 9.72 14.72C9.72 14.92 9.86 15.17 10.26 15.09C13.38 14.06 15.5 11.09 15.5 7.63C15.5 3.29 11.98 0 7.65 0Z M3.06231 10.9369C3.11231 10.9869 3.18231 11.0169 3.22231 10.9669C3.26231 10.9369 3.25231 10.8669 3.20231 10.8069C3.15231 10.7569 3.08231 10.7369 3.04231 10.7769C2.99231 10.8069 3.00231 10.8769 3.06231 10.9369Z M2.77304 10.6435C2.82304 10.6735 2.88304 10.6735 2.90304 10.6235C2.93304 10.5835 2.89304 10.5335 2.83304 10.5035C2.77304 10.4835 2.72304 10.4935 2.70304 10.5235C2.68304 10.5635 2.71304 10.6135 2.77304 10.6435Z M3.75443 11.8362C3.82443 11.9062 3.91443 11.9162 3.95443 11.8662C3.99443 11.8262 3.97443 11.7262 3.91443 11.6662C3.84443 11.5962 3.75443 11.5862 3.71443 11.6362C3.66443 11.6762 3.68443 11.7762 3.75443 11.8362Z M3.35875 11.3601C3.40875 11.4301 3.48875 11.4701 3.52875 11.4301C3.57875 11.3901 3.57875 11.3101 3.52875 11.2401C3.48875 11.1701 3.40875 11.1401 3.35875 11.1801C3.30875 11.2101 3.30875 11.2901 3.35875 11.3601Z "})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("circle",{cx:"12",cy:"12",r:"7.5"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4V7H16V4H17V7H20V8H17L17 16H20V17H17V20H16V17H8V20H7V17H4V16H7V8H4V7H7V4H8ZM16 16L16 8H8V16H16Z",fill:"currentColor"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M18.7717 7.39806H17.7548C17.5361 7.39806 17.3568 7.56657 17.3568 7.7767V11.3197H16.6395V6.01456C16.6395 5.55479 16.248 5.18239 15.7647 5.18239H14.8943C14.6712 5.18239 14.4876 5.35506 14.4876 5.56935V11.3197H13.7703V4.89528C13.7703 4.67684 13.5844 4.5 13.3547 4.5H12.4078C11.9726 4.5 11.6205 4.83495 11.6205 5.24896V11.3176H10.9032V6.4785C10.9032 6.23301 10.4364 6.01456 10.1784 6.01456L9.53862 6.03329C9.10343 6.03329 8.75352 6.36824 8.75352 6.78017V15.7698L5.939 13.8495C5.53005 13.5915 4.97676 13.7309 4.75589 14.1491C4.75589 14.1491 4.58968 14.4695 4.53064 14.5756C4.47378 14.6817 4.50221 14.7816 4.56563 14.8523C4.6203 14.9126 7.42171 18.0333 8.34895 19.0527C8.61794 19.3481 9.12092 19.5 9.55393 19.5H18.085C18.8679 19.5 19.384 18.8967 19.384 18.154L19.4999 11.3197V8.09709C19.5065 7.71013 19.1784 7.39806 18.7717 7.39806Z"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 5H5V13.6849L8.46807 9.78333L17.1983 18H18V5ZM5 18V15.1901L8.53193 11.2167L15.7392 18H5ZM4 4V19H19V4H4ZM16 9.5C16 10.3284 15.3284 11 14.5 11C13.6716 11 13 10.3284 13 9.5C13 8.67157 13.6716 8 14.5 8C15.3284 8 16 8.67157 16 9.5ZM17 9.5C17 10.8807 15.8807 12 14.5 12C13.1193 12 12 10.8807 12 9.5C12 8.11929 13.1193 7 14.5 7C15.8807 7 17 8.11929 17 9.5Z"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3915 5.35404L5.35308 19.354L4.64694 18.646L18.6853 4.64597L19.3915 5.35404Z"})}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12H6V11H17V12Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 16H6V15H17V16Z"}),S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 8H6V7H17V8Z"})]}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 5L19.7942 18.5H4.20577L12 5Z",stroke:"currentColor",strokeWidth:"1"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("rect",{x:"4.5",y:"4.5",width:"15",height:"15"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M14.0855 13.0738L13.9614 13.1256L13.8801 13.2327L9.24626 19.3343L5.72813 4.87748L19.1707 10.9487L14.0855 13.0738Z",stroke:"currentColor"})}));T.memo(()=>S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M12 4L13.7961 9.52786H19.6085L14.9062 12.9443L16.7023 18.4721L12 15.0557L7.29772 18.4721L9.09383 12.9443L4.39155 9.52786H10.2039L12 4Z",stroke:"currentColor"})}));T.memo(()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"11",y:"5",width:"1",height:"14"}),S.jsx("rect",{x:"5",y:"5",width:"13",height:"1"}),S.jsx("rect",{x:"5",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"17",y:"5",width:"1",height:"3"}),S.jsx("rect",{x:"8",y:"18",width:"7",height:"1"})]}));T.memo(()=>S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("rect",{x:"4",y:"7.5",width:"7",height:"5.77935",rx:"0.4",fill:"currentColor"}),S.jsx("path",{d:"M9.5 7.5V5.5C9.5 4.39543 10.3954 3.5 11.5 3.5C12.6046 3.5 13.5 4.39543 13.5 5.5V7",stroke:"currentColor"})]}));function Fte(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(bP);var Hte=bP.exports;const SP=Fte(Hte),zte=t=>{const{onClick:e,label:n,suffix:r,check:i,subItems:o,emitter:s}=t;P.useEffect(()=>{const h=()=>{u(!1)};return s.on("openSubMenu",h),()=>{s.off("openSubMenu",h)}},[s,t.itemKey]);const a=S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"sk-dropdown-item",children:[S.jsx("div",{className:"sk-dropdown-item-icon-box",children:i&&S.jsx(xP,{})}),n]}),r&&S.jsx("span",{children:r}),o&&S.jsx(Bte,{})]}),[l,u]=P.useState(!1);return S.jsx(S.Fragment,{children:o?S.jsx(CP,{items:o,onClick:e,open:l,placement:"right-start",offset:{mainAxis:0,crossAxis:-8},children:S.jsx("div",{className:SP("sk-dropdown-item-wrap",{active:l}),onMouseEnter:()=>{s.emit("openSubMenu",t.itemKey),u(!0)},children:a})}):S.jsx("div",{className:"sk-dropdown-item-wrap",onClick:()=>e({key:t.itemKey}),onMouseEnter:()=>{s.emit("openSubMenu",t.itemKey)},children:a})})},Ute=t=>t.type==="divider",CP=t=>{const{items:e,children:n,placement:r="bottom-start"}=t,[i,o]=P.useState(!1),s=t.open===void 0?i:t.open,a=u=>{var h;o(u),(h=t.onOpenChange)==null||h.call(t,u)},l=P.useRef(new LQ);return S.jsx(wP,{open:s,onOpenChange:a,placement:r,offset:t.offset,trigger:t.trigger,content:S.jsx("div",{className:"sk-dropdown-content",children:e.map((u,h)=>Ute(u)?S.jsx("div",{className:"sk-dropdown-item-separator"},h):S.jsx(zte,{itemKey:u.key,label:u.label,suffix:u.suffix,check:u.check,subItems:u.children,emitter:l.current,onClick:d=>{var p;(p=t.onClick)!=null&&p.call(t,d)||a(!1)}},u.key))}),children:T.cloneElement(n)})},Kc=({children:t,onClick:e})=>S.jsx("div",{className:"sk-icon-btn",onClick:()=>e(),children:t}),Gte=({value:t,options:e=[],bordered:n=!0,style:r,dropdownWidth:i,onSelect:o})=>{var s;const[a,l]=P.useState(!1),{x:u,y:h,strategy:d,refs:p,context:g}=yP({placement:"bottom-start",open:a,onOpenChange:l,whileElementsMounted:rP}),y=mP(g),{getReferenceProps:m,getFloatingProps:C}=vP([y]),x=((s=e.find(b=>b.value===t))==null?void 0:s.label)??"",v=b=>{o&&t!=b&&o(b),l(!1)};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:r,className:SP("sk-select",{"sk-select-no-border":!n}),ref:p.setReference,onClick:()=>l(!a),...m(),children:[x,S.jsx("span",{className:"sk-select-suffix-icon",children:S.jsx(Nte,{})})]}),S.jsx(gP,{children:a&&S.jsx("div",{ref:p.setFloating,className:"sk-select-popover",style:{position:d,top:h??0,left:u??0,width:i},...C(),children:e.map(b=>S.jsxs("div",{className:"sk-select-popover-item",onClick:()=>v(b.value),children:[S.jsx("span",{className:"sk-select-popover-item-icon",children:b.value===t&&S.jsx(xP,{})}),b.label]},b.label))})})]})},Vte=({children:t,onMouseDown:e,className:n,tooltipContent:r,hotkey:i})=>S.jsxs("div",{className:qo("tool-btn",n),onMouseDown:()=>{e()},children:[t,S.jsxs("div",{className:"tooltip",children:[r,i&&S.jsx("span",{className:"tool-hotkey",children:i})]})]}),Wte=()=>{const t=Oo(),e=P.useContext(yr),[n,r]=P.useState({});P.useEffect(()=>{if(!e)return;r(e.setting.getAttrs());const a=l=>{r(l)};return e.setting.on("update",a),()=>{e.setting.off("update",a)}},[e]);const i=a=>t.formatMessage(a),o=[{key:"import",label:i({id:"import.originFile"})},{key:"export",label:i({id:"export.originFile"})},{type:"divider"},{key:"preference",label:i({id:"preference"}),children:[{key:"snapToObjects",check:n.snapToObjects,label:i({id:"snapToObjects"})},{key:"keepToolSelectedAfterUse",check:n.keepToolSelectedAfterUse,label:i({id:"keepToolSelectedAfterUse"})},{key:"invertZoomDirection",check:n.invertZoomDirection,label:i({id:"invertZoomDirection"})},{key:"highlightLayersOnHover",check:n.highlightLayersOnHover,label:i({id:"highlightLayersOnHover"})},{key:"flipObjectsWhileResizing",check:n.flipObjectsWhileResizing,label:i({id:"flipObjectsWhileResizing"})}]}],s=({key:a})=>{if(!e)return;let l=!1;switch(a){case"import":G9.importOriginFile(e);break;case"export":H9.exportOriginFile(e);break;case"keepToolSelectedAfterUse":case"invertZoomDirection":case"highlightLayersOnHover":case"flipObjectsWhileResizing":case"snapToObjects":e.setting.toggle(a),l=!0;break}return l};return S.jsx(CP,{items:o,onClick:s,children:S.jsx("div",{className:"sk-ed-menu-btn",children:S.jsx(MV,{})})})},Xte=()=>{const t=P.useContext(yr),e=Oo(),[n,r]=P.useState(""),[i,o]=P.useState([]),[s,a]=P.useState(!1);P.useEffect(()=>{if(t){r(t.toolManager.getActiveToolName()||""),o(t.toolManager.getEnableTools()),a(t.pathEditor.isActive());const u=p=>{a(p)},h=p=>{r(p)},d=p=>{o(p)};return t.toolManager.on("switchTool",h),t.toolManager.on("changeEnableTools",d),t.pathEditor.on("toggle",u),()=>{t.toolManager.off("switchTool",h),t.toolManager.off("changeEnableTools",d),t.pathEditor.off("toggle",u)}}},[t]);const l={select:{name:"select",hotkey:"V",intlId:"tool.select",icon:S.jsx(SC,{})},drawFrame:{name:"drawFrame",hotkey:"F",intlId:"tool.frame",icon:S.jsx(kV,{})},drawRect:{name:"drawRect",hotkey:"R",intlId:"tool.rectangle",icon:S.jsx(IV,{})},drawEllipse:{name:"drawEllipse",hotkey:"O",intlId:"tool.ellipse",icon:S.jsx(_V,{})},drawImg:{name:"drawImg",hotkey:"",intlId:"tool.image",icon:S.jsx(TV,{})},pathSelect:{name:"pathSelect",hotkey:"V",intlId:"tool.select",icon:S.jsx(SC,{})},pen:{name:"pen",hotkey:"P",intlId:"tool.pen",icon:S.jsx(bV,{})},pencil:{name:"pencil",hotkey:`${St()?"Shift+":""}P`,intlId:"tool.pencil",icon:S.jsx(SV,{})},drawLine:{name:"drawLine",hotkey:"L",intlId:"tool.line",icon:S.jsx(AV,{})},drawRegularPolygon:{name:"drawRegularPolygon",hotkey:"",intlId:"tool.polygon",icon:S.jsx(PV,{})},drawStar:{name:"drawStar",hotkey:"",intlId:"tool.star",icon:S.jsx(OV,{})},drawText:{name:"drawText",hotkey:"T",intlId:"tool.text",icon:S.jsx(RV,{})},dragCanvas:{name:"dragCanvas",hotkey:"H",intlId:"tool.hand",icon:S.jsx($V,{})}};return S.jsxs("div",{className:"suika-tool-bar",children:[S.jsx(Wte,{}),i.map(u=>{const h=l[u];return S.jsx(Vte,{className:qo({active:n===h.name}),tooltipContent:e.formatMessage({id:h.intlId}),hotkey:h.hotkey,onMouseDown:()=>{t==null||t.toolManager.setActiveTool(h.name)},children:h.icon},h.name)}),s&&S.jsx(IQ,{style:{marginLeft:"16px",userSelect:"none"},onClick:()=>{t&&t.pathEditor.inactive()},children:e.formatMessage({id:"done"})})]})},Kte=({title:t})=>S.jsxs("div",{className:"sk-header",children:[S.jsx(Xte,{}),S.jsx(PQ,{value:t}),S.jsxs("div",{className:"sk-right-area",children:[S.jsx(TQ,{}),S.jsx(MQ,{})]})]}),dh=({title:t,children:e,headerAction:n})=>S.jsxs("div",{className:"info-card",children:[t&&S.jsxs("div",{className:"info-card-title",children:[S.jsx("span",{children:t}),n]}),e]}),Yte=()=>{const t=P.useContext(yr),[e,n]=P.useState(!0);return P.useEffect(()=>{if(t){const r=t.selectedElements.getItems();n(r.length<2);const i=o=>{n(o.length<2)};return t.selectedElements.on("itemsChange",i),()=>{t.selectedElements.off("itemsChange",i)}}},[t]),S.jsx(dh,{children:S.jsxs("div",{className:qo("align-list",{disabled:e}),children:[S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.Left)},children:S.jsx(hV,{})}),S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.HCenter)},children:S.jsx(uV,{})}),S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.Right)},children:S.jsx(dV,{})}),S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.Top)},children:S.jsx(fV,{})}),S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.VCenter)},children:S.jsx(pV,{})}),S.jsx("div",{className:"align-item",onClick:()=>{t&&Fr(t,tt.Bottom)},children:S.jsx(cV,{})})]})})},SE=Math.PI*2;function Zte(t){return t*Math.PI/180}const qte=t=>(t=t%SE,t<0&&(t+=SE),t);var Qte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jte={exports:{}};(function(t,e){(function(n,r){r(t)})(Qte,function(n){function r(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function i(x,v,b){if(!Array.isArray(x))throw new TypeError("First argument should be an array");if(x.forEach(function(M){if(!Array.isArray(M)||M.some(function(I){return typeof I!="number"})||M.length!==x[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),x=x.filter(function(M,I){return I===0||!M.every(function(N,O){return N===x[I-1][O]})}),x.length<2)return[];var E=x.length,A=y(x[1],x[0]),$=y(x[E-2],x[E-1]);return o(x,A,$,v,b)}function o(x,v,b,E,A){var $=20,M,I,N,O,L,F,X,G,Q,ae,q,D,Y;if(x.length===2)return D=m.vectorLen(m.subtract(x[0],x[1]))/3,M=[x[0],m.addArrays(x[0],m.mulItems(v,D)),m.addArrays(x[1],m.mulItems(b,D)),x[1]],[M];I=h(x);var j=s(x,I,I,v,b,A);if(M=j[0],O=j[1],F=j[2],O===0||O<E)return[M];if(O<E*E)for(N=I,L=O,X=F,Y=0;Y<$;Y++){N=l(M,x,N);var ce=s(x,I,N,v,b,A);if(M=ce[0],O=ce[1],F=ce[2],O<E)return[M];if(F===X){var de=O/L;if(de>.9999&&de<1.0001)break}L=O,X=F}if(q=[],G=m.subtract(x[F-1],x[F+1]),G.every(function(Ve){return Ve===0})){G=m.subtract(x[F-1],x[F]);var re=[-G[1],G[0]];G[0]=re[0],G[1]=re[1]}return Q=m.normalize(G),ae=m.mulItems(Q,-1),q=q.concat(o(x.slice(0,F+1),v,Q,E,A)),q=q.concat(o(x.slice(F),ae,b,E,A)),q}function s(x,v,b,E,A,$){var M,I,N;M=a(x,b,E,A);var O=d(x,M,v);return I=O[0],N=O[1],$&&$({bez:M,points:x,params:v,maxErr:I,maxPoint:N}),[M,I,N]}function a(x,v,b,E){var A,$,M,I,N,O,L,F,X,G,Q,ae,q,D,Y,j,ce,de=x[0],re=x[x.length-1];for(A=[de,null,null,re],$=m.zeros_Xx2x2(v.length),q=0,D=v.length;q<D;q++)j=v[q],ce=1-j,M=$[q],M[0]=m.mulItems(b,3*j*(ce*ce)),M[1]=m.mulItems(E,3*ce*(j*j));for(I=[[0,0],[0,0]],N=[0,0],q=0,D=x.length;q<D;q++)j=v[q],M=$[q],I[0][0]+=m.dot(M[0],M[0]),I[0][1]+=m.dot(M[0],M[1]),I[1][0]+=m.dot(M[0],M[1]),I[1][1]+=m.dot(M[1],M[1]),Y=m.subtract(x[q],C.q([de,de,re,re],j)),N[0]+=m.dot(M[0],Y),N[1]+=m.dot(M[1],Y);return O=I[0][0]*I[1][1]-I[1][0]*I[0][1],L=I[0][0]*N[1]-I[1][0]*N[0],F=N[0]*I[1][1]-N[1]*I[0][1],X=O===0?0:F/O,G=O===0?0:L/O,ae=m.vectorLen(m.subtract(de,re)),Q=1e-6*ae,X<Q||G<Q?(A[1]=m.addArrays(de,m.mulItems(b,ae/3)),A[2]=m.addArrays(re,m.mulItems(E,ae/3))):(A[1]=m.addArrays(de,m.mulItems(b,X)),A[2]=m.addArrays(re,m.mulItems(E,G))),A}function l(x,v,b){return b.map(function(E,A){return u(x,v[A],E)})}function u(x,v,b){var E=m.subtract(C.q(x,b),v),A=C.qprime(x,b),$=m.mulMatrix(E,A),M=m.sum(m.squareItems(A))+2*m.mulMatrix(E,C.qprimeprime(x,b));return M===0?b:b-$/M}function h(x){var v=[],b,E,A;return x.forEach(function($,M){b=M?E+m.vectorLen(m.subtract($,A)):0,v.push(b),E=b,A=$}),v=v.map(function($){return $/E}),v}function d(x,v,b){var E,A,$,M,I,N,O,L;A=0,$=Math.floor(x.length/2);var F=p(v,10);for(I=0,N=x.length;I<N;I++)O=x[I],L=g(v,b[I],F,10),M=m.subtract(C.q(v,L),O),E=M[0]*M[0]+M[1]*M[1],E>A&&(A=E,$=I);return[A,$]}var p=function(x,v){for(var b,E=[0],A=x[0],$=0,M=1;M<=v;M++)b=C.q(x,M/v),$+=m.vectorLen(m.subtract(b,A)),E.push($),A=b;return E=E.map(function(I){return I/$}),E};function g(x,v,b,E){if(v<0)return 0;if(v>1)return 1;for(var A,$,M,I,N,O=1;O<=E;O++)if(v<=b[O]){I=(O-1)/E,M=O/E,$=b[O-1],A=b[O],N=(v-$)/(A-$)*(M-I)+I;break}return N}function y(x,v){return m.normalize(m.subtract(x,v))}var m=function(){function x(){r(this,x)}return x.zeros_Xx2x2=function(v){for(var b=[];v--;)b.push([0,0]);return b},x.mulItems=function(v,b){return v.map(function(E){return E*b})},x.mulMatrix=function(v,b){return v.reduce(function(E,A,$){return E+A*b[$]},0)},x.subtract=function(v,b){return v.map(function(E,A){return E-b[A]})},x.addArrays=function(v,b){return v.map(function(E,A){return E+b[A]})},x.addItems=function(v,b){return v.map(function(E){return E+b})},x.sum=function(v){return v.reduce(function(b,E){return b+E})},x.dot=function(v,b){return x.mulMatrix(v,b)},x.vectorLen=function(v){return Math.hypot.apply(Math,v)},x.divItems=function(v,b){return v.map(function(E){return E/b})},x.squareItems=function(v){return v.map(function(b){return b*b})},x.normalize=function(v){return this.divItems(v,this.vectorLen(v))},x}(),C=function(){function x(){r(this,x)}return x.q=function(v,b){var E=1-b,A=m.mulItems(v[0],E*E*E),$=m.mulItems(v[1],3*E*E*b),M=m.mulItems(v[2],3*E*b*b),I=m.mulItems(v[3],b*b*b);return m.addArrays(m.addArrays(A,$),m.addArrays(M,I))},x.qprime=function(v,b){var E=1-b,A=m.mulItems(m.subtract(v[1],v[0]),3*E*E),$=m.mulItems(m.subtract(v[2],v[1]),6*E*b),M=m.mulItems(m.subtract(v[3],v[2]),3*b*b);return m.addArrays(m.addArrays(A,$),M)},x.qprimeprime=function(v,b){return m.addArrays(m.mulItems(m.addArrays(m.subtract(v[2],m.mulItems(v[1],2)),v[0]),6*(1-b)),m.mulItems(m.addArrays(m.subtract(v[3],m.mulItems(v[2],2)),v[1]),6*b))},x}();n.exports=i,n.exports.fitCubic=o,n.exports.createTangent=y})})(Jte);const EP=t=>{const{value:e,parser:n,prefix:r,onChange:i,onKeyDown:o}=t,s=P.useRef(null),a=P.useRef(!1);return P.useEffect(()=>{s.current&&(s.current.value=String(e))},[e]),S.jsxs("div",{className:qo("suika-custom-ruler-input-box",t.classNames),children:[r&&S.jsx("div",{className:"suika-custom-input-prefix",children:r}),S.jsx("input",{ref:s,className:"custom-rule-input",defaultValue:e,onMouseUp:l=>{const u=l.currentTarget;a.current||u.select(),a.current=!0},onKeyDown:l=>{o==null||o(l),l.key==="Enter"&&!l.nativeEvent.isComposing&&l.currentTarget.blur()},onBlur:l=>{a.current=!1;const u=window.getSelection();if(u&&u.removeAllRanges(),s.current){const h=s.current.value.trim(),d=n(h,e);d!==!1?(l.target.value=String(d),i(d)):l.target.value=String(e)}}})]})},ene=t=>!Number.isNaN(Number(t)),dx=t=>{const{value:e,min:n=-1/0,max:r=1/0,onChange:i,prefix:o,suffixValue:s="",classNames:a,onIncrement:l,onDecrement:u}=t,h=P.useRef(null);return P.useEffect(()=>{h.current&&(h.current.value=String(e))},[e]),S.jsx(EP,{prefix:o,parser:d=>{d=d.trim(),s&&d.endsWith(s)&&(d=d.slice(0,-s.length));let p=D8(d);return!Number.isNaN(p)&&p!==e?(p=Math.max(n,p),p=Math.min(r,p),String(p)):!1},value:ene(String(e))?e+s:e,classNames:a,onChange:d=>i(Number(d)),onKeyDown:d=>{d.key==="ArrowUp"?(d.preventDefault(),l==null||l()):d.key==="ArrowDown"&&(d.preventDefault(),u==null||u())}})},fx=t=>{const e=typeof t.value=="number"?Number((t.value*100).toFixed(2)):t.value,n=o=>t.onChange(o/100),r=t.min===void 0?void 0:t.min*100,i=t.max===void 0?void 0:t.max*100;return S.jsx(dx,{value:e,min:r,max:i,suffixValue:"%",onChange:n,prefix:t.prefix,classNames:t.classNames,onIncrement:t.onIncrement,onDecrement:t.onDecrement})},tne=()=>{const t=P.useContext(yr),n=Oo().formatMessage({id:"mixed"}),[r,i]=P.useState([]);P.useEffect(()=>{if(t){const a=()=>{const l=t.selectedElements.getItems(),u=new Map;for(const h of l){const d=h.getInfoPanelAttrs();for(const p of d){p.uiType==="number"&&(p.value=Lv(p.value,2));const g=p.label;u.has(g)?u.get(g).value!==p.value&&(u.get(g).value=n):u.set(g,p)}}i(Array.from(u.values()))};return a(),t.sceneGraph.on("render",a),()=>{t.sceneGraph.off("render",a)}}},[t,n]);const o=(a,l,u=!1)=>{if(!t)return!1;const h=t.selectedElements.getItems(),d={editor:t,graphicsArr:h,val:l,isDelta:u};a==="x"?jn.setX(d):a==="y"?jn.setY(d):a==="width"?jn.setWidth(d):a==="height"?jn.setHeight(d):a==="rotation"?jn.setRotation({editor:t,graphicsArr:h,rotation:qte(Zte(l)),isDelta:u}):a==="cornerRadius"?jn.setCornerRadius(d):a==="count"?jn.setCount({editor:t,graphicsArr:h,val:Math.round(l),isDelta:u}):a==="starInnerScale"&&jn.setStarInnerScale(d),t.render()},s=a=>({onChange:l=>{o(a,l)},onIncrement:()=>{o(a,a==="starInnerScale"?.01:1,!0)},onDecrement:()=>{o(a,a==="starInnerScale"?-.01:-1,!0)}});return S.jsxs(dh,{children:[S.jsx("div",{className:"element-info-attrs-row",children:r.slice(0,2).map(a=>P.createElement(Ed,{...a,key:a.key,...s(a.key)}))}),S.jsx("div",{className:"element-info-attrs-row",children:r.slice(2,4).map(a=>P.createElement(Ed,{...a,key:a.key,...s(a.key)}))}),S.jsx("div",{className:"element-info-attrs-row",children:r.slice(4,6).map(a=>P.createElement(Ed,{...a,key:a.key,...s(a.key)}))}),r.length>6&&S.jsx("div",{className:"element-info-attrs-row",children:r.slice(6,8).map(a=>P.createElement(Ed,{...a,key:a.key,...s(a.key)}))})]})},Ed=t=>t.uiType==="percent"?S.jsx(fx,{prefix:S.jsx("span",{className:"suika-info-attrs-label",children:t.label}),value:t.value,min:t.min,max:t.max,onChange:t.onChange,onIncrement:t.onIncrement,onDecrement:t.onDecrement}):S.jsx(dx,{prefix:S.jsx("span",{className:"suika-info-attrs-label",children:t.label}),value:t.value,min:t.min,max:t.max,onChange:t.onChange,suffixValue:t.suffixValue,onIncrement:t.onIncrement,onDecrement:t.onDecrement}),nne=({value:t,onChange:e})=>{const n=P.useRef(null);return y5(()=>{const r=document.createElement("input");r.type="file",r.accept="image/*",r.onchange=i=>{var a;const o=(a=i.target.files)==null?void 0:a[0];if(!o)return;const s=new FileReader;s.onload=l=>{var h;const u=(h=l.target)==null?void 0:h.result;setTimeout(()=>{e(u)})},s.readAsDataURL(o)},n.current=r}),S.jsx("div",{className:"suika-image-picker",children:S.jsxs("div",{className:"suika-img-content",children:[S.jsx("img",{className:"suika-img-preview",src:t||ST}),S.jsx("div",{className:"suika-img-choose-btn-wrapper",children:S.jsx("button",{className:"suika-img-choose-btn",onClick:()=>{var r;return(r=n.current)==null?void 0:r.click()},children:S.jsx(gt,{id:"uploadFile"})})})]})})};var Ur={},jh={},rne=za,ine=lo,one=is,sne="[object String]";function ane(t){return typeof t=="string"||!ine(t)&&one(t)&&rne(t)==sne}var lne=ane;function cne(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var une=cne,hne=une,dne=hne(),fne=dne,pne=fne,gne=Rh;function mne(t,e){return t&&pne(t,e,gne)}var _P=mne;function yne(t){return t}var kP=yne,vne=kP;function wne(t){return typeof t=="function"?t:vne}var xne=wne,bne=_P,Sne=xne;function Cne(t,e){return t&&bne(t,Sne(e))}var px=Cne,Ene=P5,_ne=Ene(Object.getPrototypeOf,Object),gx=_ne,kne=za,$ne=gx,Tne=is,Ane="[object Object]",Mne=Function.prototype,Pne=Object.prototype,$P=Mne.toString,Ine=Pne.hasOwnProperty,One=$P.call(Object);function Rne(t){if(!Tne(t)||kne(t)!=Ane)return!1;var e=$ne(t);if(e===null)return!0;var n=Ine.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$P.call(n)==One}var jne=Rne;function Dne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TP=Dne,Lne=Xw,Nne=j5,Bne=1,Fne=2;function Hne(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],h=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Lne;if(r)var p=r(u,h,l,t,e,d);if(!(p===void 0?Nne(h,u,Bne|Fne,r,d):p))return!1}}return!0}var zne=Hne,Une=Ys;function Gne(t){return t===t&&!Une(t)}var AP=Gne,Vne=AP,Wne=Rh;function Xne(t){for(var e=Wne(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vne(i)]}return e}var Kne=Xne;function Yne(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var MP=Yne,Zne=zne,qne=Kne,Qne=MP;function Jne(t){var e=qne(t);return e.length==1&&e[0][2]?Qne(e[0][0],e[0][1]):function(n){return n===t||Zne(n,t,e)}}var ere=Jne,tre=lo,nre=Ng,rre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ire=/^\w*$/;function ore(t,e){if(tre(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nre(t)?!0:ire.test(t)||!rre.test(t)||e!=null&&t in Object(e)}var mx=ore,PP=Ww,sre="Expected a function";function yx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(yx.Cache||PP),n}yx.Cache=PP;var are=yx,lre=are,cre=500;function ure(t){var e=lre(t,function(r){return n.size===cre&&n.clear(),r}),n=e.cache;return e}var hre=ure,dre=hre,fre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pre=/\\(\\)?/g,gre=dre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fre,function(n,r,i,o){e.push(i?o.replace(pre,"$1"):r||n)}),e}),mre=gre,CE=Oh,yre=TP,vre=lo,wre=Ng,xre=1/0,EE=CE?CE.prototype:void 0,_E=EE?EE.toString:void 0;function IP(t){if(typeof t=="string")return t;if(vre(t))return yre(t,IP)+"";if(wre(t))return _E?_E.call(t):"";var e=t+"";return e=="0"&&1/t==-xre?"-0":e}var bre=IP,Sre=bre;function Cre(t){return t==null?"":Sre(t)}var Ere=Cre,_re=lo,kre=mx,$re=mre,Tre=Ere;function Are(t,e){return _re(t)?t:kre(t,e)?[t]:$re(Tre(t))}var OP=Are,Mre=Ng,Pre=1/0;function Ire(t){if(typeof t=="string"||Mre(t))return t;var e=t+"";return e=="0"&&1/t==-Pre?"-0":e}var Jg=Ire,Ore=OP,Rre=Jg;function jre(t,e){e=Ore(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rre(e[n++])];return n&&n==r?t:void 0}var RP=jre,Dre=RP;function Lre(t,e,n){var r=t==null?void 0:Dre(t,e);return r===void 0?n:r}var Nre=Lre;function Bre(t,e){return t!=null&&e in Object(t)}var Fre=Bre,Hre=OP,zre=$5,Ure=lo,Gre=T5,Vre=Zw,Wre=Jg;function Xre(t,e,n){e=Hre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Wre(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Vre(i)&&Gre(s,i)&&(Ure(t)||zre(t)))}var Kre=Xre,Yre=Fre,Zre=Kre;function qre(t,e){return t!=null&&Zre(t,e,Yre)}var Qre=qre,Jre=j5,eie=Nre,tie=Qre,nie=mx,rie=AP,iie=MP,oie=Jg,sie=1,aie=2;function lie(t,e){return nie(t)&&rie(e)?iie(oie(t),e):function(n){var r=eie(n,t);return r===void 0&&r===e?tie(n,t):Jre(e,r,sie|aie)}}var cie=lie;function uie(t){return function(e){return e==null?void 0:e[t]}}var hie=uie,die=RP;function fie(t){return function(e){return die(e,t)}}var pie=fie,gie=hie,mie=pie,yie=mx,vie=Jg;function wie(t){return yie(t)?gie(vie(t)):mie(t)}var xie=wie,bie=ere,Sie=cie,Cie=kP,Eie=lo,_ie=xie;function kie(t){return typeof t=="function"?t:t==null?Cie:typeof t=="object"?Eie(t)?Sie(t[0],t[1]):bie(t):_ie(t)}var $ie=kie,Tie=Gg;function Aie(t,e){return function(n,r){if(n==null)return n;if(!Tie(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Mie=Aie,Pie=_P,Iie=Mie,Oie=Iie(Pie),Rie=Oie,jie=Rie,Die=Gg;function Lie(t,e){var n=-1,r=Die(t)?Array(t.length):[];return jie(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Nie=Lie,Bie=TP,Fie=$ie,Hie=Nie,zie=lo;function Uie(t,e){var n=zie(t)?Bie:Hie;return n(t,Fie(e))}var Gie=Uie;Object.defineProperty(jh,"__esModule",{value:!0});jh.flattenNames=void 0;var Vie=lne,Wie=e0(Vie),Xie=px,Kie=e0(Xie),Yie=jne,Zie=e0(Yie),qie=Gie,Qie=e0(qie);function e0(t){return t&&t.__esModule?t:{default:t}}var Jie=jh.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Qie.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Zie.default)(r)?(0,Kie.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,Wie.default)(r)&&n.push(r)}),n};jh.default=Jie;var Dh={};function eoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var toe=eoe,noe=Ua,roe=function(){try{var t=noe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ioe=roe,kE=ioe;function ooe(t,e,n){e=="__proto__"&&kE?kE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jP=ooe,soe=jP,aoe=Gw,loe=Object.prototype,coe=loe.hasOwnProperty;function uoe(t,e,n){var r=t[e];(!(coe.call(t,e)&&aoe(r,n))||n===void 0&&!(e in t))&&soe(t,e,n)}var DP=uoe,hoe=DP,doe=jP;function foe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?doe(n,a,l):hoe(n,a,l)}return n}var t0=foe,poe=t0,goe=Rh;function moe(t,e){return t&&poe(e,goe(e),t)}var yoe=moe;function voe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var woe=voe,xoe=Ys,boe=Jw,Soe=woe,Coe=Object.prototype,Eoe=Coe.hasOwnProperty;function _oe(t){if(!xoe(t))return Soe(t);var e=boe(t),n=[];for(var r in t)r=="constructor"&&(e||!Eoe.call(t,r))||n.push(r);return n}var koe=_oe,$oe=M5,Toe=koe,Aoe=Gg;function Moe(t){return Aoe(t)?$oe(t,!0):Toe(t)}var vx=Moe,Poe=t0,Ioe=vx;function Ooe(t,e){return t&&Poe(e,Ioe(e),t)}var Roe=Ooe,$p={exports:{}};$p.exports;(function(t,e){var n=ao,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,h){if(h)return u.slice();var d=u.length,p=a?a(d):new u.constructor(d);return u.copy(p),p}t.exports=l})($p,$p.exports);var joe=$p.exports;function Doe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Loe=Doe,Noe=t0,Boe=Kw;function Foe(t,e){return Noe(t,Boe(t),e)}var Hoe=Foe,zoe=C5,Uoe=gx,Goe=Kw,Voe=_5,Woe=Object.getOwnPropertySymbols,Xoe=Woe?function(t){for(var e=[];t;)zoe(e,Goe(t)),t=Uoe(t);return e}:Voe,LP=Xoe,Koe=t0,Yoe=LP;function Zoe(t,e){return Koe(t,Yoe(t),e)}var qoe=Zoe,Qoe=E5,Joe=LP,ese=vx;function tse(t){return Qoe(t,ese,Joe)}var nse=tse,rse=Object.prototype,ise=rse.hasOwnProperty;function ose(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ise.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sse=ose,$E=S5;function ase(t){var e=new t.constructor(t.byteLength);return new $E(e).set(new $E(t)),e}var wx=ase,lse=wx;function cse(t,e){var n=e?lse(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var use=cse,hse=/\w*$/;function dse(t){var e=new t.constructor(t.source,hse.exec(t));return e.lastIndex=t.lastIndex,e}var fse=dse,TE=Oh,AE=TE?TE.prototype:void 0,ME=AE?AE.valueOf:void 0;function pse(t){return ME?Object(ME.call(t)):{}}var gse=pse,mse=wx;function yse(t,e){var n=e?mse(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var vse=yse,wse=wx,xse=use,bse=fse,Sse=gse,Cse=vse,Ese="[object Boolean]",_se="[object Date]",kse="[object Map]",$se="[object Number]",Tse="[object RegExp]",Ase="[object Set]",Mse="[object String]",Pse="[object Symbol]",Ise="[object ArrayBuffer]",Ose="[object DataView]",Rse="[object Float32Array]",jse="[object Float64Array]",Dse="[object Int8Array]",Lse="[object Int16Array]",Nse="[object Int32Array]",Bse="[object Uint8Array]",Fse="[object Uint8ClampedArray]",Hse="[object Uint16Array]",zse="[object Uint32Array]";function Use(t,e,n){var r=t.constructor;switch(e){case Ise:return wse(t);case Ese:case _se:return new r(+t);case Ose:return xse(t,n);case Rse:case jse:case Dse:case Lse:case Nse:case Bse:case Fse:case Hse:case zse:return Cse(t,n);case kse:return new r;case $se:case Mse:return new r(t);case Tse:return bse(t);case Ase:return new r;case Pse:return Sse(t)}}var Gse=Use,Vse=Ys,PE=Object.create,Wse=function(){function t(){}return function(e){if(!Vse(e))return{};if(PE)return PE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Xse=Wse,Kse=Xse,Yse=gx,Zse=Jw;function qse(t){return typeof t.constructor=="function"&&!Zse(t)?Kse(Yse(t)):{}}var Qse=qse,Jse=Vg,eae=is,tae="[object Map]";function nae(t){return eae(t)&&Jse(t)==tae}var rae=nae,iae=rae,oae=qw,IE=Qw,OE=IE&&IE.isMap,sae=OE?oae(OE):iae,aae=sae,lae=Vg,cae=is,uae="[object Set]";function hae(t){return cae(t)&&lae(t)==uae}var dae=hae,fae=dae,pae=qw,RE=Qw,jE=RE&&RE.isSet,gae=jE?pae(jE):fae,mae=gae,yae=Xw,vae=toe,wae=DP,xae=yoe,bae=Roe,Sae=joe,Cae=Loe,Eae=Hoe,_ae=qoe,kae=I5,$ae=nse,Tae=Vg,Aae=sse,Mae=Gse,Pae=Qse,Iae=lo,Oae=Yw,Rae=aae,jae=Ys,Dae=mae,Lae=Rh,Nae=vx,Bae=1,Fae=2,Hae=4,NP="[object Arguments]",zae="[object Array]",Uae="[object Boolean]",Gae="[object Date]",Vae="[object Error]",BP="[object Function]",Wae="[object GeneratorFunction]",Xae="[object Map]",Kae="[object Number]",FP="[object Object]",Yae="[object RegExp]",Zae="[object Set]",qae="[object String]",Qae="[object Symbol]",Jae="[object WeakMap]",ele="[object ArrayBuffer]",tle="[object DataView]",nle="[object Float32Array]",rle="[object Float64Array]",ile="[object Int8Array]",ole="[object Int16Array]",sle="[object Int32Array]",ale="[object Uint8Array]",lle="[object Uint8ClampedArray]",cle="[object Uint16Array]",ule="[object Uint32Array]",Ke={};Ke[NP]=Ke[zae]=Ke[ele]=Ke[tle]=Ke[Uae]=Ke[Gae]=Ke[nle]=Ke[rle]=Ke[ile]=Ke[ole]=Ke[sle]=Ke[Xae]=Ke[Kae]=Ke[FP]=Ke[Yae]=Ke[Zae]=Ke[qae]=Ke[Qae]=Ke[ale]=Ke[lle]=Ke[cle]=Ke[ule]=!0;Ke[Vae]=Ke[BP]=Ke[Jae]=!1;function rf(t,e,n,r,i,o){var s,a=e&Bae,l=e&Fae,u=e&Hae;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!jae(t))return t;var h=Iae(t);if(h){if(s=Aae(t),!a)return Cae(t,s)}else{var d=Tae(t),p=d==BP||d==Wae;if(Oae(t))return Sae(t,a);if(d==FP||d==NP||p&&!i){if(s=l||p?{}:Pae(t),!a)return l?_ae(t,bae(s,t)):Eae(t,xae(s,t))}else{if(!Ke[d])return i?t:{};s=Mae(t,d,a)}}o||(o=new yae);var g=o.get(t);if(g)return g;o.set(t,s),Dae(t)?t.forEach(function(C){s.add(rf(C,e,n,C,t,o))}):Rae(t)&&t.forEach(function(C,x){s.set(x,rf(C,e,n,x,t,o))});var y=u?l?$ae:kae:l?Nae:Lae,m=h?void 0:y(t);return vae(m||t,function(C,x){m&&(x=C,C=t[x]),wae(s,x,rf(C,e,n,x,t,o))}),s}var hle=rf,dle=hle,fle=1,ple=4;function gle(t){return dle(t,fle|ple)}var mle=gle;Object.defineProperty(Dh,"__esModule",{value:!0});Dh.mergeClasses=void 0;var yle=px,vle=HP(yle),wle=mle,xle=HP(wle),ble=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function HP(t){return t&&t.__esModule?t:{default:t}}var Sle=Dh.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,xle.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,vle.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=ble({},r[a],o[a])}),i}),r};Dh.default=Sle;var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.autoprefix=void 0;var Cle=px,DE=_le(Cle),Ele=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function _le(t){return t&&t.__esModule?t:{default:t}}var kle={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},$le=Lh.autoprefix=function(e){var n={};return(0,DE.default)(e,function(r,i){var o={};(0,DE.default)(r,function(s,a){var l=kle[a];l?o=Ele({},o,l(s)):o[a]=s}),n[i]=o}),n};Lh.default=$le;var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.hover=void 0;var Tle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ale=P,Sm=Mle(Ale);function Mle(t){return t&&t.__esModule?t:{default:t}}function Ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ole=Nh.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Ile(i,r);function i(){var o,s,a,l;Ple(this,i);for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];return l=(s=(a=LE(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Sm.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Sm.default.createElement(e,Tle({},a.props,a.state)))},s),LE(a,l)}return i}(Sm.default.Component)};Nh.default=Ole;var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.active=void 0;var Rle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jle=P,Cm=Dle(jle);function Dle(t){return t&&t.__esModule?t:{default:t}}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ble=Bh.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Nle(i,r);function i(){var o,s,a,l;Lle(this,i);for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];return l=(s=(a=NE(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Cm.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Cm.default.createElement(e,Rle({},a.props,a.state)))},s),NE(a,l)}return i}(Cm.default.Component)};Bh.default=Ble;var xx={};Object.defineProperty(xx,"__esModule",{value:!0});var Fle=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};xx.default=Fle;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.ReactCSS=Ur.loop=Ur.handleActive=bx=Ur.handleHover=Ur.hover=void 0;var Hle=jh,zle=Rc(Hle),Ule=Dh,Gle=Rc(Ule),Vle=Lh,Wle=Rc(Vle),Xle=Nh,zP=Rc(Xle),Kle=Bh,Yle=Rc(Kle),Zle=xx,qle=Rc(Zle);function Rc(t){return t&&t.__esModule?t:{default:t}}Ur.hover=zP.default;var bx=Ur.handleHover=zP.default;Ur.handleActive=Yle.default;Ur.loop=qle.default;var Qle=Ur.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,zle.default)(r),s=(0,Gle.default)(e,o);return(0,Wle.default)(s)},ye=Ur.default=Qle,Jle=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var g=void 0;if(h<0?g=0:h>s?g=1:g=Math.round(h*100/s)/100,i!==g)return{h:n.h,s:n.s,l:n.l,a:g,source:"rgb"}}return null},Em={},ece=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},tce=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(Em[o])return Em[o];var s=ece(e,n,r,i);return Em[o]=s,s},BE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=ye({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+tce(n,r,i,o.canvas)+") center left"}}});return P.isValidElement(l)?T.cloneElement(l,BE({},l.props,{style:BE({},l.props.style,u.grid)})):T.createElement("div",{style:u.grid})};jc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var nce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sx=function(t){oce(e,t);function e(){var n,r,i,o;ice(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=FE(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=Jle(u,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),FE(i,o)}return rce(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=ye({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:nce({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return T.createElement("div",{style:o.alpha},T.createElement("div",{style:o.checkboard},T.createElement(jc,{renderers:this.props.renderers})),T.createElement("div",{style:o.gradient}),T.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},T.createElement("div",{style:o.pointer},this.props.pointer?T.createElement(this.props.pointer,this.props):T.createElement("div",{style:o.slider}))))}}]),e}(P.PureComponent||P.Component),sce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ace(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cce(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hce=1,UP=38,dce=40,fce=[UP,dce],pce=function(e){return fce.indexOf(e)>-1},gce=function(e){return Number(String(e).replace(/%/g,""))},mce=1,Me=function(t){uce(e,t);function e(n){lce(this,e);var r=cce(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=gce(i.target.value);if(!isNaN(o)&&pce(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===UP?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+mce++,r}return sce(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return ace({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||hce}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=ye({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return T.createElement("div",{style:i.wrap},T.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?T.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(P.PureComponent||P.Component),yce=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(h<0)d=359;else if(h>s)d=0;else{var p=-(h*100/s)+100;d=360*p/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var g=void 0;if(u<0)g=0;else if(u>o)g=359;else{var y=u*100/o;g=360*y/100}if(r.h!==g)return{h:g,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},vce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dc=function(t){xce(e,t);function e(){var n,r,i,o;wce(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=HE(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=yce(u,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),HE(i,o)}return vce(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=ye({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return T.createElement("div",{style:s.hue},T.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},T.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),T.createElement("div",{style:s.pointer},this.props.pointer?T.createElement(this.props.pointer,this.props):T.createElement("div",{style:s.slider}))))}}]),e}(P.PureComponent||P.Component),GP={exports:{}},bce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sce=bce,Cce=Sce;function VP(){}function WP(){}WP.resetWarningCache=VP;var Ece=function(){function t(r,i,o,s,a,l){if(l!==Cce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WP,resetWarningCache:VP};return n.PropTypes=n,n};GP.exports=Ece();var _ce=GP.exports;const Z=Rp(_ce);function kce(){this.__data__=[],this.size=0}function Fh(t,e){return t===e||t!==t&&e!==e}function n0(t,e){for(var n=t.length;n--;)if(Fh(t[n][0],e))return n;return-1}var $ce=Array.prototype,Tce=$ce.splice;function Ace(t){var e=this.__data__,n=n0(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Tce.call(e,n,1),--this.size,!0}function Mce(t){var e=this.__data__,n=n0(e,t);return n<0?void 0:e[n][1]}function Pce(t){return n0(this.__data__,t)>-1}function Ice(t,e){var n=this.__data__,r=n0(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function os(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}os.prototype.clear=kce;os.prototype.delete=Ace;os.prototype.get=Mce;os.prototype.has=Pce;os.prototype.set=Ice;function Oce(){this.__data__=new os,this.size=0}function Rce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function jce(t){return this.__data__.get(t)}function Dce(t){return this.__data__.has(t)}var XP=typeof global=="object"&&global&&global.Object===Object&&global,Lce=typeof self=="object"&&self&&self.Object===Object&&self,co=XP||Lce||Function("return this")(),zs=co.Symbol,KP=Object.prototype,Nce=KP.hasOwnProperty,Bce=KP.toString,Yc=zs?zs.toStringTag:void 0;function Fce(t){var e=Nce.call(t,Yc),n=t[Yc];try{t[Yc]=void 0;var r=!0}catch{}var i=Bce.call(t);return r&&(e?t[Yc]=n:delete t[Yc]),i}var Hce=Object.prototype,zce=Hce.toString;function Uce(t){return zce.call(t)}var Gce="[object Null]",Vce="[object Undefined]",zE=zs?zs.toStringTag:void 0;function Ga(t){return t==null?t===void 0?Vce:Gce:zE&&zE in Object(t)?Fce(t):Uce(t)}function Kr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wce="[object AsyncFunction]",Xce="[object Function]",Kce="[object GeneratorFunction]",Yce="[object Proxy]";function Cx(t){if(!Kr(t))return!1;var e=Ga(t);return e==Xce||e==Kce||e==Wce||e==Yce}var _m=co["__core-js_shared__"],UE=function(){var t=/[^.]+$/.exec(_m&&_m.keys&&_m.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Zce(t){return!!UE&&UE in t}var qce=Function.prototype,Qce=qce.toString;function Va(t){if(t!=null){try{return Qce.call(t)}catch{}try{return t+""}catch{}}return""}var Jce=/[\\^$.*+?()[\]{}|]/g,eue=/^\[object .+?Constructor\]$/,tue=Function.prototype,nue=Object.prototype,rue=tue.toString,iue=nue.hasOwnProperty,oue=RegExp("^"+rue.call(iue).replace(Jce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sue(t){if(!Kr(t)||Zce(t))return!1;var e=Cx(t)?oue:eue;return e.test(Va(t))}function aue(t,e){return t==null?void 0:t[e]}function Wa(t,e){var n=aue(t,e);return sue(n)?n:void 0}var fh=Wa(co,"Map"),ph=Wa(Object,"create");function lue(){this.__data__=ph?ph(null):{},this.size=0}function cue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uue="__lodash_hash_undefined__",hue=Object.prototype,due=hue.hasOwnProperty;function fue(t){var e=this.__data__;if(ph){var n=e[t];return n===uue?void 0:n}return due.call(e,t)?e[t]:void 0}var pue=Object.prototype,gue=pue.hasOwnProperty;function mue(t){var e=this.__data__;return ph?e[t]!==void 0:gue.call(e,t)}var yue="__lodash_hash_undefined__";function vue(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ph&&e===void 0?yue:e,this}function ja(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ja.prototype.clear=lue;ja.prototype.delete=cue;ja.prototype.get=fue;ja.prototype.has=mue;ja.prototype.set=vue;function wue(){this.size=0,this.__data__={hash:new ja,map:new(fh||os),string:new ja}}function xue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function r0(t,e){var n=t.__data__;return xue(e)?n[typeof e=="string"?"string":"hash"]:n.map}function bue(t){var e=r0(this,t).delete(t);return this.size-=e?1:0,e}function Sue(t){return r0(this,t).get(t)}function Cue(t){return r0(this,t).has(t)}function Eue(t,e){var n=r0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ss.prototype.clear=wue;ss.prototype.delete=bue;ss.prototype.get=Sue;ss.prototype.has=Cue;ss.prototype.set=Eue;var _ue=200;function kue(t,e){var n=this.__data__;if(n instanceof os){var r=n.__data__;if(!fh||r.length<_ue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ss(r)}return n.set(t,e),this.size=n.size,this}function ko(t){var e=this.__data__=new os(t);this.size=e.size}ko.prototype.clear=Oce;ko.prototype.delete=Rce;ko.prototype.get=jce;ko.prototype.has=Dce;ko.prototype.set=kue;var Tp=function(){try{var t=Wa(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Ex(t,e,n){e=="__proto__"&&Tp?Tp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function A1(t,e,n){(n!==void 0&&!Fh(t[e],n)||n===void 0&&!(e in t))&&Ex(t,e,n)}function $ue(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var YP=$ue(),ZP=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,GE=ZP&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,Tue=GE&&GE.exports===ZP,VE=Tue?co.Buffer:void 0,WE=VE?VE.allocUnsafe:void 0;function Aue(t,e){if(e)return t.slice();var n=t.length,r=WE?WE(n):new t.constructor(n);return t.copy(r),r}var Ap=co.Uint8Array;function Mue(t){var e=new t.constructor(t.byteLength);return new Ap(e).set(new Ap(t)),e}function Pue(t,e){var n=e?Mue(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Iue(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var XE=Object.create,Oue=function(){function t(){}return function(e){if(!Kr(e))return{};if(XE)return XE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function qP(t,e){return function(n){return t(e(n))}}var Rue=qP(Object.getPrototypeOf,Object);const QP=Rue;var jue=Object.prototype;function _x(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jue;return t===n}function Due(t){return typeof t.constructor=="function"&&!_x(t)?Oue(QP(t)):{}}function Us(t){return t!=null&&typeof t=="object"}var Lue="[object Arguments]";function KE(t){return Us(t)&&Ga(t)==Lue}var JP=Object.prototype,Nue=JP.hasOwnProperty,Bue=JP.propertyIsEnumerable,Fue=KE(function(){return arguments}())?KE:function(t){return Us(t)&&Nue.call(t,"callee")&&!Bue.call(t,"callee")};const Mp=Fue;var Rr=Array.isArray,Hue=9007199254740991;function kx(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hue}function Lc(t){return t!=null&&kx(t.length)&&!Cx(t)}function zue(t){return Us(t)&&Lc(t)}function Uue(){return!1}var eI=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,YE=eI&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,Gue=YE&&YE.exports===eI,ZE=Gue?co.Buffer:void 0,Vue=ZE?ZE.isBuffer:void 0,Pp=Vue||Uue,Wue="[object Object]",Xue=Function.prototype,Kue=Object.prototype,tI=Xue.toString,Yue=Kue.hasOwnProperty,Zue=tI.call(Object);function que(t){if(!Us(t)||Ga(t)!=Wue)return!1;var e=QP(t);if(e===null)return!0;var n=Yue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&tI.call(n)==Zue}var Que="[object Arguments]",Jue="[object Array]",ehe="[object Boolean]",the="[object Date]",nhe="[object Error]",rhe="[object Function]",ihe="[object Map]",ohe="[object Number]",she="[object Object]",ahe="[object RegExp]",lhe="[object Set]",che="[object String]",uhe="[object WeakMap]",hhe="[object ArrayBuffer]",dhe="[object DataView]",fhe="[object Float32Array]",phe="[object Float64Array]",ghe="[object Int8Array]",mhe="[object Int16Array]",yhe="[object Int32Array]",vhe="[object Uint8Array]",whe="[object Uint8ClampedArray]",xhe="[object Uint16Array]",bhe="[object Uint32Array]",Je={};Je[fhe]=Je[phe]=Je[ghe]=Je[mhe]=Je[yhe]=Je[vhe]=Je[whe]=Je[xhe]=Je[bhe]=!0;Je[Que]=Je[Jue]=Je[hhe]=Je[ehe]=Je[dhe]=Je[the]=Je[nhe]=Je[rhe]=Je[ihe]=Je[ohe]=Je[she]=Je[ahe]=Je[lhe]=Je[che]=Je[uhe]=!1;function She(t){return Us(t)&&kx(t.length)&&!!Je[Ga(t)]}function Che(t){return function(e){return t(e)}}var nI=typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,ku=nI&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,Ehe=ku&&ku.exports===nI,km=Ehe&&XP.process,qE=function(){try{var t=ku&&ku.require&&ku.require("util").types;return t||km&&km.binding&&km.binding("util")}catch{}}(),QE=qE&&qE.isTypedArray,$x=QE?Che(QE):She;function M1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var _he=Object.prototype,khe=_he.hasOwnProperty;function $he(t,e,n){var r=t[e];(!(khe.call(t,e)&&Fh(r,n))||n===void 0&&!(e in t))&&Ex(t,e,n)}function The(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Ex(n,a,l):$he(n,a,l)}return n}function Ahe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Mhe=9007199254740991,Phe=/^(?:0|[1-9]\d*)$/;function Tx(t,e){var n=typeof t;return e=e??Mhe,!!e&&(n=="number"||n!="symbol"&&Phe.test(t))&&t>-1&&t%1==0&&t<e}var Ihe=Object.prototype,Ohe=Ihe.hasOwnProperty;function rI(t,e){var n=Rr(t),r=!n&&Mp(t),i=!n&&!r&&Pp(t),o=!n&&!r&&!i&&$x(t),s=n||r||i||o,a=s?Ahe(t.length,String):[],l=a.length;for(var u in t)(e||Ohe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tx(u,l)))&&a.push(u);return a}function Rhe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var jhe=Object.prototype,Dhe=jhe.hasOwnProperty;function Lhe(t){if(!Kr(t))return Rhe(t);var e=_x(t),n=[];for(var r in t)r=="constructor"&&(e||!Dhe.call(t,r))||n.push(r);return n}function iI(t){return Lc(t)?rI(t,!0):Lhe(t)}function Nhe(t){return The(t,iI(t))}function Bhe(t,e,n,r,i,o,s){var a=M1(t,n),l=M1(e,n),u=s.get(l);if(u){A1(t,n,u);return}var h=o?o(a,l,n+"",t,e,s):void 0,d=h===void 0;if(d){var p=Rr(l),g=!p&&Pp(l),y=!p&&!g&&$x(l);h=l,p||g||y?Rr(a)?h=a:zue(a)?h=Iue(a):g?(d=!1,h=Aue(l,!0)):y?(d=!1,h=Pue(l,!0)):h=[]:que(l)||Mp(l)?(h=a,Mp(a)?h=Nhe(a):(!Kr(a)||Cx(a))&&(h=Due(l))):d=!1}d&&(s.set(l,h),i(h,l,r,o,s),s.delete(l)),A1(t,n,h)}function oI(t,e,n,r,i){t!==e&&YP(e,function(o,s){if(i||(i=new ko),Kr(o))Bhe(t,e,s,n,oI,r,i);else{var a=r?r(M1(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),A1(t,s,a)}},iI)}function i0(t){return t}function Fhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var JE=Math.max;function Hhe(t,e,n){return e=JE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=JE(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Fhe(t,this,a)}}function zhe(t){return function(){return t}}var Uhe=Tp?function(t,e){return Tp(t,"toString",{configurable:!0,enumerable:!1,value:zhe(e),writable:!0})}:i0;const Ghe=Uhe;var Vhe=800,Whe=16,Xhe=Date.now;function Khe(t){var e=0,n=0;return function(){var r=Xhe(),i=Whe-(r-n);if(n=r,i>0){if(++e>=Vhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Yhe=Khe(Ghe);function Zhe(t,e){return Yhe(Hhe(t,e,i0),t+"")}function qhe(t,e,n){if(!Kr(n))return!1;var r=typeof e;return(r=="number"?Lc(n)&&Tx(e,n.length):r=="string"&&e in n)?Fh(n[e],t):!1}function Qhe(t){return Zhe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&qhe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var vr=Qhe(function(t,e,n){oI(t,e,n)}),Hh=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=ye(vr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return T.createElement("div",{style:l.wrap},T.createElement("div",{style:l.bg}),T.createElement("div",{style:l.content},o))};Hh.propTypes={background:Z.string,zDepth:Z.oneOf([0,1,2,3,4,5]),radius:Z.number,styles:Z.object};Hh.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var $m=function(){return co.Date.now()},Jhe=/\s/;function ede(t){for(var e=t.length;e--&&Jhe.test(t.charAt(e)););return e}var tde=/^\s+/;function nde(t){return t&&t.slice(0,ede(t)+1).replace(tde,"")}var rde="[object Symbol]";function o0(t){return typeof t=="symbol"||Us(t)&&Ga(t)==rde}var e_=NaN,ide=/^[-+]0x[0-9a-f]+$/i,ode=/^0b[01]+$/i,sde=/^0o[0-7]+$/i,ade=parseInt;function t_(t){if(typeof t=="number")return t;if(o0(t))return e_;if(Kr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Kr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nde(t);var n=ode.test(t);return n||sde.test(t)?ade(t.slice(2),n?2:8):ide.test(t)?e_:+t}var lde="Expected a function",cde=Math.max,ude=Math.min;function sI(t,e,n){var r,i,o,s,a,l,u=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(lde);e=t_(e)||0,Kr(n)&&(h=!!n.leading,d="maxWait"in n,o=d?cde(t_(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g($){var M=r,I=i;return r=i=void 0,u=$,s=t.apply(I,M),s}function y($){return u=$,a=setTimeout(x,e),h?g($):s}function m($){var M=$-l,I=$-u,N=e-M;return d?ude(N,o-I):N}function C($){var M=$-l,I=$-u;return l===void 0||M>=e||M<0||d&&I>=o}function x(){var $=$m();if(C($))return v($);a=setTimeout(x,m($))}function v($){return a=void 0,p&&r?g($):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?s:v($m())}function A(){var $=$m(),M=C($);if(r=arguments,i=this,l=$,M){if(a===void 0)return y(l);if(d)return clearTimeout(a),a=setTimeout(x,e),g(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=b,A.flush=E,A}var hde="Expected a function";function dde(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hde);return Kr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sI(t,e,{leading:r,maxWait:e,trailing:i})}var fde=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),h<0?h=0:h>s&&(h=s);var d=u/o,p=1-h/s;return{h:n.h,s:d,v:p,a:n.a,source:"hsv"}},pde=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mde(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s0=function(t){yde(e,t);function e(n){gde(this,e);var r=mde(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,fde(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=dde(function(i,o,s){i(o,s)},50),r}return pde(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,h=ye({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return T.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},T.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),T.createElement("div",{style:h.white,className:"saturation-white"},T.createElement("div",{style:h.black,className:"saturation-black"}),T.createElement("div",{style:h.pointer},this.props.pointer?T.createElement(this.props.pointer,this.props):T.createElement("div",{style:h.circle}))))}}]),e}(P.PureComponent||P.Component);function vde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var wde=qP(Object.keys,Object),xde=Object.prototype,bde=xde.hasOwnProperty;function Sde(t){if(!_x(t))return wde(t);var e=[];for(var n in Object(t))bde.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ax(t){return Lc(t)?rI(t):Sde(t)}function Cde(t,e){return t&&YP(t,e,Ax)}function Ede(t,e){return function(n,r){if(n==null)return n;if(!Lc(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var _de=Ede(Cde);const aI=_de;function kde(t){return typeof t=="function"?t:i0}function $de(t,e){var n=Rr(t)?vde:aI;return n(t,kde(e))}function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}var Tde=/^\s+/,Ade=/\s+$/;function se(t,e){if(t=t||"",e=e||{},t instanceof se)return t;if(!(this instanceof se))return new se(t,e);var n=Mde(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}se.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=lI(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=n_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return i_(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Rde(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(rt(this._r,255)*100)+"%",g:Math.round(rt(this._g,255)*100)+"%",b:Math.round(rt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(rt(this._r,255)*100)+"%, "+Math.round(rt(this._g,255)*100)+"%, "+Math.round(rt(this._b,255)*100)+"%)":"rgba("+Math.round(rt(this._r,255)*100)+"%, "+Math.round(rt(this._g,255)*100)+"%, "+Math.round(rt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Wde[i_(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+o_(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=se(e);r="#"+o_(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return se(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Nde,arguments)},brighten:function(){return this._applyModification(Bde,arguments)},darken:function(){return this._applyModification(Fde,arguments)},desaturate:function(){return this._applyModification(jde,arguments)},saturate:function(){return this._applyModification(Dde,arguments)},greyscale:function(){return this._applyModification(Lde,arguments)},spin:function(){return this._applyModification(Hde,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Gde,arguments)},complement:function(){return this._applyCombination(zde,arguments)},monochromatic:function(){return this._applyCombination(Vde,arguments)},splitcomplement:function(){return this._applyCombination(Ude,arguments)},triad:function(){return this._applyCombination(s_,[3])},tetrad:function(){return this._applyCombination(s_,[4])}};se.fromRatio=function(t,e){if(Ip(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ou(t[r]));t=n}return se(t,e)};function Mde(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=Zde(t)),Ip(t)=="object"&&(jo(t.r)&&jo(t.g)&&jo(t.b)?(e=Pde(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):jo(t.h)&&jo(t.s)&&jo(t.v)?(r=ou(t.s),i=ou(t.v),e=Ode(t.h,r,i),s=!0,a="hsv"):jo(t.h)&&jo(t.s)&&jo(t.l)&&(r=ou(t.s),o=ou(t.l),e=Ide(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=lI(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Pde(t,e,n){return{r:rt(t,255)*255,g:rt(e,255)*255,b:rt(n,255)*255}}function n_(t,e,n){t=rt(t,255),e=rt(e,255),n=rt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function Ide(t,e,n){var r,i,o;t=rt(t,360),e=rt(e,100),n=rt(n,100);function s(u,h,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(h-u)*6*d:d<1/2?h:d<2/3?u+(h-u)*(2/3-d)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function r_(t,e,n){t=rt(t,255),e=rt(e,255),n=rt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function Ode(t,e,n){t=rt(t,360)*6,e=rt(e,100),n=rt(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],h=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:h*255,b:d*255}}function i_(t,e,n,r){var i=[Wi(Math.round(t).toString(16)),Wi(Math.round(e).toString(16)),Wi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Rde(t,e,n,r,i){var o=[Wi(Math.round(t).toString(16)),Wi(Math.round(e).toString(16)),Wi(Math.round(n).toString(16)),Wi(cI(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function o_(t,e,n,r){var i=[Wi(cI(r)),Wi(Math.round(t).toString(16)),Wi(Math.round(e).toString(16)),Wi(Math.round(n).toString(16))];return i.join("")}se.equals=function(t,e){return!t||!e?!1:se(t).toRgbString()==se(e).toRgbString()};se.random=function(){return se.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function jde(t,e){e=e===0?0:e||10;var n=se(t).toHsl();return n.s-=e/100,n.s=a0(n.s),se(n)}function Dde(t,e){e=e===0?0:e||10;var n=se(t).toHsl();return n.s+=e/100,n.s=a0(n.s),se(n)}function Lde(t){return se(t).desaturate(100)}function Nde(t,e){e=e===0?0:e||10;var n=se(t).toHsl();return n.l+=e/100,n.l=a0(n.l),se(n)}function Bde(t,e){e=e===0?0:e||10;var n=se(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),se(n)}function Fde(t,e){e=e===0?0:e||10;var n=se(t).toHsl();return n.l-=e/100,n.l=a0(n.l),se(n)}function Hde(t,e){var n=se(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,se(n)}function zde(t){var e=se(t).toHsl();return e.h=(e.h+180)%360,se(e)}function s_(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=se(t).toHsl(),r=[se(t)],i=360/e,o=1;o<e;o++)r.push(se({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Ude(t){var e=se(t).toHsl(),n=e.h;return[se(t),se({h:(n+72)%360,s:e.s,l:e.l}),se({h:(n+216)%360,s:e.s,l:e.l})]}function Gde(t,e,n){e=e||6,n=n||30;var r=se(t).toHsl(),i=360/n,o=[se(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(se(r));return o}function Vde(t,e){e=e||6;for(var n=se(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(se({h:r,s:i,v:o})),o=(o+a)%1;return s}se.mix=function(t,e,n){n=n===0?0:n||50;var r=se(t).toRgb(),i=se(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return se(s)};se.readability=function(t,e){var n=se(t),r=se(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};se.isReadable=function(t,e,n){var r=se.readability(t,e),i,o;switch(o=!1,i=qde(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};se.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=se.readability(t,e[u]),o>i&&(i=o,r=se(e[u]));return se.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,se.mostReadable(t,["#fff","#000"],n))};var P1=se.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Wde=se.hexNames=Xde(P1);function Xde(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function lI(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function rt(t,e){Kde(t)&&(t="100%");var n=Yde(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function a0(t){return Math.min(1,Math.max(0,t))}function xr(t){return parseInt(t,16)}function Kde(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Yde(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Wi(t){return t.length==1?"0"+t:""+t}function ou(t){return t<=1&&(t=t*100+"%"),t}function cI(t){return Math.round(parseFloat(t)*255).toString(16)}function a_(t){return xr(t)/255}var Bi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function jo(t){return!!Bi.CSS_UNIT.exec(t)}function Zde(t){t=t.replace(Tde,"").replace(Ade,"").toLowerCase();var e=!1;if(P1[t])t=P1[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Bi.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Bi.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Bi.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Bi.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Bi.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Bi.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Bi.hex8.exec(t))?{r:xr(n[1]),g:xr(n[2]),b:xr(n[3]),a:a_(n[4]),format:e?"name":"hex8"}:(n=Bi.hex6.exec(t))?{r:xr(n[1]),g:xr(n[2]),b:xr(n[3]),format:e?"name":"hex"}:(n=Bi.hex4.exec(t))?{r:xr(n[1]+""+n[1]),g:xr(n[2]+""+n[2]),b:xr(n[3]+""+n[3]),a:a_(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Bi.hex3.exec(t))?{r:xr(n[1]+""+n[1]),g:xr(n[2]+""+n[2]),b:xr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function qde(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var l_=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return $de(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},su=function(e,n){var r=e.hex?se(e.hex):se(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Zs=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&se(e).isValid()},Mx=function(e){if(!e)return"#fff";var n=su(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Tm=function(e,n){var r=e.replace("","");return se(n+" ("+r+")")._ok},Zc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qde=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Jde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wr=function(e){var n=function(r){tfe(i,r);function i(o){Jde(this,i);var s=efe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=l_(a);if(u){var h=su(a,a.h||s.state.oldHue);s.setState(h),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,h,l),s.props.onChange&&s.props.onChange(h,l)}},s.handleSwatchHover=function(a,l){var u=l_(a);if(u){var h=su(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(h,l)}},s.state=Zc({},su(o.color,0)),s.debounce=sI(function(a,l,u){a(l,u)},100),s}return Qde(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),T.createElement(e,Zc({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Zc({},su(s.color,a.oldHue))}}]),i}(P.PureComponent||P.Component);return n.propTypes=Zc({},e.propTypes),n.defaultProps=Zc({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},nfe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rfe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ife(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ofe(i,r);function i(){var o,s,a,l;ife(this,i);for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];return l=(s=(a=c_(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),c_(a,l)}return rfe(i,[{key:"render",value:function(){return T.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},T.createElement(e,nfe({},this.props,this.state)))}}]),i}(T.Component)},u_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},afe=13,lfe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,h=e.focus,d=e.focusStyle,p=d===void 0?{}:d,g=n==="transparent",y=ye({default:{swatch:u_({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),m=function(E){return o(n,E)},C=function(E){return E.keyCode===afe&&o(n,E)},x=function(E){return s(n,E)},v={};return s&&(v.onMouseOver=x),T.createElement("div",u_({style:y.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:C},v),u,g&&T.createElement(jc,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Xa=sfe(lfe);var cfe=function(e){var n=e.direction,r=ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return T.createElement("div",{style:r.picker})},ufe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uI=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,h=e.pointer,d=e.className,p=d===void 0?"":d,g=ye({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return T.createElement("div",{style:g.picker,className:"alpha-picker "+p},T.createElement(Sx,ufe({},g.alpha,{rgb:n,hsl:r,pointer:h,renderers:u,onChange:s,direction:a})))};uI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:cfe};wr(uI);function hI(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hfe="__lodash_hash_undefined__";function dfe(t){return this.__data__.set(t,hfe),this}function ffe(t){return this.__data__.has(t)}function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ss;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=dfe;Op.prototype.has=ffe;function pfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function gfe(t,e){return t.has(e)}var mfe=1,yfe=2;function dI(t,e,n,r,i,o){var s=n&mfe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,g=n&yfe?new Op:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var y=t[d],m=e[d];if(r)var C=s?r(m,y,d,e,t,o):r(y,m,d,t,e,o);if(C!==void 0){if(C)continue;p=!1;break}if(g){if(!pfe(e,function(x,v){if(!gfe(g,v)&&(y===x||i(y,x,n,r,o)))return g.push(v)})){p=!1;break}}else if(!(y===m||i(y,m,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}function vfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function wfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var xfe=1,bfe=2,Sfe="[object Boolean]",Cfe="[object Date]",Efe="[object Error]",_fe="[object Map]",kfe="[object Number]",$fe="[object RegExp]",Tfe="[object Set]",Afe="[object String]",Mfe="[object Symbol]",Pfe="[object ArrayBuffer]",Ife="[object DataView]",h_=zs?zs.prototype:void 0,Am=h_?h_.valueOf:void 0;function Ofe(t,e,n,r,i,o,s){switch(n){case Ife:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Pfe:return!(t.byteLength!=e.byteLength||!o(new Ap(t),new Ap(e)));case Sfe:case Cfe:case kfe:return Fh(+t,+e);case Efe:return t.name==e.name&&t.message==e.message;case $fe:case Afe:return t==e+"";case _fe:var a=vfe;case Tfe:var l=r&xfe;if(a||(a=wfe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=bfe,s.set(t,e);var h=dI(a(t),a(e),r,i,o,s);return s.delete(t),h;case Mfe:if(Am)return Am.call(t)==Am.call(e)}return!1}function Rfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function jfe(t,e,n){var r=e(t);return Rr(t)?r:Rfe(r,n(t))}function Dfe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Lfe(){return[]}var Nfe=Object.prototype,Bfe=Nfe.propertyIsEnumerable,d_=Object.getOwnPropertySymbols,Ffe=d_?function(t){return t==null?[]:(t=Object(t),Dfe(d_(t),function(e){return Bfe.call(t,e)}))}:Lfe;const Hfe=Ffe;function f_(t){return jfe(t,Ax,Hfe)}var zfe=1,Ufe=Object.prototype,Gfe=Ufe.hasOwnProperty;function Vfe(t,e,n,r,i,o){var s=n&zfe,a=f_(t),l=a.length,u=f_(e),h=u.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var p=a[d];if(!(s?p in e:Gfe.call(e,p)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var m=!0;o.set(t,e),o.set(e,t);for(var C=s;++d<l;){p=a[d];var x=t[p],v=e[p];if(r)var b=s?r(v,x,p,e,t,o):r(x,v,p,t,e,o);if(!(b===void 0?x===v||i(x,v,n,r,o):b)){m=!1;break}C||(C=p=="constructor")}if(m&&!C){var E=t.constructor,A=e.constructor;E!=A&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof A=="function"&&A instanceof A)&&(m=!1)}return o.delete(t),o.delete(e),m}var I1=Wa(co,"DataView"),O1=Wa(co,"Promise"),R1=Wa(co,"Set"),j1=Wa(co,"WeakMap"),p_="[object Map]",Wfe="[object Object]",g_="[object Promise]",m_="[object Set]",y_="[object WeakMap]",v_="[object DataView]",Xfe=Va(I1),Kfe=Va(fh),Yfe=Va(O1),Zfe=Va(R1),qfe=Va(j1),ra=Ga;(I1&&ra(new I1(new ArrayBuffer(1)))!=v_||fh&&ra(new fh)!=p_||O1&&ra(O1.resolve())!=g_||R1&&ra(new R1)!=m_||j1&&ra(new j1)!=y_)&&(ra=function(t){var e=Ga(t),n=e==Wfe?t.constructor:void 0,r=n?Va(n):"";if(r)switch(r){case Xfe:return v_;case Kfe:return p_;case Yfe:return g_;case Zfe:return m_;case qfe:return y_}return e});const w_=ra;var Qfe=1,x_="[object Arguments]",b_="[object Array]",_d="[object Object]",Jfe=Object.prototype,S_=Jfe.hasOwnProperty;function epe(t,e,n,r,i,o){var s=Rr(t),a=Rr(e),l=s?b_:w_(t),u=a?b_:w_(e);l=l==x_?_d:l,u=u==x_?_d:u;var h=l==_d,d=u==_d,p=l==u;if(p&&Pp(t)){if(!Pp(e))return!1;s=!0,h=!1}if(p&&!h)return o||(o=new ko),s||$x(t)?dI(t,e,n,r,i,o):Ofe(t,e,l,n,r,i,o);if(!(n&Qfe)){var g=h&&S_.call(t,"__wrapped__"),y=d&&S_.call(e,"__wrapped__");if(g||y){var m=g?t.value():t,C=y?e.value():e;return o||(o=new ko),i(m,C,n,r,o)}}return p?(o||(o=new ko),Vfe(t,e,n,r,i,o)):!1}function Px(t,e,n,r,i){return t===e?!0:t==null||e==null||!Us(t)&&!Us(e)?t!==t&&e!==e:epe(t,e,n,r,Px,i)}var tpe=1,npe=2;function rpe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],h=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new ko;if(r)var p=r(u,h,l,t,e,d);if(!(p===void 0?Px(h,u,tpe|npe,r,d):p))return!1}}return!0}function fI(t){return t===t&&!Kr(t)}function ipe(t){for(var e=Ax(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fI(i)]}return e}function pI(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function ope(t){var e=ipe(t);return e.length==1&&e[0][2]?pI(e[0][0],e[0][1]):function(n){return n===t||rpe(n,t,e)}}var spe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ape=/^\w*$/;function Ix(t,e){if(Rr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||o0(t)?!0:ape.test(t)||!spe.test(t)||e!=null&&t in Object(e)}var lpe="Expected a function";function Ox(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lpe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ox.Cache||ss),n}Ox.Cache=ss;var cpe=500;function upe(t){var e=Ox(t,function(r){return n.size===cpe&&n.clear(),r}),n=e.cache;return e}var hpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dpe=/\\(\\)?/g,fpe=upe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hpe,function(n,r,i,o){e.push(i?o.replace(dpe,"$1"):r||n)}),e}),ppe=1/0,C_=zs?zs.prototype:void 0,E_=C_?C_.toString:void 0;function gI(t){if(typeof t=="string")return t;if(Rr(t))return hI(t,gI)+"";if(o0(t))return E_?E_.call(t):"";var e=t+"";return e=="0"&&1/t==-ppe?"-0":e}function gpe(t){return t==null?"":gI(t)}function mI(t,e){return Rr(t)?t:Ix(t,e)?[t]:fpe(gpe(t))}var mpe=1/0;function l0(t){if(typeof t=="string"||o0(t))return t;var e=t+"";return e=="0"&&1/t==-mpe?"-0":e}function yI(t,e){e=mI(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[l0(e[n++])];return n&&n==r?t:void 0}function ype(t,e,n){var r=t==null?void 0:yI(t,e);return r===void 0?n:r}function vpe(t,e){return t!=null&&e in Object(t)}function wpe(t,e,n){e=mI(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=l0(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&kx(i)&&Tx(s,i)&&(Rr(t)||Mp(t)))}function xpe(t,e){return t!=null&&wpe(t,e,vpe)}var bpe=1,Spe=2;function Cpe(t,e){return Ix(t)&&fI(e)?pI(l0(t),e):function(n){var r=ype(n,t);return r===void 0&&r===e?xpe(n,t):Px(e,r,bpe|Spe)}}function Epe(t){return function(e){return e==null?void 0:e[t]}}function _pe(t){return function(e){return yI(e,t)}}function kpe(t){return Ix(t)?Epe(l0(t)):_pe(t)}function $pe(t){return typeof t=="function"?t:t==null?i0:typeof t=="object"?Rr(t)?Cpe(t[0],t[1]):ope(t):kpe(t)}function Tpe(t,e){var n=-1,r=Lc(t)?Array(t.length):[];return aI(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function Ka(t,e){var n=Rr(t)?hI:Tpe;return n(t,$pe(e))}var Ape=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=ye({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return T.createElement("div",{style:o.swatches},Ka(n,function(s){return T.createElement(Xa,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),T.createElement("div",{style:o.clear}))},Rx=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,h=e.className,d=h===void 0?"":h,p=i==="transparent",g=function(C,x){Zs(C)&&n({hex:C,source:"hex"},x)},y=ye(vr({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Mx(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return T.createElement("div",{style:y.card,className:"block-picker "+d},T.createElement("div",{style:y.triangle}),T.createElement("div",{style:y.head},p&&T.createElement(jc,{borderRadius:"6px 6px 0 0"}),T.createElement("div",{style:y.label},i)),T.createElement("div",{style:y.body},T.createElement(Ape,{colors:o,onClick:g,onSwatchHover:r}),T.createElement(Me,{style:{input:y.input},value:i,onChange:g})))};Rx.propTypes={width:Z.oneOfType([Z.string,Z.number]),colors:Z.arrayOf(Z.string),triangle:Z.oneOf(["top","hide"]),styles:Z.object};Rx.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};wr(Rx);var qa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Qa={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Ja={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},el={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},tl={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},nl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},rl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},il={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ol={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},au={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},sl={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},al={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ll={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},cl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},ul={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},hl={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},dl={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},fl={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},vI=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=ye({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return T.createElement("div",{style:u.swatch},T.createElement(Xa,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};vI.defaultProps={circleSize:28,circleSpacing:14};const Mpe=bx(vI);var jx=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,h=e.circleSpacing,d=e.className,p=d===void 0?"":d,g=ye(vr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},u)),y=function(C,x){return r({hex:C,source:"hex"},x)};return T.createElement("div",{style:g.card,className:"circle-picker "+p},Ka(o,function(m){return T.createElement(Mpe,{key:m,color:m,onClick:y,onSwatchHover:i,active:s===m.toLowerCase(),circleSize:a,circleSpacing:h})}))};jx.propTypes={width:Z.oneOfType([Z.string,Z.number]),circleSize:Z.number,circleSpacing:Z.number,styles:Z.object};jx.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[qa[500],Qa[500],Ja[500],el[500],tl[500],nl[500],rl[500],il[500],ol[500],au[500],sl[500],al[500],ll[500],cl[500],ul[500],hl[500],dl[500],fl[500]],styles:{}};wr(jx);function __(t){return t===void 0}var wI={};Object.defineProperty(wI,"__esModule",{value:!0});var k_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ppe=P,$_=Ipe(Ppe);function Ipe(t){return t&&t.__esModule?t:{default:t}}function Ope(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var kd=24,Rpe=wI.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?kd:r,o=t.height,s=o===void 0?kd:o,a=t.style,l=a===void 0?{}:a,u=Ope(t,["fill","width","height","style"]);return $_.default.createElement("svg",k_({viewBox:"0 0 "+kd+" "+kd,style:k_({fill:n,width:i,height:s},l)},u),$_.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},jpe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lpe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xI=function(t){Npe(e,t);function e(n){Dpe(this,e);var r=Lpe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Zs(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(__(i.s)?r.props.hsl.s:i.s),l:Number(__(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return jpe(e,[{key:"render",value:function(){var r=this,i=ye({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=T.createElement("div",{style:i.fields,className:"flexbox-fix"},T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=T.createElement("div",{style:i.fields,className:"flexbox-fix"},T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),T.createElement("div",{style:i.alpha},T.createElement(Me,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=T.createElement("div",{style:i.fields,className:"flexbox-fix"},T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),T.createElement("div",{style:i.field},T.createElement(Me,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),T.createElement("div",{style:i.alpha},T.createElement(Me,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),T.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,T.createElement("div",{style:i.toggle},T.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},T.createElement(Rpe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(T.Component);xI.defaultProps={view:"hex"};var T_=function(){var e=ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return T.createElement("div",{style:e.picker})},Bpe=function(){var e=ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return T.createElement("div",{style:e.picker})},Dx=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,h=e.styles,d=h===void 0?{}:h,p=e.className,g=p===void 0?"":p,y=e.defaultView,m=ye(vr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return T.createElement("div",{style:m.picker,className:"chrome-picker "+g},T.createElement("div",{style:m.saturation},T.createElement(s0,{style:m.Saturation,hsl:s,hsv:a,pointer:Bpe,onChange:r})),T.createElement("div",{style:m.body},T.createElement("div",{style:m.controls,className:"flexbox-fix"},T.createElement("div",{style:m.color},T.createElement("div",{style:m.swatch},T.createElement("div",{style:m.active}),T.createElement(jc,{renderers:u}))),T.createElement("div",{style:m.toggles},T.createElement("div",{style:m.hue},T.createElement(Dc,{style:m.Hue,hsl:s,pointer:T_,onChange:r})),T.createElement("div",{style:m.alpha},T.createElement(Sx,{style:m.Alpha,rgb:o,hsl:s,pointer:T_,renderers:u,onChange:r})))),T.createElement(xI,{rgb:o,hsl:s,hex:l,view:y,onChange:r,disableAlpha:i})))};Dx.propTypes={width:Z.oneOfType([Z.string,Z.number]),disableAlpha:Z.bool,styles:Z.object,defaultView:Z.oneOf(["hex","rgb","hsl"])};Dx.defaultProps={width:225,disableAlpha:!1,styles:{}};wr(Dx);var Fpe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=ye({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Mx(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return T.createElement(Xa,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},T.createElement("div",{style:a.dot}))},Hpe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=ye({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return T.createElement("div",{style:o.fields,className:"flexbox-fix"},T.createElement("div",{style:o.active}),T.createElement(Me,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),T.createElement(Me,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),T.createElement(Me,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),T.createElement(Me,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},Lx=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,h=u===void 0?"":u,d=ye(vr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(y,m){y.hex?Zs(y.hex)&&n({hex:y.hex,source:"hex"},m):n(y,m)};return T.createElement(Hh,{style:d.Compact,styles:l},T.createElement("div",{style:d.compact,className:"compact-picker "+h},T.createElement("div",null,Ka(i,function(g){return T.createElement(Fpe,{key:g,color:g,active:g.toLowerCase()===o,onClick:p,onSwatchHover:r})}),T.createElement("div",{style:d.clear})),T.createElement(Hpe,{hex:o,rgb:s,onChange:p})))};Lx.propTypes={colors:Z.arrayOf(Z.string),styles:Z.object};Lx.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};wr(Lx);var zpe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=ye({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return T.createElement("div",{style:a.swatch},T.createElement(Xa,{color:r,onClick:i,onHover:o,focusStyle:s}))};const Upe=bx(zpe);var Nx=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,h=u===void 0?"":u,d=ye(vr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),p=function(y,m){return i({hex:y,source:"hex"},m)};return T.createElement("div",{style:d.card,className:"github-picker "+h},T.createElement("div",{style:d.triangleShadow}),T.createElement("div",{style:d.triangle}),Ka(r,function(g){return T.createElement(Upe,{color:g,key:g,onClick:p,onSwatchHover:o})}))};Nx.propTypes={width:Z.oneOfType([Z.string,Z.number]),colors:Z.arrayOf(Z.string),triangle:Z.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Z.object};Nx.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};wr(Nx);var Gpe=function(e){var n=e.direction,r=ye({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return T.createElement("div",{style:r.picker})},Vpe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,h=e.className,d=h===void 0?"":h,p=ye(vr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),g=function(m){return i({a:1,h:m.h,l:.5,s:1})};return T.createElement("div",{style:p.picker,className:"hue-picker "+d},T.createElement(Dc,Vpe({},p.hue,{hsl:o,pointer:a,onChange:g,direction:s})))};Bx.propTypes={styles:Z.object};Bx.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Gpe,styles:{}};wr(Bx);var Wpe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=ye(vr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),h=function(p,g){p.hex?Zs(p.hex)&&n({hex:p.hex,source:"hex"},g):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},g)};return T.createElement(Hh,{styles:s},T.createElement("div",{style:u.material,className:"material-picker "+l},T.createElement(Me,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:h}),T.createElement("div",{style:u.split,className:"flexbox-fix"},T.createElement("div",{style:u.third},T.createElement(Me,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:h})),T.createElement("div",{style:u.third},T.createElement(Me,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:h})),T.createElement("div",{style:u.third},T.createElement(Me,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:h})))))};wr(Wpe);var Xpe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=ye({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,h){u["#"]?Zs(u["#"])&&n({hex:u["#"],source:"hex"},h):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},h):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},h)};return T.createElement("div",{style:s.fields},T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),T.createElement("div",{style:s.divider}),T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),T.createElement(Me,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),T.createElement("div",{style:s.divider}),T.createElement(Me,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),T.createElement("div",{style:s.fieldSymbols},T.createElement("div",{style:s.symbol},""),T.createElement("div",{style:s.symbol},"%"),T.createElement("div",{style:s.symbol},"%")))},Kpe=function(e){var n=e.hsl,r=ye({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return T.createElement("div",{style:r.picker})},Ype=function(){var e=ye({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return T.createElement("div",{style:e.pointer},T.createElement("div",{style:e.left},T.createElement("div",{style:e.leftInside})),T.createElement("div",{style:e.right},T.createElement("div",{style:e.rightInside})))},A_=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=ye({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return T.createElement("div",{style:s.button,onClick:n},r||i)},Zpe=function(e){var n=e.rgb,r=e.currentColor,i=ye({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return T.createElement("div",null,T.createElement("div",{style:i.label},"new"),T.createElement("div",{style:i.swatches},T.createElement("div",{style:i.new}),T.createElement("div",{style:i.current})),T.createElement("div",{style:i.label},"current"))},qpe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jpe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fx=function(t){ege(e,t);function e(n){Qpe(this,e);var r=Jpe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return qpe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=ye(vr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return T.createElement("div",{style:l.picker,className:"photoshop-picker "+a},T.createElement("div",{style:l.head},this.props.header),T.createElement("div",{style:l.body,className:"flexbox-fix"},T.createElement("div",{style:l.saturation},T.createElement(s0,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Kpe,onChange:this.props.onChange})),T.createElement("div",{style:l.hue},T.createElement(Dc,{direction:"vertical",hsl:this.props.hsl,pointer:Ype,onChange:this.props.onChange})),T.createElement("div",{style:l.controls},T.createElement("div",{style:l.top,className:"flexbox-fix"},T.createElement("div",{style:l.previews},T.createElement(Zpe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),T.createElement("div",{style:l.actions},T.createElement(A_,{label:"OK",onClick:this.props.onAccept,active:!0}),T.createElement(A_,{label:"Cancel",onClick:this.props.onCancel}),T.createElement(Xpe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(T.Component);Fx.propTypes={header:Z.string,styles:Z.object};Fx.defaultProps={header:"Color Picker",styles:{}};wr(Fx);var tge=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=ye({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(h,d){h.hex?Zs(h.hex)&&n({hex:h.hex,source:"hex"},d):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},d):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},d))};return T.createElement("div",{style:a.fields,className:"flexbox-fix"},T.createElement("div",{style:a.double},T.createElement(Me,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),T.createElement("div",{style:a.single},T.createElement(Me,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),T.createElement("div",{style:a.single},T.createElement(Me,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),T.createElement("div",{style:a.single},T.createElement(Me,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),T.createElement("div",{style:a.alpha},T.createElement(Me,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},nge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bI=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=ye({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,h){i({hex:u,source:"hex"},h)};return T.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,h=""+u.color+(u.title||"");return T.createElement("div",{key:h,style:s.swatchWrap},T.createElement(Xa,nge({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};bI.propTypes={colors:Z.arrayOf(Z.oneOfType([Z.string,Z.shape({color:Z.string,title:Z.string})])).isRequired};var rge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,h=e.presetColors,d=e.renderers,p=e.styles,g=p===void 0?{}:p,y=e.className,m=y===void 0?"":y,C=ye(vr({default:rge({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:u});return T.createElement("div",{style:C.picker,className:"sketch-picker "+m},T.createElement("div",{style:C.saturation},T.createElement(s0,{style:C.Saturation,hsl:s,hsv:o,onChange:a})),T.createElement("div",{style:C.controls,className:"flexbox-fix"},T.createElement("div",{style:C.sliders},T.createElement("div",{style:C.hue},T.createElement(Dc,{style:C.Hue,hsl:s,onChange:a})),T.createElement("div",{style:C.alpha},T.createElement(Sx,{style:C.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),T.createElement("div",{style:C.color},T.createElement(jc,null),T.createElement("div",{style:C.activeColor}))),T.createElement(tge,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),T.createElement(bI,{colors:h,onClick:a,onSwatchHover:l}))};Hx.propTypes={disableAlpha:Z.bool,width:Z.oneOfType([Z.string,Z.number]),styles:Z.object};Hx.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const ige=wr(Hx);var qc=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=ye({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),h=function(p){return o({h:n.h,s:.5,l:r,source:"hsl"},p)};return T.createElement("div",{style:u.swatch,onClick:h})},oge=function(e){var n=e.onClick,r=e.hsl,i=ye({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return T.createElement("div",{style:i.swatches},T.createElement("div",{style:i.swatch},T.createElement(qc,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),T.createElement("div",{style:i.swatch},T.createElement(qc,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),T.createElement("div",{style:i.swatch},T.createElement(qc,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),T.createElement("div",{style:i.swatch},T.createElement(qc,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),T.createElement("div",{style:i.swatch},T.createElement(qc,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),T.createElement("div",{style:i.clear}))},sge=function(){var e=ye({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return T.createElement("div",{style:e.picker})},zx=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=ye(vr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return T.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},T.createElement("div",{style:u.hue},T.createElement(Dc,{style:u.Hue,hsl:n,pointer:i,onChange:r})),T.createElement("div",{style:u.swatches},T.createElement(oge,{hsl:n,onClick:r})))};zx.propTypes={styles:Z.object};zx.defaultProps={pointer:sge,styles:{}};wr(zx);var SI={};Object.defineProperty(SI,"__esModule",{value:!0});var M_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},age=P,P_=lge(age);function lge(t){return t&&t.__esModule?t:{default:t}}function cge(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var $d=24,uge=SI.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?$d:r,o=t.height,s=o===void 0?$d:o,a=t.style,l=a===void 0?{}:a,u=cge(t,["fill","width","height","style"]);return P_.default.createElement("svg",M_({viewBox:"0 0 "+$d+" "+$d,style:M_({fill:n,width:i,height:s},l)},u),P_.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},hge=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=ye({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Mx(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return T.createElement(Xa,{color:n,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},T.createElement("div",{style:u.check},T.createElement(uge,null)))},dge=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=ye({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return T.createElement("div",{style:s.group},Ka(i,function(a,l){return T.createElement(hge,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},Ux=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,h=e.className,d=h===void 0?"":h,p=ye(vr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),g=function(m,C){return i({hex:m,source:"hex"},C)};return T.createElement("div",{style:p.picker,className:"swatches-picker "+d},T.createElement(Hh,null,T.createElement("div",{style:p.overflow},T.createElement("div",{style:p.body},Ka(s,function(y){return T.createElement(dge,{key:y.toString(),group:y,active:a,onClick:g,onSwatchHover:o})}),T.createElement("div",{style:p.clear})))))};Ux.propTypes={width:Z.oneOfType([Z.string,Z.number]),height:Z.oneOfType([Z.string,Z.number]),colors:Z.arrayOf(Z.arrayOf(Z.string)),styles:Z.object};Ux.defaultProps={width:320,height:240,colors:[[qa[900],qa[700],qa[500],qa[300],qa[100]],[Qa[900],Qa[700],Qa[500],Qa[300],Qa[100]],[Ja[900],Ja[700],Ja[500],Ja[300],Ja[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],[il[900],il[700],il[500],il[300],il[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],["#194D33",au[700],au[500],au[300],au[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],[al[900],al[700],al[500],al[300],al[100]],[ll[900],ll[700],ll[500],ll[300],ll[100]],[cl[900],cl[700],cl[500],cl[300],cl[100]],[ul[900],ul[700],ul[500],ul[300],ul[100]],[hl[900],hl[700],hl[500],hl[300],hl[100]],[dl[900],dl[700],dl[500],dl[300],dl[100]],[fl[900],fl[700],fl[500],fl[300],fl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};wr(Ux);var Gx=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,h=e.className,d=h===void 0?"":h,p=ye(vr({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),g=function(m,C){Zs(m)&&n({hex:m,source:"hex"},C)};return T.createElement("div",{style:p.card,className:"twitter-picker "+d},T.createElement("div",{style:p.triangleShadow}),T.createElement("div",{style:p.triangle}),T.createElement("div",{style:p.body},Ka(o,function(y,m){return T.createElement(Xa,{key:m,color:y,hex:y,style:p.swatch,onClick:g,onHover:r,focusStyle:{boxShadow:"0 0 4px "+y}})}),T.createElement("div",{style:p.hash},"#"),T.createElement(Me,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:g}),T.createElement("div",{style:p.clear})))};Gx.propTypes={width:Z.oneOfType([Z.string,Z.number]),triangle:Z.oneOf(["hide","top-left","top-right"]),colors:Z.arrayOf(Z.string),styles:Z.object};Gx.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};wr(Gx);var Vx=function(e){var n=ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return T.createElement("div",{style:n.picker})};Vx.propTypes={hsl:Z.shape({h:Z.number,s:Z.number,l:Z.number,a:Z.number})};Vx.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Wx=function(e){var n=ye({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return T.createElement("div",{style:n.picker})};Wx.propTypes={hsl:Z.shape({h:Z.number,s:Z.number,l:Z.number,a:Z.number})};Wx.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var fge=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(g,y){if(g.hex)Zs(g.hex)&&n({hex:g.hex,source:"hex"},y);else if(g.rgb){var m=g.rgb.split(",");Tm(g.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},y)}else if(g.hsv){var C=g.hsv.split(",");Tm(g.hsv,"hsv")&&(C[2]=C[2].replace("%",""),C[1]=C[1].replace("%",""),C[0]=C[0].replace("",""),C[1]==1?C[1]=.01:C[2]==1&&(C[2]=.01),n({h:Number(C[0]),s:Number(C[1]),v:Number(C[2]),source:"hsv"},y))}else if(g.hsl){var x=g.hsl.split(",");Tm(g.hsl,"hsl")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsl"},y))}},l=ye({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return T.createElement("div",{style:l.wrap,className:"flexbox-fix"},T.createElement("div",{style:l.fields},T.createElement("div",{style:l.double},T.createElement(Me,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),T.createElement("div",{style:l.column},T.createElement("div",{style:l.single},T.createElement(Me,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),T.createElement("div",{style:l.single},T.createElement(Me,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),T.createElement("div",{style:l.single},T.createElement(Me,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},Xx=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,h=u===void 0?{}:u,d=e.className,p=d===void 0?"":d,g=ye(vr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return T.createElement("div",{style:g.picker,className:"google-picker "+p},T.createElement("div",{style:g.head},l),T.createElement("div",{style:g.swatch}),T.createElement("div",{style:g.saturation},T.createElement(s0,{hsl:o,hsv:s,pointer:Vx,onChange:r})),T.createElement("div",{style:g.body},T.createElement("div",{style:g.controls,className:"flexbox-fix"},T.createElement("div",{style:g.hue},T.createElement(Dc,{style:g.Hue,hsl:o,radius:"4px",pointer:Wx,onChange:r}))),T.createElement(fge,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};Xx.propTypes={width:Z.oneOfType([Z.string,Z.number]),styles:Z.object,header:Z.string};Xx.defaultProps={width:652,styles:{},header:"Color picker"};wr(Xx);const pge=({color:t,onChange:e,onChangeComplete:n})=>{const r=i=>{e(i)};return S.jsx("div",{children:S.jsx(ige,{color:t,onChange:i=>{r({...i.rgb,a:i.rgb.a||1})},onChangeComplete:i=>{const o={...i.rgb,a:i.rgb.a||1};r(o),n(o)}})})},I_={[ee.Solid]:"paintType.solid",[ee.Image]:"paintType.image"},gge=({paint:t,onChange:e,onChangeComplete:n,onClose:r})=>{const i=Oo(),o=[{value:ee.Solid,label:i.formatMessage({id:I_[ee.Solid]})},{value:ee.Image,label:i.formatMessage({id:I_[ee.Image]})}];return S.jsxs("div",{className:"suika-paint-picker",children:[S.jsxs("div",{className:"paint-picker-header",children:[S.jsx(Gte,{value:t.type,options:o,onSelect:s=>e(k9[s])}),S.jsx("div",{className:"suika-close-btn",onClick:()=>{r&&r()},children:S.jsx(yV,{})})]}),t.type===ee.Solid&&S.jsx(pge,{color:t.attrs,onChange:s=>{e({type:ee.Solid,attrs:s,visible:!0})},onChangeComplete:s=>{n({type:ee.Solid,attrs:s,visible:!0})}}),t.type===ee.Image&&S.jsx(nne,{value:t.attrs.src||"",onChange:s=>{n({type:ee.Image,attrs:{src:s},visible:!0})}})]})},mge=({value:t,onChange:e,prefix:n,classNames:r})=>{const i=P.useRef(null);return P.useEffect(()=>{i.current&&(i.current.value=String(t))},[t]),S.jsx(EP,{prefix:n,classNames:r,parser:(o,s)=>(o=o.trim(),o=M$(o),!o||o===s?!1:o),value:t,onChange:o=>e(o)})},yge=(t,e=85)=>{const{r:n,g:r,b:i}=t;return Math.sqrt(Math.pow(n-255,2)+Math.pow(r-255,2)+Math.pow(i-255,2))<e},CI=({title:t,paints:e,onChange:n,onChangeComplete:r,onDelete:i,onAdd:o,onToggleVisible:s,appendedContent:a})=>{const[l,u]=P.useState(-1),h=S.jsx(gge,{paint:e[l],onClose:()=>{u(-1)},onChange:d=>n(d,l),onChangeComplete:d=>r(d,l)});return e.length==0?S.jsx(dh,{title:t,headerAction:S.jsx(Kc,{onClick:()=>{o()},children:S.jsx(wC,{})}),children:S.jsx(S.Fragment,{})}):S.jsx(wP,{open:l>=0,onOpenChange:d=>{d||u(-1)},content:l>=0&&h,placement:"left-start",offset:2,children:S.jsx("div",{children:S.jsxs(dh,{title:t,headerAction:S.jsx(Kc,{onClick:o,children:S.jsx(wC,{})}),children:[P8(e,(d,p)=>{if(d.type===ee.Solid)return S.jsxs("div",{className:"fill-item",children:[S.jsxs("div",{className:"fill-item-left",children:[S.jsx(mge,{prefix:S.jsx("div",{className:"color-block",style:{backgroundColor:I8(d.attrs),boxShadow:yge(d.attrs)?"0 0 0 1px rgba(0,0,0,0.1) inset":void 0},onMouseDown:()=>{u(p)}}),value:O8(d.attrs),classNames:[d.visible===!1?"disabled":""],onChange:g=>{const y=R8(g);if(y){const m={type:ee.Solid,attrs:{...y,a:d.attrs.a},visible:!0};r(m,p)}}}),S.jsx(fx,{classNames:["paint-card-alpha-input",d.visible===!1?"disabled":""],value:d.attrs.a,min:0,max:1,onChange:g=>{r({...d,attrs:{...d.attrs,a:g}},p)}})]}),S.jsxs("div",{className:"suika-paint-card-actions",children:[S.jsx(Kc,{onClick:()=>s(p),children:d.visible===!1?S.jsx(d5,{}):S.jsx(f5,{})}),S.jsx(Kc,{onClick:()=>i(p),children:S.jsx(bC,{})})]})]},p);if(d.type===ee.Image)return S.jsxs("div",{className:"fill-item",children:[S.jsx("div",{className:"img-block",onClick:()=>{u(p)},children:S.jsx("img",{style:{backgroundImage:`url(${d.attrs.src})`,objectFit:"contain",width:"100%",height:"100%"},alt:"img",src:d.attrs.src||ST})}),S.jsx(Kc,{onClick:()=>i(p),children:S.jsx(bC,{})})]},p)}),a]})})})},vge=()=>{const t=P.useContext(yr),e=Oo(),[n,r]=P.useState([]),i=P.useRef([]),o=(h,d)=>{if(!t)return;const p=[...n];return p[d]=h,r(p),t.selectedElements.getItems().forEach(y=>{y.updateAttrs({fill:Sn(p)})}),p},s=()=>{if(!t)return;const h=Sn(t.setting.get(n.length?"addedPaint":"firstFill")),d=[...n,h];r(d);const p=t.selectedElements.getItems();p.forEach(g=>{g.updateAttrs({fill:Sn(d)})}),u("Add Fill",p,d),t==null||t.render()},a=h=>{if(!t)return;const d=n.filter((g,y)=>y!==h);r(d);const p=t.selectedElements.getItems();p.forEach(g=>{g.updateAttrs({fill:Sn(d)})}),u("Update Fill",p,d),t.render()},l=h=>{if(!t)return;const d=n.map((g,y)=>y===h?{...g,visible:!(g.visible??!0)}:g);r(d);const p=t.selectedElements.getItems();p.forEach(g=>{g.updateAttrs({fill:Sn(d)})}),u("Update Fill",p,d),t.render()},u=(h,d,p)=>{t&&(t.commandManager.pushCommand(new to(h,d,{fill:p},d.map((g,y)=>({fill:Sn(i.current[y])})))),i.current=d.map(g=>Sn(g.attrs.fill??[])))};return P.useEffect(()=>{if(t){const h=p=>{i.current=p.map(g=>Sn(g.attrs.fill??[]))},d=()=>{const p=t.selectedElements.getItems();if(p.length>0){let g=p[0].attrs.fill??[];for(let y=1,m=p.length;y<m;y++){const C=p[y].attrs.fill;if(!Nv(g,C)){g=[];break}}r(g)}};return h(t.selectedElements.getItems()),d(),t.sceneGraph.on("render",d),t.selectedElements.on("itemsChange",h),()=>{t.sceneGraph.off("render",d),t.selectedElements.off("itemsChange",h)}}},[t]),S.jsx(CI,{title:e.formatMessage({id:"fill"}),paints:n,onChange:(h,d)=>{t&&(o(h,d),t.render())},onChangeComplete:(h,d)=>{if(!t)return;const p=o(h,d);u("Update fill",t.selectedElements.getItems(),p),t.render()},onAdd:s,onDelete:a,onToggleVisible:l})},wge=()=>{const[t,e]=P.useState(1),n=Oo(),r=n.formatMessage({id:"mixed"}),i=P.useContext(yr);P.useEffect(()=>{if(!i)return;const s=()=>{if(!i)return;const a=i.selectedElements.getItems();if(!a.length)return;let l=a[0].getOpacity();for(let u=1;u<a.length;u++)if(l!==a[u].getOpacity()){l=r;break}e(l)};return s(),i.sceneGraph.on("render",s),()=>{i.sceneGraph.off("render",s)}},[i,r]);const o=s=>{if(!i)return;const a=i.selectedElements.getItems();if(!a.length)return;const l=new mt(i);for(const u of a)l.recordOld(u.attrs.id,{opacity:u.getOpacity()}),u.updateAttrs({opacity:s}),l.update(u.attrs.id,{opacity:s});l.commit("Update Opacity"),e(s)};return S.jsx(dh,{title:n.formatMessage({id:"layer"}),children:S.jsx("div",{className:"suika-layer-info-card",children:S.jsx(fx,{value:t,min:0,max:1,onChange:o})})})},xge=()=>{const t=P.useContext(yr),e=Oo(),[n,r]=P.useState([]),[i,o]=P.useState(-1),s=P.useRef([]);P.useEffect(()=>{if(t){const g=m=>{s.current=m.map(C=>Sn(C.attrs.stroke??[]))},y=()=>{const m=t.selectedElements.getItems();if(m.length>0){let C=m[0].attrs.stroke??[];for(let v=1,b=m.length;v<b;v++){const E=m[v].attrs.stroke;if(!Nv(C,E)){C=[];break}}r(C);let x=m[0].attrs.strokeWidth??0;for(let v=1,b=m.length;v<b;v++){const E=m[v].attrs.strokeWidth??0;if(x!==E){x=-1;break}}o(x)}};return y(),g(t.selectedElements.getItems()),t.sceneGraph.on("render",y),t.selectedElements.on("itemsChange",g),()=>{t.sceneGraph.off("render",y),t.selectedElements.off("itemsChange",g)}}},[t]);const a=(g,y)=>{if(!t)return;const m=[...n];return m[y]=g,r(m),t.selectedElements.getItems().forEach(x=>{x.updateAttrs({stroke:Sn(m)})}),m},l=()=>{if(!t)return;const g=Sn(t.setting.get(n.length?"addedPaint":"firstStroke")),y=[...n,g];r(y);const m=t.selectedElements.getItems();m.forEach(C=>{C.updateAttrs({stroke:Sn(y)})}),d("Add Stroke",m,y,!0),t.render()},u=g=>{if(!t)return;const y=n.filter((C,x)=>x!==g);r(y);const m=t.selectedElements.getItems();for(const C of m)C.updateAttrs({stroke:Sn(y)});d("Update Stroke",m,y),t.render()},h=g=>{if(!t)return;const y=n.map((C,x)=>x===g?{...C,visible:!(C.visible??!0)}:C);r(y);const m=t.selectedElements.getItems();m.forEach(C=>{C.updateAttrs({stroke:Sn(y)})}),d("Update Stroke",m,y),t.render()},d=(g,y,m,C)=>{if(!t)return;const x=y.map((b,E)=>({stroke:Sn(s.current[E])})),v=y2(y,()=>({stroke:Sn(m)}));if(C&&m.length===1){y.forEach((E,A)=>{x[A].strokeWidth=E.attrs.strokeWidth});const b=t.setting.get("strokeWidth");M8(y,(E,A)=>{E.updateAttrs({strokeWidth:b}),v[A].strokeWidth=b})}t.commandManager.pushCommand(new to(g,y,v,x)),s.current=y.map(b=>Sn(b.attrs.stroke??[]))},p=g=>{if(!t)return;const y=t.selectedElements.getItems();t.commandManager.pushCommand(new to("update strokeWidth",y,{strokeWidth:g},y2(y,m=>({strokeWidth:m.attrs.strokeWidth})))),y.forEach(m=>{m.updateAttrs({strokeWidth:g})}),o(g),t.render()};return S.jsx(CI,{title:e.formatMessage({id:"stroke"}),paints:n,appendedContent:S.jsx("div",{style:{padding:"0 8px"},children:S.jsx(dx,{prefix:S.jsx("div",{style:{paddingLeft:"3px",color:"#b3b3b3",display:"flex"},children:S.jsx(wV,{})}),value:i,min:0,onChange:p})}),onChange:(g,y)=>{t&&(a(g,y),t.render())},onChangeComplete:(g,y)=>{if(!t)return;const m=a(g,y);d("Change Stroke",t.selectedElements.getItems(),m),t.render()},onAdd:l,onDelete:u,onToggleVisible:h})},bge=()=>{const t=P.useContext(yr),[e,n]=P.useState(1),[r,i]=P.useState(!1),[o,s]=P.useState(""),[a,l]=P.useState(null);return P.useEffect(()=>{if(!t)return;const u=p=>{i(p)},h=p=>{var g;s(((g=p==null?void 0:p.attrs)==null?void 0:g.objectName)??"")},d=p=>{n(p)};return n(t.zoomManager.getZoom()),t.selectedBox.on("hoverChange",u),t.selectedElements.on("hoverItemChange",h),t.mouseEventManager.on("cursorPosUpdate",l),t.zoomManager.on("zoomChange",d),()=>{t.selectedBox.off("hoverChange",u),t.selectedElements.off("hoverItemChange",h),t.zoomManager.off("zoomChange",d)}},[t]),S.jsxs("div",{style:{padding:8},children:[S.jsxs("div",{children:["zoom: ",e]}),S.jsxs("div",{children:["isSelectedBoxHover: ",r?"true":"false"]}),S.jsxs("div",{children:["hoveredGraphName: ",o]}),a&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:["X: ",a.x.toFixed(2)]}),S.jsxs("div",{children:["Y: ",a.y.toFixed(2)]})]})]})},Sge=()=>{const t=P.useContext(yr),[e,n]=P.useState("Global"),r=localStorage.getItem("suika-debug-panel")==="true";return P.useEffect(()=>{if(t){const i=o=>{n(o.length?"SelectedElements":"Global")};return t.selectedElements.on("itemsChange",i),()=>{t.selectedElements.off("itemsChange",i)}}},[t]),S.jsxs("div",{className:"info-panel",onKeyDown:i=>i.stopPropagation(),children:[e==="SelectedElements"&&S.jsxs(S.Fragment,{children:[S.jsx(Yte,{}),S.jsx(tne,{}),S.jsx(wge,{}),S.jsx(vge,{},"fill"),S.jsx(xge,{},"stroke")]}),e==="Global"&&S.jsx("div",{className:"empty-text",children:S.jsx(gt,{id:"noSelectedShapes"})}),r&&S.jsx(bge,{})]})},Cge=T.memo(({content:t,enableStroke:e=!0,enableFill:n})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"12",height:"12",children:S.jsx("path",{d:t,fill:n?"currentColor":"none",strokeWidth:"1",stroke:e?"currentColor":"none"})})),EI=({name:t,children:e,active:n=!1,activeSecond:r=!1,id:i,type:o,activeIds:s=[],level:a=0,hlId:l,visible:u,visibleSecond:h=!0,lock:d,lockSecond:p=!1,toggleVisible:g,toggleLock:y,setHlId:m,setName:C,setSelectedGraph:x,getLayerIcon:v,zoomGraphicsToFit:b})=>{const E=a*16,[A,$]=P.useState(!1),M=P.useRef(null),[I,N]=P.useState(t);P.useEffect(()=>{N(t)},[t]);const O=()=>{$(!0),setTimeout(()=>{const D=M.current;D&&(D.value=t,D.select())},0)},L=D=>{D.key==="Enter"&&!D.nativeEvent.isComposing&&D.currentTarget.blur()},F=()=>{var Y;const D=(Y=M.current)==null?void 0:Y.value;D&&C&&(C(i,D),N(D)),$(!1)},X=l===i,G=u&&h,Q=d||p,[ae,q]=P.useState("");return zW(()=>{q(v(i))},[v,i],{wait:300,leading:!0}),S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:qo("sk-layer-item",{"sk-active":n,"sk-active-second":n?!1:r,"sk-hidden":!G,"sk-layer-highlight":X,"sk-editing":A}),onMouseDown:D=>{x&&x(i,D)},onMouseEnter:()=>{m&&m(i)},onMouseLeave:()=>{m&&m("")},children:[S.jsx("div",{style:{width:E,minWidth:E}}),S.jsx("div",{className:"sk-group-collapse-btn",children:e!=null&&e.length?S.jsx(CV,{}):void 0}),S.jsx("div",{className:"sk-layer-icon",onDoubleClick:()=>{b(i)},children:S.jsx(Cge,{content:ae,enableFill:["Text","Frame"].includes(o),enableStroke:!["Text","Frame"].includes(o)})}),!A&&S.jsx("span",{className:"sk-layout-name",onDoubleClick:O,children:I},"span"),A&&S.jsx("input",{ref:M,onMouseDown:D=>D.stopPropagation(),onKeyDown:L,onBlur:F}),S.jsxs("div",{className:qo("sk-layer-item-actions",{"sk-action-visible":Q||!G}),onMouseDown:D=>D.stopPropagation(),onDoubleClick:D=>D.stopPropagation(),children:[S.jsx("span",{className:"sk-action-btn",style:{visibility:Q?"visible":void 0},onMouseDown:()=>{y(i)},children:d?S.jsx(xV,{}):p?S.jsx(xC,{}):S.jsx(jV,{})}),S.jsx("span",{className:"sk-action-btn",style:{visibility:G?void 0:"visible"},onMouseDown:()=>{g&&g(i)},children:u?h?S.jsx(f5,{}):S.jsx(xC,{}):S.jsx(d5,{})})]})]}),e&&S.jsx("div",{className:"layer-item-children",children:[...e].reverse().map(D=>S.jsx(EI,{id:D.id,type:D.type,name:D.name,active:s.includes(D.id),activeSecond:r||s.includes(D.id),level:a+1,children:D.children,activeIds:s,hlId:l,visible:D.visible,visibleSecond:G,lock:D.lock,lockSecond:Q,setName:C,toggleVisible:g,toggleLock:y,setHlId:m,setSelectedGraph:x,getLayerIcon:v,zoomGraphicsToFit:b},D.id))})]})},Ege=({treeData:t,activeIds:e=[],hlId:n,toggleVisible:r,toggleLock:i,setHlId:o,setName:s,setSelectedGraph:a,getLayerIcon:l,zoomGraphicsToFit:u})=>S.jsx("div",{children:[...t].reverse().map(h=>S.jsx(EI,{type:h.type,active:e.includes(h.id),activeSecond:e.includes(h.id),id:h.id,name:h.name,children:h.children,activeIds:e,hlId:n,visible:h.visible,lock:h.lock,toggleVisible:r,toggleLock:i,setHlId:o,setName:s,setSelectedGraph:a,getLayerIcon:l,zoomGraphicsToFit:u},h.id))}),_ge=()=>{const t=P.useContext(yr),[e,n]=P.useState([]),[r,i]=P.useState(new Set),[o,s]=P.useState("");P.useEffect(()=>{var y;t&&(n(t.sceneGraph.toObjects()),t.sceneGraph.on("render",()=>{n(t.sceneGraph.toObjects()),i(t.selectedElements.getIdSet())}),s(((y=t.selectedElements.getHighlightedItem())==null?void 0:y.attrs.id)||""),t.selectedElements.on("highlightedItemChange",m=>{const C=m?m.attrs.id:"";s(C)}))},[t]);const a=(y,m)=>{t&&(m.ctrlKey||m.metaKey?t.selectedElements.toggleItemById(y,{disableParentAndChildCoexist:!0}):t.selectedElements.setItemsById(new Set([y])),t.render())},l=y=>{if(!t)return"";const m=t.doc.getGraphicsById(y);return m?m.getLayerIconPath():""},u=y=>{if(t){const m=t.doc.getGraphicsById(y);m&&(t.zoomManager.zoomToGraphics(m),t.render())}},h=y=>{if(t){const m=t.doc.getGraphicsById(y)??null;t.selectedElements.setHighlightedItem(m),t.render()}},d=(y,m)=>{if(t){const C=t.doc.getGraphicsById(y);C&&C.attrs.objectName!==m&&(jn.setGraphName(t,C,m),t.render())}},p=y=>{if(t){const m=t.doc.getGraphicsById(y);m&&(jn.toggleVisible(t,[m]),t.render())}},g=y=>{if(t){const m=t.doc.getGraphicsById(y);m&&(jn.toggleLock(t,[m]),t.render())}};return S.jsx("div",{className:"layer-panel",children:S.jsx(Ege,{treeData:e,activeIds:Array.from(r),hlId:o,toggleVisible:p,toggleLock:g,setHlId:h,setName:d,setSelectedGraph:a,getLayerIcon:l,zoomGraphicsToFit:u})})},Mm=new Map,kge=t=>{if(Mm.has(t))return Mm.get(t);const n=`data:image/svg+xml,${`<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_1303_6)">
<path d="M13.0089 25.4736L9 9L24.4249 15.9665L18.2783 18.5351L13.0089 25.4736Z" fill="${t}"/>
<path d="M18.0855 18.0738L17.9614 18.1256L17.8801 18.2327L13.2463 24.3343L9.72813 9.87748L23.1707 15.9487L18.0855 18.0738Z" stroke="white"/>
</g>
<defs>
<filter id="filter0_d_1303_6" x="7" y="7" width="19.4249" height="20.4736" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1303_6"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1303_6" result="shape"/>
</filter>
</defs>
</svg>`.replace(/"/g,"'").replace(/#/g,"%23")}`;return Mm.set(t,n),n},$ge=({style:t,users:e=[],awarenessClientId:n,width:r,height:i})=>{const o=P.useContext(yr),s=h=>o.toViewportPt(h.x,h.y),[,a]=P.useState({}),[l,u]=P.useState(0);return P.useEffect(()=>{if(!o)return;const h=()=>{a({})};o.viewportManager.on("xOrYChange",h),o.zoomManager.on("zoomChange",h);const d=p=>{u(p.enableRuler?p.rulerWidth:0)};return o.setting.on("update",d),d(o.setting.getAttrs()),()=>{o.viewportManager.off("xOrYChange",h),o.zoomManager.off("zoomChange",h),o.setting.off("update",d)}},[o]),S.jsx("div",{className:"sk-cursors-view",style:{position:"absolute",left:240+l,top:l,...t,width:r-l,height:i-l},children:o&&e.filter(h=>h.pos&&h.awarenessId!==n).map(h=>{const d=s(h.pos);return d.x-=l,d.y-=l,S.jsxs("div",{style:{willChange:"transform",transform:`translate3d(${d.x}px, ${d.y}px, 0px)`},children:[S.jsx("img",{className:"sk-multi-cursor-image",src:kge(h.color)}),S.jsx("div",{className:"sk-multi-cursor-username",style:{background:h.color},children:h.name})]},h.awarenessId)})})},O_=48,R_=240*2,Tge=()=>{const t=P.useRef(null),[e,n]=P.useState(null),[r,i]=P.useState(0),[o,s]=P.useState(0),[a,l]=P.useState([]),[u,h]=P.useState(-1),[d,p]=P.useState(""),g=P.useRef();P.useEffect(()=>{let m;const C=location.pathname,x="/design/";if(C.startsWith(x)&&(m=Number(C.slice(x.length))),m===void 0||Number.isNaN(m)){console.error(" id");return}Promise.all([_S.getUserInfo(),_S.getFile(m)]).then(([v,b])=>{if(g.current=v.data,!b.data){console.error(" id ");return}p(b.data.title),y(""+m)})},[t]);const y=m=>{if(!t.current)return;const C=document.body.clientWidth-R_,x=document.body.clientHeight-O_;i(C),s(x);const v=new DN({containerElement:t.current,width:C,height:x,offsetY:48,offsetX:240,showPerfMonitor:!1});window.editor=v;const b=OG(v,m,g.current);h(b.awareness.clientID),b.on("usersChange",l);const E=W$(()=>{const A=document.body.clientWidth-R_,$=document.body.clientHeight-O_;i(A),s($),v.viewportManager.setViewport({width:A,height:$}),v.render()},10,{leading:!1});return window.addEventListener("resize",E),n(v),()=>{v.destroy(),window.removeEventListener("resize",E),E.cancel(),b.destroy()}};return S.jsx("div",{children:S.jsxs(yr.Provider,{value:e,children:[S.jsx(Kte,{title:d}),S.jsxs("div",{className:"body",children:[S.jsx(_ge,{}),S.jsx("div",{ref:t,style:{position:"absolute",left:240,top:0}}),S.jsx($ge,{width:r,height:o,users:a,awarenessClientId:u}),S.jsx(Sge,{}),S.jsx(DG,{})]})]})})},Age="Fill",Mge="Stroke",Pge="Mixed",Ige="No Selected Shapes",Oge="Upload File",Rge="Group selection",jge="Ungroup",Dge="Show/Hide",Lge="Lock/Unlock",Nge="Preference",Bge="Keep tool selected after use",Fge="Invert zoom direction",Hge="Highlight layers on hover",zge="Flip objects while resizing",Uge="Snap to objects",Gge="Done",Vge="Layer",Wge={delete:"Delete",fill:Age,stroke:Mge,mixed:Pge,noSelectedShapes:Ige,uploadFile:Oge,"tool.select":"Select","tool.frame":"Frame","tool.rectangle":"Rectangle","tool.ellipse":"Ellipse","tool.image":"Image","tool.pen":"Pen","tool.line":"Line","tool.polygon":"Polygon","tool.star":"Star","tool.text":"Text","tool.hand":"Hand","tool.pencil":"Pencil","command.copy":"Copy","command.copyAsSVG":"Copy as SVG","command.pasteHere":"Paste here","command.undo":"Undo","command.redo":"Redo","command.selectAll":"Select all","arrange.forward":"Forward","arrange.backward":"Backward","arrange.front":"Bring to Front","arrange.back":"Send to Back","zoom.zoomIn":"Zoom in","zoom.zoomOut":"Zoom out","zoom.zoomToFit":"Zoom to fit","zoom.zoomToSelection":"Zoom to selection","zoom.zoomTo50":"Zoom to 50%","zoom.zoomTo100":"Zoom to 100%","zoom.zoomTo200":"Zoom to 200%","setting.grid.pixelGrid":"Pixel grid","setting.grid.snapToPixelGrid":"Snap to pixel grid","setting.rulers":"rulers","paintType.solid":"Solid","paintType.image":"Image",group:Rge,ungroup:jge,showOrHide:Dge,lockOrUnlock:Lge,"flip.horizontal":"Flip horizontal","flip.vertical":"Flip vertical","import.originFile":"Import local file","export.originFile":"Save local copy",preference:Nge,keepToolSelectedAfterUse:Bge,invertZoomDirection:Fge,highlightLayersOnHover:Hge,flipObjectsWhileResizing:zge,snapToObjects:Uge,done:Gge,layer:Vge},Xge="",Kge="",Yge="",Zge="",qge="",Qge="",Jge="",e0e="/",t0e="/",n0e="",r0e="",i0e="",o0e="",s0e="",a0e="",l0e="",c0e="",u0e={delete:"",fill:Xge,stroke:Kge,mixed:Yge,noSelectedShapes:Zge,uploadFile:qge,"tool.select":"","tool.frame":"","tool.rectangle":"","tool.ellipse":"","tool.image":"","tool.pen":"","tool.line":"","tool.polygon":"","tool.star":"","tool.text":"","tool.hand":"","tool.pencil":"","command.copy":"","command.copyAsSVG":" SVG ","command.pasteHere":"","command.undo":"","command.redo":"","command.selectAll":"","arrange.forward":"","arrange.backward":"","arrange.front":"","arrange.back":"","zoom.zoomIn":"","zoom.zoomOut":"","zoom.zoomToFit":"","zoom.zoomToSelection":"","zoom.zoomTo50":"50%","zoom.zoomTo100":"100%","zoom.zoomTo200":"200%","setting.grid.pixelGrid":"","setting.grid.snapToPixelGrid":"","setting.rulers":"","paintType.solid":"","paintType.image":"",group:Qge,ungroup:Jge,showOrHide:e0e,lockOrUnlock:t0e,"flip.horizontal":"","flip.vertical":"","import.originFile":"","export.originFile":"",preference:n0e,keepToolSelectedAfterUse:r0e,invertZoomDirection:i0e,highlightLayersOnHover:o0e,flipObjectsWhileResizing:s0e,snapToObjects:a0e,done:l0e,layer:c0e},h0e=Wge,d0e=u0e,f0e={zh:d0e,en:h0e},p0e=()=>(localStorage.getItem("suika-locale")||navigator.language).startsWith("zh")?"zh":"en";function g0e(){const[t,e]=P.useState(p0e());return P.useEffect(()=>{const n=r=>{e(r)};return mp.on("localeChange",n),()=>{mp.off("localeChange",n)}}),S.jsx(_8,{locale:t,messages:f0e[t],children:S.jsx("div",{className:"suika",children:S.jsx(Tge,{})})})}const m0e=Pm.createRoot(document.getElementById("root"));m0e.render(S.jsx(g0e,{}))});export default y0e();
